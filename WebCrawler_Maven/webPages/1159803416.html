<!doctype html>
<html lang="en-GB"> 
 <head> 
  <meta name="generator" content="HTML Tidy for HTML5 for Mac OS X version 5.2.0"> 
  <meta content="text/html; charset=utf-8" http-equiv="content-type"> 
  <title>BBC Subtitle Guidelines</title> 
  <meta property="og:title" content="BBC Subtitle Guidelines"> 
  <meta property="og:type" content="website"> 
  <meta property="og:url" content="https://bbc.github.io/subtitle-guidelines/"> 
  <meta property="og:image" content="https://bbc.github.io/subtitle-guidelines/img/EBU-TT-D_illustration1.png"> 
  <meta property="og:description" content="This document is intended to serve as the basis for all subtitle work across the BBC and to guide subtitle creators and developers."> 
  <meta property="og:locale" content="en_GB"> 
  <meta name="viewport" content="width=device-width, initial-scale=1"> <!-- Define version number here --> 
  <meta name="version_number" content="1.1.9"> 
  <link rel="icon" href="favicon.ico"> 
  <link rel="stylesheet" href="css/normalize.css"> 
  <link rel="stylesheet" type="text/css" href="css/nav.css"> 
  <link href="css/GEL-code.css" rel="stylesheet"> 
  <link rel="stylesheet" href="css/gel-grid.css"> <!-- <link rel="stylesheet" href="css/bbc-id.css"> --> 
  <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css" rel="stylesheet"> 
  <link href="css/subs-guidelines.css" rel="stylesheet" type="text/css"> 
  <script src="js/jq/jquery_1.11.3.min.js">
    </script> 
  <script src="js/toc/src/jquery-nestedToc.js">
    </script> 
  <script src="js/anchor_on_hover.js">
    </script> 
  <script src="js/scrollTo.js">
    </script> 
  <link href="css/vendor/prism/prism.css" rel="stylesheet"> 
  <script src="js/vendor/prism/prism.min.js"></script> 
  <script>
        // 'Raise an issue' script
        document.addEventListener("DOMContentLoaded", function() {

            // Show/Hide ToC Levels functions -->
            $('#toc').find('li:has(ul)').each(function(i, el) {
                var $el, icon, id, $elp;
                $el = $(el);
                icon = '<i class="fa fa-caret-right"><\/i> ';
                $el.prepend(icon);
                $el.addClass('has-show-button');
                $el.children('ul').hide();
            });

            $('.has-show-button').each(function(i, el) {
                $(el).children('i').click(function(event) {
                    if (this == event.target) {
                        $(this).parent().children('ul').toggle('fast');
                        $(this).toggleClass('fa-caret-right').toggleClass('fa-caret-down');
                    }
                    return false;
                });
            });

            $("h2, h3, h4, h5, h6").each(function(i, el) {
                $(el).click(function(event) {
                    var mq = window.matchMedia("screen and (min-width: 78em)");
                    if (mq.matches) // ToC is on left so scroll to it
                    {
                        var $t;
                        // First make sure all the headers are visible
                        $t = $("nav#toc").find("li:contains(" + $(el).text() + ")").last();
                        $t.parentsUntil("div", "ul:hidden").each(function(j, ule) {
                            $(ule).toggle('fast');
                            $(ule).parent().children("i").toggleClass('fa-caret-right').toggleClass('fa-caret-down');
                        });
                        // wait for animations to finish if there are any (they affect the scroll pos), then scroll
                        if ($(":animated").length > 0) {
                            $(":animated").promise().done(function() {
                                $("nav#toc").scrollTo($t, {
                                    duration: 'fast',
                                    offsetTop: '60'
                                });
                                // Don't bother flashing the heading since we've just obviously revealed it
                            });
                        } else {
                            $("nav#toc").scrollTo($t, {
                                duration: 'fast',
                                offsetTop: '60'
                            }, function() {
                                // Flash the heading to highlight where we are
                                $t.animate({
                                    opacity: 0
                                }, 75);
                                $t.animate({
                                    opacity: 1
                                }, 200);
                            });
                        }
                    }
                });

            });

        }, false);
    </script> <!-- ATI tracking script --> 
  <script src="js/smarttag.js"></script> <!-- Temporary proofing styles- to be removed --> 
  <style>
        .ednote {
            background-color: yellow;
            border: 2px solid black;
        }
        
        .ednote:before {
            content: "TODO: ";
            font-weight: bold;
        }
        
        .rev {
            background-color: orange;
        }
        
        .rev:before {
            content: "REVIEW: ";
            font-weight: bold;
        }
    </style> 
 </head> 
 <body style="background-color:white;"> <!-- Tracking tag --> 
  <script>
        var version_number = $("meta[name='version_number']").attr('content');
        var page_title = $("meta[property='og:title']").attr('content').replace(/[^a-zA-Z0-9_.]/g, "_");
        var page = page_title + "_" + version_number;

        var tag = new ATInternet.Tracker.Tag({
            secure: true
        }, );

        tag.page.set({
            name: page
        });
        tag.customVars.set({
            site: {
                "4": "en",
                "5": document.URL,
                "6": document.referrer,
                "8": "direct-hit",
                "9": page_title
            }
        });
        tag.dispatch();
    </script> <!-- End of tracking tag --> 
  <div class="gel-wrap"> <!-- NB contents not indented - almost the entire file --> 
   <div class="gel-layout"> <!-- NB contents not indented - almost the entire file --> 
    <div class="gel-layout__item gel-1/1 gel-1/3@l"> 
     <nav id="toc"> 
      <div class="toc" role="navigation"></div> 
     </nav> 
    </div> <!-- /toc --> 
    <div class="gel-layout__item gel-1/1 gel-2/3@l"> 
     <header> 
      <div id="title">
       <img src="img/Master_BBC_Logo_black.jpg" alt="BBC logo" style="height:32px;"> 
       <h1>Subtitle Guidelines</h1> 
       <p>BBC © 2021</p> 
       <p>Version 1.1.9<br> September 2021</p> 
      </div> <!-- /title --> 
     </header> 
     <main role="main"> <!-- Contents not indented --> 
      <section id="introduction"> 
       <h2>1 Introduction</h2> 
       <ul> 
        <li>The BBC Academy has produced an <a href="https://www.bbc.co.uk/guides/zmgnng8">online guide to subtitling</a>. If you are new to subtitling, please start there.</li> 
       </ul> 
       <p>Subtitles are primarily intended to serve viewers with loss of hearing, but they are used by a wide range of people: <a href="https://downloads.bbc.co.uk/rd/pubs/whp/whp-pdf-files/WHP323.pdf">around 10% of broadcast viewers use subtitles regularly, increasing to 35% for some online content</a>. The majority of these viewers are not hard of hearing.</p> 
       <p>This document describes 'closed' subtitles only, also known as 'closed captions'. Typically delivered as a separate file, closed subtitles can be switched off by the user and are not 'burnt in' to the image.</p> 
       <p>There are many formats in circulation for subtitle files. In general, the BBC accepts EBU-TT part 1 with STL embedded for broadcast, and EBU-TT-D for online only content. For a full description of the delivery requirements, see the <a href="#FILE-FORMAT">File format</a> section.</p> 
       <p>The Subtitle Guidelines describe best practice for authoring subtitles and provide instructions for making subtitle files for the BBC. This document brings together <a href="#Appendix-6--References">documents previously published by Ofcom and the BBC</a> and is intended to serve as the basis for all subtitle work across the BBC: prepared and live, online and broadcast, internal and supplied.</p> 
       <p><b>Who should read this?</b></p> 
       <p>Anyone providing or handling subtitles for the BBC: </p> 
       <ul> 
        <li>authors of subtitle (respeakers, stenographers, editors);</li> 
        <li>producers and distributors of content;</li> 
        <li>developers of software tools for authoring, validating, converting and presenting subtitles;</li> 
        <li>anyone involved in controlling subtitle quality and compliance.</li> 
       </ul> 
       <p>In addition, if you have an interest in accessibility you will find a lot of useful information here.</p> 
       <p><b>What prior knowledge is expected?</b></p> 
       <p>The editorial guidelines in the <a href="#presentation">Presentation section</a> are written in plain English, requiring only general familiarity with subtitles. In contrast, to follow the technical instructions in the <a href="#FILE-FORMAT">File format</a> section you will need good working knowledge of XML and CSS. It is recommended that you also familiarise yourself with <a href="https://www.w3.org/TR/ttml1/">Timed Text Markup Language</a> and <a href="https://dx.doi.org/10.5594/SMPTE.ST12-1.2014">SMPTE timecodes</a>.</p> 
       <p><b>What should I read for...</b></p> 
       <ul> 
        <li> <p><b>An overview of subtitles:</b> read this introduction and the first few sections of <a href="#presentation">Presentation</a>, <a href="#Timing">Timing</a>, <a href="#Identifying-speakers">Identifying speakers</a> and <a href="#EBU-TT-and-EBU-TT-D-Documents-in-detail">EBU-TT and EBU-TT-D Documents in detail</a>. Scanning through the <span class="example">examples</span> will also give you a good understanding of how subtitles are made.</p> </li> 
        <li> <p><b>Editing and styling subtitles:</b> read the <a href="#presentation">Presentation</a> section for text, format and timing guidelines.</p> </li> 
        <li> <p><b>Making subtitle files for online-only content:</b> if your software does not support EBU-TT-D you will need to create an XML file yourself. Assuming you are familiar with XML and CSS, start with <a href="#Introduction-to-the-TTML-document-structure">Introduction to the TTML document structure</a> and <a href="#Example-EBU-TT-D-document">Example EBU-TT-D document</a>. Then follow the <a href="#Appendix-4--Quick-EBU-TT-D-how-to">quick EBU-TT-D how-to.</a></p> </li> 
       </ul> 
       <p><b>Further assistance</b></p> 
       <p>Assistance with these guidelines and specific technical questions can be emailed to <a href="mailto:subtitle-guidelines@bbc.co.uk">subtitle-guidelines@bbc.co.uk</a>. For help with requirements for specific subtitle documents contact the commissioning editor. </p> 
       <h3>1.1 Document conventions</h3> 
       <p>The following symbols are used throughout this document.</p> 
       <p class="example-left"><span class="example">Examples</span> indicate the appearance of a subtitle. When illustrating bad or unrecommended practice, the example has a strike-though, like this: <span class="example"><span style="text-decoration: line-through;">counter-example</span></span>. Note that the subtitle style used here is only an approximation. It should not be used as a reference for real-world files or processors.</p> 
       <p>Most of this document applies to both online and broadcast subtitles. When there are differences between subtitles intended for either platform, this is indicated with one of these flags:<br> <span class="flag-online">online</span> - applies only to subtitles for online use (not for broadcast). <br> <span class="flag-broadcast">broadcast</span> - applies to broadcast-only subtitles (not online).<br> When no broadcast or online flag is indicated, the text applies to all subtitles.</p> 
       <p>Subtitles must conform to one of two specifications: EBU-TT-D (subtitles intended for online distribution only) or EBU-TT version 1.0 (for broadcast and online). Sections that only apply to one of the specifications are indicated by one of these flags: <span class="flag-EBU-TT-D">EBU-TT-D</span> or <span class="flag-EBU-TT-10">EBU-TT 1.0</span>.</p> 
       <p>Specific actual values are indicated with double quotes, like this: <code class="language-xml">"2"</code>. These values must be used without the quotes. Descriptions of values are given in brackets: <code class="language-xml">[a number between 1 and 3]</code>. When several values are possible, they are separated by a pipe: <code class="language-xml">"1" | "2" | "3"</code>.</p> 
       <p class="dev">Text intended to guide developers in how to meet editorial guidelines is placed in sections like this within the Presentation section.</p> 
       <div class="technical-example"> 
        <p>Example sections are inset and styled with a side border.</p> 
        <pre><code class="language-xml">&lt;tt:tt ...&gt;
&lt;-- Code examples use explicit namespace prefixes
    for the avoidance of doubt --&gt;
                </code></pre> 
       </div> 
       <h3>1.2 Navigation</h3> 
       <p>Since this is a longish sort of a document, we've added in some features to help navigation:</p> 
       <ul> 
        <li>When the window is wide enough, the table of contents appears on the left hand side instead of the top.</li> 
        <li>The table of contents by default just shows the top level headings - headings with a triangle next to them can be expanded by clicking the triangle.</li> 
        <li>By hovering over a heading in the main part of the document a link icon appears - this may be used to get a direct link to that section. </li> 
        <li>Clicking on a heading in the main part of the document will make sure the heading is visible in the table of contents. If it's already visible it will flash the heading off and on.</li> 
       </ul> 
       <h3>1.3 Document status</h3> 
       <p>This version covers editorial and technical contribution and presentation guidelines, including resources to assist developers in meeting these guidelines. Future versions will build on these guidelines or describe changes, or address issues raised. We intend to release small updates often.</p> 
       <p>The previous major version of this document remains available at <a href="index_r1.html">Release 1</a></p> 
       <h4>Changes since v1</h4> 
       <p>Amongst many smaller tweaks, the following changes accumulated so far since version 1 are notable:</p> 
       <ul> 
        <li>Minor clarifications to presentation guidelines in response to comments received, for example: 
         <ul> 
          <li>the wording about use of reaction shots to gain time.</li> 
          <li>the word rate for live subtitles has been adjusted to 160-180wpm from 130-150wpm.</li> 
          <li>the use of numbers.</li> 
          <li>capitalisation in speech.</li> 
         </ul> </li> 
        <li>Technical details moved to the end, in the <a href="#FILE-FORMAT">File Format</a> section, including specification references and BBC-specific requirements.</li> 
        <li>Added details about delivery, including multiple STL files and online exclusives.</li> 
        <li>Added a section describing the details of EBU-TT and EBU-TT-D documents with a downloadable example document and further links to examples provided by IRT.</li> 
        <li>Added links from the presentation sections to the technical implementation details.</li> 
        <li>Added links from the technical implementation details to the presentation requirements they support.</li> 
        <li>Added anchor links by headings for ease of reference.</li> 
        <li>Made table of contents expandable, set to include top level details only on load.</li> 
        <li>Accessibility improvements.</li> 
        <li>Added details on positioning, including mapping of Teletext positions to percentage positions in EBU-TT-D/IMSC.</li> 
        <li>Added more details about authoring and presentation font family, font size and line height, size customisation options and the use of Reith Sans font.</li> 
        <li>Updated the references.</li> 
        <li>Added requirement for compatibility of EBU-TT-D with IMSC; added technical details of <code class="language-xml">itts:fillLineGap</code> and <code class="language-xml">ittp:activeArea</code>.</li> 
        <li>Improved formatting of examples, code blocks and requirements.</li> 
        <li>Made page layout more responsive to work better with smaller and larger screens.</li> 
        <li>Added downloadable examples of an EBU-TT document and the result following conversion to EBU-TT-D.</li> 
       </ul> 
       <p>Thank you to everyone who has helped to review this version. You know who you are!</p> 
       <h3>1.4 How to contribute</h3> <a id="access"></a> 
       <p>Queries and comments may be raised at any time on the <a href="https://github.com/bbc/subtitle-guidelines">subtitle guidelines github project</a> by those with <em>sufficient project access levels</em>. A quick "file a bug" link for raising issues is available on the top right of this page. Readers who do not have access to the project should email <a href="mailto:subtitle-guidelines@bbc.co.uk">subtitle-guidelines@bbc.co.uk</a>.</p> 
       <p>When raising new issues please summarise in a short line the issue in the Title field and include enough information in the Description field, as well as the selected text, to allow the team to identify the relevant part(s) of the document.</p> 
      </section> <!-- /introduction --> 
      <section id="presentation"> 
       <h2 class="big-heading">PRESENTATION</h2> 
       <p>Good subtitling is an art that requires negotiating conflicting requirements. On the whole, you should aim for subtitles that are faithful to the audio. However, you will need to balance this against considerations such as the action on the screen, speed of speech or editing and visual content.</p> 
       <div class="technical-example"> 
        <p>For example, if you subtitle a scene where a character is speaking rapidly, these are some of the decisions you may have to make: </p> 
        <ul> 
         <li>Can viewers read the subtitles at the rate of speech?</li> 
         <li>Should you edit out some words to allow more time?</li> 
         <li>Can subtitles carry over to the next scene so they ‘catch up’ with the speaker?</li> 
         <li>Should you use cumulative subtitles to convey the rhythm of speech (for example, if rapping)?</li> 
         <li>If there are shot changes within the sequence, should the subtitles be synchronised with those?</li> 
         <li>Should you use one, two or three lines of subtitles?</li> 
         <li>Should you change the position of the subtitle to avoid obscuring important visual information or to indicate the speaker? </li> 
        </ul> 
       </div> 
       <p>Clearly, it is not possible (or advisable) to provide a set of hard rules that cover all situations. Instead, this document provides some guidelines and practical advice. Their implementation will depend on the content, the genre and on the subtitler’s expertise. </p> 
      </section> <!-- presentation --> 
      <section id="editing-text"> 
       <h2>2 Editing text</h2> 
       <h3>2.1 Prefer verbatim</h3> 
       <p>If there is time for verbatim speech, do not edit unnecessarily. Your aim should be to give the viewer as much access to the soundtrack as you possibly can within the constraints of time, space, shot changes, and on-screen visuals, etc. You should never deprive the viewer of words/sounds when there is time to include them and where there is no conflict with the visual information. </p> 
       <p>However, if you have a very "busy" scene, full of action and disconnected conversations, it might be confusing if you subtitle fragments of speech here and there, rather than allowing the viewer to watch what is going on.</p> 
       <p>Don't automatically edit out words like "but", "so" or "too". They may be short but they are often essential for expressing meaning. </p> 
       <p>Similarly, conversational phrases like "you know", "well", "actually" often add flavour to the text.</p> 
       <h3>2.2 Don’t simplify</h3> 
       <p>It is not necessary to simplify or translate for deaf or hard-of-hearing viewers. This is not only condescending, it is also frustrating for lip-readers.</p> 
       <h3>2.3 Retain speaker’s first and last words</h3> 
       <p>If the speaker is in shot, try to retain the start and end of his/her speech, as these are most obvious to lip-readers who will feel cheated if these words are removed.</p> 
       <h3>2.4 Edit evenly</h3> 
       <p>Do not take the easy way out by simply removing an entire sentence. Sometimes this will be appropriate, but normally you should aim to edit out a bit of every sentence.</p> 
       <h3>2.5 Keep names</h3> 
       <p>Avoid editing out names when they are used to address people. They are often easy targets, but can be essential for following the plot. </p> 
       <h3>2.6 Preserve the style</h3> 
       <p>Your editing should be faithful to the speaker's style of speech, taking into account register, nationality, era, etc. This will affect your choice of vocabulary. For instance:</p> 
       <ul> 
        <li>register: mother vs mum; deceased vs dead; intercourse vs sex; </li> 
        <li>nationality: mom vs mum; trousers vs pants;</li> 
        <li>era: wireless vs radio; hackney cab vs taxi.</li> 
       </ul> 
       <p>Similarly, make sure if you edit by using contractions that they are appropriate to the context and register. In a formal context, where a speaker would not use contractions, you should not use them either. </p> 
       <p>Regional styles must also be considered: e.g. it will not always be appropriate to edit "I've got a cat" to "I've a cat"; and "I used to go there" cannot necessarily be edited to "I'd go there." </p> 
       <h3>2.7 Consider the previous subtitle</h3> 
       <p>Having edited one subtitle, bear your edit in mind when creating the next subtitle. The edit can affect the content as well as the structure of anything that follows.</p> 
       <h3>2.8 Keep the form of the verb</h3> 
       <p>Avoid editing by changing the form of a verb. This sometimes works, but more often than not the change of tense produces a nonsense sentence. Also, if you do edit the tense, you have to make it consistent throughout the rest of the text.</p> 
       <h3>2.9 Keep words that can be easily lip-read</h3> 
       <p>Sometimes speakers can be clearly lip-read - particularly in close-ups. Do not edit out words that can be clearly lip-read. This makes the viewer feel cheated. If editing is unavoidable, then try to edit by using words that have similar lip-movements. Also, keep as close as possible to the original word order.</p> 
       <h3>2.10 Subtitle illegible text</h3> 
       <p>If the onscreen graphics are not easily legible because of the streamed image size or quality, the subtitles must include any text contained within those graphics which provide contextual information. This must include the speaker’s identity, what they do and any organisations they represent. Other displayed information affected by legibility problems that must be included in the subtitle includes; phone numbers, email addresses, postal addresses, website URLs, or other contact information. </p> 
       <p>If the information contained within the graphics is off-topic from what is being spoken, then the information should not be replicated in the subtitle.</p> 
       <h3>2.11 Strong language</h3> 
       <p>Do not edit out strong language unless it is absolutely impossible to edit elsewhere in the sentence - deaf or hard-of-hearing viewers find this extremely irritating and condescending. </p> 
       <p>If the BBC has decided to edit any strong language, then your subtitles must reflect this in the following ways.</p> 
       <h4>2.11.1 Bleeped words</h4> 
       <p>If the offending word is bleeped, put the word BLEEP in the appropriate place in the subtitle - in caps, in a contrasting colour and without an exclamation mark.</p> 
       <p class="example-left"><span class="example">BLEEP</span></p> 
       <p>If only the middle section of a word is bleeped, do not change colour mid-word:</p> 
       <p class="example-left"><span class="example">f-BLEEP-ing</span></p> 
       <h4>2.11.2 Dubbed words</h4> 
       <p>If the word is dubbed with a euphemistic replacement - e.g. frigging - put this in. If the word is non-standard but spellable put this in, too:</p> 
       <p class="example-left"><span class="example">frerlking</span></p> 
       <p>If the word is dubbed with an unrecognisable sequence of noises, leave them out.</p> 
       <h4>2.11.3 Muted words</h4> 
       <p>If the sound is dipped for a portion of the word, put up the sounds that you can hear and three dots for the dipped bit:</p> 
       <p class="example-left"><span class="example">Keep your f...ing nose out of it!.</span></p> 
       <p>Never use more than three dots.</p> 
       <p>If the word is mouthed, use a label:</p> 
       <p class="example-left"><span class="example">So (MOUTHS) f...ing what?</span></p> 
      </section> <!-- editing text --> 
      <section id="line-breaks"> 
       <h2>3 Line breaks</h2> 
       <h3>3.1 Line length</h3> 
       <p>In Teletext, which is used to display subtitles on some broadcast platforms, line length is limited to 37 fixed-width (monospaced) characters, since at least 3 of the 40 available bytes are used for control codes. Other platforms use proportional fonts, making it impossible to determine the width of the line based on the number of characters alone. In this case, lines are constrained by the width of the region in which they are displayed. Guidelines for both platforms are summarised in the table below.</p> 
       <p>If targeting both online and broadcast platforms you must apply both constraints, i.e. ensure that the number of characters within a region does not exceed 37.</p> 
       <table> 
        <colgroup> 
         <col style="width: 15%;"> 
         <col style="width: 35%;"> 
         <col> 
        </colgroup> 
        <thead> 
         <tr> 
          <th scope="col" style="padding: 2px; border: 1px solid rgb(153, 153, 153);"> <p style="margin: 0px;"><strong style="font-weight: bold;">Platform</strong></p> </th> 
          <th scope="col" style="padding: 2px; border: 1px solid rgb(153, 153, 153);"> <p style="margin: 0px;"><strong>Max length</strong></p> </th> 
          <th scope="col" style="padding: 2px; border: 1px solid rgb(153, 153, 153);"> <p style="margin: 0px;"><strong style="font-weight: bold;">Notes</strong></p> </th> 
         </tr> 
        </thead> 
        <tbody> 
         <tr> 
          <td style="padding: 2px; border: 1px solid rgb(153, 153, 153);"> <p style="margin: 0px;"><span class="flag-broadcast">broadcast</span></p> </td> 
          <td style="padding: 2px; border: 1px solid rgb(153, 153, 153);"> <p style="margin: 0px;">37 characters, reduced if coloured text is used </p> </td> 
          <td style="padding: 2px; border: 1px solid rgb(153, 153, 153);"> Teletext constraint</td> 
         </tr> 
         <tr> 
          <td style="padding: 2px; border: 1px solid rgb(153, 153, 153);"> <p style="margin: 0px;"><span class="flag-online">online</span></p> </td> 
          <td style="padding: 2px; border: 1px solid rgb(153, 153, 153);"> <p style="margin: 0px;">68% of the width of a 16:9 video and 90% of the width of a 4:3 video</p> </td> 
          <td style="padding: 2px; border: 1px solid rgb(153, 153, 153);">The number of characters that generate this width is determined by the font used, the given font size (see <a href="#Fonts">fonts</a>) and the width of the characters in the particular piece of text (for example, 'lilly' takes up less width than 'mummy' even though both contain the same number of characters).</td> 
         </tr> 
        </tbody> 
       </table> 
       <div class="dev">
        In EBU-TT-based implementations, line length is determined by the following attributes: 
        <ul> 
         <li><a href="#tt-region"><code class="language-xml">tt:region</code></a> (<a href="#tts-extent"><code class="language-xml">tts:extent</code></a> attribute)</li> 
         <li><a href="#ttp:cellResolution"><code class="language-xml">ttp:cellResolution</code></a></li> 
         <li><a href="#tts-fontFamily"><code class="language-xml">tts:fontFamily</code></a></li> 
         <li><a href="#tts-fontSize"><code class="language-xml">tts:fontSize</code></a></li> 
         <li><a href="#ebutts-linePadding"><code class="language-xml">ebutts:linePadding</code></a></li> 
        </ul> 
       </div> 
       <h3>3.2 Subtitles should contain single sentences</h3> 
       <p>Each subtitle should comprise a single complete sentence. Depending on the speed of speech, there are exceptions to this general recommendation (see <a href="#live-subtitling">live subtitling</a>, short and long sentences below)</p> 
       <h3>3.3 Avoid 3 lines or more</h3> 
       <p>A maximum subtitle length of two lines is recommended. Three lines may be used if you are confident that no important picture information will be obscured. When deciding between one long line or two short ones, consider line breaks, number of words, pace of speech and the image.</p> 
       <p class="dev">A <a href="#tt-region"><code class="language-xml">tt:region</code></a> sized to fit 3 lines at a recommended computed value of <a href="#tts-lineHeight"><code class="language-xml">tts:lineHeight</code></a> of 8% of the height of the root container region would have a minimum <a href="#tts-extent"><code class="language-xml">tts:extent</code></a> height of 24%.</p> 
       <h3>3.4 Break at natural points</h3> 
       <p>Subtitles and lines should be broken at logical points. The ideal line-break will be at a piece of punctuation like a full stop, comma or dash. If the break has to be elsewhere in the sentence, avoid splitting the following parts of speech:</p> 
       <ul> 
        <li>article and noun (e.g. the + table; a + book)</li> 
        <li>preposition and following phrase (e.g. on + the table; in + a way; about + his life)</li> 
        <li>conjunction and following phrase/clause (e.g. and + those books; but + I went there)</li> 
        <li>pronoun and verb (e.g. he + is; they + will come; it + comes) </li> 
        <li>parts of a complex verb (e.g. have + eaten; will + have + been + doing)</li> 
       </ul> 
       <p>However, since the dictates of space within a subtitle are more severe than between subtitles, line breaks may also take place after a verb. For example:</p> 
       <p class="example-left"><span class="example">We are aiming to get<br> a better television service.</span></p> 
       <p>Line endings that break up a closely integrated phrase should be avoided where possible.</p> 
       <p class="example-left"><span class="example"><span style="text-decoration: line-through;">We are aiming to get a<br> better television service.</span></span> </p> 
       <p>Line breaks within a word are especially disruptive to the reading process and should be avoided. Ideal formatting should therefore compromise between linguistic and geometric considerations but with priority given to linguistic considerations. </p> 
       <p class="dev">Manual line breaks within <a href="#tt-p"><code class="language-xml">&lt;tt:p&gt;</code></a> and <a href="#tt-span"><code class="language-xml">&lt;tt:span&gt;</code></a> elements are specified using <code class="language-xml">&lt;tt:br/&gt;</code>. Automatic line breaks occur between adjacent active <a href="#tt-p"><code class="language-xml">&lt;tt:p&gt;</code></a> elements. </p> 
       <h3>3.5 Breaks in justified subtitles</h3> 
       <p><span class="flag-broadcast">broadcast</span> Left, right and centre justification can be useful to identify speaker position, especially in cases where there are more than three speakers on screen. In such cases, line breaks should be inserted at linguistically coherent points, taking eye-movement into careful consideration. For example:</p> 
       <p class="example-left"><span class="example">We all hope<br> you are feeling much better.</span></p> 
       <p>This is left justified. The eye has least distance to travel from ‘hope’ to ‘you’.</p> 
       <p class="example-center"><span class="example">We all hope you are<br> feeling much better.</span></p> 
       <p>This is centre justified. The eye now has least distance to travel from ‘are’ to ‘feeling’.</p> 
       <p>Problems occur with justification when a short sentence or phrase is followed by a longer one.</p> 
       <p class="example-right"><span class="example">Oh.<br> He didn’t tell me you would be here.</span></p> 
       <p>In this case, there is a risk that the bottom line of the subtitle is read first.</p> 
       <p class="example-left"><span class="example">Oh.<br> He didn’t tell me you would be here.</span></p> 
       <p>This could result in only half of the subtitle being read.</p> 
       <p>Allowances would therefore have to be made by breaking the line at a linguistically non-coherent point:</p> 
       <p class="example-center"><span class="example">Oh. He didn’t tell me<br> you would be here.</span></p> 
       <p class="example-right"><span class="example">Oh. He didn’t tell me you would be<br> here.</span></p> 
       <p class="dev">Left, centre and right justification can be specified using <a href="#tts-textAlign"><code class="language-xml">tts:textAlign</code></a>; additional alignment options are available using <a href="#ebutts-multiRowAlign"><code class="language-xml">ebutts:multiRowAlign</code></a>.</p> 
       <h3>3.6 Consider the image</h3> 
       <p>When making a choice between one long line or two short lines, you should consider the background picture. In general, ‘long and thin’ subtitles are less disruptive of picture content than are ‘short and fat’ subtitles, but this is not always the case. Also take into account the number of words, line breaks etc.</p> 
       <h3>3.7 Consider speaker positioning</h3> 
       <p><span class="flag-broadcast">broadcast</span> In dialogue sequences it is often helpful to use horizontal displacement in order to distinguish between different speakers. ‘Short and fat’ subtitles permit greater latitude for this technique.</p> 
       <h3>3.8 Short sentences</h3> 
       <p>Short sentences may be combined into a single subtitle if the available reading time is limited. However, you should also consider the image and the action on screen. For example, consecutive subtitles may reflect better the pace of speech.</p> 
       <h3>3.9 Long sentences</h3> 
       <p>In most cases verbatim subtitles are preferred to edited subtitles (see this <a href="https://www.bbc.co.uk/rd/blog/2015-09-how-fast-should-subtitles-be">research by BBC R&amp;D</a>) so avoid breaking long sentences into two shorter sentences. Instead, allow a single long sentence to extend over more than one subtitle. Sentences should be segmented at natural linguistic breaks such that each subtitle forms an integrated linguistic unit. Thus, segmentation at clause boundaries is to be preferred. For example:</p> 
       <p class="example-center"><span class="example">When I jumped on the bus</span></p> 
       <p class="example-center"><span class="example">I saw the man who had taken<br> the basket from the old lady.</span></p> 
       <p>Segmentation at major phrase boundaries can also be accepted as follows: </p> 
       <p class="example-center"><span class="example">On two minor occasions<br> immediately following the war,</span></p> 
       <p class="example-center"><span class="example">small numbers of people<br> were seen crossing the border.</span></p> 
       <p>There is considerable evidence from the psycho-linguistic literature that normal reading is organised into word groups corresponding to syntactic clauses and phrases, and that linguistically coherent segmentation of text can significantly improve readability.</p> 
       <p>Random segmentation must certainly be avoided:</p> 
       <p class="example-center"><span style="text-decoration: line-through;" class="example">On two minor occasions<br> immediately following the war, small</span></p> 
       <p class="example-center"><span class="example"><span style="text-decoration: line-through;">numbers of people, etc.</span></span> </p> 
       <p>In the examples given above, no markers are used to indicate that segmentation is taking place. It is also acceptable to use sequences of dots (three at the end of a to-be-continued subtitle, and two at the beginning of a continuation) to mark the fact that a segmentation is taking place, especially in legacy subtitle files.</p> 
       <div class="dev">
        Because line breaks require considering all of the above, they are better inserted manually. Implementers should avoid automatic line breaking. See the <a href="#tts-wrapOption"><code class="language-xml">tts:wrapOption</code></a> XML attribute.
       </div> 
       <h3>3.10 Prioritise editing and timing over line breaks</h3> 
       <p>Good line-breaks are extremely important because they make the process of reading and understanding far easier. However, it is not always possible to produce good line-breaks as well as well-edited text and good timing. Where these constraints are mutually exclusive, then well-edited text and timing are more important than line-breaks. </p> 
      </section> <!-- line breaks --> 
      <section id="timing"> 
       <h2>4 Timing</h2> 
       <p>The recommended subtitle speed is 160-180 words-per-minute (WPM) or 0.33 to 0.375 second per word. However, viewers tend to prefer verbatim subtitles, so the rate may be adjusted to match the pace of the programme. Most subtitle authoring tools calculate the WPM and can be configured to give a warning when the word rate exceeds a certain WPM threshhold. You can also calculate the WPM manually (see box).</p> 
       <div class="dev"> 
        <p> To calculate the word-per-minute (WPM) speed of a subtitle in an EBU-TT document, divide the number of words in a subtitle (<a href="#tt-p"><code class="language-xml">&lt;tt:p&gt;</code></a> element) by its duration. The duration value can be calculated from the <code class="language-xml">begin</code> and <code class="language-xml">end</code> attributes. In the example fragment below, the first subtitle has a word rate of 2 words per second or 120 WPM (0.5s per word). The second subtitle is cumulative: the word 'three' appears on its own for 3 seconds, then 'four!' is added and both are displayed for another 2 seconds, giving 5 seconds for 'three' and 2 seconds for 'four!'. Note that end times in EBU-TT are exclusive.</p> 
        <pre style="font-size:.80em; line-height:1.2em;"><code class="language-xml">
  &lt;p xml:id="subtitle1" region="bottomRegion" style="paragraphStyle"
      begin="00:00:02" end="00:00:04"&gt;
        &lt;span style="spanStyle"&gt;one, two...&lt;/span&gt;
  &lt;/p&gt;
  &lt;p&gt;
    &lt;span style="spanStyle" begin="00:01:30" end="00:01:35"&gt;three...&lt;/span&gt;
    &lt;span style="spanStyle" begin="00:01:33" end="00:01:35"&gt;Four!&lt;/span&gt;
  &lt;/p&gt;  
</code></pre> 
       </div> 
       <h3>4.1 Target minimum timing</h3> 
       <p>Based on the recommended rate of 160-180 words per minute, you should aim to leave a subtitle on screen for a minimum period of around 0.3 seconds per word (e.g. 1.2 seconds for a 4-word subtitle). However, timings are ultimately an editorial decision that depends on other considerations, such as the speed of speech, text editing and shot synchronisation. When assessing the amount of time that a subtitle needs to remain on the screen, think about much more than the number of words on the screen; this would be an unacceptably crude approach.</p> 
       <h3>4.2 When to give less time</h3> 
       <p>Do not dip below the target timing unless there is no other way of getting round a problem. Circumstances which could mean giving less reading time are:</p> 
       <h4>4.2.1 Shot changes</h4> 
       <p>Give less time if the target timing would involve clipping a shot, or crossing into an unrelated, "empty" [containing no speech] shot. However, always consider the alternative of merging with another subtitle.</p> 
       <h4>4.2.2 Lip reading</h4> 
       <p>Give less time to avoid editing out words that can be lip-read, but only in very specific circumstances: i.e. when a word or phrase can be read very clearly even by non-lip-readers, and if it would look ridiculous to take out or change the word. </p> 
       <h4>4.2.3 Catchwords</h4> 
       <p>Avoid editing out catchwords if a phrase would become unrecognisable if edited.</p> 
       <h4>4.2.4 Retaining humour</h4> 
       <p>Give less time if a joke would be destroyed by adhering to the standard timing, but only if there is no other way around the problem, such as merging or crossing a shot.</p> 
       <h4>4.2.5 Critical information</h4> 
       <p>In a news item or factual content, the main aim is to convey the "what, when, who, how, why". If an item is already particularly concise, it may be impossible to edit it into subtitles at standard timings without losing a crucial element of the original.</p> 
       <h4>4.2.6 Very technical items</h4> 
       <p>These may be similarly hard to edit. For instance, a detailed explanation of an economic or scientific story may prove almost impossible to edit without depriving the viewer of vital information. In these situations a subtitler should be prepared to vary the timing to convey the full meaning of the original.</p> 
       <h3>4.3 When to give extra time</h3> 
       <p>Try to allow extra reading time for your subtitles in the following circumstances:</p> 
       <h4>4.3.1 Unfamiliar words</h4> 
       <p>Try to give more generous timings whenever you consider that viewers might find a word or phrase extremely hard to read without more time.</p> 
       <h4>4.3.2 Several speakers</h4> 
       <p>Aim to give more time when there are several speakers in one subtitle. </p> 
       <h4>4.3.3 Labels</h4> 
       <p>Allow an extra second for labels where possible, but only if appropriate. </p> 
       <h4>4.3.4 Visuals and graphics</h4> 
       <p>When there is a lot happening in the picture, e.g. a football match or a map, allow viewers enough time both to read the subtitle and to take in the visuals.</p> 
       <h4>4.3.5 Placed subtitles</h4> 
       <p>If, for example, two speakers are placed in the same subtitle, and the person on the right speaks first, the eye has more work to do, so try to allow more time.</p> 
       <h4>4.3.6 Long figures</h4> 
       <p>Give viewers more time to read long figures (e.g. 12,353).</p> 
       <h4>4.3.7 Shot changes</h4> 
       <p>Aim for longer timing if your subtitle crosses one shot or more, as viewers will need longer to read it.</p> 
       <h4>4.3.8 Slow speech</h4> 
       <p>Slower timings should be used to keep in sync with slow speech. </p> 
       <h3>4.4 Use consistent timing</h3> 
       <p>It is also very important to keep your timings consistent. For instance, if you have given 3:12 for one subtitle, you must not then give 4:12 to subsequent subtitles of similar length - unless there is a very good reason: e.g. slow speaker/on-screen action. </p> 
       <h3>4.5 Gaps</h3> 
       <p>If there is a pause between two pieces of speech, you may leave a gap between the subtitles - but this must be a minimum of one second, preferably a second and a half. Anything shorter than this produces a very jerky effect. Try to not squeeze gaps in if the time can be used for text.</p> 
      </section> <!-- timing --> 
      <section id="synchronisation"> 
       <h2>5 Synchronisation</h2> 
       <h3>5.1 Match subtitle to speech onset</h3> 
       <p>Impaired viewers make use of visual cues from the faces of television speakers. Therefore subtitle appearance should coincide with speech onset. Subtitle disappearance should coincide roughly with the end of the corresponding speech segment, since subtitles remaining too long on the screen are likely to be re-read by the viewer. </p> 
       <p>When two or more people are speaking, it is particularly important to keep in sync. Subtitles for new speakers must, as far as possible, come up as the new speaker starts to speak. Whether this is possible will depend on the action on screen and rate of speech. </p> 
       <p>The same rules of synchronisation should apply with off-camera speakers and even with off-screen narrators, since viewers with a certain amount of residual hearing make use of auditory cues to direct their attention to the subtitle area.</p> 
       <h3>5.2 Match subtitle to pace of speaking</h3> 
       <p>The subtitles should match the pace of speaking as closely as possible. Ideally, when the speaker is in shot, your subtitles should not anticipate speech by more than 1.5 seconds or hang up on the screen for more than 1.5 seconds after speech has stopped.</p> 
       <p>However, if the speaker is very easy to lip-read, slipping out of sync even by a second may spoil any dramatic effect and make the subtitles harder to follow. The subtitle should not be on the screen after the speaker has disappeared.</p> 
       <p>Note that some decoders might override the end timing of a subtitle so that it stays on screen until the next one appears. This is a non-compliant behaviour that the subtitle author and broadcaster have no control over.</p> 
       <p class="dev">Decoders need to match the begin and end timing specified in documents as closely as possible to maintain the careful synchronisation we expect from subtitle authors. In particular, see Annex E of <a href="https://tech.ebu.ch/publications/tech3380">EBU-TT-D</a> regarding quantisation of timing for example if the video can only be presented at a low frame rate, such as in poor network conditions.</p> 
       <h3>5.3 Display subtitles when lips are moving</h3> 
       <p>A subtitle (or an explanatory label) should always be on the screen if someone's lips are moving. If a speaker speaks very slowly, then the subtitles will have to be slow, too - even if this means breaking the timing conventions. If a speaker speaks very fast, you have to edit as much as is necessary in order to meet the timing requirements (see <a href="#Timing">timing</a>).</p> 
       <h3>5.4 Keep lag behind speech to a minimum</h3> 
       <p style="direction: ltr">Your aim is to minimise lag between speech and the appearance of the subtitle. But sometimes, in order to meet other requirements (e.g. matching shots), you will find it difficult to avoid slipping slightly out of sync. In this case, subtitles should never appear more than 2 seconds after the words were spoken. This should be avoided by editing the previous subtitles. </p> 
       <p>It is permissible to slip out of sync when you have a sequence of subtitles for a single speaker, providing the subtitles are back in sync by the end of the sequence.</p> 
       <p>If the speech belongs to an out-of-shot speaker or is voice-over commentary, then it's not so essential for the subtitles to keep in sync. </p> 
       <h3>5.5 Do not pre-empt an effect</h3> 
       <p>Do not bring in any dramatic subtitles too early. For example, if there is a loud bang at the end of, say, a two-second shot, do not anticipate it by starting the label at the beginning of the shot. Wait until the bang actually happens, even if this means a fast timing.</p> 
       <h3>5.6 Keep speakers separate</h3> 
       <p>Do not simultaneously caption different speakers if they are not speaking at the same time.</p> 
      </section> <!-- synchronisation --> 
      <section id="matching-shots"> 
       <h2>6 Matching shots</h2> 
       <h3>6.1 Match subtitles to shot</h3> 
       <p>It is likely to be less tiring for the viewer if shot changes and subtitle changes occur at the same time. Many subtitles therefore start on the first frame of the shot and end on the last frame. </p> 
       <h3>6.2 Maintain a minimum gap when mismatched</h3> 
       <p>If you have to let a subtitle hang over a shot change, do not remove it too soon after the cut. The duration of the overhang will depend on the content.</p> 
       <h3>6.3 Avoid straddling shot changes</h3> 
       <p>Avoid creating subtitles that straddle a shot change (i.e. a subtitle that starts in the middle of shot one and ends in the middle of shot two). To do this, you may need to split a sentence at an appropriate point, or delay the start of a new sentence to coincide with the shot change.</p> 
       <p class="dev">Authoring tools may use automated shot detection to avoid this scenario.</p> 
       <h3>6.4 Merge subtitles for short shots</h3> 
       <p>If one shot is too fast for a subtitle, then you can merge the speech for two shots – provided your subtitle then ends at the second shot change.</p> 
       <p>Bear in mind, however, that it will not always be appropriate to merge the speech from two shots: e.g. if it means that you are thereby "giving the game away" in some way. For example, if someone sneezes on a very short shot, it is more effective to leave the "Atchoo!" on its own with a fast timing (or to merge it with what comes afterwards) than to anticipate it by merging with the previous subtitle.</p> 
       <h3>6.5 End subtitle with speech</h3> 
       <p>Where possible, avoid extending a subtitle into the next shot when the speaker has stopped speaking, particularly if this is a dramatic reaction shot.</p> 
       <h3>6.6 End subtitle with scene</h3> 
       <p>Never carry a subtitle over into the next shot if this means crossing into another scene or if it is obvious that the speaker is no longer around (e.g. if they have left the room).</p> 
       <h3>6.7 Wait for scene change to subtitle speaker</h3> 
       <p>Some film techniques introduce the soundtrack for the next scene before the scene change has occurred. If possible, the subtitler should wait for the scene change before displaying the subtitle. If this is not possible, the subtitle should be clearly labelled to explain the technique.</p> 
       <p class="example-left"><span class="example">JOHN: And what have we here?</span></p> 
      </section> <!-- matching shots --> 
      <section id="identifying-speakers"> 
       <h2>7 Identifying speakers</h2> 
       <p>Several techniques can be used to assist the viewer in identifying speakers. The BBC's preferred techniques are colour and single quotes, but other techniques exist in legacy subtitle files and subtitles repurposed from non-UK sources. Re-use of existing files with legacy techniques is acceptable, but unless specifically requested, new content should not use legacy techniques.</p> 
       <p>The available techniques include:</p> 
       <ul> 
        <li><a href="#Use-colours">Colour</a>: This is the preferred method that should be used in most cases.</li> 
        <li><a href="#Use-single-quotes-for-voice-over">Single quotes</a>: Used to indicate an out-of-vision speaker, such as someone speaking via telephone, or to distinguish between in- and out-of-vision voices when both are spoken by the same character (or by the narrator) and therefore using the same colour (e.g. a narrator who is sometimes in-vision).</li> 
        <li><a href="#Use-arrows-for-off-screen-voices">Arrows</a>: Used to indicate the direction of out-of-vision sounds when the origin of the sound is not apparent. (infrequently used)</li> 
        <li><a href="#Use-labels-for-off-screen-voices">Label</a>: Can be used to resolve ambiguity as to who is speaking.</li> 
        <li><a href="#Use-horizontal-positioning">Horizontal positioning</a>: This is a legacy technique for identifying in-vision speakers, but it is still used for indicating <a href="#Use-arrows-for-off-screen-voices">off-screen speech</a>. It is also used with <a href="#Vertical-positioning">Vertical positioning</a> to avoid obscuring important information.</li> 
        <li><a href="#Use-dashes">Dashes</a>: This is a legacy technique. Must only be used with colour when unavoidable.</li> 
       </ul> 
       <h3>7.1 Use colours</h3> 
       <p>Use colours to distinguish speakers from each other (see <a href="#Colours">Colours</a>). This is the preferred method for identifying speakers.</p> 
       <p>Where the speech for two or more speakers of different colours is combined in one subtitle, their speech runs on: i.e. you don't start a new line for each new speaker.</p> 
       <p class="example-center"><span class="example"><span style="color:yellow;">Did you see Jane?</span> I thought she went home. </span> </p> 
       <p>However, if two or more WHITE text speakers are interacting, you have to start a new line for each new speaker, preceded by a dash. </p> 
       <p>By convention, the narrator is indicated by a yellow colour.</p> 
       <div class="dev">
        Colour is implemented using <a href="#tts-color"><code class="language-xml">tts:color</code></a> and <a href="#tt-span"><code class="language-xml">tt:span</code></a>.
       </div> 
       <h3>7.2 Use horizontal positioning</h3> 
       <p><i>This is a legacy technique that is no longer used in new content for identifying in-vision speakers (it may be present in files created before it was deprecated). Use colour instead.</i></p> 
       <p>Horizontal positioning is used in combination with arrows to indicate out-of-vision voices.</p> 
       <p><span class="flag-broadcast">broadcast</span> Where colours cannot be used you can distinguish between speakers with placing. </p> 
       <p>Put each piece of speech on a separate line or lines and place it underneath the relevant speaker. You may have to edit more to ensure that the lines are short enough to look placed.</p> 
       <p>Try to make sure that pieces of speech placed right and left are "joined at the hip" if possible, so that the eye does not have to leap from one side of the screen to the other.</p> 
       <img src="img/8.2-1.png" alt="Two lines of subtitles overlapping horizontally."> 
       <p>Not:</p> 
       <img src="img/8.2-2.png" alt="Two lines of subtitles with no overlap."> 
       <p>When characters move about while speaking, the caption should be positioned at the discretion of the subtitler to identify the position of the speaker as clearly as possible.</p> 
       <div class="dev">
        Horizontal positioning is determined by these EBU-TT attributes: 
        <ul> 
         <li><a href="https://www.w3.org/TR/ttml1/#style-attribute-direction"><code class="language-xml">tts:direction</code></a> (TTML1 specification link)</li> 
         <li><a href="#tts-textAlign"><code class="language-xml">tts:textAlign</code></a></li> 
         <li><a href="#ebutts-multiRowAlign"><code class="language-xml">ebutts:multiRowAlign</code></a></li> 
         <li><a href="https://www.w3.org/TR/ttml1/#style-attribute-unicodeBidi"><code class="language-xml">tts:unicodeBidi</code></a> (TTML1 specification link)</li> 
         <li><a href="#tts-writingMode"><code class="language-xml">tts:writingMode</code></a></li> 
        </ul> 
       </div> 
       <h3>7.3 Use dashes</h3> 
       <p><i>This is a legacy technique that is no longer used for new content (but may be present in files created before it was deprecated or sourced from outside the UK). Use colour to indicate a change of speaker.</i></p> 
       <p>If colour cannot be used (or if colour is being used but two consecutive speakers are both assigned the same colour), put each piece of speech on a separate line and insert a white dash (not a hyphen) before each piece of speech, thereby clearly distinguishing different speakers' lines. If possible, align the dashes so that they are proud of the text, although not all formats support this well. </p> 
       <p class="example-left"><span class="example">– Found anything?<br> – If this is the next new weapon,<br> we're in big trouble.</span></p> 
       <p>The longest line should be centred on the screen, with the shorter line/lines left-aligned with it (not centred). If one of the lines is long, inevitably all the text will be towards the left of the screen, but generally the aim is to keep the lines in the centre of the screen.</p> 
       <p>Note that dashes only work as a clear indication of speakers when each speaker is in a separate consecutive shot.</p> 
       <h3>7.4 Use single quotes for voice-over</h3> 
       <p>If you need to distinguish between an in-vision speaker and a voice-over speaker, use single quotes for the voice-over, but only when there is likely to be confusion without them (single quotes are not normally necessary for a narrator, for example). Confusion is most likely to arise when the in-vision speaker and the voice-over speaker are the same person.</p> 
       <p>Put a single quote-mark at the beginning of each new subtitle (or segment, in live), but do not close the single quotes at the end of each subtitle/segment - only close them when the person has finished speaking, as is the case with paragraphs in a book.</p> 
       <p class="example-center"><span class="example">'I've lived in the Lake District since I was a boy.</span></p> 
       <p class="example-center"><span class="example">'I never want to leave this area.<br> I've been very happy here.</span></p> 
       <p class="example-center"><span class="example">'I love the fresh air and the beautiful scenery.'</span></p> 
       <p>If more than one speaker in the same subtitle is a voice-over, just put single quotes at the beginning and end of the subtitle. </p> 
       <p class="example-center"><span class="example"><span style="color:yellow;">'What do you think about it?</span> I'm not sure.' </span> </p> 
       <p>The single quotes will be in the same colour as the adjoining text. </p> 
       <h3>7.5 Use single quotes for out-of-vision speaker</h3> 
       <p>When two white text speakers are having a telephone conversation, you will need to distinguish the speakers. Using single quotes placed around the speech of the out-of-vision speaker is the recommended approach. They should be used throughout the conversation, whenever one of the speakers is out of vision.</p> 
       <p class="example-center"><span class="example">Hello. Victor Meldrew speaking.<br> 'Hello, Mr Meldrew. I'm calling about your car.'</span></p> 
       <p>Single quotes are not necessary in telephone conversations if the out-of-vision speaker has a colour.</p> 
       <h3>7.6 Use double quotes for mechanical speech and for quoting</h3> 
       <p>Double quotes "..." can suggest mechanically reproduced speech, e.g. radio, loudspeakers etc., or a quotation from a person or book. Start the quote with a capital letter: </p> 
       <p class="example-center"><span class="example">He said, "You're so tall".</span></p> 
       <h3>7.7 Use arrows for off-screen voices</h3> 
       <p>Generally, colours should be used to identify speakers. However, when an out-of-shot speaker needs to be distinguished from an in-shot speaker of the same colour, or when the source of off-screen/off-camera speech is not obvious from the visible context, insert a ‘greater than’ (&gt;) or ‘less than’ (&lt;) symbols to indicate the off-camera speaker.</p> 
       <p>If the out-of-shot speaker is on the left or right, type a left or right arrow (&lt; or &gt;) next to his or her speech and place the speech to the appropriate side. Left arrows go immediately before the speech, followed by one space; right arrows immediately after the speech, preceded by one space.</p> 
       <p class="example-right"><span class="example">Do come in.<br> <span style="color:yellow;">Are you sure?</span> &gt;</span> </p> 
       <p class="example-left"><span class="example">When are you leaving?<br> &lt; <span style="color:yellow;">I was thinking of going<br> at around 8 o'clock in the evening.</span></span> </p> 
       <p class="example-right"><span class="example">When I find out where he is,&nbsp;&nbsp;&nbsp;<br> you'll be the first to know. &gt;</span></p> 
       <p>NOT:</p> 
       <p class="example-left"><span class="example" style="text-decoration: line-through;">When I find out where he is, &gt;<br> you'll be the first to know.</span></p> 
       <p>If possible, make the arrow clearly visible by keeping it clear of any other lines of text, i.e. the text following the arrow and the text in any lines below it are aligned. However, not all formats support hanging indent well.</p> 
       <p class="dev">Non-breaking spaces can be inserted to simulate the indent behaviour reasonably closely.</p> 
       <p class="example-left"><span class="example">&lt; When I find out where he is,<br> &nbsp;&nbsp;&nbsp;you'll be the first to know</span></p> 
       <p>The arrows are always typed in white regardless of the text colour of the speaker.</p> 
       <p>If an off-screen speaker is neither to the right nor the left, but straight ahead, do not use an arrow.</p> 
       <p><span class="flag-online">online</span> Arrow characters (? and ?) can be used instead of &lt; and &gt; for online-only subtitles. </p> 
       <h3>7.8 Use labels for off-screen voices</h3> 
       <p>If you are unable to use any other technique, use a label to identify a speaker, but only if it is unclear who was speaking or when more than four characters are speaking, requiring a shared colour. Type the name of the speaker in white caps (regardless of the colour of the speaker's text), immediately before the relevant speech. </p> 
       <p>If there is time, place the speech on the line below the label, so that the label is as separate as possible from the speech. If this is not possible, put the label on the same line as the speech, centred in the usual way.</p> 
       <p class="example-left"><span class="example">JAMES:<br> What are you doing with that hammer?</span></p> 
       <p class="example-left"><span class="example">JAMES: What are you doing?</span></p> 
       <p>If you do not know the name of the speaker, indicate the gender or age of the speaker if this is necessary for the viewer's understanding: </p> 
       <p class="example-left"><span class="example">MAN: I was brought up in a close-knit family.</span></p> 
       <p>When two or more people are speaking simultaneously, do the following, regardless of their colours:</p> 
       <p>Two people:</p> 
       <p class="example-left"><span class="example">BOTH: Keep quiet!</span> (all white text)</p> 
       <p>Three or more:</p> 
       <p class="example-left"><span class="example">ALL: Hello!</span> (all white text)</p> 
       <p class="example-left"><span class="example">TOGETHER: <span style="color:yellow;">Yes!</span> No!</span> (different colours with a white label)</p> 
       <h3>7.9 Use metadata to identify speakers</h3> 
       <p>The subtitle file formats used by the BBC allow non-presentation metadata that can be used to include information about the speaker of a subtitle. Including this information is useful for searching, identifying speakers and other purposes.</p> 
       <p class="dev">Speakers can be identified using the <code class="language-xml">ttm:agent</code> attribute defined in the <code class="language-xml">tt/head/metadata</code> element and referenced by a <a href="#tt-span"><code class="language-xml">tt:span</code></a> element. This should be used wherever possible in <span class="flag-EBU-TT-10">EBU-TT 1.0</span> documents and may be removed from <span class="flag-EBU-TT-D">EBU-TT-D</span> documents prior to distribution, if the data is not needed by the presentation processor.</p> 
      </section> <!-- identifying speakers --> 
      <section id="colours"> 
       <h2>8 Colours</h2> 
       <h3>8.1 Use white on black</h3> 
       <p>Most subtitles are typed in white text on a black background to ensure optimum legibility.</p> 
       <div class="dev"> 
        <p>Colours are implemented using <a href="#tts-color"><code class="language-xml">tts:color</code></a> and <a href="#tts-backgroundColor"><code class="language-xml">tts:backgroundColor</code></a> applied to a <a href="#tt-span"><code class="language-xml">tt:span</code></a>.</p> 
        <p>Where two words are in different colours the space must be placed within one of the <code class="language-xml">tt:span</code> elements, usually as the first character of the second span.</p> 
       </div> 
       <h3>8.2 Avoid coloured background</h3> 
       <p>Background colours are no longer used. Use labels to identify non-human speakers:</p> 
       <p class="example-center"><span class="example">ROBOT: Hello, sir</span></p> 
       <p>Use left-aligned sound labels for alerts:</p> 
       <p class="example-left"><span class="example">BUZZER</span></p> 
       <h3>8.3 Speaker colours</h3> 
       <p>A limited range of colours can be used to distinguish speakers from each other. In order of priority:</p> 
       <table> 
        <colgroup> 
         <col style="width: 20%;"> 
         <col style="width: 20%;"> 
         <col> 
        </colgroup> 
        <thead> 
         <tr> 
          <th scope="col"> <p><strong>Colour</strong></p> </th> 
          <th scope="col"> <p><strong>RGB hex</strong></p> </th> 
          <th scope="col"> <p><strong>Notes</strong></p> </th> 
         </tr> 
        </thead> 
        <tbody> 
         <tr> 
          <td> <p>White</p> </td> 
          <td> <p><code class="language-css">#FFFFFF</code></p> </td> 
          <td></td> 
         </tr> 
         <tr> 
          <td> <p>Yellow</p> </td> 
          <td> <p><code class="language-css">#FFFF00</code></p> </td> 
          <td></td> 
         </tr> 
         <tr> 
          <td> <p>Cyan</p> </td> 
          <td> <p><code class="language-css">#00FFFF</code></p> </td> 
          <td></td> 
         </tr> 
         <tr> 
          <td> <p>Green</p> </td> 
          <td> <p><code class="language-css">#00FF00</code></p> </td> 
          <td> <p class="dev">In CSS, EBU-TT and TTML this is named colour <code class="language-css">lime</code>. </p> </td> 
         </tr> 
        </tbody> 
       </table> 
       <p>All of the above colours must appear on a black background to ensure maximum legibility.</p> 
       <h3>8.4 Apply speaker colour consistently</h3> 
       <p>Once a speaker has a colour, s/he should keep that colour. Avoid using the same colour for more than one speaker - it can cause a lot of confusion for the viewer.</p> 
       <p>The exception to this would be content with a lot of shifting main characters like EastEnders, where it is permissible to have two characters per colour, providing they do not appear together. If the amount of placing needed would mean editing very heavily, you can use green as a "floater": that is, it can be used for more than one minor character, again providing they never appear together. </p> 
       <h3>8.5 Multiple speakers in white</h3> 
       <p>White can be used for any number of speakers. If two or more white speakers appear in the same scene, you have to use one of a number of devices to indicate who says what - see <a href="#Identifying-speakers">Identifying Speakers</a>.</p> 
      </section> <!-- colours --> 
      <section id="typography"> 
       <h2>9 Typography</h2> 
       <h3>9.1 Fonts</h3> 
       <p>Subtitle fonts are determined by the platform, the delivery mechanism and the client as detailed below. Since fonts have different character widths, the final pixel width of a line of subtitles cannot be accurately determined when authoring. See also <a href="#Line-breaks">Line Breaks</a>.</p> 
       <p>To minimise the risk of unwanted line wrapping, use a wide font such as Reith Sans, Verdana or Tiresias when authoring the subtitles. Presentation processors usually use a narrower font (e.g. Arial) so the rendered line will likely fit within the authored area. Note that platforms may use different reference fonts when resolving the generic font family name specified in the subtitle file. For example, the HbbTV standard maps both <code class="language-xml">default</code> and <code class="language-xml">proportionalSansSerif</code> to Tiresias, whereas IMSC maps <code class="language-xml">proportionalSansSerif</code> only to any font with substantially the same dimensions for rendered text as Arial. See also <a href="#Conformance-with-IMSC-1-0-1-Text-Profile">Conformance with IMSC 1.0.1 Text Profile</a>.</p> 
       <table> 
        <colgroup> 
         <col style="width: 15%;"> 
         <col style="width: 15%;"> 
         <col> 
        </colgroup> 
        <thead> 
         <tr> 
          <th scope="col"> <p><strong>Platform</strong></p> </th> 
          <th scope="col"> <p><strong>Delivery</strong></p> </th> 
          <th scope="col"> <p><strong>Description</strong></p> </th> 
         </tr> 
        </thead> 
        <tbody> 
         <tr> 
          <td> <p><span class="flag-broadcast">broadcast</span></p> </td> 
          <td> <p>DVB</p> </td> 
          <td>The subtitle encoder creates bitmap images for each subtitle using the Tiresias Screenfont font</td> 
         </tr> 
         <tr> 
          <td> <p><span class="flag-broadcast">broadcast</span></p> </td> 
          <td> <p>Teletext</p> </td> 
          <td>The set top box or television determines the font - this is most commonly used on the Sky platform</td> 
         </tr> 
         <tr> 
          <td> <p><span class="flag-online">online</span></p> </td> 
          <td> <p>IP (XML)</p> </td> 
          <td>The client determines the font using information from within the subtitle data (e.g. 'SansSerif'). Generally it is better to use system font for readability (e.g. Helvetica for iOS and Roboto for Android). Use of non-platform fonts can adversely impact clarity of presented text.</td> 
         </tr> 
        </tbody> 
       </table> 
       <div class="dev">
        For implementation details, see <a href="#tts-fontFamily">tts:fontFamily</a>.
       </div> 
       <h3>9.2 Size</h3> 
       <p>The final displayed size of closed captions text is determined by multiple factors: the instructions in the subtitle file, the processor and the set of installed fonts available to it, the device screen size and resolution and (on some devices) also user-defined preferences.</p> 
       <p>While it is not possible (or advisable) to pre-determine the final subtitle size, adhering to the below guidelines will ensure that subtitles are legible at a typical distance from the device and that lines do not reflow or overflow for the vast majority of users. In particular, the final size should never be larger than the authored size so that the subtitler can ensure that important parts of the of the video are not obscured.</p> 
       <h4>9.2.1 Authoring font size</h4> 
       <p>Font size should be set to fit within a line height of 8% of the active video height. Use mixed upper and lower case. This font height is the largest size needed for presentation and is an <i>authoring</i> requirement.</p> 
       <img src="img/10.2-2.png" alt="Image showing line height being 8% of active video height, character height being sized to fit" style="width:700px;"> 
       <p>Use a wide font such as Reith Sans when authoring subtitles (see <a href="#Fonts">Fonts</a> and <a href="#tts-fontFamily"><code class="language-xml">tts:fontFamily</code></a>). If that is not the font used to present it, then the alternative is likely to be a narrower font, so if you author in a wide font you can be reasonably confident that lines will not reflow.</p> 
       <p>No changes need to be made to other styling attributes to accommodate processors potentially using a smaller font, however care needs to be taken when positioning subtitles in case a smaller font is used, as the following examples show:</p> 
       <div class="gel-wrap"> 
        <div class="gel-layout"> 
         <div class="gel-layout__item gel-layout--equal gel-layout--fit gel-1/1 gel-1/3@l"> 
          <p>Authored font size, correct positioning:</p> 
          <img src="img/resized_text_1_1.png" alt="A mock-up of a head and shoulders shot with a caption along the bottom, with a two line subtitle avoiding the face, with large sized text tightly surrounded by a rectangle that indicates the region and overlaps with the face."> 
          <p> The processor displays the larger font size, as authored. The region (not displayed) is indicated with a dotted line. </p> 
         </div> <!-- gel-layout__item --> 
         <div class="gel-layout__item gel-layout--equal gel-layout--fit gel-1/1 gel-1/3@l"> 
          <p>Reduced font size, wrong positioning:</p> 
          <img src="img/resized_text_1_2.png" alt="A mock-up of a head and shoulders shot with a caption along the bottom, with a two line subtitle partially obscuring the face, with small sized text aligned to the top of a surrounding rectangle indicating the region, which overlaps with the face."> 
          <p> The region's <code class="language-xml">tts:displayAlign</code> is set to "before" so with a smaller font size the text moves up and the second line obscures the mouth. </p> 
         </div> <!-- gel-layout__item --> 
         <div class="gel-layout__item gel-layout--equal gel-layout--fit gel-1/1 gel-1/3@l"> 
          <p>Reduced font size, correct positioning:</p> 
          <img src="img/resized_text_1_3.png" alt="A mock-up of a head and shoulders shot with a caption along the bottom, with a two line subtitle avoiding the face, with small sized text aligned to the vertical centre of a surrounding rectangle indicating the region, which overlaps with the face."> 
          <p> To avoid this, set the region's <code class="language-xml">tts:displayAlign</code> property to "center" or "after". </p> 
         </div> <!-- gel-layout__item --> 
        </div> <!-- gel-layout --> 
        <div class="gel-layout"> 
         <div class="gel-layout__item"> 
          <p><!-- Create a blank space --></p> 
         </div> <!-- gel-layout__item --> 
        </div> <!-- gel-layout --> 
        <div class="gel-layout"> 
         <div class="gel-layout__item gel-layout--equal gel-layout--fit gel-1/1 gel-1/3@l"> 
          <p>Authored font size, large region:</p> 
          <img src="img/resized_text_2_1.png" alt="A mock-up of a head and shoulders shot with a caption along the bottom, with a two line subtitle avoiding the face, with large sized text positioned using <br> elements in a much larger rectangle that indicates the region and overlaps with the face."> 
          <p> Line breaks were used to position the subtitles lower within the region. </p> 
         </div> <!-- gel-layout__item --> 
         <div class="gel-layout__item gel-layout--equal gel-layout--fit gel-1/1 gel-1/3@l"> 
          <p>Reduced font size, large region:</p> 
          <img src="img/resized_text_2_2.png" alt="A mock-up of a head and shoulders shot with a caption along the bottom, with a two line subtitle partially obscuring the face, with small sized text positioned using <br> elements in a much larger rectangle that indicates the region and overlaps with the face."> 
          <p> The line breaks are resized with the rest of the text. </p> 
         </div> <!-- gel-layout__item --> 
         <div class="gel-layout__item gel-layout--equal gel-layout--fit gel-1/1 gel-1/3@l"> 
          <p>Reduced font size, defined region:</p> 
          <img src="img/resized_text_2_3.png" alt="A mock-up of a head and shoulders shot with a caption along the bottom, with a three line subtitle avoiding the face, with small sized text positioned within a rectangle that indicates the region, where the rectangle does not overlap with the face."> 
          <p> Better to define the region so that it does not cover the face and avoid white space. </p> 
         </div> <!-- gel-layout__item --> 
        </div> <!-- gel-layout --> 
       </div> <!-- gel-wrap --> 
       <p> See also <a href="#reith-adjustments">Additional adjustments for Reith Sans font</a>. </p> 
       <div class="dev"> 
        <p>The font size is determined by <a href="#tts-fontSize">tts:fontSize</a> in combination with <a href="#ttp-cellResolution">ttp:cellResolution</a>.</p> 
        <p>The 8% value originates in Teletext, where it is approximately the height of a double height line, with the Teletext rendering area covering around 90% of the video area height, as is typical when they are rendered within a safe area which accommodates overscan. We currently broadcast teletext subtitles on our digital satellite platforms: by connecting a television to a set top box using for example a SCART connector it is still possible to display subtitles in this way. The double height line was used instead of a single height line for readability when commonly used television sizes were much smaller than today's median sizes (see <a href="http://downloads.bbc.co.uk/rd/pubs/whp/whp-pdf-files/WHP287.pdf">BBC R&amp;D White Paper 287 (PDF)</a> for relevant research on this). </p> 
       </div> 
       <br> 
       <h4>9.2.2 Presentation font size</h4> 
       <p>Depending on device size, viewing distance, screen resolution etc., a <i>processor</i> (such as a player) may choose to reduce (but not to increase) the authored font size so that the final presentation font size is smaller than the authored font size. For example, on a very large TV the subtitles may appear too large when displayed at the original authored size, so the processor can apply a scaling factor, or a multiplier of less than 1, to the value of <code class="language-xml"><a href="#tts-fontSize">tts:fontSize</a></code>.</p> 
       <p>For most screen sizes, the preferred font size is between 0.6 and 0.8 times the required <a href="#Authoring-font-size">authoring font size</a>. For small mobile phones (e.g. 4" diagonal screen size) the presentation size should be the unmodified authored font size (i.e. a multiplier of 1).</p> 
       <p>Along with reading distance, the physical height of the video when displayed on the device's screen is the most direct determinant of font size as a proportion of video height. In practice, however, a processor may not know the actual physical height and may have to rely on other data, for example pixel size and resolution (which may not be reliable indicators of physical size). The examples below illustrate devices and their recommended multipliers. For devices that support configurable sizes, a recommended range is shown. When the processor cannot determine the screen size, it should use the unmodified authored size to mitigate the risk of illegibly small text (i.e. default to a multiplier of 1).</p> 
       <table> 
        <colgroup> 
         <col> 
         <col style="width: 20%;"> 
         <col style="width: 18%;"> 
         <col style="width: 15%;"> 
         <col style="width: 15%;"> 
        </colgroup> 
        <thead> 
         <tr> 
          <th scope="col">Device type</th> 
          <th scope="col">Example device</th> 
          <th scope="col">Screen height (landscape)</th> 
          <th scope="col">Recommended multiplier</th> 
          <th scope="col">Recommended range</th> 
         </tr> 
        </thead> 
        <tbody> 
         <tr> 
          <td>4" (10cm) phone</td> 
          <td>iPhone SE</td> 
          <td>50mm</td> 
          <td>x1</td> 
          <td>x0.67-x1</td> 
         </tr> 
         <tr> 
          <td>4.7" (12cm) phone</td> 
          <td>iPhone 6 </td> 
          <td>59mm</td> 
          <td>x1</td> 
          <td>x0.67-x1</td> 
         </tr> 
         <tr> 
          <td>5.5" (14cm) phone</td> 
          <td>Samsung S7</td> 
          <td>68mm</td> 
          <td>x0.67</td> 
          <td>x0.5-x1</td> 
         </tr> 
         <tr> 
          <td>7" (17.8cm) tablet</td> 
          <td>Amazon Fire</td> 
          <td>87mm</td> 
          <td>x0.8</td> 
          <td>x0.6-x1</td> 
         </tr> 
         <tr> 
          <td>9.7" (24.5cm) tablet</td> 
          <td>iPad</td> 
          <td>148mm</td> 
          <td>x0.67</td> 
          <td>x0.6-x1</td> 
         </tr> 
         <tr> 
          <td>Laptop and desktop computers</td> 
          <td>16:9 monitor</td> 
          <td>187mm-300mm</td> 
          <td>x0.6</td> 
          <td>x0.5-x1</td> 
         </tr> 
         <tr> 
          <td>TVs (32"-42")</td> 
          <td>16:9 or 21:9 display</td> 
          <td>398mm-523mm</td> 
          <td>x0.67</td> 
          <td>x0.5-x1</td> 
         </tr> 
         <tr> 
          <td>Unknown device</td> 
          <td>Unknown</td> 
          <td>Unknown</td> 
          <td>x1</td> 
          <td>x0.67-x1</td> 
         </tr> 
        </tbody> 
       </table> 
       <p>In the absence of other information, a default size of 0.5° subtended at the eye may be used to derive the default line height and calculate the multiplier, however this may be too small for some devices.</p> 
       <p> See also <a href="#reith-adjustments">Additional adjustments for Reith Sans font</a>. </p> 
       <div class="dev"> 
        <p>When scaling down the font size, the processor should respect all other styling attributes. Subtitle text should be scaled by applying the multiplier to the values of <code class="language-xml"><a href="#tts-fontSize">tts:fontSize</a></code> and <code class="language-xml"><a href="#ebutts-linePadding">ebutts:linePadding</a></code>. In EBU-TT-D line height is specified as a percentage of font size, so its computed value scales proportionally without having to modify the value of <code class="language-xml"><a href="#tts-lineHeight">tts:lineHeight</a></code>.</p> 
       </div> 
       <section id="reith-adjustments"> 
        <h4>9.2.3 Additional adjustments for Reith Sans font</h4> 
        <p> <span class="flag-EBU-TT-D">EBU-TT-D</span> Most sans-serif fonts used on the web have a "normal" line height of around 120% of the font size. This is specified within the font file by adding up the ascender, descender and line gap metrics. However Reith Sans has a wider line spacing, of around 133%. If too small a line height is used for the font size, then descenders can get hidden by the background area of the next line, which is highly undesirable. </p> 
        <p> This presents an authoring difficulty: given that the requirements set out in this document are to fit the text within a line spacing of 8% of the video height, and the line spacing is based on the line height, the font size, and the font family, what combination of values should be used? The subtitle document specifies a list of fonts, as is required by these guidelines (see <a href="#tts-fontFamily"><code class="language-xml">tts:fontFamily</code></a>), however the correct combination of font size and line height differs depending on which font is actually used. When presenting using HTML and CSS, there is currently no mechanism to allow different settings to be applied based on the <em>used</em> font family; the <code class="language-xml">normal</code> value of <a href="#tts-lineHeight"><code class="language-xml">tts:lineHeight</code></a> sets the line height based on the font size and the used font, but the resulting line height is unpredictable. </p> 
        <p> To work around this, the following recommendations apply within documents: </p> 
        <ul> 
         <li> The <a href="#tts-lineHeight"><code class="language-xml">tts:lineHeight</code></a> should be set to a value used for common fonts, such as 120%. </li> 
         <li> The <a href="#tts-fontSize"><code class="language-xml">tts:fontSize</code></a> should be set so that the computed font size multiplied by the line height is no more than 8% of the video height. </li> 
        </ul> 
        <p> The following recommendations apply within processors, if the Reith Sans font is being used and if the line height is less than 133%: </p> 
        <ul> 
         <li> Compute an <em>adjustment</em> factor that is the line height divided by 133%. For example, if a line height of 120% is chosen, then the adjustment ratio would be 120/133 = 0.9. </li> 
         <li> Reduce the font size, multiplying its computed value by the adjustment factor. </li> 
         <li> Increase the line height, dividing its computed value by the adjustment factor. </li> 
        </ul> 
        <p> This approach should mean that a processor presents text at the desired line spacing regardless of whether Reith Sans is being used or not. Although the text will appear slightly smaller in Reith Sans, the readability improvements associated with the design and spacing of Reith Sans are considered to offset any negative impact from the reduction in size. An added effect is that, since text generally renders wider in Reith Sans than other fonts, this approach also helps to mitigate against the risk of unwanted line breaks. </p> 
       </section> 
       <h4>9.2.4 Background size</h4> 
       <p>The width of the background is calculated per line, rather than being the largest rectangle that can fit all the displayed lines in. </p> 
       <div class="dev">
        To achieve this, wrap the text in a <a href="#tt:span"><code class="language-xml">tt:span</code></a> and apply a <a href="#tts:backgroundColor"><code class="language-xml">tts:backgroundColor</code></a> style to the <a href="#tt:span"><code class="language-xml">tt:span</code></a> by referencing a <code class="language-xml">&lt;tt:style&gt;</code> element that sets that style attribute.
       </div> 
       <p>The height of the background should be the height of the line; there should be no gap between background areas of successive lines. </p> 
       <div class="dev">
         Reference a <code class="language-xml">&lt;tt:style&gt;</code> element that sets <a href="#itts:fillLineGap"><code class="language-xml">itts:fillLineGap="true"</code></a> from the <a href="#tt:p"><code class="language-xml">tt:p</code></a> parent, or its <a href="#tt:div"><code class="language-xml">tt:div</code></a> ancestor, to instruct the processor to fill gaps between adjacent line background areas. 
       </div> 
       <p>On both sides of every line, the background colour should extend by the width of 0.5 em.</p> 
       <img src="img/10.2-1.png" alt="Image showing background colour calculated per line with no gaps between background areas of consecutive lines."> 
       <div class="dev">
        In EBU-TT-D, the background of lines is extended using <a href="#ebutts-linePadding"><code class="language-xml">ebutts:linePadding</code></a>. Note, however, that the size of line padding is expressed in cell units, requiring additional calculation. For this purpose, <code class="language-xml">1em</code> can be assumed to equal font size. See example in <a href="#ebutts-linePadding"><code class="language-xml">ebutts:linePadding</code></a>. If scaling the presentation font size, a processor should reduce the value of <code class="language-xml">ebutts:linePadding</code> by the same factor.
       </div> 
       <h3>9.3 Supported characters</h3> 
       <h4>9.3.1 Broadcast</h4> 
       <p>If the subtitles are intended for broadcast, a limited set of characters must be used.</p> 
       <p>Use alphanumeric and English punctuation characters:</p> 
       <p>A-Z a-z 0-9 ! ) ( , . ? : -</p> 
       <p>The following characters can be used:</p> 
       <p>&gt; &lt; &amp; @ # % + * = / £ $ ¢ ¥ © ® ¼ ½ ¾ ¾ ™</p> 
       <p>Do not use accents.</p> 
       <p>Additional characters are supported but not normally used (see <a href="#Appendix-1--Teletext-character-set">Appendix 1</a>)</p> 
       <h4>9.3.2 Characters permitted online</h4> 
       <p>In addition to the characters above, the following characters are allowed if the subtitles are intended for online use only.</p> 
       <p><span class="flag-online">online</span> € ? (replaces # to indicate music) ? ? (<a href="#Use-arrows-for-off-screen-voices">arrows</a> can replace &lt; and &gt;). </p> 
       <h4>9.3.3 Encoding characters</h4> 
       <div class="dev"> 
        <p>In STL binary files, characters are encoded according to the table in <a href="#Appendix-1--Teletext-character-set">Appendix 1</a>.</p> 
        <p>Subtitles delivered as XML (EBU-TT or EBU-TT-D) require that characters with special significance in XML are escaped:</p> 
        <table> 
         <colgroup> 
          <col style="width: 15%;"> 
          <col style="width: 15%;"> 
          <col> 
         </colgroup> 
         <thead> 
          <tr> 
           <th scope="col">Character</th> 
           <th scope="col">Escaped</th> 
           <th scope="col">Example</th> 
          </tr> 
         </thead> 
         <tbody> 
          <tr> 
           <td>&lt;</td> 
           <td><code class="language-xml">&amp;lt;</code></td> 
           <td><code class="language-xml">&lt;span style="spanStyle"&gt;3 &amp;lt; 5&lt;/span&gt;</code></td> 
          </tr> 
          <tr> 
           <td>&gt;</td> 
           <td><code class="language-xml">&amp;gt;</code></td> 
           <td><code class="language-xml">&lt;span style="spanStyle"&gt;5 &amp;gt; 3&lt;/span&gt;</code></td> 
          </tr> 
          <tr> 
           <td>&amp;</td> 
           <td><code class="language-xml">&amp;amp;</code></td> 
           <td><code class="language-xml">&lt;span style="spanStyle"&gt;Trotter &amp;amp; Sons&lt;/span&gt;</code></td> 
          </tr> 
         </tbody> 
        </table> 
        <p>Quote marks within subtitle content don't have to be escaped. This is valid:</p> <code class="language-xml">&lt;span style="spanStyle"&gt;"Hello"&lt;/span&gt;</code> 
        <p>Note, however, that curly quotes are not included in the list of allowed characters (some word processors transform straight quotes to curly ones automatically).</p> 
        <p>You may not be able directly to key in some of the other allowed characters. In this case you can use the Unicode code. For example, use <code class="language-xml">&amp;#9835;</code> for the character ?, like this:</p> 
        <p><code class="language-xml">&lt;span style="spanStyle"&gt;&amp;#9835; Happy birthday to you&lt;/span&gt;</code></p> 
        <p>This will be displayed as:</p> 
        <p><span class="example">? Happy birthday to you</span></p> 
        <p>You can view <a href="https://www.unicode.org/charts/">a list of Unicode codes on the Unicode website</a>.</p> 
       </div> 
      </section> <!-- typography --> 
      <section id="positioning"> 
       <h2>10 Positioning</h2> 
       <p> The subtitles should overlay the video image, and may be placed within any black bars present within the video at the top or bottom. </p> 
       <p> <span class="flag-online">online</span> For 16:9 video in landscape mode, subtitles should not be placed outside the central 90% vertically and the central 75% horizontally. Regions can be extended horizontally to allow extra space for line padding. </p> 
       <p><span class="flag-online">online</span> For online subtitles, the subtitle rendering area (root container in EBU-TT-D) should exactly overlap the video player area unless controls or other overlays are visible, in which case the system should take steps to avoid the subtitles being obscured by the overlays. These could include: </p> 
       <ul> 
        <li>Scaling the root container to avoid overlap</li> 
        <li>Detecting and resolving screen area clashes by moving subtitles around </li> 
        <li>Pausing the presentation while the overlays are visible.</li> 
       </ul> 
       <h3>10.1 Vertical positioning</h3> 
       <p>The normally accepted position for subtitles is towards the bottom of the screen (Teletext lines 20 and 22. Line 18 is used if three subtitle lines are required). In obeying this convention it is most important to avoid obscuring ‘on-screen’ captions, any part of a speaker’s mouth or any other important activity. Certain special programme types carry a lot of information in the lower part of the screen (e.g. snooker, where most of the activity tends to centre around the black ball) and in such cases top screen positioning will be a more acceptable standard.</p> 
       <p>Generally, vertical displacement should be used to avoid obscuring important information (such as captions) while horizontal displacement should be reserved for indicating speakers (see <a href="#Identifying-speakers">Identifying Speakers</a>).</p> 
       <div class="gel-wrap"> 
        <div class="gel-layout"> 
         <div class="gel-layout__item gel-1/1 gel-1/2@m"> 
          <img src="img/quiz-text-position-1.png" alt="Image showing subtitles placed vertically so that they obscure important onscreen text, which in this case is a set of linked things in a quiz where the objective is to discover the link."> 
         </div> 
         <div class="gel-layout__item gel-1/1 gel-1/2@m"> 
          <img src="img/quiz-text-position-2.png" alt="Image showing the same quiz image, with subtitles moved up to avoid the faces and the onscreen text, which can now be read, and are A programming language, A brand of wall filler and A diminutive queen name. The link is &quot;Greg's cats&quot;"> 
         </div> 
        </div> <!-- gel-layout --> 
       </div> <!-- gel-wrap --> 
       <p>In some cases vertical displacement is not sufficient to avoid obscuring important information, for example when placing the captions above a graphic would cover a face. In such cases, <a href="#Horizontal-positioning">horizontal positioning</a> may be used. </p> 
       <div class="dev">
        Vertical positioning is controlled mainly by the <a href="#tt-region"><code class="language-xml">tt:region</code></a> element, which is defined using <a href="#tts-extent"><code class="language-xml">tts:extent</code></a> and <a href="#tts-origin"><code class="language-xml">tts:origin</code></a>. However, other attributes can also affect positioning within the region. See <a href="#tts-displayAlign"><code class="language-xml">tts:displayAlign</code></a> for more details. 
       </div> 
       <h3>10.2 Under image positioning</h3> 
       <p>Some platforms (e.g. online media player) support the display of subtitles under the image. If the media player is embedded in the page the layout should change to accommodate the subtitle display. </p> 
       <p>When subtitles are displayed under the image area, vertical displacement will be ignored by the device and only horizontal positioning will be used (e.g. to identify speakers).</p> 
       <h3>10.3 Horizontal positioning</h3> 
       <p>Prepared subtitles are normally centre-aligned within a subtitle region that is horizontally centred relative to the video. Live subtitles (cued blocks and cumulative) are normally left-aligned. </p> 
       <p>Other horizontal positioning may be used to:</p> 
       <ul> 
        <li>Avoid obscuring important information (such as captions and mouths) when <a href="#Vertical-positioning">vertical positioning</a> is not sufficient (see below).</li> 
        <li>Indicate the direction of off-screen sounds. See <a href="#Use-arrows-for-off-screen-voices">arrows for off-screen voices</a>.</li> 
        <li>Identifying in-vision speakers (legacy technique). See <a href="#Use-horizontal-positioning">Identifying speakers with horizontal positioning.</a></li> 
       </ul> 
       <p>In some cases <a href="#Vertical-positioning">vertical positioning</a> is not sufficient to avoid obscuring important information, for example when placing the captions above a graphic would cover a face. In such cases, prioritise the important information over speaker identification, using horizontal positioning if appropriate.</p> 
       <div class="gel-wrap"> 
        <div class="gel-layout"> 
         <div class="gel-layout__item gel-1/1 gel-1/2@m"> 
          <img src="img/11.1-1-1.png" alt="Image showing subtitle positioned vertically to avoid obscuring text in the bottom right of the image, resulting in it obscuring the mouth of the person speaking."> 
         </div> 
         <div class="gel-layout__item gel-1/1 gel-1/2@m"> 
          <img src="img/11.1-1-2.png" alt="Image showing subtitle moved horizontally instead of vertically to avoid obscuring a face, as happened in the previous image."> 
         </div> 
        </div> <!-- gel-layout --> 
       </div> <!-- gel-wrap --> 
       <div class="dev">
        Horizontal positioning is controlled by the <a href="#tt-region"><code class="language-xml">tt:region</code></a> element, whose size and position are defined using <a href="#tts-extent"><code class="language-xml">tts:extent</code></a> and <a href="#tts-origin"><code class="language-xml">tts:origin</code></a>. Within the region, horizontal alignment of lines is achieved using <a href="#tts-textAlign"><code class="language-xml">tts:textAlign</code></a> and <a href="#ebutts-multiRowAlign"><code class="language-xml">ebutts:multiRowAlign</code></a>.
       </div> 
      </section> <!-- positioning --> 
      <section id="intonation-and-emotion"> 
       <h2>11 Intonation and emotion</h2> 
       <h3>11.1 Sarcasm</h3> 
       <p>To indicate a sarcastic statement, use an exclamation mark in brackets (without a space in between):</p> 
       <p class="example-left"><span class="example">Charming(!)</span></p> 
       <p>To indicate a sarcastic question, use a question mark in brackets: </p> 
       <p class="example-left"><span class="example">You're not going to work today, are you(?)</span></p> 
       <h3>11.2 Stress</h3> 
       <p>Use caps to indicate when a word is stressed. Do not overuse this device - text sprinkled with caps can be hard to read. However, do not underestimate how useful the occasional indication of stress can be for conveying meaning:</p> 
       <p class="example-left"><span class="example">It's the BOOK I want, not the paper.</span></p> 
       <p class="example-left"><span class="example">I know that, but WHEN will you be finished?</span></p> 
       <p>The word "I" is a special case. If you have to emphasise it in a sentence, make it a different colour from the surrounding text. However, this is rare and should be used sparingly and only when there is no other way to emphasise the word.</p> 
       <p>Use caps also to indicate when words are shouted or screamed: </p> 
       <p class="example-left"><span class="example">HELP ME!</span></p> 
       <p>However, avoid large chunks of text in caps as they can be hard to read.</p> 
       <h4>11.2.1 Italics</h4> 
       <p><span class="flag-online">online</span> Subtitles for online exclusives can use italics for emphasis instead of caps (this is an experimental option and should not be included for general use). If this approach is adopted italics should be used in most instances, with caps reserved for heavier emphasis (e.g. shouting).</p> 
       <p>Note that there is currently little research to indicate the effectiveness of italics for emphasis in subtitles.</p> 
       <p class="dev">Italics can be specified by using <code class="language-xml">tts:fontStyle="italic"</code> on a style referenced by a <a href="#tt:span"><code class="language-xml">tt:span</code></a>.</p> 
       <h3>11.3 Whisper</h3> 
       <p>To indicate whispered speech, a label is most effective.</p> 
       <p class="example-left"><span class="example">WHISPERS:<br> Don't let him near you.</span></p> 
       <p>However, when time is short, place brackets around the whispered speech: </p> 
       <p class="example-left"><span class="example">(Don't let him near you.)</span></p> 
       <p>If the whispered speech continues over more than one subtitle, brackets can start to look very messy, so a label in the first subtitle is preferable.</p> 
       <p>Brackets can also be used to indicate an aside, which may or may not be whispered.</p> 
       <h3>11.4 Incredulous question</h3> 
       <p>Indicate questions asked in an incredulous tone by means of a question mark followed by an exclamation mark (no space):</p> 
       <p class="example-left"><span class="example">You mean you're going to marry him?!</span></p> 
      </section> <!-- intonation and emotion --> 
      <section id="accents"> 
       <h2>12 Accents</h2> 
       <p>This section deals with accents in speech and dialects. For accented characters see <a href="#Typography">Typography</a>.</p> 
       <h3>12.1 Indicate accent only when required</h3> 
       <p>Do not indicate accent as a matter of course, but only where it is relevant for the viewer's understanding. This is rarely the case in serious/straight news reports, but may well be relevant in lighter factual items. For example, you would only indicate the nationality of a foreign scientist being interviewed on Horizon or the Ten O’Clock News if it were relevant to the subject matter and the viewer could not pick the information up from any other source, e.g. from their actual words or any accompanying graphics. However, in a drama or comedy where a character's accent is crucial to the plot or enjoyment, the subtitles must establish the accent when we first see the character and continue to reflect it from then on. </p> 
       <h3>12.2 Indicate accent sparingly</h3> 
       <p>When it is necessary to indicate accent, bear in mind that, although the subtitler's aim should always be to reproduce the soundtrack as faithfully as possible, a phonetic representation of a speaker's foreign or regional accent or dialect is likely to slow up the reading process and may ridicule the speaker. Aim to give the viewer a flavour of the accent or dialect by spelling a few words phonetically and by including any unusual vocabulary or sentence construction that can be easily read. For a Cockney speaker, for instance, it would be appropriate to include quite a few "caffs", "missus" and "ain'ts", but not to replace every single dropped "h" and "g" with an apostrophe.</p> 
       <h3>12.3 Incorrect grammar</h3> 
       <p>You should not correct any incorrect grammar that forms an essential part of dialect, e.g. the Cockney "you was".</p> 
       <p>A foreign speaker may make grammatical mistakes that do not render the sense incomprehensible but make the subtitle difficult to read in the given time. In this case, you should either give the subtitle more time or change the text as necessary:</p> 
       <p class="example-left"><span class="example">I and my wife is being marrying four years since and are having four childs, yes</span></p> 
       <p>This could be changed to:</p> 
       <p class="example-left"><span class="example">I and my wife have been married four years and have four childs, yes</span></p> 
       <h3>12.4 Use label</h3> 
       <p>The speech text alone may not always be enough to establish the origin of an overseas/regional speaker. In that case, and if it is necessary for the viewer's understanding of the context of the content, use a label to make the accent clear:</p> 
       <p class="example-left"><span class="example">AMERICAN ACCENT:<br> All the evidence points to a plot.</span></p> 
      </section> <!-- accents --> 
      <section id="difficult-speech"> 
       <h2>13 Difficult speech</h2> 
       <h3>13.1 Edit lightly</h3> 
       <p>Remember that what might make sense when it is heard might make little or no sense when it is read. So, if you think the viewer will have difficulty following the text, you should make it read clearly. This does not mean that you should always sub-edit incoherent speech into beautiful prose. You should aim to tamper with the original as little as possible - just give it the odd tweak to make it intelligible. (Also see <a href="#Accents">Accents</a>)</p> 
       <h3>13.2 Consider the dramatic effect</h3> 
       <p>The above is more applicable to factual content, e.g. News and documentaries. Do not tidy up incoherent speech in drama when the incoherence is the desired effect.</p> 
       <h3>13.3 Use labels for incoherent speech</h3> 
       <p>If a piece of speech is impossible to make out, you will have to put up a label saying why:</p> 
       <p class="example-left"><span class="example">(SLURRED): But I love you!</span></p> 
       <p>Avoid subjective labels such as "UNINTELLIGIBLE" or "INCOMPREHENSIBLE" or "HE BABBLES INCOHERENTLY".</p> 
       <h3>13.4 Use labels for inaudible speech</h3> 
       <p>Speech can be inaudible for different reasons. The subtitler should put up a label explaining the cause.</p> 
       <p class="example-left"><span class="example">APPLAUSE DROWNS SPEECH</span></p> 
       <p class="example-left"><span class="example">TRAIN DROWNS HIS WORDS</span></p> 
       <p class="example-left"><span class="example">MUSIC DROWNS SPEECH</span></p> 
       <p class="example-left"><span class="example">HE MOUTHS</span></p> 
       <h3>13.5 Explain pauses in speech</h3> 
       <p>Long speechless pauses can sometimes lead the viewer to wonder whether the subtitles have failed. It can help in such cases to insert explanatory text such as:</p> 
       <p class="example-left"><span class="example">INTRODUCTORY MUSIC</span></p> 
       <p class="example-left"><span class="example">LONG PAUSE</span></p> 
       <p class="example-left"><span class="example">ROMANTIC MUSIC</span></p> 
       <h3>13.6 Break up subtitles slow speech</h3> 
       <p>If a speaker speaks very slowly or falteringly, break your subtitles more often to avoid having slow subtitles on the screen. However, do not break a sentence up so much that it becomes difficult to follow.</p> 
       <h3>13.7 Indicate stammer</h3> 
       <p>If a speaker stammers, give some indication (but not too much) by using hyphens between repeated sounds. This is more likely to be needed in drama than factual content. Letters to show a stammer should follow the case of the first letter of the word.</p> 
       <p class="example-left"><span class="example">I'm g-g-going home</span></p> 
       <p class="example-left"><span class="example">W-W-What are you doing?</span></p> 
      </section> <!-- difficult speech --> 
      <section id="hesitation-and-interruption"> 
       <h2>14 Hesitation and interruption</h2> 
       <h3>14.1 Indicate hesitation only if important</h3> 
       <p>If a speaker hesitates, do not edit out the "ums" and "ers" if they are important for characterisation or plot. However, if the hesitation is merely incidental and the "ums" actually slow up the reading process, then edit them out. (This is most likely to be the case in factual content, and too many "ums" can make the speaker appear ridiculous.)</p> 
       <h3>14.2 Within a single subtitle</h3> 
       <p>When the hesitation or interruption is to be shown within a single subtitle, follow these rules:</p> 
       <h4>14.2.1 Pause within a sentence</h4> 
       <p>To indicate a pause within a sentence, insert three dots at the point of pausing, then continue the sentence immediately after the dots, without leaving a space.</p> 
       <p class="example-left"><span class="example">Everything that matters...is a mystery</span></p> 
       <p>You may need to show a pause between two sentences within one subtitle. For example, where a phone call is taking place and we can only witness one side of it, there may not be time to split the sentences into separate subtitles to show that someone we can't see or hear is responding. In this case, you should put two dots immediately before the second sentence.</p> 
       <p class="example-left"><span class="example">How are you? ..Oh, I'm glad to hear that.</span></p> 
       <p>A very effective technique is to use <a href="#Cumulative-subtitles">cumulative subtitles</a>, where the first part appears before the second, and both remain on screen until the next subtitle. Use this method only when the content justifies it; standard prepared subtitles should be displayed in blocks.</p> 
       <h4>14.2.2 Unfinished sentence</h4> 
       <p>If the speaker simply trails off without completing a sentence, put three dots at the end of his/her speech. If s/he then starts a new sentence, no continuation dots are necessary.</p> 
       <p class="example-left"><span class="example">Hello, Mr... Oh, sorry! I've forgotten your name</span></p> 
       <h4>14.2.3 Unfinished question/exclamation</h4> 
       <p>If the unfinished sentence is a question or exclamation, put three dots (not two) before the question mark or exclamation mark. </p> 
       <p><span class="example">What do you think you're...?!</span></p> 
       <h4>14.2.4 Interruption</h4> 
       <p>If a speaker is interrupted by another speaker or event, put three dots at the end of the incomplete speech.</p> 
       <h3>14.3 Across subtitles</h3> 
       <p>When the hesitation or interruption occurs in the middle of a sentence that is split across two subtitles, do the following:</p> 
       <h4>14.3.1 Indicate time lapse with dots</h4> 
       <p>Where there is no time-lapse between the two subtitles, put three dots at the end of the first subtitle but no dots in the second one.</p> 
       <p class="example-left"><span class="example">I think...<br> I would like to leave now.</span></p> 
       <p>Where there is a time-lapse between the two subtitles, put three dots at the end of the first subtitle and two dots at the beginning of the second, so that it is clear that it is a continuation.</p> 
       <p><span class="example">I'd like...</span></p> 
       <p class="example-left"><span class="example">..a piece of chocolate cake</span></p> 
       <p>Remember that dots are only used to indicate a pause or an unfinished sentence. You do not need to use dots every time you split a sentence across two or more subtitles.</p> 
      </section> <!-- hesitation and interruption --> 
      <section id="humour"> 
       <h2>15 Humour</h2> 
       <p>In humorous sequences, it is important to retain as much of the humour as possible. This will affect the editing process as well as when to leave the screen clear.</p> 
       <h3>15.1 Separate punchlines</h3> 
       <p>Try wherever possible to keep punchlines separate from the preceding text.</p> 
       <h3>15.2 Reactions</h3> 
       <p>Where possible, allow viewers to see actions and facial expressions which are part of the humour by leaving the screen clear or by editing. Try not to leave a subtitle on screen when the next shot contains no speech and shows the character's reaction, as this distracts from the reaction and spoils the punchline.</p> 
       <h3>15.3 Keep catchphrases</h3> 
       <p>Never edit characters' catchphrases.</p> 
      </section> <!-- humour --> 
      <section id="music-and-songs"> 
       <h2>16 Music and songs</h2> 
       <p class="dev"><span class="flag-EBU-TT-10">EBU-TT 1.0</span> documents should set <code class="language-xml">ttm:role="music"</code> on the relevant <a href="#tt:p"><code class="language-xml">tt:p</code></a> or <a href="#tt:span"><code class="language-xml">tt:span</code></a> element to indicate that the contents represent music.</p> 
       <h3>16.1 Label source music</h3> 
       <p>All music that is part of the action, or significant to the plot, must be indicated in some way. If it is part of the action, e.g. somebody playing an instrument/a record playing/music on a jukebox or radio, then write the label in upper case:</p> 
       <p class="example-left"><span class="example">SHE WHISTLES A JOLLY TUNE</span></p> 
       <p class="example-left"><span class="example">POP MUSIC ON RADIO</span></p> 
       <p class="example-left"><span class="example">MILITARY BAND PLAYS SWEDISH NATIONAL ANTHEM</span></p> 
       <h3>16.2 Describe incidental music</h3> 
       <p>If the music is "incidental music" (i.e. not part of the action) and well known or identifiable in some way, the label begins "MUSIC:" followed by the name of the music (music titles should be fully researched). "MUSIC" is in caps (to indicate a label), but the words following it are in upper and lower case, as these labels are often fairly long and a large amount of text in upper case is hard to read.</p> 
       <p class="example-left"><span class="example">MUSIC: "The Dance Of The Sugar Plum Fairy"<br> by Tchaikovsky</span></p> 
       <p class="example-left"><span class="example">MUSIC: "God Save The Queen"</span></p> 
       <p class="example-left"><span class="example">MUSIC: A waltz by Victor Herbert</span></p> 
       <p class="example-left"><span class="example">MUSIC: The Swedish National Anthem</span></p> 
       <p>(The Swedish National Anthem does not have quotation marks around it as it is not the official title of the music.)</p> 
       <h3>16.3 Combine source and incidental music</h3> 
       <p>Sometimes a combination of these two styles will be appropriate: </p> 
       <p class="example-left"><span class="example">HE HUMS "God Save The Queen"</span></p> 
       <p class="example-left"><span class="example">SHE WHISTLES "The Dance Of The Sugar Plum Fairy"<br> by Tchaikovsky</span></p> 
       <h3>16.4 Label mood music only when required</h3> 
       <p>If the music is "incidental music" but is an unknown piece, written purely to add atmosphere or dramatic effect, do not label it. However, if the music is not part of the action but is crucial for the viewer’s understanding of the plot, a sound-effect label should be used:</p> 
       <p class="example-left"><span class="example">EERIE MUSIC</span></p> 
       <h3>16.5 Indicate song lyrics with #</h3> 
       <p>Song lyrics are almost always subtitled - whether they are part of the action or not. Every song subtitle starts with a white hash mark (#) and the final song subtitle has a hash mark at the start and the end:</p> 
       <p class="example-center"><span class="example"># These foolish things remind me of you #</span></p> 
       <p>There are two exceptions:</p> 
       <ul> 
        <li>In cases where you consider the visual information on the screen to be more important than the song lyrics, leave the screen free of subtitles.</li> 
        <li>Where snippets of a song are interspersed with any kind of speech, and it would be confusing to subtitle both the lyrics and the speech, it is better to put up a music label and to leave the lyrics unsubtitled.</li> 
       </ul> 
       <p><span class="flag-online">online</span> Instead of # the symbol, ? may be used.</p> 
       <h3>16.6 Avoid editing lyrics</h3> 
       <p>Song lyrics should generally be verbatim, particularly in the case of well-known songs (such as God Save The Queen), which should never be edited. This means that the timing of song lyric subtitles will not always follow the conventional timings for speech subtitles, and the subtitles may sometimes be considerably faster. </p> 
       <p>If, however, you are subtitling an unknown song, specially written for the content and containing lyrics that are essential to the plot or humour of the piece, there are a number of options:</p> 
       <ul> 
        <li>edit the lyrics to give viewers more time to read them</li> 
        <li>combine song-lines wherever possible</li> 
        <li>do a mixture of both - edit and combine song-lines.</li> 
       </ul> 
       <p>NB: If you do have to edit, make sure that you leave any rhymes intact. </p> 
       <h3>16.7 Synchronise with audio</h3> 
       <p>Song lyric subtitles should be kept closely in sync with the soundtrack. For instance, if it takes 15 seconds to sing one line of a hymn, your subtitle should be on the screen for 15 seconds. </p> 
       <p>Song subtitles should also reflect as closely as possible the rhythm and pace of a performance, particularly when this is the focus of the editorial proposition. This will mean that the subtitles could be much faster or slower than the conventional timings. </p> 
       <p>There will be times where the focus of the content will be on the lyrics of the song rather than on its rhythm - for example, a humorous song like Ernie by Benny Hill. In such cases, give the reader time to read the lyrics by combining song-lines wherever possible. If the song is unknown, you could also edit the lyrics, but famous songs like Ernie must not be edited.</p> 
       <p>Where shots are not timed to song-lines, you should either take the subtitle to the end of the shot (if it's only a few frames away) or end the subtitle before the end of the shot (if it's 12 frames or more away).</p> 
       <h3>16.8 Centre lyrics subtitles</h3> 
       <p>All song-lines should be centred on the screen.</p> 
       <p class="dev">This can be achieved by referencing a <a href="#tt-region"><code class="language-xml">tt:region</code></a> that is positioned centrally (horizontally), and a style with <code class="language-xml"><a href="#tts-textAlign">tts:textAlign</a>="center"</code> and <a href="#ebutts-multiRowAlign"><code class="language-xml">ebutts:multiRowAlign</code></a> either unspecified or set to <code class="language-xml">"auto"</code>.</p> 
       <h3>16.9 Punctuation</h3> 
       <p>It is generally simpler to keep punctuation in songs to a minimum, with punctuation only within lines (when it is grammatically necessary) and not at the end of lines (except for question marks). You should, though, avoid full stops in the middle of otherwise unpunctuated lines. For example,</p> 
       <p class="example-center"><span class="example">Turn to wisdom. Turn to joy<br> There’s no wisdom to destroy</span></p> 
       <p>Could be changed to:</p> 
       <p class="example-center"><span class="example"># Turn to wisdom, turn to joy<br> There’s no wisdom to destroy</span></p> 
       <p>In formal songs, however, e.g. opera and hymns, where it could be easier to determine the correct punctuation, it is more appropriate to punctuate throughout.</p> 
       <p>The last song subtitle should end with a full stop, unless the song continues in the background.</p> 
       <p>If the subtitles for a song don't start from its first line, show this by using two continuation dots at the beginning:</p> 
       <p class="example-center"><span class="example"># ..Now I need a place to hide away<br> # Oh, I believe in yesterday. #</span></p> 
       <p>Similarly, if the song subtitles do not finish at the end of the song, put three dots at the end of the line to show that the song continues in the background or is interrupted:</p> 
       <p class="example-center"><span class="example"># I hear words I never heard in the Bible... #</span></p> 
      </section> <!-- music and songs --> 
      <section id="sound-effects"> 
       <h2>17 Sound effects</h2> 
       <p class="dev"><span class="flag-EBU-TT-10">EBU-TT 1.0</span> Sound effects should be labelled as such using an appropriate <a href="https://www.w3.org/wiki/TTML/RoleRegistry"><code class="language-xml">ttm:role</code> (TTML1 link)</a>, for example by adding the attribute <code class="language-xml">ttm:role="sound"</code> to the <a href="#tt:p"><code class="language-xml">tt:p</code></a> element.</p> 
       <h3>17.1 Subtitle effects only when necessary</h3> 
       <p>As well as dialogue, all editorially significant sound effects must be subtitled. This does not mean that every single creak and gurgle must be covered - only those which are crucial for the viewer's understanding of the events on screen, or which may be needed to convey flavour or atmosphere, or enable them to progress in gameplay, as well as those which are not obvious from the action. A dog barking in one scene could be entirely trivial; in another it could be a vital clue to the story-line. Similarly, if a man is clearly sobbing or laughing, or if an audience is clearly clapping, do not label.</p> 
       <p>Do not put up a sound-effect label for something that can be subtitled. For instance, if you can hear what John is saying, JOHN SHOUTS ORDERS would not be necessary.</p> 
       <h3>17.2 Describe sounds, not actions</h3> 
       <p>Sound-effect labels are not stage directions. They describe sounds, not actions:</p> 
       <p class="example-left"><span class="example">GUNFIRE</span></p> 
       <p>not:</p> 
       <p><span style="text-decoration: line-through;" class="example">THEY SHOOT EACH OTHER</span></p> 
       <h3>17.3 Format</h3> 
       <p>A sound effect should be typed in white caps. It should sit on a separate line and be placed to the left of the screen - unless the sound source is obviously to the right, in which case place to the right. </p> 
       <p class="dev">There is no style attribute that enforces all caps; the text needs to be capitalised within the subtitle document.</p> 
       <h3>17.4 Subject + verb</h3> 
       <p>Sound-effect labels should be as brief as possible and should have the following structure: subject + active, finite verb:</p> 
       <p class="example-left"><span class="example">FLOORBOARDS CREAK</span></p> 
       <p class="example-left"><span class="example">JOHN SHOUTS ORDERS</span></p> 
       <p>Not:</p> 
       <p><span style="text-decoration: line-through;" class="example">CREAKING OF FLOORBOARDS</span></p> 
       <p>Or</p> 
       <p><span style="text-decoration: line-through;" class="example">FLOORBOARDS CREAKING</span></p> 
       <p>Or</p> 
       <p><span style="text-decoration: line-through;" class="example">ORDERS ARE SHOUTED BY JOHN</span></p> 
       <p class="dev">There is no obvious value for <code class="language-xml">ttm:role</code> for such labels. The closest fit is probably <code class="language-xml">"description"</code>.</p> 
       <h3>17.5 In-vision translations</h3> 
       <p>If a speaker speaks in a foreign language and in-vision translation subtitles are given, use a label to indicate the language that is being spoken. This should be in white caps, ranged left above the in-vision subtitle, followed by a colon. Time the label to coincide with the timing of the first one or two in-vision subtitles. Bring it in and out with shot-changes if appropriate. </p> 
       <img src="img/Tokyo.jpeg" alt="Screen shot of Japanese temple with subtitle IN JAPANESE: above burnt-in translation" title="Photo by Nigel Megitt" style="width:100%;"> 
       <p>If there are a lot of in-vision subtitles, all in the same language, you only need one label at the beginning - not every time the language is spoken.</p> 
       <p>If the language spoken is difficult to identify, you can use a label saying TRANSLATION:, but only if it is not important to know which language is being spoken. If it is important to know the language, and you think the hearing viewer would be able to detect a language change, then you must find an appropriate label.</p> 
       <h3>17.6 Animal noises</h3> 
       <p>The way in which subtitlers convey animal noises depends on the content style. In factual wildlife, for instance, lions would be labelled: </p> 
       <p class="example-left"><span class="example">LIONS ROAR</span></p> 
       <p>However, in an animation or a game, it may be more appropriate to convey animal noises phonetically. For instance, "LIONS ROAR" would become something like:</p> 
       <p class="example-left"><span class="example">Rrrarrgghhh!</span></p> 
      </section> <!-- sound effects --> 
      <section id="numbers"> 
       <h2>18 Numbers</h2> 
       <h3>18.1 Spelling out</h3> 
       <p>In general, the numeral form should be used. However, you can spell out numbers when this is editorially justified as detailed below. </p> 
       <p>The numbers 1-10 are often better spelled out:</p> 
       <p><span class="example">I'll see you in three days</span></p> 
       <p><span class="example" style="text-decoration: line-through;">I'll see you in 3 days</span></p> 
       <p>But use the numeral with units:</p> 
       <p><span class="example">It takes 1kJ of energy to lift someone.</span></p> 
       <p><span class="example" style="text-decoration: line-through;">It takes one kJ of energy to lift someone.</span></p> 
       <p>Emphatic numbers are always spelled out:</p> 
       <p><span class="example">She gave me hundreds of reasons</span></p> 
       <p><span class="example" style="text-decoration: line-through;">She gave me 100s of reasons</span></p> 
       <p>Spell out any number that begins a sentence:</p> 
       <p><span class="example">Three days from now.</span></p> 
       <p><span class="example" style="text-decoration: line-through;">3 days from now.</span></p> 
       <p>If there is more than one number in a sentence or list, it may be more appropriate to display them as numerals instead of words: </p> 
       <p><span class="example">On her 21st birthday party, 54 guests turned up</span></p> 
       <p>Consistency is important, so avoid</p> 
       <p><span class="example" style="text-decoration: line-through;">the score was three - 1</span></p> 
       <p>Numerals over 4 digits must include appropriately placed commas: </p> 
       <p><span class="example">There are 1,500 cats here.</span></p> 
       <p>For sports, competitions, games or quizzes, always use numerals to display points, scores or timings.</p> 
       <h3>18.2 Dates</h3> 
       <p>For displaying the day of the month, use the appropriate numeral followed by lowercase "th", "st" or "nd":</p> 
       <p><span class="example">April 2nd.</span></p> 
       <h3>18.3 Money</h3> 
       <h4>18.3.1 Sterling</h4> 
       <p>Use the numerals plus the £ sign for all monetary amounts except where the amount is less than £1.00:</p> 
       <p><span class="example">We paid £50.</span></p> 
       <p>For amounts less than £1.00 the word "pence" should be used after the numeral:</p> 
       <p><span class="example">58 pence.</span></p> 
       <p>If the word "pound" is used in sentence without referring to a specific amount, then the word must be used, not the symbol.</p> 
       <h4>18.3.2 Other currencies</h4> 
       <p>See the <a href="#Supported-characters">list of supported characters</a> for currency symbols you can use for broadcast and online.</p> 
       <p><span class="flag-broadcast">broadcast</span> Spell out other currencies, including Euro (the Euro symbol is not supported in Teletext). </p> 
       <p><span class="flag-online">online</span> Use the correct Unicode symbol for the currency, e.g. the Euro symbol €.</p> 
       <p class="dev">All subtitle documents should be encoded in UTF-8, however the actual set of code points usable in an <span class="flag-EBU-TT-10">EBU-TT 1.0</span> document intended for broadcast presentation is currently restricted to the <a href="#Appendix-1--Teletext-character-set">Teletext character set</a>.<br> No such restriction exists for <span class="flag-EBU-TT-D">EBU-TT-D</span> documents intended for online-only presentation, however care should be taken that there is a reasonable expectation that the presentation device will have a font installed that contains glyphs for all the code points used. </p> 
       <h3>18.4 Time</h3> 
       <p>Indicate the time of the day using numerals in a manner which reflects the spoken language:</p> 
       <p class="example-left"><span class="example">The time now is 4:30</span></p> 
       <p class="example-left"><span class="example">The alarm went off at 4 o’clock</span></p> 
       <h3>18.5 Measurement</h3> 
       <p>Never use symbols for units of measurement.</p> 
       <p>Abbreviations can be used to fit text in a line, but if the unit of measurement is the subject do not abbreviate.</p> 
      </section> <!-- numbers --> 
      <section id="cumulative-subtitles"> 
       <h2>19 Cumulative subtitles</h2> 
       <p>A cumulative subtitle consists of two or three parts - usually complete sentences. Each part will appear on screen at a different time, in sync with its speaker, but all parts will have an identical out-cue.</p> 
       <h3>19.1 Use only when necessary</h3> 
       <p>Cumulatives should only be used when there is a good reason to delay part of the subtitle (e.g. dramatic impact/song rhythm) and no other way of doing it - i.e. there is insufficient time available to split the subtitle completely.</p> 
       <p>This is most likely to happen in an interchange between speakers, where the first speaker talks much faster than the second. Delaying the speech of the second person by using a cumulative means that the first subtitle will still be on screen long enough to be read, while at the same time the speech is kept in sync.</p> 
       <h3>19.2 Common scenarios</h3> 
       <p>Cumulatives are particularly useful in the following situations: </p> 
       <ul> 
        <li>For jokes - to keep punch lines separate</li> 
        <li>In quizzes - to separate questions and answers</li> 
        <li>In songs - e.g. for backing singers. They are particularly effective when one line starts before the previous one finishes </li> 
        <li>To <a href="#Pause-within-a-sentence">delay dramatic responses</a> (However, if a response is not expected, a cumulative can give the game away)</li> 
        <li>When an exclamation/sound effect label occurs just before a shot-change, and would otherwise need to be merged with the preceding subtitle</li> 
        <li>To distinguish between two or more white speakers in the same shot </li> 
       </ul> 
       <h3>19.3 Timing</h3> 
       <p>Make sure there is sufficient time to read each segment of a cumulative, especially the final one. Consider leaving the final part on screen for a slightly longer time to allow the viewer to scan the line again.</p> 
       <p>If you use cumulatives in children’s content, observe children’s timings. </p> 
       <div class="dev"> 
        <p>Further detail on how to specify cumulatives is described in <a href="#tt-p"><code class="language-xml">tt:p</code></a> and <a href="#tt-span"><code class="language-xml">tt:span</code></a>. Where possible, each individual word that forms part of a cumulative subtitle should be included in the subtitle document exactly once, with appropriate timing specified by putting groups of words that appear with the same timing within a <code class="language-xml">tt:span</code> with <code class="language-xml">begin</code> and <code class="language-xml">end</code> attributes. This allows the plain text of the subtitle transcript to be extracted more easily since there is no need to de-duplicate words. </p> 
        <p>There is an alternative approach in which multiple <code class="language-xml">tt:p</code> elements are each timed to follow on from each other, with the first words being a repeat of the words in the previous <code class="language-xml">tt:p</code> and additional words appended. This approach creates the same visual effect but should be avoided.</p> 
       </div> 
       <h3>19.4 Avoid cumulative where shots change</h3> 
       <p>Be wary of timing the appearance of the second/third line of a cumulative to coincide with a shot-change, as this may cause the viewer to reread the first line.</p> 
       <h3>19.5 Avoid obscuring important information</h3> 
       <p>Remember that using a cumulative will often mean that more of the picture is covered. Don’t use cumulatives if they will cover mouths, or other important visuals</p> 
       <h3>19.6 Stick to three lines</h3> 
       <p>Stick to a maximum of three lines unless you are subtitling a fast quiz like University Challenge where it is preferable to show the whole question in one subtitle and where you will not be obscuring any interesting visuals</p> 
      </section> <!-- cumulative --> 
      <section id="childrens-subtitling"> 
       <h2>20 Children’s subtitling</h2> 
       <p>The following guidelines are recommended for the subtitling of programmes targeted at children below the age of 11 years (ITC). </p> 
       <h3>20.1 Editing</h3> 
       <p>There should be a match between the voice and subtitles as far as possible.</p> 
       <p>A strategy should be developed where words are omitted rather than changed to reduce the length of sentences.</p> 
       <p>For example,</p> 
       <p>Can you think why they do this?</p> 
       <p class="example-left"><span class="example">Why do they do this?</span></p> 
       <p>Can you think of anything you could do with all the heat produced in the incinerator?</p> 
       <p class="example-left"><span class="example">What could you do with the heat from the incinerator?</span></p> 
       <p>Difficult words should also be omitted rather than changed. For example: </p> 
       <p>First thing we're going to do is make his big, ugly, bad-tempered head.</p> 
       <p class="example-left"><span class="example">First we're going to make his big, ugly head.</span></p> 
       <p>All she had was her beloved rat collection.</p> 
       <p class="example-left"><span class="example">She only had her beloved rat collection.</span></p> 
       <p>Where possible the grammatical structure should be simplified while maintaining the word order.</p> 
       <p>You can see how metal is recycled if we follow the aluminium. </p> 
       <p class="example-left"><span class="example">See how metal is recycled by following the aluminium.</span></p> 
       <p>We need energy so our bodies can grow and stay warm.</p> 
       <p class="example-left"><span class="example">We need energy to grow and stay warm.</span></p> 
       <p>Difficult and complex words in an unfamiliar context should remain on screen for as long as possible. Few other words should be used. For example:</p> 
       <p>Nurse, we'll test the reflexes again.</p> 
       <p class="example-left"><span class="example">Nurse, we'll test the reflexes.</span></p> 
       <p>Air is displaced as water is poured into the bottle.</p> 
       <p class="example-left"><span class="example">The water in the bottle displaces the air.</span></p> 
       <p>Care should be taken that simplifying does not change the meaning, particularly when meaning is conveyed by the intonation of words. </p> 
       <p>Often, the aim of schools programmes is to introduce new vocabulary and to familiarize pupils with complex terminology. When subtitling schools programmes, introduce complex vocabulary in very simple sentences and keep it on screen for as long as possible.</p> 
       <h3>20.2 Preferred timing</h3> 
       <p>In general, subtitles for children should follow the speed of speech. However, there may be occasions when matching the speed of speech will lead to subtitle rate that is not appropriate for the age group. The producer/assistant producer should seek advice on the appropriate subtitle timing for a programme.</p> 
       <h3>20.3 Avoid variable timing</h3> 
       <p>There will be occasions when you will feel the need to go faster or slower than the standard timings - the same guidelines apply here as with adult timings (see <a href="#Timing">Timing</a>). You should however avoid inconsistent timings e.g. a two-line subtitle of 6 seconds immediately followed by a two-line subtitle of 8 seconds, assuming equivalent scores for visual context and complexity of subject matter.</p> 
       <h3>20.4 Allow more time for visuals</h3> 
       <p>More time should be given when there are visuals that are important for following the plot, or when there is particularly difficult language.</p> 
       <h3>20.5 Syntax and Vocabulary</h3> 
       <p>Do not simplify sentences, unless the sentence construction is very difficult or sloppy.</p> 
       <p>Avoid splitting sentences across subtitles. Unless this is unavoidable, keep to complete clauses.</p> 
       <p>Vocabulary should not be simplified.</p> 
       <p>There should be no extra spaces inserted before punctuation.</p> 
      </section> <!-- children's --> 
      <section id="live-subtitling"> 
       <h2>21 Live subtitling (BBC-ASP, OFCOM-IQLS, OFCOM-GSS)</h2> 
       <h3>21.1 General</h3> 
       <p>The subtitler should have a direct pre-broadcast-encoding feed from the broadcaster, so they can hear the output a few seconds earlier than if relying on the broadcast­ service.</p> 
       <p>Maintain a regular subtitle output with no long gaps (unless it is obvious from the picture that there is no commentary) even if this means subtitling the picture or providing background information rather than subtitling the commentary.</p> 
       <p>Aim for continuity in subtitles by following through a train of thought where possible, rather than sampling the commentary at intervals. </p> 
       <p>Do not subtitle over existing video captions where avoidable (in news, this is often unavoidable, in which case a speaker's name can be included in the subtitle if available).</p> 
       <h3>21.2 Preparation</h3> 
       <p>Find out specialist vocabulary, and specific editorial guidelines for the genre (e.g. sport). Familiarise yourself with Prepared segments that have been subtitled and their place in the running order, but be prepared for the order to change.</p> 
       <p>When available to the subtitler, pre-recorded segments should be subtitled prior to broadcast (not live) and cued out at the appropriate moment.</p> 
       <p>When cueing prepared texts for scripted parts of the programme: </p> 
       <ul> 
        <li>Try to cue the texts of pre-recorded segments so that they closely match the spoken words in terms of start time.</li> 
        <li>Do not cue texts out rapidly to catch up if you get left behind - skip some and continue from the correct place.</li> 
        <li>Try to include speakers' names if available where in-vision captions have been obliterated.</li> 
       </ul> 
       <h3>21.3 Editing</h3> 
       <p>Subtitles should use upper and lower case as appropriate.</p> 
       <p>Standard spelling and punctuation should be used at all times, even on the fastest programmes.</p> 
       <p>Produce complete sentences even for short comments because this makes the result look less staccato and hurried.</p> 
       <p>Strong or inappropriate language must not appear on screen in error. </p> 
       <p>For news programmes, current affairs programmes and most other genres, subtitles should be verbatim, up to a subtitling speed of around 160-180wpm. Above that speed, some editing would be expected. </p> 
       <p>For some genres, such as in-play sporting action, the subtitling may be edited more heavily so as to convey vital commentary information while allowing better access to the visuals. (BBC-SPG) </p> 
       <h3>21.4 Corrections</h3> 
       <p>Any serious or misleading errors in real-time subtitling should be corrected clearly and promptly. The correction should be preceded by two dashes:</p> 
       <p class="example-left"><span class="example">The minster’s shrew is unchanged -- view.</span></p> 
       <p>However be aware that too many on-air corrections, or corrections that are not sufficiently prompt, can actually make the subtitles harder for a viewer to follow.</p> 
       <p>Ultimately the subtitler may have to decide whether to make a correction or omit some speech in order to catch up. Sometimes this can be done without detracting from the integrity of the subtitling, but this is not always the case. Do not correct minor errors where the reader can reasonably be expected to deduce the intended meaning (e.g. typos and misspellings).</p> 
       <p>If necessary, an apology should be made at the end of the programme. If possible, repeat the subtitle with the error corrected. </p> 
       <h3>21.5 Formatting</h3> 
       <p>Live subtitles should appear word by word, from left to right, to allow maximum reading time. Live subtitles are justified left (not centred).</p> 
       <div class="dev"> 
        <p>Live subtitles should be placed in an appropriately sized <a href="#tt-region"><code class="language-xml">tt:region</code></a> with a preset <a href="#tts-origin"><code class="language-xml">tts:origin</code></a> x coordinate (for left to right text; for right to left text ensure the right edge is preset).</p> 
        <p>A style with <a href="#tts-textAlign"><code class="language-xml">tts:textAlign</code></a> set to <code class="language-xml">"start"</code> (always works) or <code class="language-xml">"left"</code> for left to right text only or <code class="language-xml">"right"</code> for right to left text only should be used.</p> 
        <p><a href="#ebutts-multiRowAlign"><code class="language-xml">ebutts:multiRowAlign</code></a> should be avoided (i.e. left unset, or set to <code class="language-xml">"auto"</code>) since it can result in lines being moved horizontally whenever a new word appears.</p> 
       </div> 
       <p>Two-lines of scrolling text should be used.</p> 
       <p>For live subtitling, use a reduced set of formatting techniques. Focus on colour and vertical positioning.</p> 
       <ul> 
        <li>A change of speaker should always be indicated by a change of colour. </li> 
        <li>Scrolling subtitles, while usually appearing at the bottom of the screen, should be raised as appropriate in order to avoid any vital action, visual information, name labels, etc. 
         <div class="dev"> 
          <p>Subtitle vertical position can be set by referencing a <a href="#tt-region"><code class="language-xml">tt:region</code></a> with appropriate <a href="#tts-origin"><code class="language-xml">tts:origin</code></a>, <a href="#tts-extent"><code class="language-xml">tts:extent</code></a> and <a href="#tts-displayAlign"><code class="language-xml">tts:displayAlign</code></a> attributes.</p> 
          <p>An alternative strategy is to insert <code class="language-xml">&lt;tt:br/&gt;</code> elements as necessary; for example if <code class="language-xml">tts:displayAlign="after"</code> then every <code class="language-xml">&lt;tt:br/&gt;</code> element appended after a subtitle will raise that subtitle by the height of the line. Although using line breaks for positioning is discouraged for prepared subtitles (see <a href="#Authoring-font-size">Authoring font size</a>), this technique saves time when live subtitling. Note that if the region height is exceeded by entering too many line breaks, lines can 'fall off' the top, and be clipped. </p> 
          <p>If a subtitle needs to be moved while it is visible and inserting <code class="language-xml">&lt;tt:br/&gt;</code> elements is not possible then the <a href="#tt:p"><code class="language-xml">&lt;tt:p&gt;</code></a> should be ended and a new <code class="language-xml">&lt;tt:p&gt;</code> begun that references a differently positioned region. That new <code class="language-xml">&lt;tt:p&gt;</code> can contain the same words and style references.</p> 
         </div> </li> 
       </ul> 
      </section> <!-- live subtitling --> 
      <section id="file-format"> 
       <h2 class="big-heading">FILE FORMAT</h2> 
       <section id="files"> 
        <h2>22 Files</h2> 
        <p>The format for prepared subtitles depends on the delivery route and platform. In general, subtitles for programmes scheduled for linear broadcast, including iPlayer-first, are delivered to Playout and to File Based Delivery as STL and EBU-TT Part 1 files. Online-only content not scheduled for linear broadcast is delivered as EBU-TT-D files, typically for uploading into a BBC content management system. There are some exceptions to this, so if in doubt ask your commissioning editor about the correct delivery route and files formats.</p> 
        <table> 
         <colgroup> 
          <col style="width: 11%;"> 
          <col style="width: 11%;"> 
          <col style="width: 14%;"> 
          <col style="width: 44%;"> 
          <col> 
         </colgroup> 
         <thead> 
          <tr> 
           <th scope="col">Platform</th> 
           <th scope="col"> <p><strong>Format</strong></p> </th> 
           <th scope="col"> <p><strong>Extension</strong></p> </th> 
           <th scope="col"> <p><strong>Specification</strong></p> </th> 
           <th scope="col"> <p><strong>Notes</strong></p> </th> 
          </tr> 
         </thead> 
         <tbody> 
          <tr> 
           <td rowspan="2">Broadcast and online</td> 
           <td> <p>EBU-STL</p> </td> 
           <td> <p><code class="language-xml">.stl</code></p> </td> 
           <td> <p><a href="https://tech.ebu.ch/publications/tech3264">https://tech.ebu.ch/publications/tech3264</a></p> </td> 
           <td> <p>Required for linear broadcast legacy systems.</p> </td> 
          </tr> 
          <tr> 
           <td> <p>EBU-TT</p> </td> 
           <td> <p><code class="language-xml">.xml</code></p> </td> 
           <td> <p><a href="https://tech.ebu.ch/docs/tech/tech3350v1-0.pdf">https://tech.ebu.ch/docs/tech/tech3350v1-0.pdf</a> (to be replaced by v1.1)</p> </td> 
           <td> <p>With the STL embedded. See below.</p> </td> 
          </tr> 
          <tr> 
           <td><span class="flag-online">online</span></td> 
           <td>EBU-TT-D</td> 
           <td><code class="language-xml">.ebuttd.xml</code></td> 
           <td><a href="https://tech.ebu.ch/publications/tech3380">https://tech.ebu.ch/publications/tech3380</a></td> 
           <td>&nbsp;</td> 
          </tr> 
         </tbody> 
        </table> 
        <p>Note that the above standards support a larger set of characters than is allowed by the BBC. For linear playout, all characters for presentation must be in the set in Appendix 1.</p> 
        <section id="stl-file"> 
         <h2>23 STL file</h2> 
         <h3>23.1 File name</h3> 
         <p>The file name must follow this pattern: [UID with slash removed].stl </p> 
         <p>For example:</p> 
         <table> 
          <thead> 
           <tr> 
            <th scope="col"> <p><strong>UID</strong></p> </th> 
            <th scope="col"> <p><strong>File name</strong></p> </th> 
           </tr> 
          </thead> 
          <tbody> 
           <tr> 
            <td> <p>DRIB511W/02</p> </td> 
            <td> <p>DRIB511W02.stl</p> </td> 
           </tr> 
          </tbody> 
         </table> 
         <h3>23.2 General subtitle information (GSI) block</h3> 
         <p>Subtitles must conform to the EBU specification TECH 3264-E. However, the BBC requires certain values in particular elements of the General Subtitle Information Block. See the table below.</p> 
         <table> 
          <colgroup> 
           <col style="width: 25%;"> 
           <col style="width: 7%;"> 
           <col style="width: 15%;"> 
           <col> 
           <col style="width: 15%;"> 
          </colgroup> 
          <thead> 
           <tr> 
            <th scope="col"> <p><strong>GSI block data</strong></p> </th> 
            <th scope="col"> <p><strong>Short</strong></p> </th> 
            <th scope="col"> <p><strong>Value</strong></p> </th> 
            <th scope="col"> <p><strong>Notes</strong></p> </th> 
            <th scope="col"> <p><strong>Example</strong></p> </th> 
           </tr> 
          </thead> 
          <tbody> 
           <tr> 
            <td> <p>Code Page Number</p> </td> 
            <td> <p>CPN</p> </td> 
            <td> <p>"850"</p> </td> 
            <td> <p>Required</p> </td> 
            <td></td> 
           </tr> 
           <tr> 
            <td> <p>Disk Format Code</p> </td> 
            <td> <p>DFC</p> </td> 
            <td> <p>"STL25.01"</p> </td> 
            <td> <p>Required</p> </td> 
            <td></td> 
           </tr> 
           <tr> 
            <td> <p>Display Standard Code</p> </td> 
            <td> <p>DSC</p> </td> 
            <td> <p>"1"</p> </td> 
            <td> <p>Required</p> </td> 
            <td></td> 
           </tr> 
           <tr> 
            <td> <p>Character Code Table</p> </td> 
            <td> <p>CCT</p> </td> 
            <td> <p>"00"</p> </td> 
            <td> <p>Required</p> </td> 
            <td></td> 
           </tr> 
           <tr> 
            <td> <p>Language Code</p> </td> 
            <td> <p>LC</p> </td> 
            <td> <p>"09"</p> </td> 
            <td> <p>Required</p> </td> 
            <td></td> 
           </tr> 
           <tr> 
            <td> <p>Original Programme Title</p> </td> 
            <td> <p>OPT</p> </td> 
            <td>[string]</td> 
            <td> <p>Required</p> </td> 
            <td> <p>Snow White</p> </td> 
           </tr> 
           <tr> 
            <td> <p>Original Episode Title</p> </td> 
            <td> <p>OET</p> </td> 
            <td> <p>[A tape number]</p> </td> 
            <td> <p>Required if a tape number exists.</p> </td> 
            <td> <p>HDS147457</p> </td> 
           </tr> 
           <tr> 
            <td> <p>Translated Programme Title</p> </td> 
            <td> <p>TPT</p> </td> 
            <td>[string]</td> 
            <td> <p>Required if translated</p> </td> 
            <td></td> 
           </tr> 
           <tr> 
            <td> <p>Translated Episode Title</p> </td> 
            <td> <p>TET</p> </td> 
            <td>[string]</td> 
            <td> <p>Optional</p> </td> 
            <td> <p>Series 1, Episode 1</p> </td> 
           </tr> 
           <tr> 
            <td> <p>Translator's Name</p> </td> 
            <td> <p>TN</p> </td> 
            <td> <p>[Up to 32 characters]</p> </td> 
            <td> <p>Optional</p> </td> 
            <td> <p>Jane Doe</p> </td> 
           </tr> 
           <tr> 
            <td> <p>Translator's Contact Details</p> </td> 
            <td> <p>TCD</p> </td> 
            <td> <p>[Up to 32 characters]</p> </td> 
            <td> <p>Optional</p> </td> 
            <td></td> 
           </tr> 
           <tr> 
            <td> <p>Subtitle List Reference Code</p> </td> 
            <td> <p>SLR</p> </td> 
            <td> <p>[On-air UID]</p> </td> 
            <td> <p><span class="flag-broadcast">broadcast</span> Required for Prepared linear</p> </td> 
            <td> <p>ABC D123W/02</p> </td> 
           </tr> 
           <tr> 
            <td> <p>Creation Date</p> </td> 
            <td> <p>CD</p> </td> 
            <td> <p>[date in format YYMMDD]</p> </td> 
            <td> <p>Required</p> </td> 
            <td> <p>150125</p> </td> 
           </tr> 
           <tr> 
            <td> <p>Revision Date</p> </td> 
            <td> <p>RD</p> </td> 
            <td> <p>[date in format YYMMDD]</p> </td> 
            <td> <p>Required</p> </td> 
            <td> <p>150128</p> </td> 
           </tr> 
           <tr> 
            <td> <p>Revision Number</p> </td> 
            <td> <p>RN</p> </td> 
            <td> <p>[0 – 99]</p> </td> 
            <td> <p>Required</p> </td> 
            <td> <p>1</p> </td> 
           </tr> 
           <tr> 
            <td> <p>Total Number of TTI Blocks</p> </td> 
            <td> <p>TNB</p> </td> 
            <td> <p>[0 – 99999]</p> </td> 
            <td> <p>Required. Must accurately reflect the number of blocks in the file. </p> </td> 
            <td> <p>767</p> </td> 
           </tr> 
           <tr> 
            <td> <p>Total Number of Subtitles</p> </td> 
            <td> <p>TNS</p> </td> 
            <td> <p>[0 – 99999]</p> </td> 
            <td> <p>Required. Must accurately reflect the number of subtitles in the file. </p> </td> 
            <td> <p>767</p> </td> 
           </tr> 
           <tr> 
            <td> <p>Total Number of Subtitle Groups</p> </td> 
            <td> <p>TNG</p> </td> 
            <td> <p>"1"</p> </td> 
            <td> <p>Required. Fixed at 1.</p> </td> 
            <td> <p>1</p> </td> 
           </tr> 
           <tr> 
            <td> <p>Maximum Number of Displayable Characters in any text row</p> </td> 
            <td> <p>MNC</p> </td> 
            <td> <p>[0 – 99]</p> </td> 
            <td> <p>Required</p> </td> 
            <td> <p>37</p> </td> 
           </tr> 
           <tr> 
            <td> <p>Maximum Number of Displayable Rows</p> </td> 
            <td> <p>MNR</p> </td> 
            <td> <p>"11"</p> </td> 
            <td> <p>Required</p> </td> 
            <td></td> 
           </tr> 
           <tr> 
            <td> <p>Time Code: Status</p> </td> 
            <td> <p>TCS</p> </td> 
            <td> <p>"1"</p> </td> 
            <td> <p>Required</p> </td> 
            <td></td> 
           </tr> 
           <tr> 
            <td> <p>Time Code: Start-of-Programme</p> </td> 
            <td> <p>TCP</p> </td> 
            <td> <p>[time in format HHMMSSFF]</p> </td> 
            <td> <p>Required</p> </td> 
            <td> <p>10000000, 20000000</p> </td> 
           </tr> 
           <tr> 
            <td> <p>Time Code: First in-cue</p> </td> 
            <td> <p>TCF</p> </td> 
            <td> <p>[time in format HHMMSSFF]</p> </td> 
            <td> <p>Required. The timecode of the first in-cue in the subtitle list. </p> </td> 
            <td></td> 
           </tr> 
           <tr> 
            <td> <p>Total Number of Disks</p> </td> 
            <td> <p>TND</p> </td> 
            <td> <p>[Number of files]</p> </td> 
            <td> <p>Required. Almost always 1. For very long programmes where the subtitles must be split into multiple files, contact the commissioning editor. </p> </td> 
            <td> <p>1</p> </td> 
           </tr> 
           <tr> 
            <td> <p>Disk Sequence Number</p> </td> 
            <td> <p>DSN</p> </td> 
            <td> <p>[The file number of this file]</p> </td> 
            <td> <p>Required. Always 1 when there is one STL file in the sequence. For very long programmes where the subtitles must be split into multiple files, contact the commissioning editor. </p> </td> 
            <td> <p>1</p> </td> 
           </tr> 
           <tr> 
            <td> <p>Country of Origin</p> </td> 
            <td> <p>CO</p> </td> 
            <td> <p>[3-letter country code]</p> </td> 
            <td> <p>Required</p> </td> 
            <td> <p>GBR</p> </td> 
           </tr> 
           <tr> 
            <td> <p>Publisher</p> </td> 
            <td> <p>PUB</p> </td> 
            <td> <p>[Up to 32 characters]</p> </td> 
            <td> <p>Required</p> </td> 
            <td> <p>Company name</p> </td> 
           </tr> 
           <tr> 
            <td> <p>Editor's Name</p> </td> 
            <td> <p>EN</p> </td> 
            <td> <p>[Up to 32 characters]</p> </td> 
            <td> <p>Required</p> </td> 
            <td> <p>John Doe</p> </td> 
           </tr> 
           <tr> 
            <td> <p>Editor's Contact Details</p> </td> 
            <td> <p>ECD</p> </td> 
            <td> <p>[Up to 32 characters]</p> </td> 
            <td> <p>Optional</p> </td> 
            <td></td> 
           </tr> 
           <tr> 
            <td> <p>Spare bytes</p> </td> 
            <td> <p>SB</p> </td> 
            <td> <p>[Empty]</p> </td> 
            <td> <p>Optional</p> </td> 
            <td></td> 
           </tr> 
           <tr> 
            <td> <p>User-Defined Area</p> </td> 
            <td> <p>UDA</p> </td> 
            <td> <p>[Up to 576 characters]</p> </td> 
            <td> <p>Not used.</p> </td> 
            <td></td> 
           </tr> 
          </tbody> 
         </table> 
         <h3>23.3 Timecode</h3> 
         <p>The Time Code Out (TCO) values in STL files are <em>inclusive</em> of the last frame; in other words the subtitle shall be visible on the frame indicated in the TCO value but not on subsequent frames. This differs from the end time expressions in EBU-TT and TTML, which are <em>exclusive</em>.</p> 
         <p>For example, in an STL file a subtitle with a TCO of <code class="language-xml">10:10:10:20</code> would map in an EBU-TT document to an <code class="language-xml">end</code> attribute value of <code class="language-xml">10:10:10:21</code>.</p> 
         <h3>23.4 Subtitle zero</h3> 
         <p>It is common practice to place metadata (programme ID, name etc.) in a subtitle at the beginning of the file. This first subtitle is typically known as 'subtitle zero' and is used for example to check that the correct subtitles have been loaded during pre-roll. A 'subtitle zero' is not intended to be broadcast, and this is achieved by setting the in-cue and out-cue times for this subtitle earlier than the first timecode value that occurs in the corresponding media (for example, setting subtitle zero to display between 00:00:00 and 00:00:02 when the programme starts at 10:00:00). </p> 
         <p>Subtitle Zero is optional but common in legacy STL files. When an STL file is embedded in an EBU-TT document, the subtitle zero must be handled as detailed below:</p> 
         <table> 
          <colgroup> 
           <col style="width: 20%;"> 
           <col> 
          </colgroup> 
          <thead> 
           <tr> 
            <th scope="col">File</th> 
            <th scope="col">Notes</th> 
           </tr> 
          </thead> 
          <tbody> 
           <tr> 
            <td>EBU-TT v1.0</td> 
            <td> <p>Subtitle zero MAY be included in the body of the document.</p> <p>If the subtitle zero is included in the embedded STL file and is included in the body of the EBU-TT document then they SHALL be identical. </p> <p>If subtitle zero is not included in the embedded STL file then the EBU-TT file shall NOT contain a subtitle zero.</p> </td> 
           </tr> 
           <tr> 
            <td>EBU-TT v1.1</td> 
            <td> <p>Subtitle zero MAY be included in the body of the document.</p> <p>If a subtitle zero is included in the embedded STL file then its content SHALL be copied into <code class="language-xml">ebuttm:subtitleZero</code> element. </p> <p>If the subtitle zero is included in the embedded STL file and is included in the body of the EBU-TT document then they SHALL be identical. See <a href="#ebuttm-documentMetadata-elements--v1-1">ebuttm:documentMetadata</a>.</p> <p>If a subtitle zero is not included in the embedded STL file then the element <code class="language-xml">ebuttm:subtitleZero</code> shall NOT be included.</p> </td> 
           </tr> 
          </tbody> 
         </table> 
        </section> <!-- stl-file --> 
        <section id="ebu-tt-file"> 
         <h2>24 EBU-TT file</h2> 
         <p>EBU-TT is the BBC's strategic file format for capturing subtitles and associated metadata. The BBC needs to continue to operate systems that use older formats such as Teletext: in cases where those legacy systems impose constraints, those constraints are incorporated into these guidelines. In the future, as legacy systems are phased out, the constrained requirements will be relaxed. Where we have control over the distribution and presentation chain those constraints are already removed; for example the requirements for EBU-TT-D delivery for online distribution allow greater flexibility in how to achieve the presentation requirements.</p> 
         <p class="mini-heading">Teletext and STL constraints</p> 
         <p>Teletext is still used on some platforms to carry and/or display subtitles; the BBC expects EBU-TT files that preserve some aspects of this technology (or that have been converted from STL files). For example, Teletext uses a fixed grid of 40x24 cells that (for BBC use) must be preserved in EBU-TT files authored for linear broadcast (<code class="language-xml">ttp:cellResolution="40 24"</code>), even though EBU-TT does not require use of this specific grid. Subtitles authored for non-linear platforms are already free of these constraints. For example, EBU-TT-D files for online distribution can use the default cell resolution of 32x15 (see <a href="#ttp-cellResolution">EBU-TT-D cell resolution</a>).</p> 
         <p>When present, the STL file(s) must be embedded in an EBU-TT document. See below for further details.</p> 
         <p>Embedded STL files may be omitted if the subtitles are created live and then captured.</p> 
         <p class="mini-heading">Avoid pixel units</p> 
         <p>Although EBU-TT allows pixel length units, the BBC requires that only percent or cell units are used. Pixel length values are sometimes misunderstood in the context of video resolutions. It is less confusing to avoid use of pixel units when authoring resolution-independent content. It is also simpler to transform EBU-TT Part 1 into EBU-TT-D if pixel units are not used, since no calculations need to be made relating pixel values to the <a href="#tts:extent"><code class="language-xml">tts:extent</code></a> attribute of the <code class="language-xml">tt:tt</code> element.</p> 
         <p class="mini-heading">EBU-TT Part 1 Versions</p> 
         <p><i>The BBC currently uses version 1.0 of EBU-TT, but intends to move to version 1.1. Significant changes were made to the metadata structure between the versions, with some elements moved from the BBC to the EBU namespace. Both versions are given here but only v1.0 specifications are stable. Delivery of v1.1 files must be approved in advance and the specification confirmed.</i></p> 
         <h3>24.1 File name</h3> 
         <p>The file name has this format:</p> 
         <p><code class="language-xml">[ebuttm:documentIdentifier]-preRecorded.xml</code></p> 
         <p>See the <a href="#Document-identifier">rules for constructing ebuttm:documentIdentifier</a> below.</p> 
         <h3>24.2 tt:tt attributes</h3> 
         <p>The following table lists standard EBU-TT elements and their required values.</p> 
         <table> 
          <colgroup> 
           <col style="width: 27%;"> 
           <col style="width: 16%;"> 
           <col> 
           <col style="width: 10%;"> 
          </colgroup> 
          <thead> 
           <tr> 
            <th scope="col"> <p><strong>Attribute</strong></p> </th> 
            <th scope="col"> <p><strong>Value</strong></p> </th> 
            <th scope="col"> <p><strong>Notes</strong></p> </th> 
            <th scope="col"> <p><strong>Example</strong></p> </th> 
           </tr> 
          </thead> 
          <tbody> 
           <tr> 
            <td> <p>xml:space</p> </td> 
            <td></td> 
            <td> <p>Optional</p> </td> 
            <td> <p>preserve</p> </td> 
           </tr> 
           <tr> 
            <td> <p><a href="#ttp-timeBase"><code class="language-xml">ttp:timeBase</code></a></p> </td> 
            <td> <p>"smpte"</p> </td> 
            <td> <p>Required</p> </td> 
            <td></td> 
           </tr> 
           <tr> 
            <td> <p><code class="language-xml">ttp:framerate</code></p> </td> 
            <td></td> 
            <td> <p>Required. Must match the frame rate of the associated video.</p> </td> 
            <td> <p>25</p> </td> 
           </tr> 
           <tr> 
            <td> <p><code class="language-xml">ttp:frameRateMultiplier</code></p> </td> 
            <td></td> 
            <td> <p>Required if <code class="language-xml">ttp:timeBase="smpte"</code>.</p> </td> 
            <td> <p>1 1</p> </td> 
           </tr> 
           <tr> 
            <td> <p><code class="language-xml">ttp:markerMode</code></p> </td> 
            <td> <p>"discontinuous"</p> </td> 
            <td> <p>Required.</p> </td> 
            <td></td> 
           </tr> 
           <tr> 
            <td> <p><code class="language-xml">ttp:dropMode</code></p> </td> 
            <td></td> 
            <td> <p>Required when <code class="language-xml">ttp:timebase="smpte"</code>.</p> </td> 
            <td> <p>nonDrop</p> </td> 
           </tr> 
           <tr> 
            <td> <p><a href="#ttp-cellResolution"><code class="language-xml">ttp:cellResolution</code></a></p> </td> 
            <td> <p>"40 24"</p> </td> 
            <td> <p>Required. This value is used to preserve Teletext single line height, where the assumption is that a Teletext font is readable with a line height equal to 100% of the font size, for both single and double height lines i.e. <code class="language-xml">tts:fontSize="1c 1c"</code> or <code class="language-xml">tts:fontSize="1c 2c"</code> and <code class="language-xml">tts:lineHeight="100%"</code>. It is also possible to define or configure in Teletext-based implementations that <code class="language-xml">tts:lineHeight="normal"</code> shall be interpreted as 100% in the context of a document originally authored to Teletext constraints. </p> <p> <i>This approach is likely to change when we are no longer authoring to Teletext constraints.</i> </p> </td> 
            <td></td> 
           </tr> 
           <tr> 
            <td> <p><code class="language-xml">xml:lang</code></p> </td> 
            <td></td> 
            <td>Required</td> 
            <td> <p>en-GB</p> </td> 
           </tr> 
          </tbody> 
         </table> 
         <h3>24.3 ebuttm:documentMetadata elements (v1.0)</h3> 
         <p>The below table lists the required document metadata values for BBC subtitle documents based on EBU-TT Part 1 v1, which is the current actively used format.</p> 
         <table> 
          <colgroup> 
           <col style="width: 53%;"> 
           <col style="width: 16%;"> 
           <col style="width: 12%;"> 
           <col> 
          </colgroup> 
          <thead> 
           <tr> 
            <th scope="col"> <p><strong>Element</strong></p> </th> 
            <th scope="col"> <p><strong>Value</strong></p> </th> 
            <th scope="col"> <p><strong>Notes</strong></p> </th> 
            <th scope="col"> <p><strong>Example</strong></p> </th> 
           </tr> 
          </thead> 
          <tbody> 
           <tr> 
            <td> <p><code class="language-xml">ebuttm:documentEbuttVersion</code></p> </td> 
            <td> <p><code class="language-xml">"v1.0"</code></p> </td> 
            <td> <p>Required</p> </td> 
            <td></td> 
           </tr> 
           <tr> 
            <td> <p><code class="language-xml">ebuttm:documentIdentifier</code></p> </td> 
            <td> <p>See <a href="#Document-identifier">below</a>.</p> </td> 
            <td> <p>Required if not live</p> </td> 
            <td> <p><code class="language-xml">ABCD123W02-1</code></p> </td> 
           </tr> 
           <tr> 
            <td> <p><code class="language-xml">ebuttm:documentOriginatingSystem</code></p> </td> 
            <td> <p>[Software and version]</p> </td> 
            <td>Required</td> 
            <td> <p><code class="language-xml">TTProducer 1.7.0.0</code></p> </td> 
           </tr> 
           <tr> 
            <td> <p><code class="language-xml">ebuttm:documentCopyright</code></p> </td> 
            <td> <p><code class="language-xml">"BBC"</code></p> </td> 
            <td>Required</td> 
            <td></td> 
           </tr> 
           <tr> 
            <td> <p><code class="language-xml">ebuttm:documentReadingSpeed</code></p> </td> 
            <td> <p>[Calculate per document]</p> </td> 
            <td>Required</td> 
            <td> <p><code class="language-xml">176</code></p> </td> 
           </tr> 
           <tr> 
            <td> <p><code class="language-xml">ebuttm:documentTargetAspectRatio</code></p> </td> 
            <td> <p><code class="language-xml">"4:3"</code> (<code class="language-xml">"16:9"</code> allowed for online use only)</p> </td> 
            <td>Required</td> 
            <td></td> 
           </tr> 
           <tr> 
            <td> <p><code class="language-xml">ebuttm:documentIntendedTargetFormat</code></p> </td> 
            <td> <p>Required if also targeting broadcast applications.</p> </td> 
            <td>Required</td> 
            <td> <p><code class="language-xml">WSTTeletextSubtitles</code></p> </td> 
           </tr> 
           <tr> 
            <td> <p><code class="language-xml">ebuttm:documentOriginalProgrammeTitle</code></p> </td> 
            <td>[string]</td> 
            <td>Required</td> 
            <td> <p><code class="language-xml">Snow White</code></p> </td> 
           </tr> 
           <tr> 
            <td> <p><code class="language-xml">ebuttm:documentOriginalEpisodeTitle</code></p> </td> 
            <td>[string]</td> 
            <td>Required</td> 
            <td> <p><code class="language-xml">Series 1, Episode 1</code></p> </td> 
           </tr> 
           <tr> 
            <td> <p><code class="language-xml">ebuttm:documentSubtitleListReferenceCode</code></p> </td> 
            <td> <p>[UID]</p> </td> 
            <td>Required</td> 
            <td> <p><code class="language-xml">ABC D123W/02</code></p> </td> 
           </tr> 
           <tr> 
            <td> <p><code class="language-xml">ebuttm:documentCreationDate</code></p> </td> 
            <td> <p>[date in format YYYY-MM-DD]</p> </td> 
            <td>Required</td> 
            <td> <p><code class="language-xml">2015-01-20</code></p> </td> 
           </tr> 
           <tr> 
            <td> <p><code class="language-xml">ebuttm:documentRevisionDate</code></p> </td> 
            <td> <p>[date in format YYYY-MM-DD]</p> </td> 
            <td> <p>Required if a revision</p> </td> 
            <td> <p><code class="language-xml">2015-01-20</code></p> </td> 
           </tr> 
           <tr> 
            <td> <p><code class="language-xml">ebuttm:documentRevisionNumber</code></p> </td> 
            <td>[integer]</td> 
            <td>Required if a revision</td> 
            <td> <p><code class="language-xml">1</code></p> </td> 
           </tr> 
           <tr> 
            <td> <p><code class="language-xml">ebuttm:documentTotalNumberOfSubtitles</code></p> </td> 
            <td> <p>[Calculated per document]</p> </td> 
            <td>Required</td> 
            <td> <p><code class="language-xml">767</code></p> </td> 
           </tr> 
           <tr> 
            <td> <p><code class="language-xml">ebuttm:documentMaximumNumberOfDisplayableCharacterInAnyRow</code></p> </td> 
            <td>[integer]</td> 
            <td></td> 
            <td> <p><code class="language-xml">37</code></p> </td> 
           </tr> 
           <tr> 
            <td> <p><code class="language-xml">ebuttm:documentStartOfProgramme</code></p> </td> 
            <td> <p><code class="language-xml">"10:00:00:00" | "20:00:00:00"</code></p> </td> 
            <td> <p>Required. Value must match the timecode of the start of the programme content.</p> </td> 
            <td></td> 
           </tr> 
           <tr> 
            <td> <p><code class="language-xml">ebuttm:documentCountryOfOrigin</code></p> </td> 
            <td> <p><code class="language-xml">"GBR"</code></p> </td> 
            <td> <p>Required</p> </td> 
            <td></td> 
           </tr> 
           <tr> 
            <td> <p><code class="language-xml">ebuttm:documentPublisher</code></p> </td> 
            <td> <p>[string]</p> </td> 
            <td> <p>Required</p> </td> 
            <td> <p><code class="language-xml">Company name</code></p> </td> 
           </tr> 
           <tr> 
            <td> <p><code class="language-xml">ebuttm:documentEditorsName</code></p> </td> 
            <td> <p>[string]</p> </td> 
            <td> <p>Required</p> </td> 
            <td> <p><code class="language-xml">John Doe</code></p> </td> 
           </tr> 
          </tbody> 
         </table> 
         <h3>Document identifier</h3> 
         <p>The document identifier is obtained by reading the string from the embedded STL's GSI "Reference Code" field (On Air UID) and then deleting any spaces and <code class="language-xml">"/"</code> character. This string is appended with a hyphen and the value of the Revision Number field in the STL's GSI block.</p> 
         <h3>24.4 ebuttm:documentMetadata elements (v1.1)</h3> 
         <p><i>BBC specifications based on version 1.1 of EBU-TT Part 1 are still in development. Information in this section is therefore subject to change.</i></p> 
         <p>The below table lists the required document metadata values for BBC subtitle documents based on EBU-TT Part 1 v1.1, which is not yet in active use.</p> 
         <table> 
          <thead> 
           <tr> 
            <th scope="col"> <p><strong>Element</strong></p> </th> 
            <th scope="col"> <p><strong>Value</strong></p> </th> 
            <th scope="col"> <p><strong>Notes</strong></p> </th> 
            <th scope="col"> <p><strong>Example</strong></p> </th> 
           </tr> 
          </thead> 
          <tbody> 
           <tr> 
            <td> <p><code class="language-xml">ebuttm:conformsToStandard</code></p> </td> 
            <td> <p><code class="language-xml">"urn:ebu:tt:exchange:2015-09"</code></p> </td> 
            <td> <p>Required</p> </td> 
            <td></td> 
           </tr> 
           <tr> 
            <td> <p><code class="language-xml">ebuttm:documentIdentifier</code></p> </td> 
            <td> <p>[OnAir UID]"-"[subtitle file version]</p> </td> 
            <td> <p>Required if not live</p> </td> 
            <td> <p><code class="language-xml">ABCD123W02-1</code></p> </td> 
           </tr> 
           <tr> 
            <td> <p><code class="language-xml">ebuttm:documentOriginatingSystem</code></p> </td> 
            <td> <p>[Software and version]</p> </td> 
            <td>Required</td> 
            <td> <p><code class="language-xml">TTProducer 1.7.0.0</code></p> </td> 
           </tr> 
           <tr> 
            <td> <p><code class="language-xml">ebuttm:documentCopyright</code></p> </td> 
            <td> <p><code class="language-xml">"BBC"</code></p> </td> 
            <td>Deprecated. Instead, use a <code class="language-xml">ttm:copyright</code> element in the <code class="language-xml">&lt;tt:head&gt;</code>.</td> 
            <td></td> 
           </tr> 
           <tr> 
            <td> <p><code class="language-xml">ebuttm:documentReadingSpeed</code></p> </td> 
            <td> <p>[Calculated per document]</p> </td> 
            <td>Required</td> 
            <td> <p><code class="language-xml">176</code></p> </td> 
           </tr> 
           <tr> 
            <td> <p><code class="language-xml">ebuttm:documentTargetAspectRatio</code></p> </td> 
            <td> <p><code class="language-xml">"4:3"</code> (<code class="language-xml">"16:9"</code> allowed for online use only)</p> </td> 
            <td>Required</td> 
            <td></td> 
           </tr> 
           <tr> 
            <td> <p><code class="language-xml">ebuttm:documentTargetActiveFormatDescriptor</code></p> </td> 
            <td> <p>[one of the AFD codes specified in SMPTE ST 2016-1:2009 Table 1]</p> </td> 
            <td></td> 
            <td></td> 
           </tr> 
           <tr> 
            <td> <p><code class="language-xml">ebuttm:documentIntendedTargetBarData</code></p> </td> 
            <td> <p>[Bar Data from SMPTE ST 2016-1:2009 Table 3. Note additional attributes may be required. See the <a href="https://tech.ebu.ch/publications/tech3350">EBU-TT specification</a>]</p> </td> 
            <td> <p>Optional</p> </td> 
            <td></td> 
           </tr> 
           <tr> 
            <td> <p><code class="language-xml">ebuttm:documentIntendedTargetFormat</code></p> </td> 
            <td> <p><code class="language-xml">"Enhanced Teletext Level 1" | "DVBBitmapSubtititles" | "EBU-TT-D"</code></p> </td> 
            <td> <p>All three are required, each in its own <code class="language-xml">ebuttm:documentIntendedTargetFormat</code> element. The URI of the classification scheme should be specified in the <code class="language-xml">link</code> attribute with the term ID. For example, <code class="language-xml">https://www.ebu.ch/metadata/cs/EBU-TTSubtitleTargetFormatCodeCS.xml#1.11</code> for EBU-TT-D.</p> </td> 
            <td></td> 
           </tr> 
           <tr> 
            <td> <p><code class="language-xml">ebuttm:documentCreationMode</code></p> </td> 
            <td> <p><code class="language-xml">"live" | "prepared"</code></p> </td> 
            <td> <p>Required</p> </td> 
            <td></td> 
           </tr> 
           <tr> 
            <td> <p><code class="language-xml">ebuttm:documentContentType</code></p> </td> 
            <td> <p><code class="language-xml">"hardOfHearingSubtitles"</code></p> </td> 
            <td> <p>Required</p> </td> 
            <td></td> 
           </tr> 
           <tr> 
            <td> <p><code class="language-xml">ebuttm:sourceMediaIdentifier</code></p> </td> 
            <td> <p>[OnAir UID][version #]-[sub file version]</p> </td> 
            <td> <p>Required</p> </td> 
            <td> <p><code class="language-xml">ABCD123W02-1</code></p> </td> 
           </tr> 
           <tr> 
            <td> <p><code class="language-xml">ebuttm:relatedMediaIdentifier</code></p> </td> 
            <td>[string]</td> 
            <td> </td> 
            <td></td> 
           </tr> 
           <tr> 
            <td> <p><code class="language-xml">ebuttm:relatedObjectIdentifier</code></p> </td> 
            <td></td> 
            <td> <p>Optional</p> </td> 
            <td></td> 
           </tr> 
           <tr> 
            <td> <p><code class="language-xml">ebuttm:appliedProcessing</code></p> </td> 
            <td></td> 
            <td> <p>Optional</p> </td> 
            <td></td> 
           </tr> 
           <tr> 
            <td> <p><code class="language-xml">ebuttm:relatedMediaDuration</code></p> </td> 
            <td></td> 
            <td> <p>Optional</p> </td> 
            <td></td> 
           </tr> 
           <tr> 
            <td> <p><code class="language-xml">ebuttm:documentBeginDate</code></p> </td> 
            <td> <p>[Date in YYYY-MM-DD format]</p> </td> 
            <td> <p>Required for live captured subtitles. The corresponding date of creation of the earliest begin time expression (i.e. the begin time expression that is the first coordinate in the document time line).</p> </td> 
            <td></td> 
           </tr> 
           <tr> 
            <td> <p><code class="language-xml">ebuttm:localTimeOffset</code></p> </td> 
            <td> <p>[Timezone in ISO 8601 when <code class="language-xml">ttp:timebase="clock"</code> AND <code class="language-xml">ttp:clockmode="local"</code>]</p> </td> 
            <td> <p>Required for live captured subtitles.</p> </td> 
            <td> <p><code class="language-xml">Z, +01:00</code></p> </td> 
           </tr> 
           <tr> 
            <td> <p><code class="language-xml">ebuttm:referenceClockIdentifier</code></p> </td> 
            <td> </td> 
            <td> <p>Optional. Allows the reference clock source to be identified. Permitted only when <code class="language-xml">ttp:timeBase="clock"</code> AND <code class="language-xml">ttp:clockMode="local"</code> OR when <code class="language-xml">ttp:timeBase="smpte"</code>.</p> </td> 
            <td></td> 
           </tr> 
           <tr> 
            <td><code class="language-xml">ebuttm:broadcastServiceIdentifier</code></td> 
            <td>[The value of <code class="language-xml">&lt;id type="service_id"&gt;</code> for the service] </td> 
            <td> <p>Optional. The list of all services is at <a href="https://api.live.bbc.co.uk/pips/api/v1/service/">https://api.live.bbc.co.uk/pips/api/v1/service/</a> (API access required). You may need to request the service identifier list prior to delivery.</p> </td> 
            <td> <p><code class="language-xml">BBC1, CBeebies</code></p> </td> 
           </tr> 
           <tr> 
            <td> <p><code class="language-xml">ebuttm:documentTransitionStyle</code></p> </td> 
            <td> <p>[Empty element. Only the attributes <code class="language-xml">inUnit</code> or <code class="language-xml">outUnit</code> are specified].</p> </td> 
            <td> <p>Optional</p> </td> 
            <td></td> 
           </tr> 
           <tr> 
            <td colspan="4"> <p>The following elements support the information that is present in the GSI block of the STL file. If more than one STL source file is used to generate an EBU-TT document, the GSI metadata cannot be mapped into ebuttm:documentMetadata unless the value of a GSI field is the same across all STL documents.</p> </td> 
           </tr> 
           <tr> 
            <td> <p><code class="language-xml">ebuttm:documentOriginalProgrammeTitle</code></p> </td> 
            <td> <p>[Original programme title]</p> </td> 
            <td>Required</td> 
            <td> <p><code class="language-xml">Snow White</code></p> </td> 
           </tr> 
           <tr> 
            <td> <p><code class="language-xml">ebuttm:documentOriginalEpisodeTitle</code></p> </td> 
            <td></td> 
            <td> <p>Use <code class="language-xml">bbctt:otherId</code> (see below)</p> </td> 
            <td></td> 
           </tr> 
           <tr> 
            <td> <p><code class="language-xml">ebuttm:documentTranslatedProgrammeTitle</code></p> </td> 
            <td></td> 
            <td>Required if translated</td> 
            <td></td> 
           </tr> 
           <tr> 
            <td> <p><code class="language-xml">ebuttm:documentTranslatedEpisodeTitle</code></p> </td> 
            <td></td> 
            <td> <p>Optional</p> </td> 
            <td> <p><code class="language-xml">Series 1, Episode 1</code></p> </td> 
           </tr> 
           <tr> 
            <td> <p><code class="language-xml">ebuttm:documentTranslatorsName</code></p> </td> 
            <td> <p>[Up to 32 characters]</p> </td> 
            <td> <p>Optional</p> </td> 
            <td> <p><code class="language-xml">Jane Doe</code></p> </td> 
           </tr> 
           <tr> 
            <td> <p><code class="language-xml">ebuttm:documentTranslatorsContactDetails</code></p> </td> 
            <td> <p>[Up to 32 characters]</p> </td> 
            <td> <p>Optional</p> </td> 
            <td></td> 
           </tr> 
           <tr> 
            <td> <p><code class="language-xml">ebuttm:documentSubtitleListReferenceCode</code></p> </td> 
            <td> <p>[On-air UID]</p> </td> 
            <td> <p><span class="flag-broadcast">broadcast</span>Required for Prepared linear</p> </td> 
            <td> <p><code class="language-xml">ABC D123W/02</code></p> </td> 
           </tr> 
           <tr> 
            <td> <p><code class="language-xml">ebuttm:documentCreationDate</code></p> </td> 
            <td> <p>[Date in format YYYY-MM-DD]</p> </td> 
            <td> <p>Required</p> </td> 
            <td> <p><code class="language-xml">2012-06-30</code></p> </td> 
           </tr> 
           <tr> 
            <td> <p><code class="language-xml">ebuttm:documentRevisionDate</code></p> </td> 
            <td> <p>[Date in format YYYY-MM-DD]</p> </td> 
            <td> <p>Required if a revision</p> </td> 
            <td> <p><code class="language-xml">2015-01-28</code></p> </td> 
           </tr> 
           <tr> 
            <td> <p><code class="language-xml">ebuttm:documentRevisionNumber</code></p> </td> 
            <td> <p>[0 – 99]</p> </td> 
            <td> <p>Required if a revision</p> </td> 
            <td> <p><code class="language-xml">1</code></p> </td> 
           </tr> 
           <tr> 
            <td> <p><code class="language-xml">ebuttm:documentTotalNumberOfSubtitles</code></p> </td> 
            <td> <p>[Non-negative integer]</p> </td> 
            <td> <p>Required</p> </td> 
            <td> <p><code class="language-xml">767</code></p> </td> 
           </tr> 
           <tr> 
            <td> <p><code class="language-xml">ebuttm:documentMaximumNumberOfDisplayableCharacterInAnyRow</code> </p> </td> 
            <td> <p>[0 – 37]</p> </td> 
            <td> <p>Required</p> </td> 
            <td> <p><code class="language-xml">58</code></p> </td> 
           </tr> 
           <tr> 
            <td> <p><code class="language-xml">ebuttm:documentStartOfProgramme</code></p> </td> 
            <td> <p>[HH:MM:SS:FF]</p> </td> 
            <td> <p>Required</p> </td> 
            <td> <p><code class="language-xml">10:00:00:00</code>, <code class="language-xml">20:00:00:00</code></p> </td> 
           </tr> 
           <tr> 
            <td> <p><code class="language-xml">ebuttm:documentCountryOfOrigin</code></p> </td> 
            <td> <p>[3-letter country code]</p> </td> 
            <td> <p>Required</p> </td> 
            <td> <p><code class="language-xml">GBR</code></p> </td> 
           </tr> 
           <tr> 
            <td> <p><code class="language-xml">ebuttm:documentPublisher</code></p> </td> 
            <td> <p>[Up to 32 characters]</p> </td> 
            <td> <p>Required</p> </td> 
            <td> <p><code class="language-xml">Company name</code></p> </td> 
           </tr> 
           <tr> 
            <td> <p><code class="language-xml">ebuttm:documentEditorsName</code></p> </td> 
            <td> <p>[Up to 32 characters]</p> </td> 
            <td> <p>Required</p> </td> 
            <td> <p><code class="language-xml">John Doe</code></p> </td> 
           </tr> 
           <tr> 
            <td> <p><code class="language-xml">ebuttm:documentEditorsContactDetails</code></p> </td> 
            <td> <p>[Up to 32 characters]</p> </td> 
            <td> <p>Optional</p> </td> 
            <td></td> 
           </tr> 
           <tr> 
            <td> <p><code class="language-xml">ebuttm:documentUserDefinedArea</code></p> </td> 
            <td> <p>[Up to 576 characters]</p> </td> 
            <td> <p>Not used</p> </td> 
            <td></td> 
           </tr> 
           <tr> 
            <td> <p><code class="language-xml">ebuttm:stlCreationDate</code></p> </td> 
            <td> <p>[Date in format YYYY-MM-DD]</p> </td> 
            <td> <p>Optional. If the STL file is embedded using <code class="language-xml">ebuttm:binaryData</code>, do not use this element. Instead, use the <code class="language-xml">creationDate</code> attribute of <code class="language-xml">ebuttm:binaryDataElement</code>.</p> </td> 
            <td></td> 
           </tr> 
           <tr> 
            <td> <p><code class="language-xml">ebuttm:stlRevisionDate</code></p> </td> 
            <td> <p>[Date in format YYYY-MM-DD]</p> </td> 
            <td> <p>Optional. If the STL file is embedded, use the <code class="language-xml">revisionDate</code> attribute of <code class="language-xml">ebuttm:binaryDataElement</code>.</p> </td> 
            <td></td> 
           </tr> 
           <tr> 
            <td> <p><code class="language-xml">ebuttm:stlRevisionNumber</code></p> </td> 
            <td> <p>[Integer]</p> </td> 
            <td> <p>Optional. If the STL file is embedded, use the <code class="language-xml">revisionNumber</code> attribute of <code class="language-xml">ebuttm:binaryDataElement</code>.</p> </td> 
            <td></td> 
           </tr> 
           <tr> 
            <td> <p><code class="language-xml">ebuttm:subtitleZero</code></p> </td> 
            <td> <p>If the <a href="#Subtitle-zero">subtitle zero</a> is present, copy the content of subtitle zero from the STL</p> </td> 
            <td> <p>Optional</p> </td> 
            <td></td> 
           </tr> 
          </tbody> 
         </table> 
         <h3>24.5 Extended BBC metadata (v1.0)</h3> 
         <p><i>This section lists the required extended BBC metadata values for BBC subtitle documents based on EBU-TT Part 1 v1, which is the current actively used format.</i></p> 
         <p>In addition to the standard EBU-TT elements listed above, the BBC requires the below metadata elements within a <code class="language-xml">&lt;bbctt:metadata&gt;</code> element. The <code class="language-xml">&lt;bbctt:metadata&gt;</code> element is the last child of <code class="language-xml">&lt;tt:metadata&gt;</code>. See <a href="#Appendix-2--Sample-files">Appendix 2</a> for a sample XML and Appendix 3 for the XSD.</p> 
         <p>In the following tables, prefixes are used as shortcuts for the following namespaces:</p> 
         <table> 
          <colgroup> 
           <col style="width: 20%;"> 
           <col style="width: 40%;"> 
           <col style="width: 40%;"> 
          </colgroup> 
          <thead> 
           <tr> 
            <th scope="col">Prefix</th> 
            <th scope="col">Namespace</th> 
            <th scope="col">Notes</th> 
           </tr> 
          </thead> 
          <tbody> 
           <tr> 
            <td><code class="language-xml">bbctt:</code></td> 
            <td><code class="language-xml">http://www.bbc.co.uk/ns/bbctt</code></td> 
            <td>The BBC TTML metadata namespace</td> 
           </tr> 
          </tbody> 
         </table> 
         <table> 
          <colgroup> 
           <col style="width: 20%;"> 
           <col> 
          </colgroup> 
          <thead> 
           <tr> 
            <th scope="colgroup" colspan="2"> <p><strong>bbctt:schemaVersion</strong></p> </th> 
           </tr> 
          </thead> 
          <tbody> 
           <tr> 
            <th scope="row"> <p>Cardinality</p> </th> 
            <td> <p>1..1</p> </td> 
           </tr> 
           <tr> 
            <th scope="row"> <p>Parent</p> </th> 
            <td> <p><code class="language-xml">bbctt:metadata</code></p> </td> 
           </tr> 
           <tr> 
            <th scope="row"> <p>Description</p> </th> 
            <td> <p>The BBC metadata scheme used. Currently v1.0.</p> </td> 
           </tr> 
           <tr> 
            <th scope="row"> <p>Value</p> </th> 
            <td> <p><code class="language-xml">"v1.0"</code></p> </td> 
           </tr> 
           <tr> 
            <th scope="row"> <p>Example</p> </th> 
            <td> <code class="language-xml">&lt;bbctt:schemaVersion&gt;v1.0&lt;/bbctt:schemaVersion&gt;</code></td> 
           </tr> 
          </tbody> 
         </table> 
         <table> 
          <colgroup> 
           <col style="width: 20%;"> 
           <col> 
          </colgroup> 
          <thead> 
           <tr> 
            <th scope="colgroup" colspan="2"> <p><strong>bbctt:timedTextType</strong></p> </th> 
           </tr> 
          </thead> 
          <tbody> 
           <tr> 
            <th scope="row"> <p>Cardinality</p> </th> 
            <td> <p>1..1</p> </td> 
           </tr> 
           <tr> 
            <th scope="row"> <p>Parent</p> </th> 
            <td> <p><code class="language-xml">bbctt:metadata</code></p> </td> 
           </tr> 
           <tr> 
            <th scope="row"> <p>Description</p> </th> 
            <td> <p>Indicates whether subtitles were live or prepared. If live subtitles are modified following broadcast, this value must be changed to preRecorded.</p> </td> 
           </tr> 
           <tr> 
            <th scope="row"> <p>Value</p> </th> 
            <td> <p><code class="language-xml">"preRecorded" | "audioDescription" | "recordedLive" | "editedLive"</code></p> </td> 
           </tr> 
           <tr> 
            <th scope="row"> <p>Example</p> </th> 
            <td> <code class="language-xml">&lt;bbctt:timedTextType&gt;preRecorded&lt;/bbctt:timedTextType&gt;</code></td> 
           </tr> 
          </tbody> 
         </table> 
         <table> 
          <colgroup> 
           <col style="width: 20%;"> 
           <col> 
          </colgroup> 
          <thead> 
           <tr> 
            <th scope="colgroup" colspan="2"> <p><strong>bbctt:timecodeType</strong></p> </th> 
           </tr> 
          </thead> 
          <tbody> 
           <tr> 
            <th scope="row"> <p>Cardinality</p> </th> 
            <td> <p>1..1</p> </td> 
           </tr> 
           <tr> 
            <th scope="row"> <p>Parent</p> </th> 
            <td> <p><code class="language-xml">bbctt:metadata</code></p> </td> 
           </tr> 
           <tr> 
            <th scope="row"> <p>Description</p> </th> 
            <td> <p>Indicates whether timecode uses "programme" time for pre-recorded subtitles or "timeOfDay" UTC time for live authored subtitles. </p> </td> 
           </tr> 
           <tr> 
            <th scope="row"> <p>Value</p> </th> 
            <td> <p><code class="language-xml">"programme" | "timeOfDay"</code></p> </td> 
           </tr> 
           <tr> 
            <th scope="row"> <p>Example</p> </th> 
            <td> <code class="language-xml">&lt;bbctt:timecodeType&gt;programme&lt;/bbctt:timecodeType&gt;</code></td> 
           </tr> 
          </tbody> 
         </table> 
         <table> 
          <colgroup> 
           <col style="width: 20%;"> 
           <col> 
          </colgroup> 
          <thead> 
           <tr> 
            <th scope="colgroup" colspan="2"> <p><strong>bbctt:programmeId</strong></p> </th> 
           </tr> 
          </thead> 
          <tbody> 
           <tr> 
            <th scope="row"> <p>Cardinality</p> </th> 
            <td> <p>0..1</p> </td> 
           </tr> 
           <tr> 
            <th scope="row"> <p>Parent</p> </th> 
            <td> <p><code class="language-xml">bbctt:metadata</code></p> </td> 
           </tr> 
           <tr> 
            <th scope="row"> <p>Description</p> </th> 
            <td> <p>Required if not live.</p> </td> 
           </tr> 
           <tr> 
            <th scope="row"> <p>Value</p> </th> 
            <td> <p>[On-air UID]</p> </td> 
           </tr> 
           <tr> 
            <th scope="row"> <p>Example</p> </th> 
            <td> <code class="language-xml">&lt;bbctt:programmeId&gt;DRIB511W/02&lt;/bbctt:programmeId&gt;</code></td> 
           </tr> 
          </tbody> 
         </table> 
         <table> 
          <colgroup> 
           <col style="width: 20%;"> 
           <col> 
          </colgroup> 
          <thead> 
           <tr> 
            <th scope="colgroup" colspan="2"> <p><strong>bbctt:otherId type="tapeNumber"</strong></p> </th> 
           </tr> 
          </thead> 
          <tbody> 
           <tr> 
            <th scope="row"> <p>Cardinality</p> </th> 
            <td> <p>0..1. Required if not live.</p> </td> 
           </tr> 
           <tr> 
            <th scope="row"> <p>Parent</p> </th> 
            <td> <p><code class="language-xml">bbctt:metadata</code></p> </td> 
           </tr> 
           <tr> 
            <th scope="row"> <p>Description</p> </th> 
            <td> <p>Use tape number for programmes that have a material reference. <br> Use Mat ID for programmes delivered as file.</p> </td> 
           </tr> 
           <tr> 
            <th scope="row"> <p>Value</p> </th> 
            <td>[String]</td> 
           </tr> 
           <tr> 
            <th scope="row"> <p>Example</p> </th> 
            <td><code class="language-xml">&lt;bbctt:otherId 147457&lt;/bbctt:otherId&gt;</code></td> 
           </tr> 
          </tbody> 
         </table> 
         <table> 
          <colgroup> 
           <col style="width: 20%;"> 
           <col> 
          </colgroup> 
          <thead> 
           <tr> 
            <th scope="colgroup" colspan="2"> <p><strong>bbctt:houseStyle owner=""</strong></p> </th> 
           </tr> 
          </thead> 
          <tbody> 
           <tr> 
            <th scope="row"> <p>Cardinality</p> </th> 
            <td> <p>0..*</p> </td> 
           </tr> 
           <tr> 
            <th scope="row"> <p>Parent</p> </th> 
            <td> <p><code class="language-xml">bbctt:metadata</code></p> </td> 
           </tr> 
           <tr> 
            <th scope="row"> <p>Description</p> </th> 
            <td> <p>Required if live.</p> </td> 
           </tr> 
           <tr> 
            <th scope="row"> <p>Value</p> </th> 
            <td></td> 
           </tr> 
           <tr> 
            <th scope="row"> <p>Example</p> </th> 
            <td></td> 
           </tr> 
          </tbody> 
         </table> 
         <table> 
          <colgroup> 
           <col style="width: 20%;"> 
           <col> 
          </colgroup> 
          <thead> 
           <tr> 
            <th scope="colgroup" colspan="2"> <p><strong>bbctt:recordedLiveService</strong></p> </th> 
           </tr> 
          </thead> 
          <tbody> 
           <tr> 
            <th scope="row"> <p>Cardinality</p> </th> 
            <td> <p>0..*.. Required for a live recording if intended for broadcast. <span class="flag-broadcast">broadcast</span></p> </td> 
           </tr> 
           <tr> 
            <th scope="row"> <p>Parent</p> </th> 
            <td> <p><code class="language-xml">bbctt:metadata</code></p> </td> 
           </tr> 
           <tr> 
            <th scope="row"> <p>Description</p> </th> 
            <td> <p>Required for subtitles created live only.</p> </td> 
           </tr> 
           <tr> 
            <th scope="row"> <p>Value</p> </th> 
            <td>The value of <code class="language-xml">&lt;id type="service_id"&gt;</code> for the service. The list of all services is at <a href="https://api.live.bbc.co.uk/pips/api/v1/service/?rows=300">https://api.live.bbc.co.uk/pips/api/v1/service/</a>. You may need to apply for API access or request the service identifier prior to delivery.</td> 
           </tr> 
           <tr> 
            <th scope="row"> <p>Example</p> </th> 
            <td></td> 
           </tr> 
          </tbody> 
         </table> 
         <table> 
          <colgroup> 
           <col style="width: 20%;"> 
           <col> 
          </colgroup> 
          <thead> 
           <tr> 
            <th scope="colgroup" colspan="2"> <p><strong>bbctt:div</strong></p> </th> 
           </tr> 
          </thead> 
          <tbody> 
           <tr> 
            <th scope="row"> <p>Cardinality</p> </th> 
            <td> <p>0..*</p> </td> 
           </tr> 
           <tr> 
            <th scope="row"> <p>Parent</p> </th> 
            <td> <p><code class="language-xml">bbctt:metadata</code></p> </td> 
           </tr> 
           <tr> 
            <th scope="row"> <p>Description</p> </th> 
            <td> <p>Generic container of type "shotChange" or "Script"</p> </td> 
           </tr> 
           <tr> 
            <th scope="row"> <p>Value</p> </th> 
            <td> <p><code class="language-xml">&lt;systemInfo&gt;</code>, <code class="language-xml">&lt;chapter&gt;</code>, <code class="language-xml">&lt;item&gt;</code> or <code class="language-xml">&lt;event&gt;</code> elements </p> </td> 
           </tr> 
           <tr> 
            <th scope="row"> <p>Example</p> </th> 
            <td><pre><code class="language-xml">&lt;bbctt:div type="shotChange"&gt;
&lt;bbctt:systemInfo&gt;Quantum Video Indexer
v5.0&lt;/bbctt:systemInfo&gt; &lt;bbctt:event begin="09:59:30:00"
id="sc1" /&gt; &lt;/bbctt:div&gt;</code></pre></td> 
           </tr> 
          </tbody> 
         </table> 
         <table> 
          <colgroup> 
           <col style="width: 20%;"> 
           <col> 
          </colgroup> 
          <thead> 
           <tr> 
            <th scope="colgroup" colspan="2"> <p><strong>bbctt:systemInfo</strong></p> </th> 
           </tr> 
          </thead> 
          <tbody> 
           <tr> 
            <th scope="row"> <p>Cardinality</p> </th> 
            <td> <p>1..1</p> </td> 
           </tr> 
           <tr> 
            <th scope="row"> <p>Parent</p> </th> 
            <td> <p><code class="language-xml">bbctt:div</code></p> </td> 
           </tr> 
           <tr> 
            <th scope="row"> <p>Description</p> </th> 
            <td> <p>The system that produced the sibling elements.</p> </td> 
           </tr> 
           <tr> 
            <th scope="row"> <p>Value</p> </th> 
            <td> <p>Single instance of <code class="language-xml">bbctt:systemInfo</code> and multiple instances of <code class="language-xml">bbctt:event</code></p> </td> 
           </tr> 
           <tr> 
            <th scope="row"> <p>Example</p> </th> 
            <td><code class="language-xml">&lt;bbctt:systemInfo&gt;Quantum Video Indexer v5.0&lt;/bbctt:systemInfo&gt;</code></td> 
           </tr> 
          </tbody> 
         </table> 
         <table> 
          <colgroup> 
           <col style="width: 20%;"> 
           <col> 
           <col> 
           <col> 
          </colgroup> 
          <thead> 
           <tr> 
            <th scope="colgroup" colspan="4"> <p><strong>bbctt:event</strong></p> </th> 
           </tr> 
          </thead> 
          <tbody> 
           <tr> 
            <th scope="row"> <p>Cardinality</p> </th> 
            <td colspan="3"> <p>0..*</p> </td> 
           </tr> 
           <tr> 
            <th scope="row"> <p>Parent</p> </th> 
            <td colspan="3"> <p><code class="language-xml">bbctt:div</code></p> </td> 
           </tr> 
           <tr> 
            <th scope="row"> <p>Description</p> </th> 
            <td colspan="3"> <p>A single event, e.g. a shot change in a <code class="language-xml">bbctt:div</code> of <code class="language-xml">type="shotChange"</code></p> </td> 
           </tr> 
           <tr> 
            <th scope="rowgroup" rowspan="7"> <p>Attributes</p> </th> 
            <th scope="col">Attribute</th> 
            <th scope="col">Required?</th> 
            <th scope="col">Type</th> 
           </tr> 
           <tr> 
            <td><code class="language-xml">begin</code></td> 
            <td>Yes</td> 
            <td><code class="language-xml">ebuttdt:timingType</code></td> 
           </tr> 
           <tr> 
            <td><code class="language-xml">end</code></td> 
            <td>AD fades only</td> 
            <td><code class="language-xml">ebuttdt:timingType</code></td> 
           </tr> 
           <tr> 
            <td><code class="language-xml">endlevel</code></td> 
            <td>AD fades only</td> 
            <td>Integer</td> 
           </tr> 
           <tr> 
            <td><code class="language-xml">xml:id</code></td> 
            <td>No</td> 
            <td>NCName</td> 
           </tr> 
           <tr> 
            <td><code class="language-xml">pan</code></td> 
            <td>AD fades only</td> 
            <td>Integer</td> 
           </tr> 
           <tr> 
            <td><code class="language-xml">type</code></td> 
            <td>No</td> 
            <td>NCName</td> 
           </tr> 
           <tr> 
            <th scope="row"> <p>Value</p> </th> 
            <td colspan="3"> <p>This is an empty element. Information is represented as element attributes. </p> </td> 
           </tr> 
           <tr> 
            <th scope="row"> <p>Example</p> </th> 
            <td colspan="3"> <code class="language-xml">&lt;bbctt:event begin="01:23:45:25" id="sc1"/&gt;</code> </td> 
           </tr> 
          </tbody> 
         </table> 
         <table> 
          <colgroup> 
           <col style="width: 20%;"> 
           <col> 
          </colgroup> 
          <thead> 
           <tr> 
            <th scope="colgroup" colspan="2"> <p><strong>bbctt:chapter id=""</strong></p> </th> 
           </tr> 
          </thead> 
          <tbody> 
           <tr> 
            <th scope="row"> <p>Cardinality</p> </th> 
            <td> <p>0..*</p> </td> 
           </tr> 
           <tr> 
            <th scope="row"> <p>Parent</p> </th> 
            <td> <p><code class="language-xml">bbctt:div</code></p> </td> 
           </tr> 
           <tr> 
            <th scope="row"> <p>Description</p> </th> 
            <td> <p>Used to divide content into semantic chapters.</p> </td> 
           </tr> 
           <tr> 
            <th scope="row"> <p>Value</p> </th> 
            <td> <p>One or more <code class="language-xml">bbctt:item</code> elements</p> </td> 
           </tr> 
           <tr> 
            <th scope="row"> <p>Example</p> </th> 
            <td></td> 
           </tr> 
          </tbody> 
         </table> 
         <table> 
          <colgroup> 
           <col style="width: 20%;"> 
           <col> 
           <col> 
           <col> 
          </colgroup> 
          <thead> 
           <tr> 
            <th scope="colgroup" colspan="4"> <p><strong>bbctt:item</strong></p> </th> 
           </tr> 
          </thead> 
          <tbody>
           <tr> 
            <th scope="row"> <p>Cardinality</p> </th> 
            <td colspan="3"> <p>In <code class="language-xml">bbctt:div</code>: 0..* | In <code class="language-xml">bbctt:chapter</code>: 1..* </p> </td> 
           </tr> 
           <tr> 
            <th scope="row"> <p>Parent</p> </th> 
            <td colspan="3"> <p><code class="language-xml">bbctt:div | bbctt:chapter</code></p> </td> 
           </tr> 
           <tr> 
            <th scope="row"> <p>Description</p> </th> 
            <td colspan="3"> <p>Generic container for the programme script elements.</p> </td> 
           </tr> 
           <tr> 
            <th scope="rowgroup" rowspan="4"> <p>Attributes</p> </th> 
            <th scope="col">Attribute</th> 
            <th scope="col">Required?</th> 
            <th scope="col">Type</th> 
           </tr> 
           <tr> 
            <td> <p><code class="language-xml">xml:id</code></p> </td> 
            <td> <p>Yes</p> </td> 
            <td> <p>string</p> </td> 
           </tr> 
           <tr> 
            <td> <p><code class="language-xml">begin</code></p> </td> 
            <td> <p>No</p> </td> 
            <td> <p><code class="language-xml">ebuttdt:timingType</code></p> </td> 
           </tr> 
           <tr> 
            <td> <p><code class="language-xml">end</code></p> </td> 
            <td> <p>No</p> </td> 
            <td> <p><code class="language-xml">ebuttdt:timingType</code></p> </td> 
           </tr> 
           <tr> 
            <th scope="row"> <p>Value</p> </th> 
            <td colspan="3"> <code class="language-xml">&lt;bbctt:p&gt;</code>, <code class="language-xml">&lt;bbctt:itemid&gt;</code>, <code class="language-xml">&lt;bbctt:title&gt;</code> or <code class="language-xml">&lt;bbctt:associatedFile&gt;</code> elements.</td> 
           </tr> 
           <tr> 
            <th scope="row"> <p>Example</p> </th> 
            <td colspan="3"> <code class="language-xml">&lt;bbctt:item xml:id="it1"&gt; &lt;bbctt:p&gt; &lt;bbctt:span ttm:role="x-direction"&gt;Snow White&lt;/bbctt:span&gt; &lt;/bbctt:p&gt; &lt;bbctt:p&gt; &lt;bbctt:span ttm:role="x-direction"&gt;(CONT’D) &lt;/bbctt:span&gt; &lt;/bbctt:p&gt; &lt;/bbctt:item&gt;</code></td> 
           </tr> 
          </tbody>
         </table> 
         <table> 
          <colgroup> 
           <col style="width: 20%;"> 
           <col> 
          </colgroup> 
          <thead> 
           <tr> 
            <th scope="colgroup" colspan="2"> <p><strong>bbctt:itemId</strong></p> </th> 
           </tr> 
          </thead> 
          <tbody> 
           <tr> 
            <th scope="row"> <p>Cardinality</p> </th> 
            <td> <p>0..*</p> </td> 
           </tr> 
           <tr> 
            <th scope="row"> <p>Parent</p> </th> 
            <td> <p><code class="language-xml">bbctt:item</code></p> </td> 
           </tr> 
           <tr> 
            <th scope="row"> <p>Description</p> </th> 
            <td> <p>Used to link an item with an external system</p> </td> 
           </tr> 
           <tr> 
            <th scope="row"> <p>Value</p> </th> 
            <td> <p><code class="language-xml">bbctt:itemId</code></p> </td> 
           </tr> 
           <tr> 
            <th scope="row"> <p>Example</p> </th> 
            <td></td> 
           </tr> 
          </tbody> 
         </table> 
         <table> 
          <colgroup> 
           <col style="width: 20%;"> 
           <col> 
          </colgroup> 
          <thead> 
           <tr> 
            <th scope="colgroup" colspan="2"> <p><strong>bbctt:title</strong></p> </th> 
           </tr> 
          </thead> 
          <tbody> 
           <tr> 
            <th scope="row"> <p>Cardinality</p> </th> 
            <td> <p>0..1</p> </td> 
           </tr> 
           <tr> 
            <th scope="row"> <p>Parent</p> </th> 
            <td> <p><code class="language-xml">bbctt:item</code></p> </td> 
           </tr> 
           <tr> 
            <th scope="row"> <p>Description</p> </th> 
            <td> <p>Used to link an item with an external system</p> </td> 
           </tr> 
           <tr> 
            <th scope="row"> <p>Value</p> </th> 
            <td> <p>[String]</p> </td> 
           </tr> 
           <tr> 
            <th scope="row"> <p>Example</p> </th> 
            <td></td> 
           </tr> 
          </tbody> 
         </table> 
         <table> 
          <colgroup> 
           <col style="width: 20%;"> 
           <col> 
          </colgroup> 
          <thead> 
           <tr> 
            <th scope="colgroup" colspan="2"> <p><strong>bbctt:associatedFile</strong></p> </th> 
           </tr> 
          </thead> 
          <tbody> 
           <tr> 
            <th scope="row"> <p>Cardinality</p> </th> 
            <td> <p>0..1</p> </td> 
           </tr> 
           <tr> 
            <th scope="row"> <p>Parent</p> </th> 
            <td> <p><code class="language-xml">bbctt:item</code></p> </td> 
           </tr> 
           <tr> 
            <th scope="row"> <p>Description</p> </th> 
            <td> <p>Used to link an item with an external system</p> </td> 
           </tr> 
           <tr> 
            <th scope="row"> <p>Value</p> </th> 
            <td> <p><code class="language-xml">bbctt:associatedFile</code></p> </td> 
           </tr> 
           <tr> 
            <th scope="row"> <p>Example</p> </th> 
            <td></td> 
           </tr> 
          </tbody> 
         </table> 
         <table> 
          <colgroup> 
           <col style="width: 20%;"> 
           <col> 
          </colgroup> 
          <thead> 
           <tr> 
            <th scope="colgroup" colspan="2"> <p><strong>bbctt:p</strong></p> </th> 
           </tr> 
          </thead> 
          <tbody> 
           <tr> 
            <th scope="row"> <p>Cardinality</p> </th> 
            <td> <p>1..*</p> </td> 
           </tr> 
           <tr> 
            <th scope="row"> <p>Parent</p> </th> 
            <td> <p><code class="language-xml">bbctt:item</code></p> </td> 
           </tr> 
           <tr> 
            <th scope="row"> <p>Description</p> </th> 
            <td> <p>A single script element (paragraph)</p> </td> 
           </tr> 
           <tr> 
            <th scope="row"> <p>Value</p> </th> 
            <td> <p>Single <code class="language-xml">bbctt:span</code> element</p> </td> 
           </tr> 
           <tr> 
            <th scope="row"> <p>Example</p> </th> 
            <td><code class="language-xml">&lt;bbctt:p&gt;&lt;bbctt:span ttm:role="x-direction"&gt;Snow White&lt;/bbctt:span&gt;&lt;/bbctt:p&gt;</code></td> 
           </tr> 
          </tbody> 
         </table> 
         <table> 
          <colgroup> 
           <col style="width: 20%;"> 
           <col> 
          </colgroup> 
          <thead> 
           <tr> 
            <th scope="colgroup" colspan="2"> <p><strong>bbctt:span</strong></p> </th> 
           </tr> 
          </thead> 
          <tbody> 
           <tr> 
            <th scope="row"> <p>Cardinality</p> </th> 
            <td> <p>1..1</p> </td> 
           </tr> 
           <tr> 
            <th scope="row"> <p>Parent</p> </th> 
            <td> <p><code class="language-xml">bbctt:p</code></p> </td> 
           </tr> 
           <tr> 
            <th scope="row"> <p>Description</p> </th> 
            <td> <p>A single line of script</p> </td> 
           </tr> 
           <tr> 
            <th scope="row"> <p>Value</p> </th> 
            <td> <p>[Dialogue or direction text]</p> </td> 
           </tr> 
           <tr> 
            <th scope="row"> <p>Example</p> </th> 
            <td> <code class="language-xml">&lt;bbctt:span ttm:role="dialog" ttm:agent="sp9"&gt;Snow white, wake up!&lt;/bbctt:span&gt;</code> </td> 
           </tr> 
          </tbody> 
         </table> <!-- BBC metadata v1.1 --> 
         <h3>24.6 Extended BBC metadata (v1.1)</h3> 
         <p><i>BBC specifications for version 1.1 of EBU-TT Part 1 are still in development and are not yet in active use. Information in this section is therefore subject to change. This section lists the required extended BBC metadata values for BBC subtitle documents based on EBU-TT Part 1 v1.1, which is the current actively used format.</i></p> 
         <p>Some metadata that the BBC requires in version 1.0 of EBU-TT Part 1 were incorporated into version 1.1, meaning that BBC-specific elements (in the <code class="language-xml">bbctt</code> namespace) can be replaced by elements in the standard EBU-TT namespace ( <code class="language-xml">ebuttm</code>). The following table summarises the changes: </p> 
         <table> 
          <colgroup> 
           <col style="width: 25%;"> 
           <col style="width: 18%;"> 
           <col style="width: 33%;"> 
           <col> 
          </colgroup> 
          <thead> 
           <tr> 
            <th scope="col">v1.0</th> 
            <th scope="col">Value</th> 
            <th scope="col">v1.1</th> 
            <th scope="col">Value</th> 
           </tr> 
          </thead> 
          <tbody> 
           <tr> 
            <td rowspan="4"><code class="language-xml">bbctt:timedTextType</code></td> 
            <td>"preRecorded"</td> 
            <td><code class="language-xml">ebuttm:documentCreationMode</code></td> 
            <td>"prepared"</td> 
           </tr> 
           <tr> 
            <td>"audioDescription"</td> 
            <td><code class="language-xml">ebuttm:documentContentType</code></td> 
            <td>"audioDescriptionScript"</td> 
           </tr> 
           <tr> 
            <td>"recordedLive"</td> 
            <td><code class="language-xml">ebuttm:documentCreationMode</code></td> 
            <td>"live"</td> 
           </tr> 
           <tr> 
            <td>"editedLive"</td> 
            <td><code class="language-xml">ebuttm:documentCreationMode</code></td> 
            <td>"prepared"</td> 
           </tr> 
           <tr> 
            <td rowspan="4"><code class="language-xml">bbctt:timecodeType</code></td> 
            <td>"programme"</td> 
            <td><code class="language-xml">ttp:timeBase</code></td> 
            <td>"smpte"</td> 
           </tr> 
           <tr> 
            <td rowspan="3"><span>"timeOfDay"</span></td> 
            <th scope="colgroup" colspan="2">Replaced by BOTH attributes below:</th> 
           </tr> 
           <tr> 
            <td><code class="language-xml">ttp:timeBase</code></td> 
            <td>"clock"</td> 
           </tr> 
           <tr> 
            <td><code class="language-xml">ttp:clockMode</code></td> 
            <td>"utc"</td> 
           </tr> 
           <tr> 
            <td><code class="language-xml">bbctt:programmeId</code></td> 
            <td></td> 
            <td><code class="language-xml">ebuttm:sourceMediaIdentifier</code></td> 
            <td></td> 
           </tr> 
           <tr> 
            <td><code class="language-xml">bbctt:otherId</code></td> 
            <td></td> 
            <td><code class="language-xml">ebuttm:relatedObjectIdentifier</code></td> 
            <td></td> 
           </tr> 
           <tr> 
            <td><code class="language-xml">bbctt:recordedLiveService</code></td> 
            <td></td> 
            <td><code class="language-xml">ebuttm:broadcastServiceIdentifier</code></td> 
            <td></td> 
           </tr> 
          </tbody> 
         </table> 
         <p>These are the BBC metadata required for EBU-TT v1.1.</p> 
         <table> 
          <colgroup> 
           <col style="width: 20%;"> 
           <col> 
          </colgroup> 
          <thead> 
           <tr> 
            <th scope="colgroup" colspan="2"> <p><strong>bbctt:schemaVersion</strong></p> </th> 
           </tr> 
          </thead> 
          <tbody> 
           <tr> 
            <th scope="row"> <p>Cardinality</p> </th> 
            <td> <p>1..1</p> </td> 
           </tr> 
           <tr> 
            <th scope="row"> <p>Parent</p> </th> 
            <td> <p><code class="language-xml">bbctt:metadata</code></p> </td> 
           </tr> 
           <tr> 
            <th scope="row"> <p>Description</p> </th> 
            <td> <p>The BBC metadata scheme used. Currently v1.0.</p> </td> 
           </tr> 
           <tr> 
            <th scope="row"> <p>Value</p> </th> 
            <td> <p>[TBC for v1.1]</p> </td> 
           </tr> 
           <tr> 
            <th scope="row"> <p>Example</p> </th> 
            <td> <code class="language-xml">&lt;bbctt:schemaVersion&gt;v1.0&lt;/bbctt:schemaVersion&gt;</code></td> 
           </tr> 
          </tbody> 
         </table> 
         <table> 
          <colgroup> 
           <col style="width: 20%;"> 
           <col> 
          </colgroup> 
          <thead> 
           <tr> 
            <th scope="colgroup" colspan="2"> <p><strong>bbctt:timecodeType</strong></p> </th> 
           </tr> 
          </thead> 
          <tbody> 
           <tr> 
            <th scope="row"> <p>Cardinality</p> </th> 
            <td> <p>1..1</p> </td> 
           </tr> 
           <tr> 
            <th scope="row"> <p>Parent</p> </th> 
            <td> <p><code class="language-xml">bbctt:metadata</code></p> </td> 
           </tr> 
           <tr> 
            <th scope="row"> <p>Description</p> </th> 
            <td> <p>Indicates whether timecode uses programme (pre-recorded) or UTC time (live)</p> </td> 
           </tr> 
           <tr> 
            <th scope="row"> <p>Value</p> </th> 
            <td> <p><code class="language-xml">"programme" | "timeOfDay"</code></p> </td> 
           </tr> 
           <tr> 
            <th scope="row"> <p>Example</p> </th> 
            <td> <code class="language-xml">&lt;bbctt:timecodeType&gt;programme&lt;/bbctt:timecodeType&gt;</code></td> 
           </tr> 
          </tbody> 
         </table> 
         <table> 
          <colgroup> 
           <col style="width: 20%;"> 
           <col> 
          </colgroup> 
          <thead> 
           <tr> 
            <th scope="colgroup" colspan="2"> <p><strong>bbctt:div</strong></p> </th> 
           </tr> 
          </thead> 
          <tbody> 
           <tr> 
            <th scope="row"> <p>Cardinality</p> </th> 
            <td> <p>0..*</p> </td> 
           </tr> 
           <tr> 
            <th scope="row"> <p>Parent</p> </th> 
            <td> <p><code class="language-xml">bbctt:metadata</code></p> </td> 
           </tr> 
           <tr> 
            <th scope="row"> <p>Description</p> </th> 
            <td> <p>Generic container of type "shotChange" or "Script"</p> </td> 
           </tr> 
           <tr> 
            <th scope="row"> <p>Value</p> </th> 
            <td> <p><code class="language-xml">&lt;systemInfo&gt;</code>, <code class="language-xml">&lt;chapter&gt;</code>, <code class="language-xml">&lt;item&gt;</code> or <code class="language-xml">&lt;event&gt;</code> elements</p> </td> 
           </tr> 
           <tr> 
            <th scope="row"> <p>Example</p> </th> 
            <td> <pre><code class="language-xml">&lt;bbctt:div type="shotChange"&gt;
&lt;bbctt:systemInfo&gt;Quantum Video Indexer v5.0&lt;/bbctt:systemInfo&gt;
&lt;bbctt:event begin="09:59:30:00" id="sc1" /&gt;
&lt;/bbctt:div&gt;</code></pre> </td> 
           </tr> 
          </tbody> 
         </table> 
         <table> 
          <colgroup> 
           <col style="width: 20%;"> 
           <col> 
          </colgroup> 
          <thead> 
           <tr> 
            <th scope="colgroup" colspan="2"> <p><strong>bbctt:systemInfo</strong></p> </th> 
           </tr> 
          </thead> 
          <tbody> 
           <tr> 
            <th scope="row"> <p>Cardinality</p> </th> 
            <td> <p>1..1</p> </td> 
           </tr> 
           <tr> 
            <th scope="row"> <p>Parent</p> </th> 
            <td> <p><code class="language-xml">bbctt:div</code></p> </td> 
           </tr> 
           <tr> 
            <th scope="row"> <p>Description</p> </th> 
            <td> <p>The system that produced the sibling elements.</p> </td> 
           </tr> 
           <tr> 
            <th scope="row"> <p>Value</p> </th> 
            <td> <p>[Single instance of <code class="language-xml">bbctt:systemInfo</code> and multiple instances of <code class="language-xml">bbctt:event</code></p> </td> 
           </tr> 
           <tr> 
            <th scope="row"> <p>Example</p> </th> 
            <td><code class="language-xml">&lt;bbctt:systemInfo&gt;Quantum Video Indexer v5.0&lt;/bbctt:systemInfo&gt;</code></td> 
           </tr> 
          </tbody> 
         </table> 
         <table> 
          <colgroup> 
           <col style="width: 20%;"> 
           <col> 
           <col> 
           <col> 
          </colgroup> 
          <thead> 
           <tr> 
            <th scope="colgroup" colspan="4"> <p><strong>bbctt:event</strong></p> </th> 
           </tr> 
          </thead> 
          <tbody> 
           <tr> 
            <th scope="row"> <p>Cardinality</p> </th> 
            <td colspan="3"> <p>0..*</p> </td> 
           </tr> 
           <tr> 
            <th scope="row"> <p>Parent</p> </th> 
            <td colspan="3"> <p><code class="language-xml">bbctt:div</code></p> </td> 
           </tr> 
           <tr> 
            <th scope="row"> <p>Description</p> </th> 
            <td colspan="3"> <p>A single event, e.g. a shot change in a <code class="language-xml">bbctt:div</code> of type "shotChange" </p> </td> 
           </tr> 
           <tr> 
            <th scope="rowgroup" rowspan="7"> <p>Attributes</p> </th> 
            <th scope="col">Attribute</th> 
            <th scope="col">Required?</th> 
            <th scope="col">Type</th> 
           </tr> 
           <tr> 
            <td><code class="language-xml">begin</code></td> 
            <td> <p>Yes</p> </td> 
            <td><code class="language-xml">ebuttdt:timingType</code></td> 
           </tr> 
           <tr> 
            <td><code class="language-xml">end</code></td> 
            <td> <p>AD fades only</p> </td> 
            <td><code class="language-xml">ebuttdt:timingType</code></td> 
           </tr> 
           <tr> 
            <td><code class="language-xml">endlevel</code></td> 
            <td> <p>AD fades only</p> </td> 
            <td> <p>Integer</p> </td> 
           </tr> 
           <tr> 
            <td><code class="language-xml">xml:id</code></td> 
            <td> <p>No</p> </td> 
            <td> <p>NCName</p> </td> 
           </tr> 
           <tr> 
            <td><code class="language-xml">pan</code></td> 
            <td> <p>AD fades only</p> </td> 
            <td> <p>Integer</p> </td> 
           </tr> 
           <tr> 
            <td><code class="language-xml">type</code></td> 
            <td> <p>No</p> </td> 
            <td> <p>NCName</p> </td> 
           </tr> 
           <tr> 
            <th scope="row"> <p>Value</p> </th> 
            <td colspan="3"> <p>This is an empty element. Information is represented as element attributes </p> </td> 
           </tr> 
           <tr> 
            <th scope="row"> <p>Example</p> </th> 
            <td colspan="3"><code class="language-xml">&lt;bbctt:event begin="01:23:45:25" id="sc1"/&gt;</code></td> 
           </tr> 
          </tbody> 
         </table> 
         <table> 
          <colgroup> 
           <col style="width: 20%;"> 
           <col> 
          </colgroup> 
          <thead> 
           <tr> 
            <th scope="colgroup" colspan="2"> <p><strong>bbctt:chapter id=""</strong></p> </th> 
           </tr> 
          </thead> 
          <tbody> 
           <tr> 
            <th scope="row"> <p>Cardinality</p> </th> 
            <td> <p>0..*</p> </td> 
           </tr> 
           <tr> 
            <th scope="row"> <p>Parent</p> </th> 
            <td> <p><code class="language-xml">bbctt:div</code></p> </td> 
           </tr> 
           <tr> 
            <th scope="row"> <p>Description</p> </th> 
            <td> <p>Used to divide content into semantic chapters.</p> </td> 
           </tr> 
           <tr> 
            <th scope="row"> <p>Value</p> </th> 
            <td> <p>One or more <code class="language-xml">bbctt:item</code> elements.</p> </td> 
           </tr> 
           <tr> 
            <th scope="row"> <p>Example</p> </th> 
            <td></td> 
           </tr> 
          </tbody> 
         </table> 
         <table> 
          <colgroup> 
           <col style="width: 20%;"> 
           <col> 
           <col> 
           <col> 
          </colgroup> 
          <thead> 
           <tr> 
            <th scope="colgroup" colspan="4"> <p><strong>bbctt:item</strong></p> </th> 
           </tr> 
          </thead> 
          <tbody>
           <tr> 
            <th scope="row"> <p>Cardinality</p> </th> 
            <td colspan="3"> <p>In <code class="language-xml">bbctt:div</code>: 0..* | In <code class="language-xml">bbctt:chapter</code>: 1..* </p> </td> 
           </tr> 
           <tr> 
            <th scope="row"> <p>Parent</p> </th> 
            <td colspan="3"> <p><code class="language-xml">bbctt:div | bbctt:chapter</code></p> </td> 
           </tr> 
           <tr> 
            <th scope="row"> <p>Description</p> </th> 
            <td colspan="3"> <p>Generic container for the programme script elements.</p> </td> 
           </tr> 
           <tr> 
            <th scope="rowgroup" rowspan="4"> <p>Attributes</p> </th> 
            <th scope="col">Attribute</th> 
            <th scope="col">Required?</th> 
            <th scope="col">Type</th> 
           </tr> 
           <tr> 
            <td> <p><code class="language-xml">xml:id</code></p> </td> 
            <td> <p>Yes</p> </td> 
            <td> <p>string</p> </td> 
           </tr> 
           <tr> 
            <td> <p><code class="language-xml">begin</code></p> </td> 
            <td> <p>No</p> </td> 
            <td> <p><code class="language-xml">ebuttdt:timingType</code></p> </td> 
           </tr> 
           <tr> 
            <td> <p><code class="language-xml">end</code></p> </td> 
            <td> <p>No</p> </td> 
            <td> <p><code class="language-xml">ebuttdt:timingType</code></p> </td> 
           </tr> 
           <tr> 
            <th scope="row"> <p>Value</p> </th> 
            <td colspan="3"><code class="language-xml">&lt;bbctt:p&gt;, &lt;bbctt:itemid&gt;, &lt;bbctt:title&gt;, &lt;bbctt:associatedFile&gt;</code></td> 
           </tr> 
           <tr> 
            <th scope="row"> <p>Example</p> </th> 
            <td colspan="3"> <pre><code class="language-xml">&lt;bbctt:item xml:id="it1"&gt;
&lt;bbctt:p&gt;&lt;bbctt:span ttm:role="x-direction"&gt;Snow White&lt;/bbctt:span&gt;&lt;/bbctt:p&gt;
&lt;bbctt:p&gt;&lt;bbctt:span ttm:role="x-direction"&gt;(CONT’D)&lt;/bbctt:span&gt;&lt;/bbctt:p&gt;
&lt;/bbctt:item&gt;
</code></pre> </td> 
           </tr> 
          </tbody>
         </table> 
         <table> 
          <colgroup> 
           <col style="width: 20%;"> 
           <col> 
          </colgroup> 
          <thead> 
           <tr> 
            <th scope="colgroup" colspan="2"> <p><strong>bbctt:itemId</strong></p> </th> 
           </tr> 
          </thead> 
          <tbody> 
           <tr> 
            <th scope="row"> <p>Cardinality</p> </th> 
            <td> <p>0..*</p> </td> 
           </tr> 
           <tr> 
            <th scope="row"> <p>Parent</p> </th> 
            <td> <p><code class="language-xml">bbctt:item</code></p> </td> 
           </tr> 
           <tr> 
            <th scope="row"> <p>Description</p> </th> 
            <td> <p>Used to link an item with an external system</p> </td> 
           </tr> 
           <tr> 
            <th scope="row"> <p>Value</p> </th> 
            <td> <p><code class="language-xml">bbctt:itemId</code></p> </td> 
           </tr> 
           <tr> 
            <th scope="row"> <p>Example</p> </th> 
            <td></td> 
           </tr> 
          </tbody> 
         </table> 
         <table> 
          <colgroup> 
           <col style="width: 20%;"> 
           <col> 
          </colgroup> 
          <thead> 
           <tr> 
            <th scope="colgroup" colspan="2"> <p><strong>bbctt:title</strong></p> </th> 
           </tr> 
          </thead> 
          <tbody> 
           <tr> 
            <th scope="row"> <p>Cardinality</p> </th> 
            <td> <p>0..1</p> </td> 
           </tr> 
           <tr> 
            <th scope="row"> <p>Parent</p> </th> 
            <td> <p><code class="language-xml">bbctt:item</code></p> </td> 
           </tr> 
           <tr> 
            <th scope="row"> <p>Description</p> </th> 
            <td> <p>Used to link an item with an external system</p> </td> 
           </tr> 
           <tr> 
            <th scope="row"> <p>Value</p> </th> 
            <td> <p>[String]</p> </td> 
           </tr> 
           <tr> 
            <th scope="row"> <p>Example</p> </th> 
            <td></td> 
           </tr> 
          </tbody> 
         </table> 
         <table> 
          <colgroup> 
           <col style="width: 20%;"> 
           <col> 
          </colgroup> 
          <thead> 
           <tr> 
            <th scope="colgroup" colspan="2"> <p><strong>bbctt:associatedFile</strong></p> </th> 
           </tr> 
          </thead> 
          <tbody> 
           <tr> 
            <th scope="row"> <p>Cardinality</p> </th> 
            <td> <p>0..1</p> </td> 
           </tr> 
           <tr> 
            <th scope="row"> <p>Parent</p> </th> 
            <td> <p><code class="language-xml">bbctt:item</code></p> </td> 
           </tr> 
           <tr> 
            <th scope="row"> <p>Description</p> </th> 
            <td> <p>Used to link an item with an external system</p> </td> 
           </tr> 
           <tr> 
            <th scope="row"> <p>Value</p> </th> 
            <td> <p><code class="language-xml">bbctt:associatedFile</code></p> </td> 
           </tr> 
           <tr> 
            <th scope="row"> <p>Example</p> </th> 
            <td></td> 
           </tr> 
          </tbody> 
         </table> 
         <table> 
          <colgroup> 
           <col style="width: 20%;"> 
           <col> 
          </colgroup> 
          <thead> 
           <tr> 
            <th scope="colgroup" colspan="2"> <p><strong>bbctt:p</strong></p> </th> 
           </tr> 
          </thead> 
          <tbody> 
           <tr> 
            <th scope="row"> <p>Cardinality</p> </th> 
            <td> <p>1..*</p> </td> 
           </tr> 
           <tr> 
            <th scope="row"> <p>Parent</p> </th> 
            <td> <p><code class="language-xml">bbctt:item</code></p> </td> 
           </tr> 
           <tr> 
            <th scope="row"> <p>Description</p> </th> 
            <td> <p>A single script element (paragraph)</p> </td> 
           </tr> 
           <tr> 
            <th scope="row"> <p>Value</p> </th> 
            <td> <p>[Single <code class="language-xml">bbctt:span</code> element]</p> </td> 
           </tr> 
           <tr> 
            <th scope="row"> <p>Example</p> </th> 
            <td> <pre><code class="language-xml">&lt;bbctt:p&gt;
   &lt;bbctt:span ttm:role="x-direction"&gt;Snow White&lt;/bbctt:span&gt;
&lt;/bbctt:p&gt;
</code></pre> </td> 
           </tr> 
          </tbody> 
         </table> 
         <table> 
          <colgroup> 
           <col style="width: 20%;"> 
           <col> 
          </colgroup> 
          <thead> 
           <tr> 
            <th scope="colgroup" colspan="2"> <p><strong>bbctt:span</strong></p> </th> 
           </tr> 
          </thead> 
          <tbody> 
           <tr> 
            <th scope="row"> <p>Cardinality</p> </th> 
            <td> <p>1..1</p> </td> 
           </tr> 
           <tr> 
            <th scope="row"> <p>Parent</p> </th> 
            <td> <p>bbctt:p</p> </td> 
           </tr> 
           <tr> 
            <th scope="row"> <p>Description</p> </th> 
            <td> <p>A single line of script</p> </td> 
           </tr> 
           <tr> 
            <th scope="row"> <p>Value</p> </th> 
            <td> <p>[Dialogue or direction text]</p> </td> 
           </tr> 
           <tr> 
            <th scope="row"> <p>Example</p> </th> 
            <td><pre><code class="language-xml">&lt;bbctt:span
    ttm:role="dialog"
    ttm:agent="sp9"&gt;Snow white, wake up!&lt;/bbctt:span&gt;</code></pre></td> 
           </tr> 
          </tbody> 
         </table> 
         <h3>24.7 Embedded STL</h3> 
         <p>The STL file(s), if present, must be embedded within the EBU-TT file, within the element <code class="language-xml">ebuttm:binaryData</code>:</p> 
         <table> 
          <colgroup> 
           <col style="width: 20%;"> 
           <col> 
          </colgroup> 
          <thead> 
           <tr> 
            <th scope="colgroup" colspan="2"> <p><strong>ebuttm:binaryData</strong></p> </th> 
           </tr> 
          </thead> 
          <tbody> 
           <tr> 
            <th scope="row"> <p>Cardinality</p> </th> 
            <td> <p>0..*</p> </td> 
           </tr> 
           <tr> 
            <th scope="row"> <p>Parent</p> </th> 
            <td> <p><code class="language-xml">tt:metadata</code></p> </td> 
           </tr> 
           <tr> 
            <th scope="row"> <p>Description</p> </th> 
            <td> <p>Transitional requirement</p> </td> 
           </tr> 
           <tr> 
            <th scope="row"> <p>Value</p> </th> 
            <td> <p>[The complete STL file, BASE64 encoded. Type: EBU Tech 3264]</p> </td> 
           </tr> 
           <tr> 
            <th scope="row"> <p>Example</p> </th> 
            <td><pre><code class="language-xml">&lt;ebuttm:binaryData
    textEncoding="BASE64" binaryDataType="EBU Tech 3264"
    fileName="DRIB511W02.STL"&gt;ODUwU1RMMjUuMDExMD….&lt;/ebuttm:binaryData&gt;</code></pre></td> 
           </tr> 
          </tbody> 
         </table> 
        </section> <!-- ebu-tt-file --> 
        <section id="ebu-tt-d-file"> 
         <h2>25 EBU-TT-D file</h2> 
         <p><span class="flag-online">online</span> The file must conform to both EBU-TT-D 1.0.1 and IMSC 1.0.1 Text Profile standards. Subtitles must be relative to a programme begin time of 00:00:00.000. The timebase must be set to 'media'. </p> 
         <section> 
          <h3>25.1 Conformance with IMSC 1.0.1 Text Profile</h3> 
          <p>To allow the file to be played on as many devices as possible, the EBU-TT-D must also conform to the <a href="https://www.w3.org/TR/ttml-imsc1.0.1/">IMSC 1.0.1 Text Profile</a>, a closely related profile of TTML. In general, a valid EBU-TT-D document that conforms to these Guidelines will also conform to IMSC 1.0.1, provided that:</p> 
          <ul> 
           <li>It uses UTF-8 encoding</li> 
           <li>No more than 4 regions are active <i>at the same time</i> (any number of regions can be defined in the document, but no more than four can be used simultaneously).</li> 
           <li>The metadata element <code class="language-xml">ebuttm:conformsToStandard</code> is included with the value that corresponds to IMSC 1.0.1 (as well as the value that corresponds to EBU-TT-D 1.0.1):<br> <pre><code class="language-xml">
&lt;ebuttm:conformsToStandard&gt;http://www.w3.org/ns/ttml/profile/imsc1/text&lt;/ebuttm:conformsToStandard&gt;
&lt;ebuttm:conformsToStandard&gt;urn:ebu:tt:distribution:2018-04&lt;/ebuttm:conformsToStandard&gt;
</code></pre> </li> 
          </ul> 
          <p>IMSC 1.0.1 also imposes <a href="https://www.w3.org/TR/ttml-imsc1.0.1/#hypothetical-render-model">complexity contraints</a>, however these are not likely to be exceeded if you follow these guidelines. </p> 
         </section> 
         <section> 
          <h3>25.2 File name</h3> 
          <p><span class="flag-online">online</span> For scheduled programmes (with an On Air UID), the file must be named [UID with slash removed].ebuttd.xml. Contact the commissioning editor for guidance on file names for for non-scheduled content (where no UID exists).</p> 
          <p>Note that embedded STL files should not be included within EBU-TT-D documents.</p> 
         </section> 
         <section> 
          <h3>25.3 Character encoding</h3> 
          <p>The file must be UTF-8 encoded.</p> 
         </section> 
         <section id="Teletext-positions"> 
          <h3>25.4 Mapping Teletext positions to percentage positions</h3> 
          <p> There is no standard specification stating where the Teletext rendering area is located over video. Teletext was created when televisions had a 4:3 aspect ratio, so it is reasonable to assume that the Teletext rendering area was intended also to be 4:3. However most implementations avoid the edges of the screen, because televisions typically overscanned, which meant that the edges were not visible to the viewer. </p> 
          <p> As a rough basis then, positioning a 4:3 area in the central 90% vertically is a good starting point to keep the subtitles within the "safe area". Such an area within a 16:9 aspect ratio video would have a horizontal width of 67.5% of that root container region. </p> 
          <p> However, whereas Teletext was designed to be displayed using a monospaced font, modern systems typically use a proportionally spaced font. For double height text, as was traditionally used for subtitles, the Teletext approach was simply to create glyphs twice as tall, without modifying the width. Adopting the same approach today with proportionally spaced fonts is likely to result in text that is unpleasant to look at and hard to read: it would have to be a highly condensed variant of the font. </p> 
          <p> Instead, we need to find a balance between font size and line width that presents the text at a readable size while minimising the chance of unwanted line breaks in case the rendered text does not fit within the allocated space. Therefore the width available is extended to 75% of the 16:9 video area, with any additional space needed to accommodate line padding added on either side. </p> 
          <section> 
           <h4 id="Teletext-grid-positioning-requirements">25.4.1 Teletext grid positioning requirements</h4> 
           <p> Teletext specifies lines in the range 0-23, however no subtitles may be placed on line 0. Double height lines in Teletext occupy the line on which they are specified and the following line. Therefore there are 23 addressable single height lines and 22 addressable double height lines. </p> 
           <p> The top edge of text specified on line 1 must be positioned at 5% from the top of the root container region. The bottom edge of text specified on line 23 (single height) or line 23 (double height) must be positioned at 95% from the top of the root container region. </p> 
           <p> The following diagram illustrates this in visual form. Note that the underlying grid is virtual and that elements don't necessarily align to it. See <a href="#ttp-cellResolution"><code class="language-xml">ttp:cellResolution</code></a>. <img src="img/teletext_area_mapping.png" style="width: 100%;" alt="Diagram showing 16:9 EBU-TT-D root container region with centrally positioned Teletext area occupying 90% of the height and 75% of the width."> </p> 
           <p> Teletext subtitle lines begin with at least 3 or 4 spacing control characters, which set the box colour and the text colour if not white. Lines do not need to <em>end</em> with control characters, but may do so if the text does not run to the end of the line. Therefore there are a maximum of 37 characters per line, occupying positions 3-39 inclusive (zero-indexed). </p> 
           <p> The left edge of a character at position 3 must be positioned no less than 12.5% from the left of the root container region. The right edge of a character at position 39 must be positioned no more than 87.5% from the left of the root container region. </p> 
          </section> 
          <section> 
           <h4 id="Groups-of-Teletext-lines">25.4.2 Alignment of groups of lines</h4> 
           <p> Since Teletext does not signal any authorial intent behind the positioning of text, implementations may need to make inferences about how to align groups of more than one adjacent line that are visible at the same time. The algorithms for making those inferences may include content-based preferences and analysis of sequences of subtitles as they change over time, for example. </p> 
           <p> Groups of lines may each be considered as being aligned horizontally to their centre position if they are within a character of that position. For example, if three adjacent lines have respective centre points at positions 20.5, 21, and 21.5, a heuristic may consider them all to be centered about position 21. </p> 
           <p> Lines that are aligned to a left or right position should have the same position for their first or last character respectively. </p> 
           <p> In some cases it may be that more than one possible alignment exists. For example, those same three adjacent lines could all have the same left position. If there is any other indication of authorial intent available, then that should be honoured where possible. For example, within a sequence of left-aligned subtitles, a single centered subtitle looks strange, and is unlikely to have been intended. Conversely, within a sequence of centered subtitles, a single left-aligned subtitle looks odd. When subtitles are cumulative, centered subtitles should not be preferred, because the change in position when words are added to a line makes the text difficult to read. </p> 
           <p> Such adjacent lines should be placed within the same <a href="#tt:p"><code class="language-xml">tt:p</code></a> element and separated by <a href="#tt:br"><code class="language-xml">tt:br</code></a> elements. The style applied to the <code class="language-xml">tt:p</code> element should include a <a href="#tts-textAlign"><code class="language-xml">tts:textAlign</code></a> attribute set to the value corresponding to their alignment edge (or centre). </p> 
           <p> Those <code class="language-xml">tt:p</code> elements should be placed within regions positioned to apply the equivalent horizontal and vertical areas and whose <a href="#tts-displayAlign"><code class="language-xml">tts:displayAlign</code></a> attribute is set to an appropriate value depending on the position in the root container region. For example, regions at the top should be <code class="language-xml">"before"</code> edge aligned, and those at the bottom should be <code class="language-xml">"after"</code> edge aligned. Regions in the central vertical area may be <code class="language-xml">"center"</code> aligned. </p> 
           <p> Whereas Teletext is a monospaced system, typically the resulting subtitles will be presented using a proportionally spaced font. When the text is rendered, it may occupy more width than the original Teletext. To allow for this, where all the text in a <a href="tt-region"><code class="language-xml">tt:region</code></a> has the same value of <a href="#tts-textAlign"><code class="language-xml">tts:textAlign</code></a>, the left and right edges of the region should be extended such that the text is in the same position, up to the limits specified above. This reduces the chance of unexpected line breaks. </p> 
           <section> 
            <h5 class="notoc">Why is this important?</h5> 
            <p> Applying these rules should allow any text size customisation to retain appropriate relative positioning of each line, without introducing gaps between lines, for example. </p> 
            <p> Illustrative diagram: <img src="img/teletext_line_grouping.png" style="width: 100%;" alt="Diagram showing two adjacent lines in a Teletext area being mapped to a single p element in an extended region, with displayAlign and textAlign set according to the observed position of the lines, and two renderings, one at full size, the other at 70% size, where the smaller one keeps the lines together and correctly aligned."> </p> 
           </section> 
          </section> 
         </section> 
        </section> <!-- ebu-tt-d-file --> 
        <section id="timecode"> 
         <h2>26 Timecode</h2> 
         <p><span class="flag-broadcast">broadcast</span> Prepared subtitles for linear programmes must use the SMPTE timebase with a start of programme aligned to the source media. This is usually (but not always) 10:00:00:00. See the BBC’s <a href="https://www.bbc.co.uk/delivery/technical-requirements">Technical requirements for delivery</a> as AS-11 DPP files.</p> 
         <p><span class="flag-online">online</span> Prepared subtitles for online exclusives must be relative to a programme begin time of 00:00:00.000 .</p> 
         <p class="dev">EBU-TT (Part 1 v1) files captured from live created subtitles must set <code class="language-xml">bbctt:timecodeType</code> to <code class="language-xml">"timeOfDay"</code>. Time expressions must be in UTC. [EBU-TT 1.1] files should use <code class="language-xml">ttp:timeBase="clock"</code> and <code class="language-xml">ttp:clockMode="utc"</code> to indicate this information.<br> For implementation details, see <a href="#ttp-timeBase"><code class="language-xml">ttp:timeBase</code></a>.</p> 
        </section> <!-- timecode --> 
        <section id="ebu-tt-and-d-docs-in-detail"> 
         <h2>27 EBU-TT and EBU-TT-D Documents in detail</h2> 
         <p>This section contains detailed instruction for developers of subtitle authoring tools that output EBU-TT or EBU-TT-D documents, and for processors of those files. It is structured around the key TTML elements and attributes: see the example document below and click on elements and attributes to go to their respective section. </p> 
         <p>This is intended to be a developer-friendly view of the specifications, but not to replace them. However where BBC-specific constraints exist they are described, in relation to the subtitle guidelines that they support. The specifications remain authoritative and they should be consulted alongside this document: </p> 
         <ul> 
          <li><a href="https://www.w3.org/TR/ttml1/">TTML 1</a></li> 
          <li><a href="https://tech.ebu.ch/docs/tech/tech3350v1-0.pdf">EBU-TT 1.0</a></li> 
          <li><a href="https://tech.ebu.ch/publications/tech3380">EBU-TT-D 1.0.1</a></li> 
         </ul> 
         <p>Because closed subtitles are processed from file, it is possible for a presentation processor (e.g. a set-top box or a browser) to override the instructions in the subtitles file. Generally, the processor should respect the author's intentions. However, where requirements exist that are specific for the authoring or processing of subtitle documents, they are listed separately under the relevant XML element.</p> 
         <p>Note that in the spirit of an iterative process, there may be further releases making improvements to the developer guidance.</p> 
         <p>In particular, the focus here is on EBU-TT-D creation for online only subtitle delivery; where there is commonality with EBU-TT Part 1 delivery for archive and downstream conversion to a distribution format this is described; however we do not expect that all existing EBU-TT Part 1 delivery requirements are captured here.</p> 
         <p>All <a href="#How-to-contribute">feedback</a> is welcome.</p> 
         <section id="TTML-document-intro"> 
          <h3>27.1 Introduction to the TTML document structure</h3> 
          <p>TTML is a markup language based on XML, using structural elements like in HTML - <code class="language-xml">head</code>, <code class="language-xml">body</code>, <code class="language-xml">div</code>, <code class="language-xml">p</code> and <code class="language-xml">span</code> in the TTML <a href="#Namespaces">namespace</a> (shown in this document with the <code class="language-xml">tt:</code> prefix), with styling semantics taken from XSL-FO and timing semantics taken from SMIL. EBU-TT and EBU-TT-D are subsets of TTML with a couple of extensions. Styling and layout are applicative, in other words styling and positional information are defined and identified, and content specifies the styles and positioning by referencing those identified style and regions.</p> 
          <p>The top level <code class="language-xml">&lt;tt:tt&gt;</code> element carries parameters needed for presenting the content.</p> 
          <p>The <code class="language-xml">&lt;tt:head&gt;</code> element carries styling, layout and document level metadata.</p> 
          <p>The <code class="language-xml">&lt;tt:body&gt;</code> element carries the timed content that is to be presented, in a <a href="#tt-div"><code class="language-xml">&lt;tt:div&gt;</code></a>, <a href="#tt-p"><code class="language-xml">&lt;tt:p&gt;</code></a> and <a href="#tt-span"><code class="language-xml">&lt;tt:span&gt;</code></a>/<code class="language-xml">&lt;tt:br/&gt;</code> hierarchy. Content elements can be timed using <code class="language-xml">begin</code> and <code class="language-xml">end</code> attributes.</p> 
          <p>The following example illustrates this structure.</p> 
         </section> <!-- TTML intro --> 
         <section id="example-ebu-tt-d"> 
          <h3>27.2 Example EBU-TT-D document</h3> 
          <p>This example can also be downloaded <a href="codesamples/ebu-tt-d_example.xml" target="_blank" title="Opens new window">here</a>.</p> 
          <pre style="font-size:.80em; line-height:1.2em;" class="line-numbers"><code class="language-xml">
&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;tt xmlns="http://www.w3.org/ns/ttml"
  xmlns:ttp="http://www.w3.org/ns/ttml#parameter" 
  xmlns:tts="http://www.w3.org/ns/ttml#styling"
  xmlns:ebutts="urn:ebu:tt:style"
  xmlns:ebuttm="urn:ebu:tt:urn:ebu:tt:metadata"
  <a href="#ttp-timeBase">ttp:timeBase</a>="media"
  <a href="#ttp-cellResolution">ttp:cellResolution</a>="32 15"
  xml:lang="en" &gt;
  &lt;head&gt;
   &lt;metadata&gt;
     &lt;ebuttm:documentMetadata&gt;
       &lt;ebuttm:conformsToStandard&gt;urn:ebu:tt:distribution:2018-04&lt;/ebuttm:conformsToStandard&gt;
       &lt;ebuttm:conformsToStandard&gt;http://www.w3.org/ns/ttml/profile/imsc1/text&lt;/ebuttm:conformsToStandard&gt;
     &lt;/ebuttm:documentMetadata&gt;
   &lt;/metadata&gt;
     &lt;!-- 
       The styling element defines the styles that will be applied to &lt;p&gt; and &lt;span&gt; tags. 
       EBU-TT uses referenced styles only - inline styles are not supported. 
     --&gt;
    &lt;styling&gt;
      &lt;style xml:id="paragraphStyle" 
        <a href="#tts-fontFamily">tts:fontFamily</a>="ReithSans, Arial, Roboto, proportionalSansSerif, default" 
        <a href="#tts-fontSize">tts:fontSize</a>="100%" 
        <a href="#tts-lineHeight">tts:lineHeight</a>="120%"
        <a href="#tts-textAlign">tts:textAlign</a>="center"
        <a href="#tts-wrapOption">tts:wrapOption</a>="noWrap" 
        <a href="#ebutts-multiRowAlign">ebutts:multiRowAlign</a>="center" 
        <a href="#ebutts-linePadding">ebutts:linePadding</a>="0.5c" /&gt; 
      &lt;style xml:id="spanStyle"
        <a href="#tts-color">tts:color</a>="#FFFFFF" 
        <a href="#tts-backgroundColor">tts:backgroundColor</a>="#000000" /&gt;
      &lt;style xml:id="yellowStyle"
        <a href="#tts-color">tts:color</a>="#FFFF00" 
        <a href="#tts-backgroundColor">tts:backgroundColor</a>="#000000" /&gt;
    &lt;/styling&gt;
    &lt;!-- 
      The layout element defines the regions where subtitle text is displayed.
      Here, a top and a bottom regions are defined, with a clearance of 2 lines of
      text from the top and bottom. 
      With a cell resolution of 32 by 15, a font height of 100% (of cell height) equals 
      6.66% (100/15). A line height of 120% of the font size equals 8% of the height of 
      the active video (1.2 x 6.66). Each region accommodates 3 lines of text:
      3 x 8% = 24% which sets the region's height.
      The width of the regions is set at 71.25% to take into account any potential centre 
      cut of 16:9 video on 4:3 displays. The amount of text that can fit within one line 
      is restricted by its size and also by the required application of 1c of line 
      padding (2 x 0.5c). This width has been calculated also to accommodate the
      maximum 38 characters that can be practically put on a Teletext line at this font
      size, where the font is not unusually wide.
    --&gt;
    &lt;layout&gt;
      &lt;<a href="#tt-region">region</a> xml:id="topRegion" 
        <a href="#tts-origin">tts:origin</a>="14.375% 16%" 
        <a href="#tts-extent">tts:extent</a>="71.25% 24%" 
        <a href="#tts-displayAlign">tts:displayAlign</a>="before" 
        <a href="#tts-writingMode">tts:writingMode</a>="lrtb" 
        <a href="#tts-overflow">tts:overflow</a>="visible" /&gt;
      &lt;region xml:id="bottomRegion" 
        <a href="#tts-origin">tts:origin</a>="14.375% 60%" 
        <a href="#tts-extent">tts:extent</a>="71.25% 24%" 
        <a href="#tts-displayAlign">tts:displayAlign</a>="after" 
        <a href="#tts-writingMode">tts:writingMode</a>="lrtb" 
        <a href="#tts-overflow">tts:overflow</a>="visible" /&gt;
    &lt;/layout&gt;
 &lt;/head&gt;
 &lt;body&gt;
  &lt;!-- 
    The intended use of DIVs is to hold semantic information, for example sections
    within a programme. DIVs are not intended to be used for presentation, although 
    style applied to them would cascade to descendent elements. 
  --&gt;
  <a href="#tt-div">&lt;div&gt;</a>
    &lt;!-- 
      A paragraph holds a single subtitle of one or more lines, with a 
      time range and region allocation. 
    --&gt;
    &lt;<a href="#tt-p">p</a> xml:id="subtitle1" region="bottomRegion" style="paragraphStyle"
      begin="00:00:10.000" end="00:00:20.000"&gt;
      &lt;!-- 
        A span is used to apply style to the text, by reference. 
      --&gt;
      &lt;<a href="#tt-span">span</a> style="spanStyle"&gt;Beware the Jubjub bird, and shun 
      &lt;br/&gt;
      The frumious Bandersnatch!&lt;/span&gt;
    &lt;/p&gt;    
    &lt;<a href="#tt-p">p</a> xml:id="subtitle2" region="topRegion" style="paragraphStyle"
      begin="00:00:30.000" end="00:00:31.000"&gt;
      &lt;!-- 
        Nesting &lt;span&gt; elements is not allowed in EBU-TT-D.
        Avoid white space characters (e.g. space, linebreak, tab, carriage return) 
        between &lt;span&gt; elements as these may render as gaps 
        (see <a href="#tts-backgroundColor">backgroundColor</a>).
        The space between words in adjacent spans should be inserted at the
        end of the first &lt;span&gt;, or more usually, at the beginning of the
        second &lt;span&gt;.
      --&gt;
      &lt;<a href="#tt-span">span</a> style="spanStyle"&gt;This subtitle is in the top region.&lt;br/&gt;
      it contains one word in&lt;/span&gt;&lt;<a href="#tt-span">span</a> style="yellowStyle"&gt; yellow&lt;/span&gt;&lt;<a href="#tt-span">span</a> 
      style="spanStyle"&gt; colour.&lt;/span&gt;
    &lt;/p&gt;
  &lt;/div&gt;
 &lt;/body&gt;
&lt;/tt&gt;
</code></pre> 
          <p>This illustration shows how the document above is interpreted (only the subtitle text and the black background will be displayed). Note that the underlying grid is virtual and that elements don't necessarily align to it. See <a href="#ttp-cellResolution"><code class="language-xml">ttp:cellResolution</code></a>.</p> 
          <p>Displayed between 00:00:10 and 00:00:20</p> 
          <img src="img/EBU-TT-D_illustration1.png" alt="Image showing rendering of example, with text 'Beware the Jubjub bird' etc in lower region of image, on a 32x15 cell grid." style="width:700px;"> 
          <p>Displayed between 00:00:30 and 00:00:31</p> 
          <img src="img/EBU-TT-D_illustration2.png" alt="Image showing rendering of example, with text 'This subtitle is in the top region' etc in upper region of image, on a 32x15 cell grid. The word 'yellow' is coloured yellow; the other words are white." style="width:700px;"> 
         </section> <!-- example EBU-TT-D --> <!-- namespaces --> 
         <section id="namespaces"> 
          <h3>27.3 Namespaces</h3> 
          <p>In the following tables, prefixes are used as shortcuts for the following namespaces:</p> 
          <table> 
           <colgroup> 
            <col style="width: 15%;"> 
            <col style="width: 50%;"> 
            <col> 
           </colgroup> 
           <thead> 
            <tr> 
             <th scope="col">Prefix</th> 
             <th scope="col">Namespace</th> 
             <th scope="col">Notes</th> 
            </tr> 
           </thead> 
           <tbody> 
            <tr> 
             <td><code class="language-xml">tt:</code></td> 
             <td><code class="language-xml">http://www.w3.org/ns/ttml</code></td> 
             <td>The main TTML namespace</td> 
            </tr> 
            <tr> 
             <td><code class="language-xml">ttp:</code></td> 
             <td><code class="language-xml">http://www.w3.org/ns/ttml#parameter</code></td> 
             <td>The TTML parameter namespace</td> 
            </tr> 
            <tr> 
             <td><code class="language-xml">tts:</code></td> 
             <td><code class="language-xml">http://www.w3.org/ns/ttml#styling</code></td> 
             <td>The TTML styling namespace - for style attributes</td> 
            </tr> 
            <tr> 
             <td><code class="language-xml">ttm:</code></td> 
             <td><code class="language-xml">http://www.w3.org/ns/ttml#metadata</code></td> 
             <td>The TTML metadata namespace</td> 
            </tr> 
            <tr> 
             <td><code class="language-xml">ebutts:</code></td> 
             <td><code class="language-xml">urn:ebu:tt:style</code></td> 
             <td>The EBU-TT and EBU-TT-D style extension namespace</td> 
            </tr> 
            <tr> 
             <td><code class="language-xml">ebuttm:</code></td> 
             <td><code class="language-xml">urn:ebu:tt:metadata</code></td> 
             <td>The EBU-TT and EBU-TT-D metadata extension namespace</td> 
            </tr> 
            <tr> 
             <td><code class="language-xml">ittp:</code></td> 
             <td><code class="language-xml">http://www.w3.org/ns/ttml/profile/imsc1#parameter</code></td> 
             <td>The IMSC Parameter namespace</td> 
            </tr> 
            <tr> 
             <td><code class="language-xml">itts:</code></td> 
             <td><code class="language-xml">http://www.w3.org/ns/ttml/profile/imsc1#styling</code></td> 
             <td>The IMSC Styling namespace</td> 
            </tr> 
           </tbody> 
          </table> 
          <p> Note that although the examples in this document explicitly include the <code class="language-xml">tt:</code> prefix, there is no requirement that real world documents do so. For example a common approach is to declare the <em>default</em> XML namespace prefix to be the main TTML namespace, and then omit the relevant prefixes. </p> 
          <div class="technical-example">
            For example: 
           <pre><code class="language-xml">
&lt;tt xmlns="http://www.w3.org/ns/ttml" ... &gt;
                            </code></pre> is equivalent to: 
           <pre><code class="language-xml">
&lt;tt:tt xmlns:tt="http://www.w3.org/ns/ttml" ... &gt;
                            </code></pre> which is in turn equivalent to: 
           <pre><code class="language-xml">
&lt;someotherprefix:tt xmlns:someotherprefix="http://www.w3.org/ns/ttml" ... &gt;
                            </code></pre> 
          </div> 
         </section> <!-- name spaces --> 
         <section id="parameterAttributes"> 
          <h3>27.4 Parameter Attributes</h3> <!-- timeBase --> 
          <section id="ttp:timeBase"> 
           <h4>27.4.1 ttp:timeBase</h4> 
           <p><em>BBC-specific requirements apply.</em></p> 
           <section> 
            <h5 class="notoc">Description</h5> 
            <p>Defines the time coordinate system for all time expressions.</p> 
            <ul> 
             <li>If the timebase is <code class="language-xml">"smpte"</code>, subtitle begin and end time expressions are interpreted in the SMPTE 12M-1-2008 system: hh:mm:ss:ff (hour:minute:second:frame). If this timebase is used, <code class="language-xml">ttp:markerMode</code>, <code class="language-xml">ttp:dropMode</code>, <code class="language-xml">ttp:frameRate</code> and <code class="language-xml">ttp:frameRateMultiplier</code> attributes must be specified on the <code class="language-xml">tt</code> element.</li> 
             <li>If the timebase is <code class="language-xml">"media"</code>, begin and end times denote a coordinate on the time-line of a media object. This can be either: 
              <ul> 
               <li>Full-Clock-value: hh:mm:ss followed by an optional fraction with a leading period, e.g. 02:30:03, 01:00:10.25</li> 
               <li>Timecount-value: value followed by an optional fraction and a symbol for the time metric, e.g. 3.2h (3 hours and 12 minutes). Allowed time metrics are h, m, s, ms (millisecond)</li> 
              </ul> </li> 
            </ul> 
            <p> <span class="flag-EBU-TT-D">EBU-TT-D</span> <code class="language-xml">ttp:timeBase</code> must be set to <code class="language-xml">"media"</code> and only a Full-Clock-value time expressions are allowed. </p> 
            <table> 
             <colgroup> 
              <col style="width: 20%;"> 
              <col> 
             </colgroup> 
             <tbody> 
              <tr> 
               <th scope="row">Cardinality</th> 
               <td>1..1</td> 
              </tr> 
              <tr> 
               <th scope="row">BBC requirement</th> 
               <td><span class="flag-EBU-TT-10">EBU-TT 1.0</span> <code class="language-xml">ttp:timeBase</code> must be set to <code class="language-xml">"smpte"</code> . </td> 
              </tr> 
              <tr> 
               <th scope="row">Values</th> 
               <td>"media" | "smpte"<br> <span class="flag-EBU-TT-D">EBU-TT-D</span> Only <code class="language-xml">"media"</code> is allowed.<br> <span class="flag-EBU-TT-10">EBU-TT 1.0</span> Only <code class="language-xml">"smpte"</code> is allowed.</td> 
              </tr> 
              <tr> 
               <th scope="row">Default value</th> 
               <td></td> 
              </tr> 
              <tr> 
               <th scope="row">Example</th> 
               <td></td> 
              </tr> 
              <tr> 
               <th scope="row">Reference</th> 
               <td><a href="https://tech.ebu.ch/docs/tech/tech3350v1-0.pdf">Section 4.12 of EBU-TT</a></td> 
              </tr> 
             </tbody> 
            </table> 
           </section> 
           <section> 
            <h5 class="notoc">Document Requirements</h5> 
            <ul class="requirements-list"> 
             <li> <p><strong>Shall</strong> requirement:</p> <p><span class="flag-EBU-TT-D">EBU-TT-D</span> For EBU-TT-D output, set <code class="language-xml">ttp:timeBase</code> to <code class="language-xml">"media"</code> and use full clock time expressions on <code class="language-xml">begin</code> and <code class="language-xml">end</code> attributes.</p> 
              <div class="technical-example"> 
               <p>Example:</p> 
               <pre><code class="language-xml">
&lt;!-- 
EBU-TT-D must use "media" timebase and 
Full Clock format time expressions.
--&gt;
&lt;tt:tt ttp:timeBase="media" ... /&gt;
...
&lt;!-- 
Begin and end times in Full clock, 
optional fraction with leading period 
--&gt;
&lt;tt:p begin="01:00:10.25" end="01:00:11" ... &gt;
&lt;tt:span style="spanStyle"&gt;Subtitle text.&lt;/tt:span&gt;
&lt;/tt:p&gt;
&lt;tt:p begin="01:00:12.345" end="01:00:23.456" ... &gt;
&lt;tt:span style="spanStyle"&gt;More Subtitle text.&lt;/tt:span&gt;
&lt;/tt:p&gt;
... </code></pre> 
              </div> </li> 
             <li> <p><strong>Shall</strong> requirement:</p> <p><span class="flag-EBU-TT-10">EBU-TT 1.0</span> For EBU-TT output, set <code class="language-xml">ttp:timeBase="smpte"</code>, also set <code class="language-xml">ttp:dropMode</code>, <code class="language-xml">ttp:markerMode</code>, <code class="language-xml">ttp:frameRate</code> and <code class="language-xml">ttp:frameRateMultiplier</code></p> 
              <div class="technical-example"> 
               <p>Example:</p> 
               <pre><code class="language-xml">
&lt;!-- 
If SMPTE timebase is used, these elements 
are also required: 
ttp:frameRate - used to 
interpret SMPTE time expressions 
ttp:frameRateMultiplier - applied to 
compute the effective frame rate.
If the frame rate is a whole number of 
frames per second then the value 
of frameRateMultiplier is "1 1" 
ttp:markerMode -  value must be 
"discontinuous". 
See specification for details.
ttp:dropMode - specifies constraints on 
the interpretation and use of 
frame counts associated with SMPTE timebase.
When the calculation of the framerate from
the ttp:frameRate and  ttp:frameRateMultiplier 
results in an integer then the value is "nonDrop". 
See <a href="https://www.w3.org/TR/ttml1/#parameter-attribute-dropMode">TTML</a> 
--&gt;
&lt;tt:tt 
ttp:timeBase="smpte" ttp:frameRate="24" 
ttp:frameRateMultiplier="1 1" ttp:markerMode="discontinuous"  
ttp:dropMode ="nonDrop"... /&gt;
...
&lt;!-- Begin and end times in hh:mm:ss:ff SMPTE format --&gt;
&lt;tt:p begin="01:31:59:07" end="01:32:04:22" ... &gt;
    &lt;tt:span style="spanStyle"&gt;Subtitle text.&lt;/tt:span&gt;
&lt;/tt:p&gt;
... 
</code></pre> 
              </div> </li> 
            </ul> 
           </section> 
           <section> 
            <h5 class="notoc">Processor requirements</h5> 
            <ul class="requirements-list"> 
             <li> <p><strong>Shall</strong> requirement:</p> <p>Attempt to display subtitles as close as possible to their respective begin and end times, regardless of the actual displayed frame rate. See <a href="https://tech.ebu.ch/publications/tech3380">Annex E of EBU-TT-D specification</a>.</p> </li> 
            </ul> 
           </section> 
          </section> <!-- ^ timeBase --> <!-- cellResolution --> 
          <section id="ttp:cellResolution"> 
           <h4>27.4.2 ttp:cellResolution</h4> 
           <p><em>BBC-specific requirements apply.</em></p> 
           <section> 
            <h5 class="notoc">Description</h5> 
            <p> Expresses a virtual 2 dimensional grid of cells. The first value defines the number of columns and the second value defines the number of rows. The cell height ('c' unit) is used as the basis for calculating font size and therefore indirectly line height. For example, the default value <code class="language-xml">"32 15"</code> creates a cell with height 6.66% (=100/15) and width 3.125% (=100/32) of the root container region's height and width. The root container region is defined as the active video area in EBU-TT but implementation defined in EBU-TT-D. </p> 
            <p> Font size percentages are relative to the parent element's font size, or if none is set, the cell height. For example a font size of 100% set on an element with no ancestor that sets font size would be computed as 1/15 (=6.66%) of the root container region height; a line height of 120% applied to that would be 120% of the font size, i.e. 1.2 * 1/15 = 8%. </p> 
            <p> <span class="flag-EBU-TT-10">EBU-TT 1.0</span> If the ‘cell’ measurement unit is used (e.g. as part of a <code class="language-xml">tts:fontSize</code> attribute value) then the <code class="language-xml">ttp:cellResolution</code> attribute must be specified. </p> 
            <table> 
             <colgroup> 
              <col style="width: 20%;"> 
              <col> 
             </colgroup> 
             <tbody> 
              <tr> 
               <th scope="row">Cardinality</th> 
               <td>0..1</td> 
              </tr> 
              <tr> 
               <th scope="row">BBC requirement</th> 
               <td>This attribute is required (cardinality: 1..1).</td> 
              </tr> 
              <tr> 
               <th scope="row">Values</th> 
               <td>Two integers separated by a space.</td> 
              </tr> 
              <tr> 
               <th scope="row">Default value</th> 
               <td><span class="flag-EBU-TT-D">EBU-TT-D</span> "32 15"<br> <span class="flag-EBU-TT-10">EBU-TT 1.0</span> "40 24"</td> 
              </tr> 
              <tr> 
               <th scope="row">Example</th> 
               <td><a href="https://github.com/IRT-Open-Source/irt-ebu-tt-d-application-samples/blob/master/ttml/cellresolution-001-ttml.xml"> XML</a> | <a href="https://github.com/IRT-Open-Source/irt-ebu-tt-d-application-samples/blob/master/png/cellresolution-001-image.png"> Image</a></td> 
              </tr> 
              <tr> 
               <th scope="row">Reference</th> 
               <td><a href="https://www.w3.org/TR/ttml1/#parameter-attribute-cellResolution">https://www.w3.org/TR/ttml1/#parameter-attribute-cellResolution</a></td> 
              </tr> 
              <tr> 
               <th scope="row">Presentation</th> 
               <td>Cell resolution is used for setting the <a href="#Size">font size</a> and therefore the <a href="#Line-length">line length</a>. It is also used to set the <a href="#Size">line padding of the background colour</a>. Cell units may also be used in the definition of regions that control <a href="#Vertical-positioning">vertical</a> and <a href="#Use-horizontal-positioning">horizontal</a> positioning.</td> 
              </tr> 
             </tbody> 
            </table> 
           </section> 
           <section> 
            <h5 class="notoc">Document Requirements</h5> 
            <ul class="requirements-list"> 
             <li> <p><strong>Shall</strong> requirement:</p> <p> <span class="flag-EBU-TT-10">EBU-TT 1.0</span> Set the cell resolution explicitly even if using the default value. </p> 
              <div class="technical-example"> 
               <p>Example:</p> 
               <pre><code class="language-xml">
&lt;tt:tt ttp:cellResolution="32 15" ... &gt;
                                                </code></pre> 
              </div> </li> 
            </ul> 
           </section> 
           <section> 
            <h5 class="notoc">Processor Requirements</h5> 
            <ul class="requirements-list"> 
             <li> <p><strong>Shall</strong> requirement:</p> <p>The calculated font size must fit within a line height of between 7% and 9% of the active video height. See <a href="#Size">Section 10.2 Font size</a></p> </li> 
            </ul> 
           </section> 
          </section> <!-- ^ cellResolution --> <!-- activeArea --> 
          <section id="ittp:activeArea"> 
           <h4>27.4.3 ittp:activeArea</h4> 
           <section> 
            <h5 class="notoc">Description</h5> 
            <p>Describes the area within the root container region that contains subtitles, i.e. the area that needs to be minimally visible to the viewer. This area typically fully contains all of the referenced regions within the Document Instance.</p> 
            <p>The active area may be used by a player to ensure that the subtitles remain in the visible area of the screen if the player area is not the same shape as the video image, for example.</p> 
            <table> 
             <colgroup> 
              <col style="width: 20%;"> 
              <col> 
             </colgroup> 
             <tbody> 
              <tr> 
               <th scope="row">Cardinality</th> 
               <td>0..1</td> 
              </tr> 
              <tr> 
               <th scope="row">BBC requirements</th> 
               <td>This attribute is optional (cardinality: 0..1) and should be present.</td> 
              </tr> 
              <tr> 
               <th scope="row">Values</th> 
               <td>Four percentages separated by spaces, representing respectively left, top, width and height.</td> 
              </tr> 
              <tr> 
               <th scope="row">Default value</th> 
               <td><code class="language-xml">"0% 0% 100% 100%"</code></td> 
              </tr> 
              <tr> 
               <th scope="row">Reference</th> 
               <td><a href="https://www.w3.org/TR/ttml-imsc1.0.1/#ittp-activeArea">https://www.w3.org/TR/ttml-imsc1.0.1/#ittp-activeArea</a></td> 
              </tr> 
              <tr> 
               <th scope="row">Presentation</th> 
               <td>There are no specific presentation requirements for active area, however players should ensure that all of the active area is visible within the player window. </td> 
              </tr> 
             </tbody> 
            </table> 
           </section> 
           <section> 
            <h5 class="notoc">Document Requirements</h5> 
            <ul class="requirements-list"> 
             <li> <p><strong>Should</strong> requirement:</p> <p><span class="flag-EBU-TT-D">EBU-TT-D</span> Specify the active area.</p> 
              <div class="technical-example"> 
               <pre><code class="language-xml">
&lt;tt:tt ... ittp:activeArea="12% 5% 76% 90%" ... &gt;
                                            </code></pre> 
              </div> </li> 
            </ul> 
           </section> 
           <section> 
            <h5 class="notoc">Processor Requirements</h5> 
            <ul class="requirements-list"> 
             <li> <p><strong>Should</strong> requirement:</p> <p> The visible area of the video must include the specified active area occupied by subtitles. In normal conditions the registration or positional alignment of the subtitle rendering area against the video image must not be modified to achieve this. The exception would be if the subtitle rendering area is adjusted temporarily for example to accommodate controls. </p> </li> 
            </ul> 
           </section> 
          </section> 
         </section> <!-- parameterAttributes --> 
         <section id="styleAttributes"> 
          <h3>27.5 Style Attributes</h3> <!-- fontFamily --> 
          <section id="tts:fontFamily"> 
           <h4>27.5.1 tts:fontFamily</h4> 
           <section> 
            <h5 class="notoc">Description</h5> 
            <p> Sets a generic or a named font family. This attribute can contain a prioritised list of font names, which are typically processed in order until a match is found, thus allowing predictable fallbacks to be used. This list may be evaluated on a per glyph basis to deal with the case where most glyphs are present in a font but later fonts include specific required glyphs omitted from earlier fonts, for example.</p> 
            <table> 
             <colgroup> 
              <col style="width: 20%;"> 
              <col> 
             </colgroup> 
             <tbody> 
              <tr> 
               <th scope="row">Cardinality</th> 
               <td>0..1</td> 
              </tr> 
              <tr> 
               <th scope="row">BBC requirement</th> 
               <td>Set the font family to <code class="language-xml">ReithSans, Arial, Roboto, proportionalSansSerif, default</code> for all content in the document. <br> This can be done efficiently for example by referencing a style that includes a <code class="language-xml">tts:fontFamily</code> specification from the <code class="language-xml">body</code> element, or by ensuring that every <code class="language-xml">style</code> specifies a <code class="language-xml">tts:fontFamily</code> itself or, for EBU-TT, references another <code class="language-xml">style</code> that does. </td> 
              </tr> 
              <tr> 
               <th scope="row">Values</th> 
               <td><code class="language-xml">"default" | "monospace" | "sansSerif" | "serif" | "monospaceSansSerif" | "monospaceSerif" | "proportionalSansSerif" | "proportionalSerif" | [named font]</code></td> 
              </tr> 
              <tr> 
               <th scope="row">Default value</th> 
               <td><code class="language-xml">"default"</code></td> 
              </tr> 
              <tr> 
               <th scope="row">Reference</th> 
               <td>See informative discussion of font usage in section 2.7 of <a href="https://tech.ebu.ch/publications/tech3350">EBU-TT part 1.</a> The font family data type is defined in <a href="https://www.w3.org/TR/ttml1/#style-attribute-fontFamily">https://www.w3.org/TR/ttml1/#style-attribute-fontFamily</a></td> 
              </tr> 
              <tr> 
               <th scope="row">Presentation</th> 
               <td>Used to specify the subtitle <a href="#Fonts">font</a>. The choice of font also determines the <a href="#Size">line height</a> and may also affect the <a href="#Supported-characters">supported characters</a>. Because fonts have different widths, changing the font may also alter the <a href="#Line-length">width of each line</a>.</td> 
              </tr> 
             </tbody> 
            </table> 
           </section> 
           <section> 
            <h5 class="notoc">Document Requirements</h5> 
            <ul class="requirements-list"> 
             <li> <p><strong>Shall</strong> requirement:</p> <p> Set to Reith Sans, fall back to device-specific and then generic proportional sans-serif fonts so that the end device uses its default font (e.g. Roboto in Android). </p> 
              <div class="technical-example"> 
               <p>Example:</p> 
               <pre><code class="language-xml">
&lt;tt:style xml:id="s0"
   tts:fontFamily="ReithSans, Arial, Roboto, proportionalSansSerif, default" ...&gt;
                                            </code></pre> 
              </div> </li> 
            </ul> 
           </section> 
           <section> 
            <h5 class="notoc">Processor Requirements</h5> 
            <ul class="requirements-list"> 
             <li> <p><strong>Shall</strong> requirement:</p> <p>Map a generic font family name to the best appropriate matching font on the device.</p> </li> 
             <li> <p><strong>Shall</strong> requirement:</p> <p>Use downloadable fonts if available.</p> </li> 
             <li> <p><strong>Shall</strong> requirement:</p> <p> Fall back to the system defined sans serif font if a downloadable font is not available. Prefer proportional fonts if there is a choice. </p> </li> 
            </ul> 
           </section> 
          </section> <!-- fontFamily --> <!-- fontSize --> 
          <section id="tts:fontSize"> 
           <h4>27.5.2 tts:fontSize</h4> 
           <p><em>BBC-specific requirements apply.</em></p> 
           <section> 
            <h5 class="notoc">Description</h5> 
            <p><span class="flag-EBU-TT-10">EBU-TT 1.0</span> Sets the font size using percent, pixel or cell values. Double values can be used to set height and width separately, known as anamorphic font sizing - this scales the font by different amounts horizontally and vertically.</p> 
            <p><span class="flag-EBU-TT-D">EBU-TT-D</span> Sets the font size using a percentage of cell height value (see <a href="#ttp:cellResolution">cell resolution</a>). A single value only can be used. </p> 
            <p> Percentage values are relative to the parent element's font size, or the cell size when the parent element (and every ancestor) has no specified font size. </p> 
            <table> 
             <colgroup> 
              <col style="width: 20%;"> 
              <col> 
             </colgroup> 
             <tbody> 
              <tr> 
               <th scope="row">Cardinality</th> 
               <td>0..1</td> 
              </tr> 
              <tr> 
               <th scope="row">BBC requirement</th> 
               <td>The font size shall be explicitly set, without relying on the default initial value.<br> The computed value of font size must be appropriate to result in the correct size relative to the active video. This can be achieved by setting a value of <a href="#ttp-cellResolution"><code class="language-xml">ttp:cellResolution</code></a> and referencing a <code class="language-xml">style</code> that includes a <code class="language-xml">tts:fontSize</code> specification from the <code class="language-xml">body</code> element, or by ensuring that the <code class="language-xml">style</code> specifies a <code class="language-xml">tts:fontSize</code> itself or references another <code class="language-xml">style</code> that does.<br> <strong>Note</strong> that applying <code class="language-xml">tts:fontSize</code> attributes to more than one element in the same hierarchy, e.g. both a <code class="language-xml">div</code> and its parent <code class="language-xml">p</code> results in the percentages being <i>multiplied</i> together, not overridding each other. </td> 
              </tr> 
              <tr> 
               <th scope="row">Values</th> 
               <td><span class="flag-EBU-TT-10">EBU-TT 1.0</span>one or two positive decimals followed by "%", "px" or "c". If a single value is specified, then this length applies equally to horizontal and vertical scaling; if two values are specified, then the first expresses the horizontal scaling and the second expresses vertical scaling. If "c" is used then ttp:cellResolution must be specified. If "px" is used, then tts:extent must be specified.<br> <span class="flag-EBU-TT-D">EBU-TT-D</span> one percentage value (of cell height). "c" and "px" are not allowed.</td> 
              </tr> 
              <tr> 
               <th scope="row">Default value</th> 
               <td><span class="flag-EBU-TT-10">EBU-TT 1.0</span> "1c 2c"<br> <span class="flag-EBU-TT-D">EBU-TT-D</span> "100%"</td> 
              </tr> 
              <tr> 
               <th scope="row">Example</th> 
               <td>EBU-TT-D font size at 80%: <a href="https://github.com/IRT-Open-Source/irt-ebu-tt-d-application-samples/blob/master/ttml/fontsize-001-ttml.xml"> XML</a> | <a href="https://github.com/IRT-Open-Source/irt-ebu-tt-d-application-samples/blob/master/png/fontsize-001-image.png"> Image</a></td> 
              </tr> 
              <tr> 
               <th scope="row">Reference</th> 
               <td>EBU-TT 1.0 data type: <a href="https://tech.ebu.ch/docs/tech/tech3350v1-0.pdf">Section 4.5 of the specification</a><br> EBU-TT-D: <a href="https://tech.ebu.ch/publications/tech3380">Section 4.7 of the specification</a></td> 
              </tr> 
              <tr> 
               <th scope="row">Presentation</th> 
               <td>Used to set the font <a href="#Size">size</a>.</td> 
              </tr> 
             </tbody> 
            </table> 
           </section> 
           <section> 
            <h5 class="notoc">Document Requirements</h5> 
            <ul class="requirements-list"> 
             <li> <p><strong>Should</strong> requirement:</p> <p> For BBC subtitles, set the font size to be approximately 1/15th (6.667%) of the height of the root container, for example by setting <code class="language-xml">ttp:cellResolution</code> to <code class="language-xml">"32 15"</code> and <code class="language-xml">tts:fontSize</code> to <code class="language-xml">"100%"</code>. </p> 
              <div class="technical-example"> 
               <p>Example:</p> 
               <pre><code class="language-xml">
&lt;tt:tt 
   [namespace, parameter, style attributes etc.]
   ttp:cellResolution="32 15"&gt;
...
   &lt;tt:style
      xml:id="defaultSpanStyle" 
      [other style attributes]
      tts:fontSize="100%" /&gt;
                                            </code></pre> 
              </div> </li> 
            </ul> 
           </section> 
           <section> 
            <h5 class="notoc">Processor Requirements</h5> 
            <ul class="requirements-list"> 
             <li> <p><strong>Shall</strong> requirement:</p> <p> Calculate percentage values relative to the parent element's font size, if specified, or the cell size otherwise. </p> 
              <div class="technical-example"> 
               <p>Example:</p> 
               <pre><code class="language-xml">
&lt;tt:tt 
   [namespace, other parameter, style attributes etc.] 
   ttp:cellResolution="32 15"&gt;
...
   &lt;tt:style
      xml:id="bigStyle" 
      tts:fontSize="150%"/&gt;
   &lt;tt:style 
      xml:id="smallStyle" 
      tts:fontSize="50%"/&gt;
...
   &lt;tt:div style="bigStyle"&gt;
      &lt;tt:p&gt;Big text&lt;/&gt;
      &lt;!-- 
      The text on the above line will
      render at 150% of the cell height 
      --&gt;
      &lt;tt:p style="smallStyle"&gt;Small text&lt;/tt:p&gt;
      &lt;!-- 
      The text on the above line will render at
      50% of 150% (i.e. 75%) of the cell height 
      --&gt;
   &lt;/tt:div&gt;
                                            </code></pre> 
              </div> </li> 
             <li> <p><strong>Should</strong> requirement:</p> <p> Apply a scaling factor if Reith Sans is being used and the line height is less than 133% of the font size. (see <a href="#reith-adjustments">Additional adjustments for Reith Sans font</a>). </p> </li> 
             <li> <p><strong>Should</strong> requirement:</p> <p> Apply a scaling factor based on the device's physical screen size (see <a href="#Presentation-font-size">Presentation font size</a>). </p> 
              <div class="technical-example"> 
               <p>Example:</p> 
               <p> For a 32" TV and an authored font size corresponding to the <a href="#Authoring-font-size">authored font size guideline</a>, apply a scaling factor of 0.67 so that the computed font size is as though the font size was specified at 67% of cell height. </p> 
              </div> </li> 
             <li> <p><strong>Shall</strong> requirement:</p> <p> Apply scaling factors cumulatively. </p> 
              <div class="technical-example"> 
               <p>Example:</p> 
               <p> A player supports Reith Sans and the subtitle document specifies that Reith Sans is to be used. The subtitle document specifies a line height of 120%, so a scaling factor of ~0.9 needs to be applied. The processor also needs to apply a scaling factor of 0.67 for display on a 32" TV. </p> 
               <p> The actual scaling factor to be applied is <code class="language-xml">0.9 * 0.67 = ~0.6</code>. </p> 
              </div> </li> 
            </ul> 
           </section> 
          </section> <!-- fontSize --> <!-- lineHeight --> 
          <section id="tts:lineHeight"> 
           <h4>27.5.3 tts:lineHeight</h4> 
           <section> 
            <h5 class="notoc">Description</h5> 
            <p>Sets inter-baseline separation between line areas.</p> 
            <p> Note that there is no uniform implementation of the value "normal" by CSS-based rendering processors. Additionally, different browsers render different line heights for the same font and size. This contributes to a known issue where a gap appears between lines of text. See also <a href="#itts:fillLineGap"><code class="language-xml">itts:fillLineGap</code></a>. </p> 
            <p> The example below illustrates this: different fonts of the same size were used, with a line height set to "normal". Processors should render as on the right example, without a gap between the lines: </p> 
            <p> <img title="Example images for lineHeight." alt="Two example renderings, each with two lines of text, the one on the left showing a gap between the lines' background areas, the one on the right without a gap." src="img/ttsLineHeightGap.png"> </p> 
            <table> 
             <colgroup> 
              <col style="width: 20%;"> 
              <col> 
             </colgroup> 
             <tbody> 
              <tr> 
               <th scope="row">Cardinality</th> 
               <td>0..1</td> 
              </tr> 
              <tr> 
               <th scope="row">Values</th> 
               <td><code class="language-xml">"normal" | [Percent]</code></td> 
              </tr> 
              <tr> 
               <th scope="row">Default value</th> 
               <td>"normal"</td> 
              </tr> 
              <tr> 
               <th scope="row">Example</th> 
               <td>Line height set at 125%: <a href="https://github.com/IRT-Open-Source/irt-ebu-tt-d-application-samples/blob/master/ttml/lineheight-001-ttml.xml"> XML</a> | <a href="https://github.com/IRT-Open-Source/irt-ebu-tt-d-application-samples/blob/master/png/lineheight-001-image.png"> Image</a></td> 
              </tr> 
              <tr> 
               <th scope="row">Reference</th> 
               <td><a href="https://www.w3.org/TR/ttml1/#style-attribute-lineHeight">https://www.w3.org/TR/ttml1/#style-attribute-lineHeight</a></td> 
              </tr> 
              <tr> 
               <th scope="row">Presentation</th> 
               <td>Line height sets the distance between baselines of successive lines of text. The number of lines that fit within a region is therefore affected by line height: subtitles may occupy <a href="#Avoid-3-lines-or-more">up to 3 lines</a>.</td> 
              </tr> 
             </tbody> 
            </table> 
           </section> 
           <section> 
            <h5 class="notoc">Document Requirements</h5> 
            <ul class="requirements-list"> 
             <li> <p><strong>Should</strong> requirement:</p> <p> Set the line height explicitly on a style applied to a <code class="language-xml">&lt;p&gt;</code> element using percentage values, evaluated relative to the computed font size.</p> 
              <div class="technical-example"> 
               <p>Example:</p> 
               <pre><code class="language-xml">
&lt;tt:style xml:id="paragraphStyle" tts:lineHeight="120%" ... /&gt;
...
&lt;tt:p xml:id="p123" style="paragraphStyle"&gt;...&lt;/tt:p&gt;
                                            </code></pre> 
              </div> </li> 
             <li> <p><strong>Should</strong> requirement:</p> <p> Set <code class="language-xml">tts:lineHeight="120%"</code> to accommodate commonly used web fonts. </p> </li> 
            </ul> 
           </section> 
           <section> 
            <h5 class="notoc">Processor Requirements</h5> 
            <ul class="requirements-list"> 
             <li> <p><strong>Shall</strong> requirement:</p> <p> Calculate the line height for a line area using the font's ascender, descender and lineGap attributes, including leading if available. </p> </li> 
             <li> <p><strong>Should</strong> requirement:</p> <p> Apply a scaling factor if Reith Sans is being used and the line height is less than 133% of the font size. (see <a href="#reith-adjustments">Additional adjustments for Reith Sans font</a>). </p> </li> 
            </ul> 
           </section> 
          </section> <!-- lineHeight --> <!-- textAlign --> 
          <section id="tts:textAlign"> 
           <h4>27.5.4 tts:textAlign</h4> 
           <section> 
            <h5 class="notoc">Description</h5> 
            <p> Alignment of inline areas in a containing block. The alignment values <code class="language-xml">"start"</code> and <code class="language-xml">"end"</code> depend on the value of the writing mode, which in turn depends on the Unicode bidi mode and the style attributes <code class="language-xml">tts:unicodeBidi</code>, <code class="language-xml">tts:direction</code> and <code class="language-xml">tts:writingMode</code> applied to the element.</p> 
            <p> See also <code class="language-xml"><a href="#ebutts-multiRowAlign">ebutts:multiRowAlign</a></code>, which provides extra alignment options. </p> 
            <table> 
             <colgroup> 
              <col style="width: 20%;"> 
              <col> 
             </colgroup> 
             <tbody> 
              <tr> 
               <th scope="row">Cardinality</th> 
               <td>0..1</td> 
              </tr> 
              <tr> 
               <th scope="row">Values</th> 
               <td><code class="language-xml">"left" | "center" | "right" | "start" | "end"</code></td> 
              </tr> 
              <tr> 
               <th scope="row">Default value</th> 
               <td><span class="flag-EBU-TT-10">EBU-TT 1.0</span> <code class="language-xml">"center"</code><br> <span class="flag-EBU-TT-D">EBU-TT-D</span> <code class="language-xml">"start"</code><br> [TTML] <code class="language-xml">"start"</code></td> 
              </tr> 
              <tr> 
               <th scope="row">Example</th> 
               <td>Text align end: <a href="https://github.com/IRT-Open-Source/irt-ebu-tt-d-application-samples/blob/master/ttml/textalign-end-001-ttml.xml"> XML</a> | <a href="https://github.com/IRT-Open-Source/irt-ebu-tt-d-application-samples/blob/master/png/textalign-end-001-image.png"> Image</a></td> 
              </tr> 
              <tr> 
               <th scope="row">Reference</th> 
               <td><a href="https://tech.ebu.ch/publications/tech3350">https://tech.ebu.ch/publications/tech3350</a> - see Appendix A for the effects of different combinations with tts:multiRowAlign </td> 
              </tr> 
              <tr> 
               <th scope="row">Presentation</th> 
               <td>With <code class="language-xml">tt:region</code> and <code class="language-xml">ebutts:multiRowAlign</code>, used for horizontal positioning of subtitles for <a href="#Identifying-speakers">speaker identification</a> and to <a href="#Centre-lyrics-subtitles">centre song lyrics</a> (within a sequence of left- or right-aligned subtitles). This property is also used to control <a href="#Breaks-in-justified-subtitles">breaks in justified subtitles</a>.</td> 
              </tr> 
             </tbody> 
            </table> 
           </section> 
           <section> 
            <h5 class="notoc">Document Requirements</h5> 
            <ul class="requirements-list"> 
             <li> <p><strong>Shall</strong> requirement:</p> <p>Set this explicitly even if using defaults. <span class="flag-EBU-TT-10">EBU-TT 1.0</span></p> 
              <div class="technical-example"> 
               <p>Example:</p> 
               <pre><code class="language-xml">
&lt;tt:style xml:id="paragraphStyle" tts:textAlign="center"/&gt;
...
&lt;tt:p xml:id="p123" style="paragraphStyle"&gt;...&lt;/tt:p&gt;</code></pre> 
              </div> </li> 
            </ul> 
           </section> 
           <section> 
            <h5 class="notoc">Processor Requirements</h5> 
            <ul class="requirements-list"> 
             <li> <p> <strong>Should</strong> requirement if only supporting left to right scripts; <strong>Shall</strong> requirement if support for any non-Latin or non-left-to-right text is required: </p> <p> Support Unicode characters and the Unicode bidirectional algorithm (<a href="https://unicode.org/reports/tr9/">UAX9</a>). </p> </li> 
             <li> <p> <strong>Shall</strong> requirement: </p> <p> Calculate text alignment correctly based on the value of <code class="language-xml">tts:textAlign</code>, the Unicode bidirectional algorithm, and all defined values of <a href="https://www.w3.org/TR/ttml1/#style-attribute-unicodeBidi"><code class="language-xml">tts:unicodeBidi</code></a> and <a href="https://www.w3.org/TR/ttml1/#style-attribute-direction"><code class="language-xml">tts:direction</code></a> and <a href="https://www.w3.org/TR/ttml1/#style-attribute-writingMode"><code class="language-xml">tts:writingMode</code></a>. </p> 
              <div class="technical-example"> 
               <p>Example:</p> 
               <pre><code class="language-xml">
&lt;tt:region
   xml:id="topRegion" 
   [origin, extent, other attributes]
   tts:writingMode="lrtb" /&gt;
&lt;tt:style
   xml:id="startStyle" 
   [other style attributes]
   tts:textAlign="start"/&gt;
&lt;tt:style
   xml:id="rtlStyle"
   tts:unicodeBidi="bidiOverride"
   tts:direction="rtl"/&gt;
...
&lt;!-- 
The lines below will be left aligned 
(start = left here) 
--&gt;
&lt;tt:p region="topRegion" style="leftStyle"&gt; 
Little birds are playing&lt;br/&gt;
Bagpipes on the shore,&lt;br/&gt;
&lt;!-- 
The line below will display
".erons stsiruot eht erehw" 
and will be right aligned 
(start = right for rtl) 
--&gt;
  &lt;tt:span style="rtlStyle"&gt;
    where the tourists snore.
  &lt;/tt:span&gt;
&lt;/tt:p&gt;
                                            </code></pre> 
              </div> </li> 
             <li> <p><strong>Shall</strong> requirement:</p> <p> Calculate text alignment relative to the region after taking into account any start or end padding. </p> </li> 
             <li> <p><strong>Shall</strong> requirement:</p> <p> Align the line areas generated by a <a href="#tt-p"><code class="language-xml">&lt;tt:p&gt;</code></a> element after applying any line padding; for example, if there is <code class="language-xml">0.5c</code> of line padding applied to each line area and <code class="language-xml">1c</code> of start and end padding on the region, then the first glyph of a left aligned line area will be <code class="language-xml">1.5c</code> to the right of the region origin's x coordinate. </p> </li> 
            </ul> 
           </section> 
          </section> <!-- textAlign --> <!-- wrapOption --> 
          <section id="tts:wrapOption"> 
           <h4>27.5.5 tts:wrapOption</h4> 
           <p><span class="flag-EBU-TT-D">EBU-TT-D</span> only.</p> 
           <section> 
            <h5 class="notoc">Description</h5> 
            <p> In EBU-TT-D only, defines whether automatic line wrapping applies within an element. If the value is <code class="language-xml">"wrap"</code>, automated line-breaking occurs if the line overflows the region. If the value is <code class="language-xml">"noWrap"</code>, no automated line-breaking occurs and overflow is treated in accordance with the value of <code class="language-xml">tts:overflow</code> attribute of the corresponding region. </p> 
            <p> Note that if <code class="language-xml">tts:wrapOption</code> is set to <code class="language-xml">"noWrap"</code>, the region that corresponds to the affected content should have the attribute <a href="#tts-overflow"><code class="language-xml">tts:overflow</code></a> set to <code class="language-xml">"visible"</code> so that any overflowing text remains visible. </p> 
            <p> Although the default value is "wrap", it is better to have the subtitler, rather than the software, control line breaks by inserting <code class="language-xml">&lt;tt:br/&gt;</code>. Subtitlers and authoring software are expected to manage the width of text on each line so that the text does not overflow. </p> 
            <p> There is no constraint on adding manual breaks regardless of the value of <code class="language-xml">tts:wrapOption</code>. </p> 
            <table> 
             <colgroup> 
              <col style="width: 20%;"> 
              <col> 
             </colgroup> 
             <tbody> 
              <tr> 
               <th scope="row">Cardinality</th> 
               <td>0..1</td> 
              </tr> 
              <tr> 
               <th scope="row">Values</th> 
               <td><code class="language-xml">"wrap" | "noWrap"</code></td> 
              </tr> 
              <tr> 
               <th scope="row">Default value</th> 
               <td>"wrap"</td> 
              </tr> 
              <tr> 
               <th scope="row">Example</th> 
               <td> Text overflows with <code class="language-xml">tts:wrapOption="noWrap"</code>: <a href="https://github.com/IRT-Open-Source/irt-ebu-tt-d-application-samples/blob/master/ttml/wrapoption-nowrap-001-ttml.xml"> XML</a> | <a href="https://github.com/IRT-Open-Source/irt-ebu-tt-d-application-samples/blob/master/png/wrapoption-nowrap-001-image.png"> Image</a></td> 
              </tr> 
              <tr> 
               <th scope="row">Reference</th> 
               <td><a href="https://www.w3.org/TR/ttml1/#style-attribute-wrapOption">TTML</a> | <a href="https://tech.ebu.ch/publications/tech3380">EBU-TT-D</a></td> 
              </tr> 
              <tr> 
               <th scope="row">Presentation</th> 
               <td>Because <a href="#Line-breaks">good line breaks</a> and <a href="#Long-sentences">handling of long sentences</a> are essential to quality subtitles, it is expected that the subtitler will enter those manually and automatic wrapping will be disabled. </td> 
              </tr> 
             </tbody> 
            </table> 
           </section> 
           <section> 
            <h5 class="notoc">Document Requirements</h5> 
            <ul class="requirements-list"> 
             <li> <p><strong>Should</strong> requirement:</p> <p> Disable automatic line wrapping so that the editor creates line break manually. </p> 
              <div class="technical-example"> 
               <p>Examples:</p> 
               <ul> 
                <li> <p> Set <code class="language-xml">tts:wrapOption="noWrap"</code>; </p> </li> 
                <li> <p> separate lines of content by putting into separate <a href="#tt-p"><code class="language-xml">&lt;tt:p&gt;</code></a> elements or by inserting <code class="language-xml">&lt;tt:br/&gt;</code> elements </p> </li> 
               </ul> 
              </div> </li> 
             <li> <p><strong>Shall</strong> requirement:</p> <p> <span class="flag-EBU-TT-10">EBU-TT 1.0</span> For EBU-TT 1.0, do not include this attribute. </p> </li> 
             <li> <p><strong>Should</strong> requirement:</p> <p> If <code class="language-xml">tts:wrapOption</code> is set to <code class="language-xml">"noWrap"</code>, set the attribute <code class="language-xml">tts:overflow</code> to <code class="language-xml">"visible"</code> on the region that corresponds to the affected content. </p> </li> 
             <li> <p><strong>Should</strong> requirement:</p> <p> When deriving break points, use the <a href="https://unicode.org/reports/tr14/">UAX14 line breaking algorithm</a>. </p> </li> 
            </ul> 
           </section> 
           <section> 
            <h5 class="notoc">Processor Requirements</h5> 
            <ul class="requirements-list"> 
             <li> <p><strong>Should</strong> requirement:</p> <p> Use the <a href="https://unicode.org/reports/tr14/">UAX14 line breaking algorithm</a>. </p> <p> Note that when the document has <code class="language-xml">tts:wrapOption="noWrap"</code> the line breaking algorithm will not apply. </p> </li> 
             <li> <p><strong>Shall</strong> requirement:</p> <p> If the text overflows its region, attempt to display the overflow (even if ugly) so that viewers who depend on subtitles don't miss important information. </p> </li> 
             <li> <p><strong>Shall</strong> requirement:</p> <p> <span class="flag-EBU-TT-10">EBU-TT 1.0</span> For EBU-TT processing, this attribute should be ignored and manual line breaks used instead. See <a href="https://tech.ebu.ch/docs/tech/tech3350v1-0.pdf">page 33 of the specification</a> </p> </li> 
            </ul> 
           </section> 
          </section> <!-- wrapOption --> <!-- multiRowAlign --> 
          <section id="ebutts:multiRowAlign"> 
           <h4>27.5.6 ebutts:multiRowAlign</h4> 
           <section> 
            <h5 class="notoc">Description</h5> 
            <p>Defines how multiple ‘rows’ of inline areas are aligned relative to each other within a containing block area.</p> 
            <p>This attribute acts as a ‘modifier’ to the action defined by the <code class="language-xml">tts:textAlign</code> attribute value, whether that value is explicitly or implicitly specified. This attribute effectively creates additional alignment points for multiple rows of text, thus <em>it has no effect if only a single row of text is present</em>.</p> 
            <p><code class="language-xml">ebutts:multiRowAlign</code> modifies the behaviour of <code class="language-xml"><a href="#tts-textAlign">tts:textAlign</a></code> so that, rather than each line generated by the <a href="#tt-p"><code class="language-xml">tt:p</code></a> being aligned relative to the region, each line in the group can be left/centre/right aligned relative to the longest line and the group of lines is then aligned according to <code class="language-xml">tts:textAlign</code>. See the references for more detail on this. </p> 
            <table> 
             <colgroup> 
              <col style="width: 20%;"> 
              <col> 
             </colgroup> 
             <tbody> 
              <tr> 
               <th scope="row">Cardinality</th> 
               <td>0..1</td> 
              </tr> 
              <tr> 
               <th scope="row">Values</th> 
               <td><span class="flag-EBU-TT-10">EBU-TT 1.0</span> "start" | "center" | "end" | "auto"</td> 
              </tr> 
              <tr> 
               <th scope="row">Default value</th> 
               <td>"auto"</td> 
              </tr> 
              <tr> 
               <th scope="row">Example</th> 
               <td>Combination of tts:textAlign="start" and ebutts:multiRowAlign="end": <a href="https://github.com/IRT-Open-Source/irt-ebu-tt-d-application-samples/blob/master/ttml/multirow-align-start-end-001-ttml.xml"> XML</a> | <a href="https://github.com/IRT-Open-Source/irt-ebu-tt-d-application-samples/blob/master/png/multirow-align-start-end-001-image.png"> Image</a></td> 
              </tr> 
              <tr> 
               <th scope="row">Reference</th> 
               <td> <p><span class="flag-EBU-TT-10">EBU-TT 1.0</span> <a href="https://tech.ebu.ch/publications/tech3350">https://tech.ebu.ch/publications/tech3350</a><br> <span class="flag-EBU-TT-D">EBU-TT-D</span> Annex C in <a href="https://tech.ebu.ch/publications/tech3380">https://tech.ebu.ch/publications/tech3380</a></p> </td> 
              </tr> 
              <tr> 
               <th scope="row">Presentation</th> 
               <td>No editorial requirement exists for using multiRowAlign in these guidelines however it is permitted to use it if the need arises. </td> 
              </tr> 
             </tbody> 
            </table> 
           </section> 
           <section> 
            <h5 class="notoc">Processor Requirements</h5> 
            <ul class="requirements-list"> 
             <li> <p><strong>Shall</strong> requirement:</p> <p> If the <code class="language-xml">ebutts:multiRowAlign</code> attribute as specified on a <a href="#tt-p"><code class="language-xml">tt:p</code></a> element has the same value as <code class="language-xml">tts:textAlign</code> or is set to <code class="language-xml">"auto"</code>, each generated line area in the <a href="#tt-p"><code class="language-xml">tt:p</code></a> shall be aligned according to the computed value of <code class="language-xml">tts:textAlign</code>. </p> 
              <div class="technical-example"> 
               <p>Example:</p> 
               <pre><code class="language-xml">
&lt;tt:style xml:id="paragraphStyle" 
tts:textAlign="center" 
ebutts:multiRowAlign="center" 
tts:lineHeight="120%"/&gt;
...
&lt;tt:p xml:id="subtitle1" region="top" 
begin="00:00:30.000" end="00:00:31.000" 
style="paragraphStyle"&gt;
These two lines &lt;tt:br/&gt;
Will be centred.
&lt;/tt:p&gt; 
                                            </code></pre> 
              </div> </li> 
             <li> <p><strong>Shall</strong> requirement:</p> <p> The behaviour of this attribute in combination with <code class="language-xml">tts:textAlign</code> is as defined in Annex C in <a href="https://tech.ebu.ch/publications/tech3380">https://tech.ebu.ch/publications/tech3380</a>. </p> 
              <div class="technical-example"> 
               <p>Example:</p> 
               <pre><code class="language-xml">
&lt;tt:style xml:id="startEnd" 
tts:textAlign="start" 
ebutts:multiRowAlign="end"/&gt;
...
&lt;tt:p xml:id="subtitle1" region="regionTop" 
style="startEnd" begin="00:00:00" 
end="00:00:03"&gt;
  Longer line left-aligned in the region.
  &lt;tt:br/&gt;
  shorter right-aligned with "region.".
&lt;/tt:p&gt;
                                        </code></pre> 
              </div> </li> 
            </ul> 
           </section> 
          </section> <!-- multiRowAlign --> <!-- LinePadding --> 
          <section id="ebutts:linePadding"> 
           <h4>27.5.7 ebutts:linePadding</h4> 
           <p><span class="flag-EBU-TT-D">EBU-TT-D</span> only.</p> 
           <p><em>BBC-specific requirements apply.</em></p> 
           <section> 
            <h5 class="notoc">Description</h5> 
            <p> In EBU-TT-D only, adds padding on the start and end edges of each rendered line. Background color applies to the line area including the padding. </p> 
            <p> Application of padding affects the layout of text, for example by reducing the maximum width available in which to render text on a single line (see <a href="#Line-length">line length</a> and <a href="#tt-region">region</a> definition). Note this attribute is different from <code class="language-xml">tts:padding</code>, which applies space to a region (and in TTML2, to other content elements). Must be applied to <a href="#tt-p"><code class="language-xml">tt:p</code></a> only. </p> 
            <table> 
             <colgroup> 
              <col style="width: 20%;"> 
              <col> 
             </colgroup> 
             <tbody> 
              <tr> 
               <th scope="row">Cardinality</th> 
               <td>0..1</td> 
              </tr> 
              <tr> 
               <th scope="row">BBC requirements</th> 
               <td>All content must have a computed value for this style that is the equivalent to half a character on each side (see Document Requirements below). <br> This can be achieved for example by referencing a style that includes an <code class="language-xml">ebutts:linePadding</code> specification from the <code class="language-xml">tt:body</code> element, or by ensuring that every <code class="language-xml">style</code> attribute applied to a <a href="#tt-p"><code class="language-xml">tt:p</code></a> element specifies an <code class="language-xml">ebutts:linePadding</code> value itself or references another <code class="language-xml">tt:style</code> element that does.</td> 
              </tr> 
              <tr> 
               <th scope="row">Values</th> 
               <td>Non-negative decimal appended by "c".</td> 
              </tr> 
              <tr> 
               <th scope="row">Default value</th> 
               <td><code class="language-xml">"0c"</code></td> 
              </tr> 
              <tr> 
               <th scope="row">Example</th> 
               <td>Subtitle with line padding: <a href="https://github.com/IRT-Open-Source/irt-ebu-tt-d-application-samples/blob/master/ttml/linepadding-001-ttml.xml"> XML</a> | <a href="https://github.com/IRT-Open-Source/irt-ebu-tt-d-application-samples/blob/master/png/linepadding-001-image.png"> Image</a></td> 
              </tr> 
              <tr> 
               <th scope="row">Reference</th> 
               <td>See <a href="https://tech.ebu.ch/publications/tech3350">Annex D of the EBU-TT part 1 specification</a> for a detailed description of how the attribute can be used.</td> 
              </tr> 
              <tr> 
               <th scope="row">Presentation</th> 
               <td>The primary use of line padding is to add an extra area of background colour to both sides of a subtitle line, as described in <a href="#Size">typography</a>. Line padding also affects <a href="#Line-length">the length of lines</a> since it adds to the space taken up by text within a region.</td> 
              </tr> 
             </tbody> 
            </table> 
           </section> 
           <section> 
            <h5 class="notoc">Document Requirements</h5> 
            <ul class="requirements-list"> 
             <li> <p><strong>Shall</strong> requirement:</p> <p> <span class="flag-EBU-TT-D">EBU-TT-D</span> For EBU-TT-D, set line padding to approximately half a character width. This should be calculated from the aspect ratio, the grid and the font size. For the purposes of the calculation, 1em can be assumed to be equal to the font size. </p> 
              <div class="technical-example"> 
               <p> The following example calculation uses non-recommended values for illustration purposes only. </p> 
               <p> Assuming an aspect ratio of 16:9, a cellResolution of "32 15" and a font size of 80%: </p> 
               <ul> 
                <li>font height = 5.33% of video height (80% x 100% / 15)</li> 
                <li>font width (also 1em), expressed as a fraction of the width of the root container region: 2.99% (5.33% x 9 / 16)</li> 
                <li>0.5em = 1.495% (2.99 / 2)</li> 
                <li>Expressed in cells: 0.47 (32 * 1.495 / 100)</li> 
               </ul> 
               <pre><code class="language-xml">ebutts:linePadding="0.47c"</code></pre> 
              </div> </li> 
            </ul> 
           </section> 
           <section> 
            <h5 class="notoc">Processor Requirements</h5> 
            <ul class="requirements-list"> 
             <li> <p><strong>Should</strong> requirement:</p> <p> If no line padding exists and there is sufficient space available, add 0.5c of padding on the sides of each line. Note that the recommended behaviour for <code class="language-xml">tts:overflow</code> is that it is <code class="language-xml">"visible"</code> and that <code class="language-xml">tts:wrapOption</code> is <code class="language-xml">"noWrap"</code>. </p> </li> 
             <li> <p><strong>Shall</strong> requirement:</p> <p> When laying out line areas inset the line areas by twice the value of <code class="language-xml">ebutts:linePadding</code> from the start and end edges of the region, after having applied any <code class="language-xml">tts:padding</code> values. </p> </li> 
             <li> <p><strong>Should</strong> requirement:</p> <p>If scaling down the font size, also reduce the line padding.</p> <p> If scaling the line padding, it may be reduced by up to the same percentage as the relative reduction in font size (i.e., if multiplying the font size by 50%, the line padding may be multiplied by a value in the range 50%-100%).</p> </li> 
            </ul> 
           </section> 
          </section> <!-- linePadding --> <!-- Color --> 
          <section id="tts:color"> 
           <h4>27.5.8 tts:color</h4> 
           <p><em>BBC-specific requirements apply.</em></p> 
           <section> 
            <h5 class="notoc">Description</h5> 
            <p>The foreground (text) color of an area.</p> 
            <table> 
             <colgroup> 
              <col style="width: 20%;"> 
              <col> 
             </colgroup> 
             <tbody> 
              <tr> 
               <th scope="row">Cardinality</th> 
               <td>0..1</td> 
              </tr> 
              <tr> 
               <th scope="row">BBC requirements</th> 
               <td>The text colour must be explicitly set to a value that is one of the values listed below (see Document Requirements).</td> 
              </tr> 
              <tr> 
               <th scope="row">Values</th> 
               <td><span class="flag-EBU-TT-D">EBU-TT-D</span> Hex notated RGB color triple (e.g. <code class="language-xml">"#000000"</code>) or a hex notated RGBA color tuple (e.g. <code class="language-xml">"#000000FF"</code>).<br> <span class="flag-EBU-TT-10">EBU-TT 1.0</span> permits both RGB triple and RGBA tuple values as well as named colours.</td> 
              </tr> 
              <tr> 
               <th scope="row">Default value</th> 
               <td>Undefined (see below)</td> 
              </tr> 
              <tr> 
               <th scope="row">Example</th> 
               <td></td> 
              </tr> 
              <tr> 
               <th scope="row">Reference</th> 
               <td>EBU-TT-D colour datatype: <a href="https://tech.ebu.ch/publications/tech3380">Section 4.2 in https://tech.ebu.ch/publications/tech3380</a></td> 
              </tr> 
              <tr> 
               <th scope="row">Presentation</th> 
               <td>The primary use of colour is to <a href="#Identifying-speakers">identify speakers</a>. Only a limited set of <a href="#Speaker-colours">speaker colours</a> is allowed. Most subtitlies are in <a href="#Use-white-on-black">white text on black</a>.</td> 
              </tr> 
             </tbody> 
            </table> 
           </section> 
           <section> 
            <h5 class="notoc">Document Requirements</h5> 
            <ul class="requirements-list"> 
             <li> <p><strong>Shall</strong> requirement:</p> <p>Set the default font colour to white <code class="language-xml">"#FFFFFF"</code></p> 
              <div class="technical-example"> 
               <p>Example:</p> 
               <pre><code class="language-xml">
&lt;tt:style 
   xml:id="defaultParagraphStyle"
   tts:color="#FFFFFF" 
   tts:textAlign="center" 
   ebutts:multiRowAlign="center" 
   tts:lineHeight="120%"/&gt;
&lt;tt:style 
   xml:id="defaultSpanStyle" 
   tts:backgroundColor="#000000"/&gt;
&lt;tt:style 
   xml:id="yellowSpan" 
   tts:color="#FFFF00" /&gt;
...
&lt;tt:p 
   xml:id="subtitle3" 
   begin="00:00:30.000" end="00:00:31.000" 
   style="defaultParagraphStyle"&gt;
   &lt;tt:span 
      style="defaultSpanStyle yellowSpan"&gt;
      This subtitle is in yellow that overrides 
      the white in the defaultParagraph style.
   &lt;/tt:span&gt;
&lt;/tt:p&gt;
                                            </code></pre> 
              </div> </li> 
             <li> <p><strong>Shall</strong> requirement:</p> <p> The attribute can have one of these values only (see <a href="#Speaker-colours">Speaker Colours</a>): </p> 
              <ul> 
               <li><code class="language-xml">"#FFFFFF"</code> (white),</li> 
               <li><code class="language-xml">"#FFFF00"</code> (yellow),</li> 
               <li><code class="language-xml">"#00FFFF"</code> (cyan),</li> 
               <li><code class="language-xml">"#00FF00"</code> (green)</li> 
              </ul> </li> 
            </ul> 
           </section> 
           <section> 
            <h5 class="notoc">Processor Requirements</h5> 
            <ul class="requirements-list"> 
             <li> <p><strong>Shall</strong> requirement:</p> <p>Apply the specified colour to text.</p> </li> 
            </ul> 
           </section> 
          </section> <!-- color --> <!-- backgroundColor --> 
          <section id="tts:backgroundColor"> 
           <h4>27.5.9 tts:backgroundColor</h4> 
           <p><em>BBC-specific requirements apply.</em></p> 
           <section> 
            <h5 class="notoc">Description</h5> 
            <p> Background colour of an inline area generated by a <a href="#tt-span"><code class="language-xml">&lt;tt:span&gt;</code></a> element. This attribute can also be applied to block elements and other colours are supported, but BBC subtitles use black background applied to <code class="language-xml">&lt;tt:span&gt;</code> elements only. </p> 
            <p> Note that the TTML <code class="language-xml">tts:opacity</code> attribute is not supported by EBU-TT and EBU-TT-D but alpha values may be included on RGB colours. </p> 
            <table> 
             <colgroup> 
              <col style="width: 20%;"> 
              <col> 
             </colgroup> 
             <tbody> 
              <tr> 
               <th scope="row">Cardinality</th> 
               <td>0..1</td> 
              </tr> 
              <tr> 
               <th scope="row">BBC requirements</th> 
               <td>The background colour must be explicitly set on all text content in the document to a value equivalent to solid black.<br> This can be done by wrapping all text in a <code class="language-xml">span</code> element that references a style that includes a <code class="language-xml">tts:backgroundColor</code> specification.</td> 
              </tr> 
              <tr> 
               <th scope="row">Values</th> 
               <td><span class="flag-EBU-TT-D">EBU-TT-D</span> Hex notated RGB color triple (e.g. <code class="language-xml">"#000000"</code>) or a hex notated RGBA color tuple (e.g. <code class="language-xml">"#000000FF"</code>).<br> <span class="flag-EBU-TT-10">EBU-TT 1.0</span> permits both RGB triple and RGBA tuple values as well as named colours.</td> 
              </tr> 
              <tr> 
               <th scope="row">Default value</th> 
               <td><code class="language-xml">"transparent"</code></td> 
              </tr> 
              <tr> 
               <th scope="row">Example</th> 
               <td>EBU-TT-D with background colours applied to both <code class="language-xml">&lt;tt:span&gt;</code> and <code class="language-xml">&lt;tt:p&gt;</code>: <a href="https://github.com/IRT-Open-Source/irt-ebu-tt-d-application-samples/blob/master/ttml/backgroundColor-region-p-span-001-ttml.xmlhttps://github.com/IRT-Open-Source/irt-ebu-tt-d-application-samples/blob/master/ttml/backgroundColor-region-p-span-001-ttml.xml"> XML</a> | <a href="https://github.com/IRT-Open-Source/irt-ebu-tt-d-application-samples/blob/master/png/backgroundColor-region-p-span-001-image.pnghttps://github.com/IRT-Open-Source/irt-ebu-tt-d-application-samples/blob/master/png/backgroundColor-region-p-span-001-image.png"> Image</a></td> 
              </tr> 
              <tr> 
               <th scope="row">Reference</th> 
               <td></td> 
              </tr> 
              <tr> 
               <th scope="row">Presentation</th> 
               <td>All subtitles <a href="#Use-white-on-black">display on a black background</a>.</td> 
              </tr> 
             </tbody> 
            </table> 
           </section> 
           <section> 
            <h5 class="notoc">Document Requirements</h5> 
            <ul class="requirements-list"> 
             <li> <p><strong>Shall</strong> requirement:</p> <p> Set background colour to solid black (do not allow opacity). </p> 
              <div class="technical-example"> 
               <p>Example:</p> 
               <pre><code class="language-xml">tts:backgroundColor="#000000"</code></pre> 
              </div> </li> 
             <li> <p><strong>Shall</strong> requirement:</p> <p> Apply background to <code class="language-xml">&lt;tt:span&gt;</code> elements only </p> 
              <div class="technical-example"> 
               <p>Example:</p> 
               <pre><code class="language-xml">
&lt;tt:style
   xml:id="spanStyle" 
   [other style attributes] 
   tts:backgroundColor="#000000" /&gt;
...
&lt;tt:p&gt;
   &lt;tt:span style="spanStyle"&gt;
      Beware the Jubjub bird, and shun
      &lt;tt:br/&gt;
      The frumious Bandersnatch!
    &lt;/tt:span&gt;
&lt;/tt:p&gt;
                                            </code></pre> 
              </div> </li> 
             <li> <p><strong>Shall</strong> requirement:</p> <p> Avoid white space between adjacent <code class="language-xml">&lt;tt:span&gt;</code> elements. White space that is not styled with a background colour will appear in browsers as gaps in the background. </p> <p> Required white space between words must be included inside a <code class="language-xml">&lt;tt:span&gt;</code> element, usually immediately before a word, at the beginning of the element contents. </p> 
              <div class="technical-example"> 
               <p>Example of what <em>not</em> to do:</p> 
               <p> If the styles applied to the <code class="language-xml">&lt;span&gt;</code> define a background colour, the end of line character [EOL] between the <code class="language-xml">&lt;tt:span&gt;</code>s is unstyled: </p> 
               <pre><code class="language-xml">
&lt;tt:p&gt;[EOL]
  &lt;tt:span style="White"&gt;Hey!&lt;/tt:span&gt;[EOL]
  &lt;tt:span style="Yellow"&gt;What?&lt;/tt:span&gt;[EOL]
&lt;tt:p&gt;[EOL]</code>
</pre> 
               <p> This will render as: </p> 
               <p> <span class="example">Hey!</span>&nbsp;<span class="example" style="color:yellow;">What?</span> </p> 
              </div> 
              <div class="technical-example"> 
               <p>Example of what to do instead:</p> 
               <pre><code class="language-xml">
&lt;tt:style
   xml:id="spanStyle1" 
   [other style attributes] 
   tts:backgroundColor="#000000" /&gt;
&lt;tt:style
   xml:id="spanStyle2" 
   [other style attributes] 
   tts:backgroundColor="#000000" /&gt;

...
&lt;tt:p&gt;
   &lt;tt:span style="spanStyle1"&gt;
   Beware the Jubjub bird &lt;tt:br/&gt;&lt;/tt:span&gt;&lt;tt:span 
   style="spanStyle2"&gt;and shun the 
   frumious Bandersnatch!&lt;/tt:span&gt;
&lt;/tt:p&gt;</code></pre> 
              </div> </li> 
            </ul> 
           </section> 
           <section> 
            <h5 class="notoc">Processor Requirements</h5> 
            <ul class="requirements-list"> 
             <li> <p><strong>Shall</strong> requirement:</p> <p> Draw the background area behind each generated line area in the specified colour. </p> </li> 
             <li> <p><strong>Shall</strong> requirement:</p> <p> Make the height of the background equal to the font's computed line height so that no gap exists between lines. See <a href="#tt-span"><code class="language-xml">tt:span</code></a>. </p> </li> 
            </ul> 
           </section> 
          </section> <!-- backgroundColor --> <!-- fillLineGap --> 
          <section id="itts:fillLineGap"> 
           <h4>27.5.10 itts:fillLineGap</h4> 
           <p><em>BBC-specific requirements apply.</em></p> 
           <section> 
            <h5 class="notoc">Description</h5> 
            <p> Specifies whether any gap between the background areas of adjacent lines should be filled or left unfilled. </p> 
            <div class="technical-example"> 
             <p> The example below illustrates this: the same font and line height are specified, with <code class="language-xml">itts:fillLineGap</code> set to <code class="language-xml">false</code> on the left, and <code class="language-xml">true</code> on the right. </p> 
             <p> <img title="The right example is preferred" alt="Two example renderings, each with two lines of text, the one on the left showing a gap between the lines' background areas, having fillLineGap false the one on the right without a gap, having fillLineGap true." src="img/fillLineGap.png" style="max-width: 100%;"> </p> 
            </div> 
            <table> 
             <colgroup> 
              <col style="width: 20%;"> 
              <col> 
             </colgroup> 
             <tbody> 
              <tr> 
               <th scope="row">Cardinality</th> 
               <td>0..1</td> 
              </tr> 
              <tr> 
               <th scope="row">BBC requirements</th> 
               <td>There must be no gaps between background areas of adjacent lines within the same subtitle, in a single region. If two separate subtitles are visible at the same time, for example a <a href="#Sound-effects">sound effect</a> and dialogue, it is permissible to have a gap between their background areas. </td> 
              </tr> 
              <tr> 
               <th scope="row">Values</th> 
               <td><span class="flag-EBU-TT-D">EBU-TT-D</span> <code class="language-xml">true | false</code> </td> 
              </tr> 
              <tr> 
               <th scope="row">Default value</th> 
               <td><code class="language-xml">"false"</code></td> 
              </tr> 
              <tr> 
               <th scope="row">Reference</th> 
               <td><a href="https://www.w3.org/TR/ttml-imsc1.0.1/#itts-fillLineGap">https://www.w3.org/TR/ttml-imsc1.0.1/#itts-fillLineGap</a></td> 
              </tr> 
              <tr> 
               <th scope="row">Presentation</th> 
               <td>Subtitles must not have gaps between the backgrounds of adjacent lines within a paragraph, regardless of whether those lines are explicitly specified using line breaks or <code class="language-xml">&lt;br/&gt;</code> elements or generated due to line wraps during layout. See also <a href="#tts-lineHeight"><code class="language-xml">tts:lineHeight</code></a> above. </td> 
              </tr> 
             </tbody> 
            </table> 
           </section> 
           <section> 
            <h5 class="notoc">Document Requirements</h5> 
            <ul class="requirements-list"> 
             <li> <p><strong>Shall</strong> requirement:</p> <p> <span class="flag-EBU-TT-D">EBU-TT-D</span> <code class="language-xml">itts:fillLineGap</code> must be set to <code class="language-xml">true</code>. </p> 
              <div class="technical-example"> 
               <p>Example:</p> 
               <pre><code class="language-xml">
&lt;tt:style xml:id="pStyle" itts:fillLineGap="true" ... &gt;
...
&lt;tt:p style="pStyle" ...&gt;
                                            </code></pre> 
              </div> </li> 
             <li> <p><strong>Shall</strong> requirement:</p> <p> <span class="flag-EBU-TT-D">EBU-TT-D</span> Apply <code class="language-xml">itts:fillLineGap</code> to <a href="#tt:p"><code class="language-xml">&lt;tt:p&gt;</code></a> elements only. </p> 
              <div class="technical-example"> 
               <p>Example:</p> 
               <pre><code class="language-xml">
&lt;style
   xml:id="pStyle" 
   [other style attributes] 
   itts:fillLineGap="true" /&gt;
&lt;style
   xml:id="spanStyle" 
   [other style attributes] 
   tts:backgroundColor="#000000" /&gt;...
&lt;tt:p style="pStyle"&gt;
   &lt;tt:span style="spanStyle"&gt;
      Beware the Jubjub bird, and shun&lt;tt:br/&gt;
      The frumious Bandersnatch!
    &lt;/tt:span&gt;
&lt;/tt:p&gt;
                                            </code></pre> 
              </div> </li> 
            </ul> 
           </section> 
           <section> 
            <h5 class="notoc">Processor Requirements</h5> 
            <ul class="requirements-list"> 
             <li> <p><strong>Shall</strong> requirement:</p> <p> Make the height of the background area of each line extend so that there is no gap between adjacent line background areas, for every line area generated by a <a href="#tt:p"><code class="language-xml">&lt;tt:p&gt;</code></a> element whose computed value of <code class="language-xml">itts:fillLineGap</code> is <code class="language-xml">true</code>. </p> </li> 
            </ul> 
           </section> 
          </section> <!-- fillLineGap --> 
         </section> <!-- styleAttributes --> 
         <section id="regions"> 
          <h3>27.6 Regions</h3> <!-- Region --> 
          <section id="tt:region"> 
           <h4>27.6.1 tt:region</h4> 
           <section> 
            <h5 class="notoc">Description</h5> 
            <p>Defines an area in which subtitle content is to be placed. <a href="#tt-div"><code class="language-xml">tt:div</code></a> and <a href="#tt-p"><code class="language-xml">tt:p</code></a> elements may reference a region. </p> 
            <p> Setting the width of a region to 71.25%, with zero padding, should be sufficient to carry all 38 possible characters across a Teletext line and add 0.5c line padding. A region of such a size should be centred horizontally (i.e. have an origin x coordinate of 14.375%) to allow for it to be displayed in its entirety even if a centre cut out is used to display the central 4:3 area of a 16:9 root container region. </p> 
            <table> 
             <colgroup> 
              <col style="width: 20%;"> 
              <col> 
             </colgroup> 
             <tbody> 
              <tr> 
               <th scope="row">Cardinality</th> 
               <td>1..*</td> 
              </tr> 
              <tr> 
               <th scope="row">Default value</th> 
               <td> <p> If no <code class="language-xml">tt:layout</code> element (and therefore no <code class="language-xml">tt:region</code> elements) is defined in a document, the <em>default region</em> applies, which is the entire size of the rendering area; Default values of the region style attributes also apply. This is extremely unlikely to be a desirable effect. </p> <p> Note that legacy (non-EBU-TT) flavours of TTML may exist that omit the <code class="language-xml">tt:layout</code> element: at the time when those documents were created, the default region semantic may have been different. Processors may therefore apply more sensible defaults in this scenario, for example locating subtitles in a predefined position such as bottom and centre. </p> </td> 
              </tr> 
              <tr> 
               <th scope="row">Reference</th> 
               <td><a href="https://www.w3.org/TR/ttml1/#layout-vocabulary-region">https://www.w3.org/TR/ttml1/#layout-vocabulary-region</a></td> 
              </tr> 
              <tr> 
               <th scope="row">Presentation</th> 
               <td>Regions are primarily used to control <a href="#Vertical-positioning">vertical positioning</a> and <a href="#Use-horizontal-positioning">horizontal positioning</a>. They also restrict the <a href="#Line-length">maximum width of lines</a> and the <a href="#Avoid-3-lines-or-more">maximum number of subtitle lines</a> that can be displayed within the region.</td> 
              </tr> 
             </tbody> 
            </table> 
            <div class="technical-example"> 
             <p>Example:</p> 
             <pre><code class="language-xml">&lt;tt:region xml:id="r0"
   tts:displayAlign="after"
   tts:extent="68.5% 7.826%"
   tts:origin="12% 87.174%"
   tts:overflow="visible"/&gt;</code></pre> 
            </div> 
           </section> 
           <section> 
            <h5 class="notoc">Document Requirements</h5> 
            <ul class="requirements-list"> 
             <li> <p><strong>Shall</strong> requirement:</p> <p> Documents must not contain overlapping regions that are active at the same time (where a region is active if any content that is flowed into it is active). </p> </li> 
             <li> <p><strong>Shall</strong> requirement:</p> <p> The region's origin x coordinate must be greater than or equal to 12.5% of the root container region for a 16:9 active video (this allows for a 4:3 centre cut). </p> </li> 
             <li> <p><strong>Shall</strong> requirement:</p> <p> The sum of the region's origin x coordinate and extent width must be less than or equal to 87.5% of the root container region for a 16:9 active video (this allows for a 4:3 centre cut). </p> </li> 
             <li> <p><strong>Shall</strong> requirement:</p> <p> The number of regions active at any one time must not exceed 4 (IMSC 1 requirement). </p> </li> 
            </ul> 
           </section> 
           <section> 
            <h5 class="notoc">Processor Requirements</h5> 
            <ul class="requirements-list"> 
             <li> <p><strong>Should</strong> requirement:</p> <p> Support at least eight regions that are active at the same time. </p> </li> 
             <li> <p><strong>Shall</strong> requirement:</p> <p> Support at least four regions that are active at the same time. </p> </li> 
             <li> <p><strong>Should</strong> requirement:</p> <p> If overlapping regions are active simultaneously draw them in region definition order, i.e. the order of regions in the <code class="language-xml">layout</code> element. </p> <p> Note that this is not permitted in EBU-TT and EBU-TT-D documents. </p> </li> 
            </ul> 
           </section> 
          </section> <!-- region --> <!-- origin --> 
          <section id="tts:origin"> 
           <h4>27.6.2 tts:origin</h4> 
           <section> 
            <h5 class="notoc">Description</h5> 
            <p> The x and y coordinates of the top left corner of a region with respect to the root container region, which is the active video for EBU-TT 1.0, and some implementation dependent rendering plane for EBU-TT-D, but generally expected to match the displayed video. Presentation implementations are expected to map these to device pixels for optimum display of text. </p> 
            <p>Example: with <code class="language-xml">tts:origin="20% 80%"</code> the top left corner of the region is 20% of the root container region width from the left and 80% of the root container region height from the top. </p> 
            <table> 
             <colgroup> 
              <col style="width: 20%;"> 
              <col> 
             </colgroup> 
             <tbody> 
              <tr> 
               <th scope="row">Cardinality</th> 
               <td>1..1</td> 
              </tr> 
              <tr> 
               <th scope="row">Values</th> 
               <td><span class="flag-EBU-TT-D">EBU-TT-D</span> 2 percentage values separated by a space<br> <span class="flag-EBU-TT-10">EBU-TT 1.0</span> Two length values ( <code class="language-xml">"%" | "px" | "c"</code>) separated by a space, i.e. two <a href="https://www.w3.org/TR/ttml1/#style-value-length">TTML Length datatype</a> values, except that the "em" unit is not allowed.</td> 
              </tr> 
              <tr> 
               <th scope="row">Default value</th> 
               <td><code class="language-xml">"auto"</code> being equivalent to <code class="language-xml">"100% 100%"</code></td> 
              </tr> 
              <tr> 
               <th scope="row">Example</th> 
               <td>EBU-TT-D: Any of the examples <a href="https://github.com/IRT-Open-Source/irt-ebu-tt-d-application-samples"> here</a></td> 
              </tr> 
              <tr> 
               <th scope="row">Reference</th> 
               <td><a href="https://www.w3.org/TR/ttml1/#style-attribute-origin">TTML</a></td> 
              </tr> 
              <tr> 
               <th scope="row">Presentation</th> 
               <td>Determines the position of a region, which is used for <a href="#Vertical-positioning">vertical positioning</a> and <a href="#Use-horizontal-positioning">horizontal positioning</a>.</td> 
              </tr> 
             </tbody> 
            </table> 
           </section> 
           <section> 
            <h5 class="notoc">Document Requirements</h5> 
            <ul class="requirements-list"> 
             <li> <p><strong>Shall</strong> requirement:</p> <p> The sum of the value for the x-coordinate of the region and the value for the width of the region (specified by <a href="#tts-extent"><code class="language-xml">tts:extent</code></a>) must be less than or equal to 100%. </p> </li> 
             <li> <p><strong>Shall</strong> requirement:</p> <p> The sum of the value for the y-coordinate of the region and the value for the height of the region (specified by <a href="#tts-extent"><code class="language-xml">tts:extent</code></a>) must be less or equal to 100%. </p> </li> 
            </ul> 
           </section> 
          </section> <!-- origin --> <!-- Extent --> 
          <section id="tts:extent"> 
           <h4>27.6.3 tts:extent</h4> 
           <section> 
            <h5 class="notoc">Description</h5> 
            <p> This attribute can be specified on either <a href="#tt-region"><code class="language-xml">tt:region</code></a> or <code class="language-xml">tt:tt</code> elements. It sets the width and height of the region area, being <em>either</em> the root container region, when specified on the <code class="language-xml">tt:tt</code> element <em>or</em> a defined region within that, when specified on a <code class="language-xml">tt:region</code> element. </p> 
            <p> Note that where pixel coordinates are used they are <em>logical</em> coordinates in the TTML space only and do not need to match actual encoded video or device pixels. </p> 
            <p> <span class="flag-EBU-TT-D">EBU-TT-D</span> Only percentage values are allowed. </p> 
            <p> <span class="flag-EBU-TT-D">EBU-TT-D</span> <code class="language-xml">tts:extent</code> is only permitted on <code class="language-xml">region</code> elements. </p> 
            <p> <span class="flag-EBU-TT-10">EBU-TT 1.0</span> Only length expressions in pixels are allowed on <code class="language-xml">tts:extent</code> when specified on the <code class="language-xml">tt</code> element. </p> 
            <p> <span class="flag-EBU-TT-10">EBU-TT 1.0</span> If pixel length expressions are used anywhere in a document then <code class="language-xml">tts:extent</code> must be present on the <code class="language-xml">tt</code> element. </p> 
            <p> <span class="flag-EBU-TT-10">EBU-TT 1.0</span> Percentage and pixel values are allowed. </p> 
            <table> 
             <colgroup> 
              <col style="width: 20%;"> 
              <col> 
             </colgroup> 
             <tbody> 
              <tr> 
               <th scope="row">Cardinality</th> 
               <td>1..1</td> 
              </tr> 
              <tr> 
               <th scope="row">Values</th> 
               <td><span class="flag-EBU-TT-D">EBU-TT-D</span> 2 percentage values separated by a space<br> <span class="flag-EBU-TT-10">EBU-TT 1.0</span> Two length values ( <code class="language-xml">"%" | "px" | "c"</code>) separated by a space, i.e. two <a href="https://www.w3.org/TR/ttml1/#style-value-length">TTML Length datatype</a> values, except that the "em" unit is not allowed.</td> 
              </tr> 
              <tr> 
               <th scope="row">Default value</th> 
               <td><code class="language-xml">"100% 100%"</code> when applied to a <code class="language-xml">region</code><br> There is no default when applied to the <code class="language-xml">tt</code> element. </td> 
              </tr> 
              <tr> 
               <th scope="row">Example</th> 
               <td>EBU-TT-D: Any of the examples <a href="https://github.com/IRT-Open-Source/irt-ebu-tt-d-application-samples"> here</a></td> 
              </tr> 
              <tr> 
               <th scope="row">Presentation</th> 
               <td>A region's <code class="language-xml">extent</code> determines the <a href="#Line-length">length of subtitle lines</a> within the region and its <a href="#Avoid-3-lines-or-more">maximum number of lines</a>. With <a href="#tts-displayAlign"><code class="language-xml">displayAlign</code></a>, it also controls the <a href="#Vertical-positioning">vertical positioning</a> of subtitles. For example, in the default writing mode (left to right, top to bottom), the displayAlign value "after" would result in the subtitles aligned to to the bottom of the region defined by <code class="language-xml">extent</code>.</td> 
              </tr> 
             </tbody> 
            </table> 
           </section> 
           <section> 
            <h5 class="notoc">Document Requirements</h5> 
            <ul class="requirements-list"> 
             <li> <p><strong>Shall</strong> requirement:</p> <p> The sum of the value for the x-coordinate of the region and the value for the width of the region (specified by tts:extent) must be less than or equal to 100%. </p> </li> 
             <li> <p><strong>Shall</strong> requirement:</p> <p> The sum of the value for the y-coordinate of the region and the value for the height of the region (specified by tts:extent) must be less or equal to 100%. </p> </li> 
             <li> <p><strong>Shall</strong> requirement:</p> <p> <span class="flag-EBU-TT-10">EBU-TT 1.0</span> The <code class="language-xml">tts:extent</code> must be present on the <code class="language-xml">tt:tt</code> element if any length unit in the document is expressed in pixels. </p> 
              <div class="technical-example"> 
               <p>Example:</p> 
               <pre><code class="language-xml">&lt;tt:tt tts:extent="400px 300px"&gt;</code></pre> 
              </div> </li> 
             <li> <p><strong>Shall</strong> requirement:</p> <p> <span class="flag-EBU-TT-D">EBU-TT-D</span> <code class="language-xml">tts:extent</code> must not be present on any element other than <code class="language-xml">tt:region</code> </p> </li> 
             <li> <p><strong>Shall</strong> requirement:</p> <p> <span class="flag-EBU-TT-D">EBU-TT-D</span> EBU-TT-D document must not express the value of <code class="language-xml">tts:extent</code> in pixel units. </p> 
              <div class="technical-example"> 
               <p>Example:</p> 
               <pre><code class="language-xml">&lt;tt:region xml:id="r0" tts:extent="68.5% 7.826%" .../&gt;</code></pre> 
              </div> </li> 
            </ul> 
           </section> 
           <section> 
            <h5 class="notoc">Processor Requirements</h5> 
            <ul class="requirements-list"> 
             <li> <p><strong>Should</strong> requirement:</p> <p> Clip any region that extends beyond the root container region (the rectangle corresponding to an origin of 0% 0% with an extent 100% 100%) to the area that intersects with the root container region. </p> </li> 
            </ul> 
           </section> 
          </section> <!-- extent --> <!-- displayAlign --> 
          <section id="tts:displayAlign"> 
           <h4>27.6.4 tts:displayAlign</h4> 
           <section> 
            <h5 class="notoc">Description</h5> 
            <p> Alignment in the block progression direction. When block progression direction is top-to-bottom, "before" would result in "top" alignment and "after" would result in "bottom" alignment. </p> 
            <table> 
             <colgroup> 
              <col style="width: 20%;"> 
              <col> 
             </colgroup> 
             <tbody> 
              <tr> 
               <th scope="row">Cardinality</th> 
               <td>0..1</td> 
              </tr> 
              <tr> 
               <th scope="row">Values</th> 
               <td><code class="language-xml">"before" | "center" | "after"</code></td> 
              </tr> 
              <tr> 
               <th scope="row">Default value</th> 
               <td><code class="language-xml">"after"</code></td> 
              </tr> 
              <tr> 
               <th scope="row">Example</th> 
               <td>Display align center: <a href="https://github.com/IRT-Open-Source/irt-ebu-tt-d-application-samples/blob/master/ttml/displayalign-center-001-ttml.xml"> XML</a> | <a href="https://github.com/IRT-Open-Source/irt-ebu-tt-d-application-samples/blob/master/png/displayalign-center-001-image.png"> Image</a></td> 
              </tr> 
              <tr> 
               <th scope="row">Reference</th> 
               <td><a href="https://www.w3.org/TR/ttml1/#style-attribute-displayAlign">TTML</a>. Note that in EBU-TT v1 the default value was changed to <code class="language-xml">"after"</code> and that this was reverted to the TTML1 default of <code class="language-xml">"before"</code>. Therefore it is unwise to rely upon the default; to avoid ambiguity the desired value should always be specified.</td> 
              </tr> 
              <tr> 
               <th scope="row">Presentation</th> 
               <td>In combination with other attributes, controls <a href="#Vertical-positioning">vertical positioning</a> within a region. </td> 
              </tr> 
             </tbody> 
            </table> 
           </section> 
           <section> 
            <h5 class="notoc">Document Requirements</h5> 
            <ul class="requirements-list"> 
             <li> <p><strong>Shall</strong> requirement:</p> <p> A <code class="language-xml">tts:displayAlign</code> attribute shall be present on every <code class="language-xml">region</code> element. </p> 
              <div class="technical-example"> 
               <pre><code class="language-xml">
&lt;tt:region xml:id="r0" tts:displayAlign="after" ... /&gt;</code></pre> 
              </div> </li> 
            </ul> 
           </section> 
           <section> 
            <h5 class="notoc">Processor Requirements</h5> 
            <ul class="requirements-list"> 
             <li> <p><strong>Shall</strong> requirement:</p> <p> The active lines within the region are aligned in the block progression direction to the before edge of the region (for <code class="language-xml">"before"</code>, usually the top for top to bottom left to right), the middle (for <code class="language-xml">"center"</code>) or the after edge (for <code class="language-xml">"after"</code>, usually the bottom for top to bottom left to right). </p> </li> 
             <li> <p><strong>Shall</strong> requirement:</p> <p> <span class="flag-EBU-TT-10">EBU-TT 1.0</span> In an EBU-TT Part 1 v1.0 document if no <code class="language-xml">tts:displayAlign</code> attribute is present the default of <code class="language-xml">"after"</code> shall be applied. </p> </li> 
             <li> <p><strong>Shall</strong> requirement:</p> <p> In an EBU-TT-D or other TTML document (e.g. EBU-TT Part 1 v1.1 etc) or if the document type is undetermined then if no <code class="language-xml">tts:displayAlign</code> attribute is present the TTML default of <code class="language-xml">"before"</code> shall be applied. </p> </li> 
            </ul> 
           </section> 
          </section> <!-- displayAlign --> <!-- writingMode --> 
          <section id="tts:writingMode"> 
           <h4>27.6.5 tts:writingMode</h4> 
           <section> 
            <h5 class="notoc">Description</h5> 
            <p> Defines the directions for stacking block and inline areas within a region area. Applies to region elements only. This attributes interacts with <code class="language-xml">tts:direction</code> and <code class="language-xml">tts:unicodeBidi</code>. </p> 
            <ul> 
             <li><code class="language-xml">"lrtb"</code>: "Left to Right Top to Bottom"</li> 
             <li><code class="language-xml">"rltb"</code>: "Right to Left Top to Bottom"</li> 
             <li><code class="language-xml">"tbrl"</code>: "Top to Bottom Right to Left"</li> 
             <li><code class="language-xml">"tblr"</code>: "Top to Bottom Left to Right"</li> 
             <li><code class="language-xml">"lr"</code>: "Left to Right Top to Bottom"</li> 
             <li><code class="language-xml">"rl"</code>: "Right to Left Top to Bottom"</li> 
             <li><code class="language-xml">"tb"</code>: "Top to Bottom Right to Left"</li> 
            </ul> 
            <table> 
             <colgroup> 
              <col style="width: 20%;"> 
              <col> 
             </colgroup> 
             <tbody> 
              <tr> 
               <th scope="row">Cardinality</th> 
               <td>0..1</td> 
              </tr> 
              <tr> 
               <th scope="row">Values</th> 
               <td><code class="language-xml">"lrtb" | "rltb" | "tbrl" | "tblr" | "lr" | "rl" | "tb"</code></td> 
              </tr> 
              <tr> 
               <th scope="row">Default value</th> 
               <td><code class="language-xml">"lrtb"</code></td> 
              </tr> 
              <tr> 
               <th scope="row">Example</th> 
               <td><code class="language-xml">rltb</code>: <a href="https://github.com/IRT-Open-Source/irt-ebu-tt-d-application-samples/blob/master/ttml/writing-mode-rltb-001-ttml.xml"> XML</a> | <a href="https://github.com/IRT-Open-Source/irt-ebu-tt-d-application-samples/blob/master/png/writing-mode-rltb-001-image.png"> Image</a></td> 
              </tr> 
              <tr> 
               <th scope="row">Reference</th> 
               <td><a href="https://www.w3.org/TR/ttml1/#style-attribute-writingMode">https://www.w3.org/TR/ttml1/#style-attribute-writingMode</a></td> 
              </tr> 
              <tr> 
               <th scope="row">Reference</th> 
               <td>With other style attributes, controls <a href="#Horizontal-positioning">horizontal positioning</a>.</td> 
              </tr> 
             </tbody> 
            </table> 
           </section> 
           <section> 
            <h5 class="notoc">Document Requirements</h5> 
            <ul class="requirements-list"> 
             <li> <p><strong>Should</strong> requirement:</p> <p>Specify <code class="language-xml">tts:writingMode</code> on a region.</p> 
              <div class="technical-example"> 
               <p>Example:</p> 
               <pre><code class="language-xml">
&lt;tt:style xml:id="paragraphStyle" 
tts:direction="rtl" tts:unicodeBidi="bidiOverride"/&gt;
...
&lt;tt:region xml:id="r1" tts:writingMode="rltb" 
tts:origin="15% 16%" tts:extent="70% 24%"/&gt;
...
&lt;tt:p region="r1" style="paragraphStyle"&gt;
&lt;!-- This line will display ".uoy evol I", right aligned. --&gt;
I love you.
&lt;/tt:p&gt;
</code></pre> 
              </div> </li> 
            </ul> 
           </section> 
           <section> 
            <h5 class="notoc">Processor Requirements</h5> 
            <ul class="requirements-list"> 
             <li> <p><strong>May</strong> requirement (where support for Latin scripts or left-to-right-top-to-bottom scripts only is required):</p> <p>Support writingMode semantics.</p> </li> 
             <li> <p><strong>Shall</strong> requirement (where support for any non left-to-right-top-to-bottom script is required):</p> <p>Support writingMode semantics.</p> </li> 
            </ul> 
           </section> 
          </section> <!-- writingMode --> <!-- Overflow --> 
          <section id="tts:overflow"> 
           <h4>27.6.6 tts:overflow</h4> 
           <p><span class="flag-EBU-TT-D">EBU-TT-D</span> only.</p> 
           <p><em>BBC-specific requirements apply.</em></p> 
           <section> 
            <h5 class="notoc">Description</h5> 
            <p> Defines whether a region area is clipped if the content of the region overflows the specified extent of the region. If the author intends to avoid truncated content the <code class="language-xml">tts:overflow</code> attribute should always be specified and be set to <code class="language-xml">"visible"</code>. Note that setting the value to <code class="language-xml">"visible"</code> does not guarantee that content that overflows the region will be presented, for example if it overflows the active video region ("root container"). See also <a href="#tts:wrapOption"><code class="language-xml">tts:wrapOption</code></a>. </p> 
            <table> 
             <colgroup> 
              <col style="width: 20%;"> 
              <col> 
             </colgroup> 
             <tbody> 
              <tr> 
               <th scope="row">Cardinality</th> 
               <td>0..1</td> 
              </tr> 
              <tr> 
               <th scope="row">BBC requirements</th> 
               <td> <p>This attribute is required (cardinality: 1..1).</p> <p>The value must be set to <code class="language-xml">"visible"</code>.</p></td> 
              </tr> 
              <tr> 
               <th scope="row">Values</th> 
               <td><code class="language-xml">"visible" | "hidden"</code></td> 
              </tr> 
              <tr> 
               <th scope="row">Default value</th> 
               <td><code class="language-xml">"hidden"</code></td> 
              </tr> 
             </tbody> 
            </table> 
           </section> 
           <section> 
            <h5 class="notoc">Document Requirements</h5> 
            <ul class="requirements-list"> 
             <li> <p><strong>Shall</strong> requirement:</p> <p> Set overflow to <code class="language-xml">"visible"</code> so that subtitles are visible even if they overflow. </p> 
              <div class="technical-example"> 
               <pre>                                                <code class="language-xml">
&lt;region xml:id="r0" tts:overflow="visible"&gt;</code></pre> 
              </div> </li> 
            </ul> 
           </section> 
          </section> <!-- overflow --> 
         </section> <!-- Regions --> 
         <section id="contentElements"> 
          <h3>27.7 Content Elements</h3> <!-- div --> 
          <section id="tt:div"> 
           <h4>27.7.1 tt:div</h4> 
           <section> 
            <h5 class="notoc">Description</h5> 
            <p> A logical container of subtitle text. Intended to hold semantic information, for example sections within a programme. <code class="language-xml">&lt;div&gt;</code>s may be placed in regions, which apply to the div and all its descendants. A <code class="language-xml">&lt;div&gt;</code> may have style references, which are inherited by all of its descendants except where a descendant overrides it with a different style. Begin and end times are not permitted on <code class="language-xml">&lt;div&gt;</code>s: this is a constraint in EBU-TT and EBU-TT-D rather than in TTML. </p> 
            <p> Where <code class="language-xml">&lt;div&gt;</code>s are used for semantic information, it may be specified as metadata, using attributes such as <code class="language-xml">ttm:role</code>, <code class="language-xml">xml:lang</code> etc and/or a <code class="language-xml">metadata</code> element. </p> 
            <table> 
             <colgroup> 
              <col style="width: 20%;"> 
              <col> 
             </colgroup> 
             <tbody> 
              <tr> 
               <th scope="row">Cardinality</th> 
               <td>1..*</td> 
              </tr> 
              <tr> 
               <th scope="row">Example</th> 
               <td>See <a href="#Example-EBUT-TT-D-document">code sample</a></td> 
              </tr> 
              <tr> 
               <th scope="row">Reference</th> 
               <td> <a href="https://www.w3.org/TR/ttml1/#content-vocabulary-div">TTML specification</a> (note that EBU-TT documents do not allow temporal attributes for <code class="language-xml">tt:div</code>) </td> 
              </tr> 
              <tr> 
               <th scope="row">Presentation</th> 
               <td> Inheritable styles applied to a <code class="language-xml">tt:div</code> cascade to descendant elements (<code class="language-xml">tt:p</code> and <code class="language-xml">tt:span</code>). </td> 
              </tr> 
             </tbody> 
            </table> 
           </section> 
           <section> 
            <h5 class="notoc">Document Requirements</h5> 
            <ul class="requirements-list"> 
             <li> <p><strong>Shall</strong> requirement:</p> <p> A <code class="language-xml">tt:div</code> must contain at least one <a href="#tt-p"><code class="language-xml">tt:p</code></a> element. </p> 
              <div class="technical-example"> 
               <p>Example:</p> 
               <pre><code class="language-xml">
&lt;tt:p xml:id="subtitle1" region="top" 
begin="00:00:30.000" end="00:00:31.000" 
style="paragraphStyle"&gt;
  &lt;tt:span style="spanStyle"&gt;
  This subtitle is in the top region.
  &lt;/tt:span&gt; 
&lt;/tt:p&gt;
</code></pre> 
              </div> </li> 
            </ul> 
           </section> 
          </section> <!-- section-tt-div --> <!-- p --> 
          <section id="tt:p"> 
           <h4>27.7.2 tt:p</h4> 
           <section> 
            <h5 class="notoc">Description</h5> 
            <p> Represents a logical paragraph. When reference is made to "a subtitle" it is most closely analogous to a <code class="language-xml">tt:p</code> element in general. </p> 
            <p> Any subtitle text in a <code class="language-xml">&lt;tt:p&gt;</code> must be within a <a href="#tt-span"><code class="language-xml">&lt;tt:span&gt;</code></a> element so that the background color is correctly applied. </p> 
            <p> Multiple line subtitles should be placed within a single <code class="language-xml">tt:p</code> element so that any processor that permits customisation of the size of text can scale and position all the lines together as a group rather than each line separately; when lines are in separate <code class="language-xml">&lt;tt:p&gt;</code> elements this can lead to gaps or alignment errors between lines. </p> 
            <p> Timing may be applied to a <code class="language-xml">tt:p</code> element using the <code class="language-xml">begin</code> and <code class="language-xml">end</code> attributes, or to each span inside the element, but in EBU-TT-D such timing must not be present in both. Cumulative subtitles, for example where words are appended at different times, should be represented by timed <code class="language-xml">&lt;tt:span&gt;</code>s within a <code class="language-xml">&lt;tt:p&gt;</code>; this approach is preferred to a set of differently timed <code class="language-xml">&lt;tt:p&gt;</code> elements each being the same as the previous but with the new word or phrase appended, because it is simpler to extract the plain text version when this approach is used. </p> 
            <p> Every <code class="language-xml">&lt;tt:p&gt;</code> is required by EBU-TT and EBU-TT-D to have an <code class="language-xml">xml:id</code> attribute. </p> 
            <p> Where <code class="language-xml">&lt;tt:p&gt;</code>s are used for semantic information, it may be specified as metadata, using attributes such as <code class="language-xml">ttm:role</code>, <code class="language-xml">xml:lang</code> etc and/or a <code class="language-xml">metadata</code> element. </p> 
            <table> 
             <colgroup> 
              <col style="width: 20%;"> 
              <col> 
             </colgroup> 
             <tbody> 
              <tr> 
               <th scope="row">Cardinality</th> 
               <td>1..*</td> 
              </tr> 
              <tr> 
               <th scope="row">Example</th> 
               <td>See <a href="#Example-EBU-TT-D-document">code sample</a></td> 
              </tr> 
              <tr> 
               <th scope="row">Reference</th> 
               <td><a href="https://www.w3.org/TR/ttml1/#content-vocabulary-p">TTML specification</a></td> 
              </tr> 
              <tr> 
               <th scope="row">Presentation</th> 
               <td>Most of the time, i.e. when not using cumulative subtitles, use the attributes <code class="language-xml">begin</code> and <code class="language-xml">end</code> on this element to control the <a href="#Timing">timing</a> and <a href="#Synchronisation">synchronisation</a> of a block of subtitles. Note that you must not specify a background color on this element - see <a href="#Size">typography</a>.</td> 
              </tr> 
             </tbody> 
            </table> 
           </section> 
           <section> 
            <h5 class="notoc">Document Requirements</h5> 
            <ul class="requirements-list"> 
             <li> <p><strong>Shall</strong> requirement:</p> <p>Subtitle text (character content) must not be outside a <a href="#tt-span"><code class="language-xml">&lt;tt:span&gt;</code></a> element.</p> 
              <div class="technical-example"> 
               <p>Example:</p> 
               <pre><code class="language-xml">
&lt;tt:p xml:id="subtitle1" region="top" begin="00:00:30.000" 
end="00:00:31.000" style="paragraphStyle"&gt;
  &lt;tt:span style="spanStyle"&gt;
  This subtitle is in the top region
  &lt;/tt:span&gt;
&lt;/tt:p&gt;</code></pre> 
              </div> </li> 
             <li> <p><strong>Shall</strong> requirement:</p> <p> Each <code class="language-xml">tt:p</code> element must have an <code class="language-xml">xml:id</code> attribute value that is unique in the document. </p> 
              <div class="technical-example"> 
               <p>Example:</p> 
               <pre><code class="language-xml">
&lt;tt:p xml:id="s2874" region="top" begin="00:00:30.000" 
end="00:00:31.000" style="paragraphStyle"&gt;
  &lt;tt:span style="spanStyle"&gt;
  This subtitle is in the top region
  &lt;/tt:span&gt;
&lt;/tt:p&gt;</code></pre> 
              </div> </li> 
            </ul> 
           </section> 
           <section> 
            <h5 class="notoc">Processor Requirements</h5> 
            <ul class="requirements-list"> 
             <li> <p><strong>Shall</strong> requirement:</p> <p>Do not infer subtitle sequence from <code class="language-xml">xml:id</code>.</p> </li> 
            </ul> 
           </section> 
          </section> <!-- section-tt-p --> <!-- Span --> 
          <section id="tt:span"> 
           <h4>27.7.3 tt:span</h4> 
           <p><em>BBC-specific requirements apply.</em></p> 
           <section> 
            <h5 class="notoc">Description</h5> 
            <p> Used to apply style information to the enclosed textual content. This style information is added to or overwrites style information from the currently active context. </p> 
            <p> Background colour must be applied to this element (rather than <a href="#tt-p"><code class="language-xml">&lt;tt:p&gt;</code></a> or <a href="#tt-div"><code class="language-xml">&lt;tt:div&gt;</code></a> so that the background is applied to the text area). </p> 
            <p> For cumulative subtitles, set begin and end time on parts of a subtitle using <a href="#tt-span"><code class="language-xml">&lt;tt:span&gt;</code></a> (see example). </p> 
            <p> <span class="flag-EBU-TT-10">EBU-TT 1.0</span> May include nested <code class="language-xml">&lt;tt:span&gt;</code>. </p> 
            <p> <span class="flag-EBU-TT-D">EBU-TT-D</span> Must not include nested <code class="language-xml">&lt;tt:span&gt;</code>.</p> 
            <table> 
             <colgroup> 
              <col style="width: 20%;"> 
              <col> 
             </colgroup> 
             <tbody> 
              <tr> 
               <th scope="row">Cardinality</th> 
               <td>0..*</td> 
              </tr> 
              <tr> 
               <th scope="row">BBC requirements</th> 
               <td>This element is required (cardinality: 1..*). All text must be enclosed in a span that references a style to set the background colour. </td> 
              </tr> 
              <tr> 
               <th scope="row">Example</th> 
               <td>Background applied to <code class="language-xml">&lt;tt:span&gt;</code> (without the required line padding and with a gap between lines that should be removed by processors): <a href="https://github.com/IRT-Open-Source/irt-ebu-tt-d-application-samples/blob/master/png/br-in-span-001-image.png">XML</a> | <a href="https://github.com/IRT-Open-Source/irt-ebu-tt-d-application-samples/blob/master/png/br-in-span-001-image.png">Image</a> </td> 
              </tr> 
              <tr> 
               <th scope="row">Presentation</th> 
               <td>Use <code class="language-xml">&lt;tt:span&gt;</code> to apply colour to the text (see <a href="#Speaker-identification">speaker identification</a> and <a href="#colours">colours</a>) and to set the background colour (see <a href="#Size">typography</a>). For <a href="#Cumulative-subtitles">cumulative subtitles</a> only, set <code class="language-xml">begin</code> and <code class="language-xml">end</code> on this element instead of <code class="language-xml">&lt;tt:p&gt;</code>.</td> 
              </tr> 
             </tbody> 
            </table> 
           </section> 
           <section> 
            <h5 class="notoc">Document Requirements</h5> 
            <ul class="requirements-list"> 
             <li> <p><strong>Shall</strong> requirement:</p> <p> All subtitle text must be wrapped in a <code class="language-xml">&lt;tt:span&gt;</code> with a black background style applied. </p> 
              <div class="technical-example"> 
               <p>Example:</p> 
               <pre><code class="language-xml">
&lt;tt:style xml:id="spanStyle" tts:wrapOption="noWrap" 
ebutts:linePadding="0.5c" 
tts:fontFamily="proportionalSansSerif" 
tts:fontSize="100%" tts:backgroundColor="#000000" /&gt;
...
&lt;tt:p&gt;
  &lt;tt:span style="spanStyle" begin="00:01:30" end="00:01:35"&gt;
  This subtitle is displayed for 5 seconds.
  &lt;/tt:span&gt;
  &lt;tt:span style="spanStyle" begin="00.01.33" end="00:01:35"&gt;
  This one is added after 3 and remains on screen for 2.
  &lt;/tt:span&gt;
&lt;/tt:p&gt;</code></pre> 
              </div> </li> 
            </ul> 
           </section> 
           <section> 
            <h5 class="notoc">Processor Requirements</h5> 
            <ul class="requirements-list"> 
             <li> <p><strong>Should</strong> requirement:</p> <p> For every <code class="language-xml">&lt;tt:span&gt;</code> with background applied, make the background height equal to the calculated line height regardless of other specifications. This is to help ensure no gap exists between lines. </p> </li> 
            </ul> 
           </section> 
          </section> 
         </section> <!-- contentElements --> 
        </section> <!-- ebu-tt-and-d-docs-in-detail --> 
       </section> <!-- files --> 
      </section> <!-- fileFormat --> 
      <section id="appendices"> 
       <h2 class="big-heading">APPENDICES</h2> 
       <section id="appendix_1"> 
        <h2>28 Appendix 1: Teletext character set</h2> 
        <p>Characters in code table 00 - Latin alphabet. Reproduced from EBU TECH. 3264-E.</p> 
        <img src="img/teletext_characters.png" alt="Table showing Teletext character set">
       </section> <!-- appendix_1 --> 
       <section id="appendix_2"> 
        <h2>29 Appendix 2: Sample files</h2> 
        <p>This is an example of a <em>prepared</em> subtitle file. This is not a complete file: multiple instances of elements have been removed and long values shortened. Not all possible elements are included (for example, elements required for live subtitles are not included). </p> 
        <p><a href="sample-ebutt-prepared.html">Sample file: EBU-TT v1.0 pre-prepared</a></p> 
        <p><a href="codesamples/ABCD123A02-1-preRecorded.xml">Sample file (raw XML) <code class="language-xml">ABCD123A02-1-preRecorded.xml</code></a></p> 
        <p>When this sample EBU-TT file is converted for distribution as EBU-TT-D and IMSC 1 Text Profile it generates the following output:</p> 
        <p><a href="sample-ebuttd-prepared.html">Sample file: EBU-TT-D and IMSC 1 Text Profile distribution subtitle document.</a></p> 
        <p><a href="codesamples/ABCD123A02-1-preRecorded.ebuttd.xml">Sample file (raw XML) <code class="language-xml">ABCD123A02-1-preRecorded.ebuttd.xml</code></a></p> 
       </section> <!-- /appendix_2 --> 
       <section id="appendix_3"> 
        <h2>30 Appendix 3: BBC metadata XSD</h2> 
        <p>This is the XSD for the BBC metadata section of the EBU-TT document. It includes elements for audio description and signs-language documents that can be omitted for subtitle files. To validate the document fully an EBU-TT schema should also be used. </p> 
        <p><a href="sample-bbctt-xsd.html">Sample file: XML Schema Definition for BBC EBU-TT metadata</a></p> 
       </section> <!-- /appendix 3 --> 
       <section id="EBU-TT-D_howto"> 
        <h2>31 Appendix 4: Quick EBU-TT-D how-to</h2> 
        <p>This section provides a step-by-step guide for making an EBU-TT-D file using a template for <i>online distribution only</i>. These instructions assume no prior knowledge and if followed closely will produce a valid but minimal file. You can then use this file as a basis for additional styling such elements such as <a href="#tts-color">colour</a>. </p> 
        <p>Note that these instructions are for creating a <em>bare-bones file that does not include many of the features required by the BBC</em>. All subtitles will appear in white text on a black background and centred at the bottom of the screen. This minimal formatting excludes features like colour (to identify speakers), positioning (to avoid obscuring important information) and cumulative subtitles. You should therefore check with the commissioning editor that this minimal file is suitable.</p> 
        <p><strong>This is important:</strong> Do not follow these instructions if you need to deliver subtitles for broadcast or if the presentation requires more than simple white-on-black text centred at the bottom of the screen. Consult the rest of this Guidelines document for these cases.</p> 
        <ol style="list-style-type: decimal;"> 
         <li> <p> <b>Prepare the text.</b> If available, begin with a transcript file so you don't have to type in the text. Add labels if required (e.g. to describe action). </p> </li> 
         <li> <p> <b>Add line breaks and timings.</b> This is commonly done with an authoring tool. Ideally, the tool should allow you to configure all of the features that determine line length (line padding, region definition, cell resolution, font family and font size). This will allow you to preview the subtitles as reliably as possible (the final appearance will be determined by the user's system). If your tool does not support these features, use a WYSIWYG tool to define a subtitle region of 71.25% of the width of the video (for a 16:9 video). Use a wide font such as Verdana to minimise the risk of text overflowing the region when rendered in the final display font. It is not recommended to control line length using a character count limit only: this is a crude method that does not take into account the width of individual letters and fonts. Although 37 characters would fit most of the time, in some cases they might not (e.g. too many 'M's and 'W's). If you use this method you should test your subtitles in different browsers and operating systems before delivery. </p> 
          <ul> 
           <li>If you don't have access to an authoring tool, you can use a simple text editor, although this method is slow and error-prone. Create a paragraph with manual line breaks for each subtitle and add timings for each paragraph. In this case you can only control line length by counting characters per line, and you should test your file thoroughly on different browsers and systems before delivery. </li> 
          </ul> <p>Timings must be relative to a programme begin time of <code class="language-xml">00:00:00.000</code></p> </li> 
         <li><b>Save or export the subtitles as a simple text file.</b> The file should include nothing but the subtitle text with line breaks and timings.</li> 
         <li> <p> <b>Format timings.</b> Timings must be in the format HH:MM:SS followed by a fraction (e.g. <code class="language-xml">00:01:29.265</code>). In EBU-TT-D, the <code class="language-xml">begin</code> time of the subtitle is inclusive, but the <code class="language-xml">end</code> time is exclusive. This means that if you want one subtitle to follow another without any gaps, you should set the <code class="language-xml">end</code> time of the first subtitle to be the same as the <code class="language-xml">begin</code> time of the following subtitle.</p> </li> 
         <li> <p> <b>Format lines.</b> Ensure that lines are not too long and that a <code class="language-xml">&lt;tt:br/&gt;</code> tag is present for every line break within a subtitle. Remove unnecessary line breaks and white space at the beginning or end of a subtitle. </p> </li> 
         <li> <p><b>Escape characters.</b> Replace special characters with their escaped version as detailed in <a href="#Encoding-characters">Encoding characters</a>.</p> </li> 
         <li> <b>Create the span elements.</b> Wrap each subtitle in a <code class="language-xml">&lt;tt:span&gt;</code> element with a <code class="language-xml">style</code> attribute, so you have a list of subtitles like this:<br> <pre><code class="language-xml">
    &lt;tt:span style="spanStyle"&gt;First line&lt;tt:br/&gt;second line&lt;/tt:span&gt;
    &lt;tt:span style="spanStyle"&gt;This subtitle has one line&lt;/tt:span&gt;
    &lt;tt:span style="spanStyle"&gt;Next subtitle...&lt;/tt:span&gt;    
    </code></pre> </li> 
         <li> <b>Create the paragraph elements.</b> Wrap each of the spans in a <code class="language-xml">&lt;tt:p&gt;</code> element. Each must have begin and end times and an identifier (which must begin with a letter). In this minimal example <code class="language-xml">region</code> and <code class="language-xml">style</code> attributes are fixed for all subtitles so they are set in the container <code class="language-xml">div</code> . The identifier must be unique for each subtitle. For the begin and end times use the timings you've prepared. You will end up with something like this: <pre><code class="language-xml">
    &lt;tt:p xml:id="subtitle1" begin="00:00:10.000" end="00:00:20.000"&gt;
     &lt;tt:span style="spanStyle"&gt;First line&lt;tt:br/&gt;second line&lt;/tt:span&gt;
    &lt;/tt:p&gt;
    &lt;tt:p xml:id="subtitle2" begin="00:00:20.000" end="00:00:20.748"&gt;
    &lt;tt:span style="spanStyle"&gt;This subtitle has one line&lt;/tt:span&gt;
    &lt;/tt:p&gt;
    &lt;tt:p xml:id="subtitle3" begin="00:00:21.12" end="00:00:21.54"&gt;
    &lt;tt:span style="spanStyle"&gt;Next subtitle...&lt;/tt:span&gt;    
    &lt;/tt:p&gt;
    </code></pre> </li> 
         <li> <b>Place the subtitles inside a template.</b> Save a copy of the <a href="codesamples/ebu-tt-d_how-to_template.xml" target="_blank" title="Opens new window">EBU-TT-D template</a> and open it with a simple text editor (avoid word processors such as Word). Copy the list of paragraph elements you created in the previous step and paste it between <code class="language-xml">&lt;tt:div&gt;</code> and <code class="language-xml">&lt;/tt:div&gt;</code>, replacing the entire comment line (from &lt;!-- to --&gt; inclusive). </li> 
         <li> <p><b>Update the copyright.</b> Enter the correct year in the copyright element in the template: <code class="language-xml">&lt;ttm:copyright&gt;BBC 2021&lt;/ttm:copyright&gt;</code></p> </li> 
         <li> <p><b>Save.</b> Save the file with a <code class="language-xml">.ebuttd.xml</code> file extension. For the file name, see <a href="#EBU-TT-D-file">EBU-TT-D file</a>.</p> </li> 
        </ol> 
       </section> <!-- /appendix 4 EBU-TT-D howto --> 
       <section id="appendix_5"> 
        <h2>32 Appendix 5: BBC subtitle workflows</h2> 
        <p> This chart is a high-level view of current subtitle workflows:</p> 
        <img src="img/sub_workflow.png" alt="Diagram showing how prepared and live subtitles are authored, go through a playout area, to encoding processes and then to audience facing devices, with live flow using Nufor and prepared using STL, and distribution being DVB Bitmap, Teletext and TTML." title="Current view - not our strategic plan." style="width:700px;"> 
       </section> <!-- /appendix 5 --> 
       <section id="appendix_6"> 
        <h2>33 Appendix 6: References</h2> 
        <ul> 
         <li>‘BBC Access Services Presentation &amp; Style Guidelines’ (internal document). 2012</li> 
         <li><a href="https://web.archive.org/web/20120403102830/https://www.bbc.co.uk/guidelines/futuremedia/accessibility/subtitling_guides/online_sub_editorial_guidelines_vs1_1.pdf">‘bbc.co.uk Online Subtitling Editorial Guidelines V1.1’. 2009. (archived via the Wayback Machine)</a></li> 
         <li><a href="https://downloads.bbc.co.uk/rd/pubs/whp/whp-pdf-files/WHP287.pdf">BBC R&amp;D White Paper 287 (PDF): A Survey of UK Television Viewing Conditions. 2015</a></li> 
         <li><a href="https://tech.ebu.ch/publications/tech3264">‘Specification of the EBU Subtitling data exchange format', TECH. 3264-E. 1991</a></li> 
         <li><a href="https://tech.ebu.ch/docs/tech/tech3350v1-0.pdf">'EBU-TT Part 1 Subtitling Format Definition', Tech3350 (version 1.0)</a></li> 
         <li><a href="https://tech.ebu.ch/publications/tech3350">'EBU-TT Part 1 - Subtitle Format Definition', Tech3350 (version 1.1)</a></li> 
         <li><a href="https://tech.ebu.ch/publications/tech3380">'EBU-TT-D Subtitling Distribution Format', Tech3380</a></li> 
         <li><a href="https://webarchive.nationalarchives.gov.uk/20100508023348/http://www.ofcom.org.uk/tv/ifi/guidance/tv_access_serv/archive/subtitling_stnds/itc_stnds_subtitling_word.doc">‘ITC Guidance on Standards for Subtitling’. 1999. (Word document download)</a></li> 
         <li><a href="https://www.ofcom.org.uk/__data/assets/pdf_file/0017/45602/subtitling.pdf">'The quality of live subtitling - Improving the viewer experience'. 2013, Ofcom.</a></li> 
         <li><a href="https://www.w3.org/TR/ttml-imsc1.0.1/">'TTML Profiles for Internet Media Subtitles and Captions 1.0.1 (IMSC1)'</a></li> 
        </ul> 
        <p><a href="https://github.com/IRT-Open-Source/irt-ebu-tt-d-application-samples"> EBU-TT-D Application Samples</a> provided by <a href="https://www.irt.de/en/home">Institut für Rundfunktechnik</a>.</p> 
        <p><a href="https://www.w3.org/TR/ttml1/">TTML examples</a> provided by <a href="https://www.w3.org/groups/wg/timed-text"> W3C Timed Text Working Group</a>.</p> 
       </section> <!-- / appendix 6 --> 
      </section> <!-- /appendices --> 
     </main> <!-- contents not indented --> 
    </div> <!-- gel-layout__item --> 
    <script>
        $('.toc').nestedToc({
            container: 'main'
        });
    </script> 
    <p role="navigation" id="back-to-top"><a href="#toc"><abbr title="Back to Table of Contents">?</abbr></a></p> 
   </div> <!-- gel-layout (contents not indented) --> 
  </div> <!-- gel-wrap (contents not indented) -->  
 </body>
</html>