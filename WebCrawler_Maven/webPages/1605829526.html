<!doctype html>
<html> 
 <head> 
  <meta charset="utf-8"> 
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/"> 
  <title>What’s New In Python 3.12 — Python 3.12.0a0 documentation</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"> 
  <link rel="stylesheet" type="text/css" href="../_static/pygments.css"> 
  <link rel="stylesheet" type="text/css" href="../_static/pydoctheme.css?2022.1"> 
  <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script> 
  <script src="../_static/jquery.js"></script> 
  <script src="../_static/underscore.js"></script> 
  <script src="../_static/doctools.js"></script> 
  <script src="../_static/sidebar.js"></script> 
  <link rel="search" type="application/opensearchdescription+xml" title="Search within Python 3.12.0a0 documentation" href="../_static/opensearch.xml"> 
  <link rel="author" title="About these documents" href="../about.html"> 
  <link rel="index" title="Index" href="../genindex.html"> 
  <link rel="search" title="Search" href="../search.html"> 
  <link rel="copyright" title="Copyright" href="../copyright.html"> 
  <link rel="next" title="What’s New In Python 3.11" href="3.11.html"> 
  <link rel="prev" title="What’s New in Python" href="index.html"> 
  <link rel="canonical" href="https://docs.python.org/3/whatsnew/3.12.html"> 
  <style>
      @media only screen {
        table.full-width-table {
            width: 100%;
        }
      }
    </style> 
  <link rel="shortcut icon" type="image/png" href="../_static/py.svg"> 
  <script type="text/javascript" src="../_static/copybutton.js"></script> 
  <script type="text/javascript" src="../_static/menu.js"></script> 
 </head> 
 <body> 
  <div class="mobile-nav"> 
   <input type="checkbox" id="menuToggler" class="toggler__input" aria-controls="navigation" aria-pressed="false" aria-expanded="false" role="button" aria-label="Menu"> <label for="menuToggler" class="toggler__label"> <span></span> </label> 
   <nav class="nav-content" role="navigation"> <a href="https://www.python.org/" class="nav-logo"> <img src="../_static/py.svg" alt="Logo"> </a> 
    <div class="version_switcher_placeholder"></div> 
    <form role="search" class="search" action="../search.html" method="get"> 
     <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewbox="0 0 24 24" class="search-icon"> <path fill-rule="nonzero" d="M15.5 14h-.79l-.28-.27a6.5 6.5 0 001.48-5.34c-.47-2.78-2.79-5-5.59-5.34a6.505 6.505 0 00-7.27 7.27c.34 2.8 2.56 5.12 5.34 5.59a6.5 6.5 0 005.34-1.48l.27.28v.79l4.25 4.25c.41.41 1.08.41 1.49 0 .41-.41.41-1.08 0-1.49L15.5 14zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z" fill="#444"></path> 
     </svg> 
     <input type="text" name="q" aria-label="Quick search"> 
     <input type="submit" value="Go"> 
    </form> 
   </nav> 
   <div class="menu-wrapper"> 
    <nav class="menu" role="navigation" aria-label="main navigation"> 
     <div class="language_switcher_placeholder"></div> 
     <div> 
      <h3><a href="../contents.html">Table of Contents</a></h3> 
      <ul> 
       <li><a class="reference internal" href="#">What’s New In Python 3.12</a>
        <ul> 
         <li><a class="reference internal" href="#summary-release-highlights">Summary – Release highlights</a></li> 
         <li><a class="reference internal" href="#new-features">New Features</a></li> 
         <li><a class="reference internal" href="#other-language-changes">Other Language Changes</a></li> 
         <li><a class="reference internal" href="#new-modules">New Modules</a></li> 
         <li><a class="reference internal" href="#improved-modules">Improved Modules</a></li> 
         <li><a class="reference internal" href="#optimizations">Optimizations</a></li> 
         <li><a class="reference internal" href="#deprecated">Deprecated</a></li> 
         <li><a class="reference internal" href="#removed">Removed</a></li> 
         <li><a class="reference internal" href="#porting-to-python-3-12">Porting to Python 3.12</a>
          <ul> 
           <li><a class="reference internal" href="#changes-in-the-python-api">Changes in the Python API</a></li> 
          </ul> </li> 
         <li><a class="reference internal" href="#build-changes">Build Changes</a></li> 
         <li><a class="reference internal" href="#c-api-changes">C API Changes</a>
          <ul> 
           <li><a class="reference internal" href="#id1">New Features</a></li> 
           <li><a class="reference internal" href="#id2">Porting to Python 3.12</a></li> 
           <li><a class="reference internal" href="#id3">Deprecated</a></li> 
           <li><a class="reference internal" href="#id4">Removed</a></li> 
          </ul> </li> 
        </ul> </li> 
      </ul> 
     </div> 
     <div> 
      <h4>Previous topic</h4> 
      <p class="topless"><a href="index.html" title="previous chapter">What’s New in Python</a></p> 
     </div> 
     <div> 
      <h4>Next topic</h4> 
      <p class="topless"><a href="3.11.html" title="next chapter">What’s New In Python 3.11</a></p> 
     </div> 
     <div role="note" aria-label="source link"> 
      <h3>This Page</h3> 
      <ul class="this-page-menu"> 
       <li><a href="../bugs.html">Report a Bug</a></li> 
       <li> <a href="https://github.com/python/cpython/blob/main/Doc/whatsnew/3.12.rst" rel="nofollow">Show Source </a> </li> 
      </ul> 
     </div> 
    </nav> 
   </div> 
  </div> 
  <div class="related" role="navigation" aria-label="related navigation"> 
   <h3>Navigation</h3> 
   <ul> 
    <li class="right" style="margin-right: 10px"> <a href="../genindex.html" title="General Index" accesskey="I">index</a></li> 
    <li class="right"> <a href="../py-modindex.html" title="Python Module Index">modules</a> |</li> 
    <li class="right"> <a href="3.11.html" title="What’s New In Python 3.11" accesskey="N">next</a> |</li> 
    <li class="right"> <a href="index.html" title="What’s New in Python" accesskey="P">previous</a> |</li> 
    <li><img src="../_static/py.svg" alt="python logo" style="vertical-align: middle; margin-top: -1px"></li> 
    <li><a href="https://www.python.org/">Python</a> »</li> 
    <li class="switchers"> 
     <div class="language_switcher_placeholder"></div> 
     <div class="version_switcher_placeholder"></div> </li> 
    <li> </li> 
    <li id="cpython-language-and-version"> <a href="../index.html">3.12.0a0 Documentation</a> » </li> 
    <li class="nav-item nav-item-1"><a href="index.html" accesskey="U">What’s New in Python</a> »</li> 
    <li class="nav-item nav-item-this"><a href="">What’s New In Python 3.12</a></li> 
    <li class="right"> 
     <div class="inline-search" role="search"> 
      <form class="inline-search" action="../search.html" method="get"> 
       <input placeholder="Quick search" aria-label="Quick search" type="text" name="q"> 
       <input type="submit" value="Go"> 
       <input type="hidden" name="check_keywords" value="yes"> 
       <input type="hidden" name="area" value="default"> 
      </form> 
     </div> | </li> 
   </ul> 
  </div> 
  <div class="document"> 
   <div class="documentwrapper"> 
    <div class="bodywrapper"> 
     <div class="body" role="main"> 
      <section id="what-s-new-in-python-3-12"> 
       <h1>What’s New In Python 3.12<a class="headerlink" href="#what-s-new-in-python-3-12" title="Permalink to this headline">¶</a></h1> 
       <dl class="field-list simple"> 
        <dt class="field-odd">
         Release
        </dt> 
        <dd class="field-odd">
         <p>3.12.0a0</p> 
        </dd> 
        <dt class="field-even">
         Date
        </dt> 
        <dd class="field-even">
         <p>May 17, 2022</p> 
        </dd> 
       </dl> 
       <p>This article explains the new features in Python 3.12, compared to 3.11.</p> 
       <p>For full details, see the <a class="reference internal" href="changelog.html#changelog"><span class="std std-ref">changelog</span></a>.</p> 
       <div class="admonition note"> 
        <p class="admonition-title">Note</p> 
        <p>Prerelease users should be aware that this document is currently in draft form. It will be updated substantially as Python 3.12 moves towards release, so it’s worth checking back even after reading earlier versions.</p> 
       </div> 
       <section id="summary-release-highlights"> 
        <h2>Summary – Release highlights<a class="headerlink" href="#summary-release-highlights" title="Permalink to this headline">¶</a></h2> 
        <p>Important deprecations, removals or restrictions:</p> 
        <ul class="simple"> 
         <li><p><span class="target" id="index-0"></span><a class="pep reference external" href="https://peps.python.org/pep-0623/"><strong>PEP 623</strong></a>, Remove wstr from Unicode</p></li> 
        </ul> 
       </section> 
       <section id="new-features"> 
        <h2>New Features<a class="headerlink" href="#new-features" title="Permalink to this headline">¶</a></h2> 
       </section> 
       <section id="other-language-changes"> 
        <h2>Other Language Changes<a class="headerlink" href="#other-language-changes" title="Permalink to this headline">¶</a></h2> 
       </section> 
       <section id="new-modules"> 
        <h2>New Modules<a class="headerlink" href="#new-modules" title="Permalink to this headline">¶</a></h2> 
        <ul class="simple"> 
         <li><p>None yet.</p></li> 
        </ul> 
       </section> 
       <section id="improved-modules"> 
        <h2>Improved Modules<a class="headerlink" href="#improved-modules" title="Permalink to this headline">¶</a></h2> 
       </section> 
       <section id="optimizations"> 
        <h2>Optimizations<a class="headerlink" href="#optimizations" title="Permalink to this headline">¶</a></h2> 
        <ul class="simple"> 
         <li><p>Removed <code class="docutils literal notranslate"><span class="pre">wstr</span></code> and <code class="docutils literal notranslate"><span class="pre">wstr_length</span></code> members from Unicode objects. It reduces object size by 8 or 16 bytes on 64bit platform. (<span class="target" id="index-1"></span><a class="pep reference external" href="https://peps.python.org/pep-0623/"><strong>PEP 623</strong></a>) (Contributed by Inada Naoki in <a class="reference external" href="https://github.com/python/cpython/issues/92536">gh-92536</a>.)</p></li> 
        </ul> 
       </section> 
       <section id="deprecated"> 
        <h2>Deprecated<a class="headerlink" href="#deprecated" title="Permalink to this headline">¶</a></h2> 
       </section> 
       <section id="removed"> 
        <h2>Removed<a class="headerlink" href="#removed" title="Permalink to this headline">¶</a></h2> 
        <ul> 
         <li><p>The following undocumented <a class="reference internal" href="../library/sqlite3.html#module-sqlite3" title="sqlite3: A DB-API 2.0 implementation using SQLite 3.x."><code class="xref py py-mod docutils literal notranslate"><span class="pre">sqlite3</span></code></a> features, deprecated in Python 3.10, are now removed:</p> 
          <ul class="simple"> 
           <li><p><code class="docutils literal notranslate"><span class="pre">sqlite3.enable_shared_cache()</span></code></p></li> 
           <li><p><code class="docutils literal notranslate"><span class="pre">sqlite3.OptimizedUnicode</span></code></p></li> 
          </ul> <p>(Contributed by Erlend E. Aasland in <a class="reference external" href="https://github.com/python/cpython/issues/92548">gh-92548</a>)</p> </li> 
        </ul> 
       </section> 
       <section id="porting-to-python-3-12"> 
        <h2>Porting to Python 3.12<a class="headerlink" href="#porting-to-python-3-12" title="Permalink to this headline">¶</a></h2> 
        <p>This section lists previously described changes and other bugfixes that may require changes to your code.</p> 
        <section id="changes-in-the-python-api"> 
         <h3>Changes in the Python API<a class="headerlink" href="#changes-in-the-python-api" title="Permalink to this headline">¶</a></h3> 
         <ul class="simple"> 
          <li><p>More strict rules are now applied for numerical group references and group names in regular expressions. Only sequence of ASCII digits is now accepted as a numerical reference. The group name in bytes patterns and replacement strings can now only contain ASCII letters and digits and underscore. (Contributed by Serhiy Storchaka in <a class="reference external" href="https://github.com/python/cpython/issues/91760">gh-91760</a>.)</p></li> 
          <li><p>Removed randrange() functionality deprecated since Python 3.10. Formerly, randrange(10.0) losslessly converted to randrange(10). Now, it raises a TypeError. Also, the exception raised for non-integral values such as randrange(10.5) or randrange(‘10’) has been changed from ValueError to TypeError. This also prevents bugs where <code class="docutils literal notranslate"><span class="pre">randrange(1e25)</span></code> would silently select from a larger range than <code class="docutils literal notranslate"><span class="pre">randrange(10**25)</span></code>. (Originally suggested by Serhiy Storchaka gh-86388.)</p></li> 
         </ul> 
        </section> 
       </section> 
       <section id="build-changes"> 
        <h2>Build Changes<a class="headerlink" href="#build-changes" title="Permalink to this headline">¶</a></h2> 
       </section> 
       <section id="c-api-changes"> 
        <h2>C API Changes<a class="headerlink" href="#c-api-changes" title="Permalink to this headline">¶</a></h2> 
        <section id="id1"> 
         <h3>New Features<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h3> 
        </section> 
        <section id="id2"> 
         <h3>Porting to Python 3.12<a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h3> 
         <ul class="simple"> 
          <li><p>Legacy Unicode APIs based on <code class="docutils literal notranslate"><span class="pre">Py_UNICODE*</span></code> representation has been removed. Please migrate to APIs based on UTF-8 or <code class="docutils literal notranslate"><span class="pre">wchar_t*</span></code>.</p></li> 
          <li><p>Argument parsing functions like <a class="reference internal" href="../c-api/arg.html#c.PyArg_ParseTuple" title="PyArg_ParseTuple"><code class="xref c c-func docutils literal notranslate"><span class="pre">PyArg_ParseTuple()</span></code></a> doesn’t support <code class="docutils literal notranslate"><span class="pre">Py_UNICODE*</span></code> based format (e.g. <code class="docutils literal notranslate"><span class="pre">u</span></code>, <code class="docutils literal notranslate"><span class="pre">Z</span></code>) anymore. Please migrate to other formats for Unicode like <code class="docutils literal notranslate"><span class="pre">s</span></code>, <code class="docutils literal notranslate"><span class="pre">z</span></code>, <code class="docutils literal notranslate"><span class="pre">es</span></code>, and <code class="docutils literal notranslate"><span class="pre">U</span></code>.</p></li> 
         </ul> 
        </section> 
        <section id="id3"> 
         <h3>Deprecated<a class="headerlink" href="#id3" title="Permalink to this headline">¶</a></h3> 
        </section> 
        <section id="id4"> 
         <h3>Removed<a class="headerlink" href="#id4" title="Permalink to this headline">¶</a></h3> 
         <ul> 
          <li><p>Remove the <code class="docutils literal notranslate"><span class="pre">token.h</span></code> header file. There was never any public tokenizer C API. The <code class="docutils literal notranslate"><span class="pre">token.h</span></code> header file was only designed to be used by Python internals. (Contributed by Victor Stinner in <a class="reference external" href="https://github.com/python/cpython/issues/92651">gh-92651</a>.)</p></li> 
          <li><p>Leagcy Unicode APIs has been removed. See <span class="target" id="index-2"></span><a class="pep reference external" href="https://peps.python.org/pep-0623/"><strong>PEP 623</strong></a> for detail.</p> 
           <blockquote> 
            <div>
             <ul class="simple"> 
              <li><p><code class="xref c c-macro docutils literal notranslate"><span class="pre">PyUnicode_WCHAR_KIND</span></code></p></li> 
              <li><p><code class="xref c c-func docutils literal notranslate"><span class="pre">PyUnicode_AS_UNICODE()</span></code></p></li> 
              <li><p><code class="xref c c-func docutils literal notranslate"><span class="pre">PyUnicode_AsUnicode()</span></code></p></li> 
              <li><p><code class="xref c c-func docutils literal notranslate"><span class="pre">PyUnicode_AsUnicodeAndSize()</span></code></p></li> 
              <li><p><code class="xref c c-func docutils literal notranslate"><span class="pre">PyUnicode_AS_DATA()</span></code></p></li> 
              <li><p><code class="xref c c-func docutils literal notranslate"><span class="pre">PyUnicode_FromUnicode()</span></code></p></li> 
              <li><p><code class="xref c c-func docutils literal notranslate"><span class="pre">PyUnicode_GET_SIZE()</span></code></p></li> 
              <li><p><code class="xref c c-func docutils literal notranslate"><span class="pre">PyUnicode_GetSize()</span></code></p></li> 
              <li><p><code class="xref c c-func docutils literal notranslate"><span class="pre">PyUnicode_GET_DATA_SIZE()</span></code></p></li> 
             </ul> 
            </div>
           </blockquote> </li> 
          <li><p>Remove the <code class="docutils literal notranslate"><span class="pre">PyUnicode_InternImmortal()</span></code> function and the <code class="docutils literal notranslate"><span class="pre">SSTATE_INTERNED_IMMORTAL</span></code> macro. (Contributed by Victor Stinner in <a class="reference external" href="https://github.com/python/cpython/issues/85858">gh-85858</a>.)</p></li> 
         </ul> 
        </section> 
       </section> 
      </section> 
      <div class="clearer"></div> 
     </div> 
    </div> 
   </div> 
   <div class="sphinxsidebar" role="navigation" aria-label="main navigation"> 
    <div class="sphinxsidebarwrapper"> 
     <div> 
      <h3><a href="../contents.html">Table of Contents</a></h3> 
      <ul> 
       <li><a class="reference internal" href="#">What’s New In Python 3.12</a>
        <ul> 
         <li><a class="reference internal" href="#summary-release-highlights">Summary – Release highlights</a></li> 
         <li><a class="reference internal" href="#new-features">New Features</a></li> 
         <li><a class="reference internal" href="#other-language-changes">Other Language Changes</a></li> 
         <li><a class="reference internal" href="#new-modules">New Modules</a></li> 
         <li><a class="reference internal" href="#improved-modules">Improved Modules</a></li> 
         <li><a class="reference internal" href="#optimizations">Optimizations</a></li> 
         <li><a class="reference internal" href="#deprecated">Deprecated</a></li> 
         <li><a class="reference internal" href="#removed">Removed</a></li> 
         <li><a class="reference internal" href="#porting-to-python-3-12">Porting to Python 3.12</a>
          <ul> 
           <li><a class="reference internal" href="#changes-in-the-python-api">Changes in the Python API</a></li> 
          </ul> </li> 
         <li><a class="reference internal" href="#build-changes">Build Changes</a></li> 
         <li><a class="reference internal" href="#c-api-changes">C API Changes</a>
          <ul> 
           <li><a class="reference internal" href="#id1">New Features</a></li> 
           <li><a class="reference internal" href="#id2">Porting to Python 3.12</a></li> 
           <li><a class="reference internal" href="#id3">Deprecated</a></li> 
           <li><a class="reference internal" href="#id4">Removed</a></li> 
          </ul> </li> 
        </ul> </li> 
      </ul> 
     </div> 
     <div> 
      <h4>Previous topic</h4> 
      <p class="topless"><a href="index.html" title="previous chapter">What’s New in Python</a></p> 
     </div> 
     <div> 
      <h4>Next topic</h4> 
      <p class="topless"><a href="3.11.html" title="next chapter">What’s New In Python 3.11</a></p> 
     </div> 
     <div role="note" aria-label="source link"> 
      <h3>This Page</h3> 
      <ul class="this-page-menu"> 
       <li><a href="../bugs.html">Report a Bug</a></li> 
       <li> <a href="https://github.com/python/cpython/blob/main/Doc/whatsnew/3.12.rst" rel="nofollow">Show Source </a> </li> 
      </ul> 
     </div> 
    </div> 
   </div> 
   <div class="clearer"></div> 
  </div> 
  <div class="related" role="navigation" aria-label="related navigation"> 
   <h3>Navigation</h3> 
   <ul> 
    <li class="right" style="margin-right: 10px"> <a href="../genindex.html" title="General Index">index</a></li> 
    <li class="right"> <a href="../py-modindex.html" title="Python Module Index">modules</a> |</li> 
    <li class="right"> <a href="3.11.html" title="What’s New In Python 3.11">next</a> |</li> 
    <li class="right"> <a href="index.html" title="What’s New in Python">previous</a> |</li> 
    <li><img src="../_static/py.svg" alt="python logo" style="vertical-align: middle; margin-top: -1px"></li> 
    <li><a href="https://www.python.org/">Python</a> »</li> 
    <li class="switchers"> 
     <div class="language_switcher_placeholder"></div> 
     <div class="version_switcher_placeholder"></div> </li> 
    <li> </li> 
    <li id="cpython-language-and-version"> <a href="../index.html">3.12.0a0 Documentation</a> » </li> 
    <li class="nav-item nav-item-1"><a href="index.html">What’s New in Python</a> »</li> 
    <li class="nav-item nav-item-this"><a href="">What’s New In Python 3.12</a></li> 
    <li class="right"> 
     <div class="inline-search" role="search"> 
      <form class="inline-search" action="../search.html" method="get"> 
       <input placeholder="Quick search" aria-label="Quick search" type="text" name="q"> 
       <input type="submit" value="Go"> 
       <input type="hidden" name="check_keywords" value="yes"> 
       <input type="hidden" name="area" value="default"> 
      </form> 
     </div> | </li> 
   </ul> 
  </div> 
  <div class="footer">
    © <a href="../copyright.html">Copyright</a> 2001-2022, Python Software Foundation. 
   <br> This page is licensed under the Python Software Foundation License Version 2. 
   <br> Examples, recipes, and other code in the documentation are additionally licensed under the Zero Clause BSD License. 
   <br> See <a href="/license.html">History and License</a> for more information.
   <br> 
   <br> The Python Software Foundation is a non-profit corporation. <a href="https://www.python.org/psf/donations/">Please donate.</a> 
   <br> 
   <br> Last updated on May 17, 2022. <a href="/bugs.html">Found a bug</a>? 
   <br> Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 4.5.0. 
  </div> 
  <script type="text/javascript" src="../_static/switchers.js"></script> "  
 </body>
</html>