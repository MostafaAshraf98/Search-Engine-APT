<!doctype html>
<html lang="en" id="ng-app" class="no-js b-header--white--black b-footer--transparent--dark-grey b-reith-sans-font"> 
 <head prefix="og: http://ogp.me/ns#"> 
  <link rel="schema.DCTERMS" href="https://purl.org/dc/terms/"> 
  <script type="text/javascript">
    window['optimizely'] = window['optimizely'] || [];
    window['optimizely'].push({'type': 'holdEvents'});
  </script> 
  <script src="https://cdn.optimizely.com/public/4621041136/s/childrens_prod.js"></script> 
  <title>Grace's Amazing Machines: Speedy's Epic Journey Game - CBeebies - BBC</title> 
  <meta name="DCTERMS.title" content="Grace's Amazing Machines: Speedy's Epic Journey Game - CBeebies - BBC"> 
  <meta name="description" content="Speedy has raced off to try out an exciting new machine and Grace needs to follow his trail. She must use her expert knowledge in machines on sea, land and air to try to keep up with him! Can you keep up?"> 
  <meta name="DCTERMS.description" content="Speedy has raced off to try out an exciting new machine and Grace needs to follow his trail. She must use her expert knowledge in machines on sea, land and air to try to keep up with him! Can you keep up?"> 
  <meta property="og:title" content="Grace's Amazing Machines - Speedy's Epic Journey Game"> 
  <meta property="og:description" content="Speedy has raced off to try out an exciting new machine and Grace needs to follow his trail. She must use her expert knowledge in machines on sea, land and air to try to keep up with him! Can you keep up?"> 
  <meta property="og:image" content="https://ichef.bbci.co.uk/childrens-responsive-ichef-live/r/720/1x/cbeebies/Graces-Amazing-Machines-game-index2.jpg"> 
  <meta property="og:url" content="http://www.bbc.co.uk/cbeebies/games/graces-amazing-machines-game-speedys-epic-journey"> 
  <meta property="fb:pages" content="194575130577797"> 
  <meta property="fb:pages" content="7397061762"> 
  <meta property="fb:pages" content="7833211321"> 
  <meta property="fb:pages" content="129044383774217"> 
  <meta property="fb:pages" content="401538510458"> 
  <meta property="fb:pages" content="8251776107"> 
  <meta property="fb:pages" content="273726292719943"> 
  <meta property="fb:pages" content="107909022566650"> 
  <meta property="fb:pages" content="21750735380"> 
  <meta property="fb:pages" content="1477945425811579"> 
  <meta property="fb:pages" content="944295152308991"> 
  <meta property="fb:pages" content="154344434967"> 
  <meta property="fb:pages" content="8244244903"> 
  <meta property="fb:pages" content="512423982152360"> 
  <meta property="fb:pages" content="156060587793370"> 
  <meta property="fb:pages" content="215504865453262"> 
  <meta property="fb:pages" content="260967092113"> 
  <meta property="fb:pages" content="1392506827668140"> 
  <meta property="fb:pages" content="128645453843827"> 
  <meta property="fb:pages" content="7519460786"> 
  <meta property="fb:pages" content="1143803202301544"> 
  <meta property="fb:pages" content="1470145583204829"> 
  <meta property="fb:pages" content="470911516262605"> 
  <meta property="fb:pages" content="413132078795966"> 
  <meta property="fb:pages" content="118883634811868"> 
  <meta property="fb:pages" content="130593816777"> 
  <meta property="fb:pages" content="228735667216"> 
  <meta property="fb:pages" content="80758950658"> 
  <meta property="fb:pages" content="260212261199"> 
  <meta property="fb:pages" content="294662213128"> 
  <meta property="fb:pages" content="1086451581439054"> 
  <meta property="fb:pages" content="283348121682053"> 
  <meta property="fb:pages" content="295830058648"> 
  <meta property="fb:pages" content="239931389545417"> 
  <meta property="fb:pages" content="304314573046"> 
  <meta property="fb:pages" content="310719525611571"> 
  <meta property="fb:pages" content="647687225371774"> 
  <meta property="fb:pages" content="1159932557403143"> 
  <meta property="fb:pages" content="286567251709437"> 
  <meta property="fb:pages" content="1731770190373618"> 
  <meta property="fb:pages" content="125309456546"> 
  <meta property="fb:pages" content="742734325867560"> 
  <meta property="fb:pages" content="168895963122035"> 
  <meta property="fb:pages" content="292291897588734"> 
  <meta property="fb:pages" content="658551547588605"> 
  <meta property="fb:pages" content="156400551056385"> 
  <meta property="fb:pages" content="185246968166196"> 
  <meta property="fb:pages" content="1411916919051820"> 
  <meta property="fb:pages" content="958681370814419"> 
  <meta property="fb:pages" content="317278538359186"> 
  <meta property="fb:pages" content="8585725981"> 
  <meta property="fb:pages" content="1436581493296609"> 
  <meta property="fb:pages" content="163571453661989"> 
  <meta property="fb:pages" content="751471531641341"> 
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8"> 
  <meta name="DCTERMS.created" content="2022-04-04T09:00:00.000Z"> 
  <meta name="DCTERMS.modified" content="2022-04-04T09:00:20.971Z"> 
  <link rel="canonical" href="https://www.bbc.co.uk/cbeebies/games/graces-amazing-machines-game-speedys-epic-journey"> 
  <script type="text/javascript">
  var _sf_startpt = (new Date()).getTime()
</script> 
  <link rel="copyright" href="http://www.bbc.co.uk/terms/" title="Terms of Use"> 
  <link href="/cbeebies/assets/images/favicons/apple-touch-icon.png" rel="apple-touch-icon"> 
  <link href="/cbeebies/assets/images/favicons/favicon.ico" rel="icon" type="image/x-icon"> 
  <link href="/cbeebies/assets/images/favicons/favicon.ico" rel="shortcut icon" type="image/x-icon"> 
  <link rel="stylesheet" type="text/css" href="https://static.bbci.co.uk/gelstyles/0.11.0/style/core.css"> 
  <link rel="stylesheet" type="text/css" href="https://childrens-web.files.bbci.co.uk/cbeebies/www/assets/6cc36e0/stylesheets/cbeebies.min.css"> <!--[if lt IE 9]>
<link rel="stylesheet" type="text/css" href="https://childrens-web.files.bbci.co.uk/cbeebies/www/assets/6cc36e0/stylesheets/cbeebies.ie8.min.css"/>
<![endif]--> 
  <link rel="stylesheet" type="text/css" href="/cbeebies/stylesheets/immersive/brand/1635867857/6cc36e0/graces-amazing-machines.css"> 
  <script type="text/javascript">
  var allForwardSlashes = /\//g;
  var anythingNotAWordOrFullStop = /[^\w^\.]/g;
  var allMultipleUnderscores = /_+/g;
  var fullStopAtEnd = /\.$/;
  var pageDescriptor = window.location.pathname.substring(1)
  .replace(allForwardSlashes, '.')
  .replace(anythingNotAWordOrFullStop, '_')
  .replace(allMultipleUnderscores, '_')
  .replace(fullStopAtEnd, '');
  window.istats_countername = pageDescriptor.toLowerCase() + '.page';
</script> <!-- Orbit: 3.0.0-2077.d3600b65 --> <!-- Environment: live --> 
  <meta name="viewport" content="width=device-width, initial-scale=1.0"> 
  <style>
:root {
    --bbc-font: ReithSans, Arial, Helvetica, freesans, sans-serif;
    --bbc-font-legacy: Arial, Helvetica, freesans, sans-serif;
}
</style> 
  <script nomodule type="text/javascript" src="https://static.files.bbci.co.uk/orbit/2b1998e8c0a7c99b4e754326b283a810/js/polyfills.js"></script> 
  <link rel="stylesheet" href="https://static.files.bbci.co.uk/orbit/2b1998e8c0a7c99b4e754326b283a810/css/orbit-v4-ltr.min.css"> 
  <script src="https://static.files.bbci.co.uk/orbit/2b1998e8c0a7c99b4e754326b283a810/js/require.min.js"></script> 
  <script type="text/javascript">
    window.orbitData = {};

    var additionalPageProperties = {};
        additionalPageProperties['custom_var_1'] = 'graces-amazing-machines' || null;
        additionalPageProperties['custom_var_2'] = 'false' || null;
        additionalPageProperties['custom_var_3'] = 'false' || null;
        additionalPageProperties['custom_var_4'] = 'fun-activities-to-do-with-older-kids' || null;
        additionalPageProperties['custom_var_5'] = 'gid-cbeebies-ivor-graces-amazing-machines-minigames' || null;
        additionalPageProperties['custom_var_6'] = '2022-04-04T09:00:20.971Z' || null;
        additionalPageProperties['custom_var_7'] = '2022-04-04T09:00:20.971Z' || null;
        additionalPageProperties['custom_var_10'] = 'none' || null;
        additionalPageProperties['app_name'] = 'cbeebies' || null;

    window.orbitData.userProfileUrl = "https://www.bbc.co.uk/userprofile";

    window.page = {
        name: '' || null,
        destination: 'cbeebies' || null,
        producer: 'cbeebies' || null,
        section: 'games' || null,
        site: '' || null,
        contentId: 'urn:bbc:isite2:a64f3809-05e4-441a-9aea-5913250709c7' || null,
        contentType: 'article' || null,
        edition: '' || null,
        additionalProperties: additionalPageProperties
    };
    window.page.language = 'en';
    window.page.language = 'en';

    window.page.modal = false;

</script> 
  <script type="text/javascript">!function(){var t={930:function(t,e,r){function n(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function o(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?n(Object(r),!0).forEach((function(e){i(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function i(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var c=r(382),u=r(19);window.bbcpage=c.init(o({},window.page)),window.page=void 0,window.bbcuser=u.init(window,o({},window.user)),window.user=void 0},382:function(t){function e(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function r(t){for(var r=1;r<arguments.length;r++){var o=null!=arguments[r]?arguments[r]:{};r%2?e(Object(o),!0).forEach((function(e){n(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):e(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}function n(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}t.exports={init:function(t){var e=r({},t);return document.addEventListener("bbc-page-reset",(function(t){var r;t.detail&&t.detail.page&&(r=t.detail.page,e=Object.assign(e,r)),document.dispatchEvent(new Event("bbc-page-updated"))})),{getName:function(){return Promise.resolve(e.name||function(){if("file:"===window.location.protocol)return"local.file";var t=window.location.pathname.replace(/\/$/,"").replace(/^\//,"").replace(/\//g,".");return"".concat(t,".page")}())},getLanguage:function(){return Promise.resolve(e.language)},getDestination:function(){return Promise.resolve(e.destination)},getProducer:function(){return Promise.resolve(e.producer)},getSection:function(){return Promise.resolve(e.section)},getContentType:function(){return Promise.resolve(e.contentType)},getContentId:function(){return Promise.resolve(e.contentId)},getReferrer:function(){return Promise.resolve(window.orb&&null!==window.orb.referrer&&void 0!==window.orb.referrer?window.orb.referrer:document.referrer)},getAdditionalProperties:function(){return Promise.resolve(r({},e.additionalProperties))},loadCSS:function(t){return new Promise((function(e,r){var n=document.createElement("link");n.type="text/css",n.rel="stylesheet",n.onload=function(){e()},n.href=t,document.getElementsByTagName("head")[0].appendChild(n)}))},isModal:function(){return Promise.resolve(e.modal)}}}}},19:function(t,e,r){function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function i(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?o(Object(r),!0).forEach((function(e){c(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function c(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function u(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function f(t,e){if(e&&("object"===n(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function s(t){var e="function"==typeof Map?new Map:void 0;return(s=function(t){if(null===t||(r=t,-1===Function.toString.call(r).indexOf("[native code]")))return t;var r;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,n)}function n(){return l(t,arguments,y(this).constructor)}return n.prototype=Object.create(t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),h(n,t)})(t)}function l(t,e,r){return(l=p()?Reflect.construct:function(t,e,r){var n=[null];n.push.apply(n,e);var o=new(Function.bind.apply(t,n));return r&&h(o,r.prototype),o}).apply(null,arguments)}function p(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function h(t,e){return(h=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function y(t){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var d=r(890).loadModule,v=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&h(t,e)}(s,t);var e,r,n,o,i,c=(e=s,r=p(),function(){var t,n=y(e);if(r){var o=y(this).constructor;t=Reflect.construct(n,arguments,o)}else t=n.apply(this,arguments);return f(this,t)});function s(){return a(this,s),c.apply(this,arguments)}return n=s,o&&u(n.prototype,o),i&&u(n,i),Object.defineProperty(n,"prototype",{writable:!1}),n}(s(Error));t.exports={init:function(t,e){var r,n=i({},e),o=null;function c(){if(["X-Country","X-Ip_is_advertise_combined","X-Ip_is_uk_combined"].every((function(t){return!!n[t]})))return Promise.resolve(n);if(!o){var e=t.location.hostname.endsWith(".com")?"com":"co.uk";o=t.fetch("https://www.bbc.".concat(e,"/userinfo")).then((function(t){return t.json()}))}return o}function u(t){if(t.status>=200&&t.status<300)return t;var e=new Error(t.statusText);throw e.response=t,e}function a(t){return t.json()}function f(){if(n.ageBand)return Promise.resolve(n);if(!r){if("undefined"==typeof XMLHttpRequest||!("withCredentials"in new XMLHttpRequest))return Promise.resolve(n);r=d(["idcta-v2/idcta-1"]).then((function(e){return e.initiateTokenRefresh().then((function(){return t.fetch(t.orbitData.userProfileUrl,{credentials:"include"}).then(u).then(a).then((function(t){return n=i(i({},n),t)}))}))}))}return r}var s={getHashedId:function(){return d(["idcta-v2/idcta-1"]).then((function(t){return t.getCookieInstance().getHidFromCookie()}))},isSignedIn:function(){return d(["idcta-v2/idcta-1"]).then((function(t){return t&&t.getCookieInstance().hasCookie()}))},getCountry:function(){return c().then((function(t){return t["X-Country"]||"gb"}))},isUKCombined:function(){return c().then((function(t){if(!t["X-Ip_is_uk_combined"])throw new v("missing isUKCombined from userinfo response");return"yes"===t["X-Ip_is_uk_combined"].toLowerCase()}))},canSeeAdverts:function(){return c().then((function(t){if(!t["X-Ip_is_advertise_combined"])throw new v("missing canSeeAdverts from userinfo response");return"yes"===t["X-Ip_is_advertise_combined"].toLowerCase()}))},getAgeBand:function(){return c().then((function(t){return t["X-Age-Band"]?Promise.resolve(t["X-Age-Band"]):s.isSignedIn().then((function(t){if(t)return f().then((function(t){return n["X-Age-Band"]=t["X-Age-Band"],n["X-Age-Band"]||void 0})).catch((function(){return n["X-Age-Band"]||void 0}))}))}))},allowsPerformanceCookies:function(){return d(["orb/cookies"]).then((function(t){return!!t.cookiesEnabled()&&!!t.readPolicy("performance")}))},allowsFunctionalCookies:function(){return d(["orb/cookies"]).then((function(t){return!!t.cookiesEnabled()&&!!t.readPolicy("personalisation")}))},getCookieValue:function(t){return d(["orb/cookies"]).then((function(e){return e.get(t)}))}};return s},BBCUserError:v}},890:function(t){t.exports={loadModule:function(t){return new Promise((function(e,r){window.require(t,(function(){e.apply(this,arguments)}),(function(t){r(t)}))}))}}},666:function(t){var e=function(t){"use strict";var e,r=Object.prototype,n=r.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag";function a(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{a({},"")}catch(t){a=function(t,e,r){return t[e]=r}}function f(t,e,r,n){var o=e&&e.prototype instanceof v?e:v,i=Object.create(o.prototype),c=new k(n||[]);return i._invoke=function(t,e,r){var n=l;return function(o,i){if(n===h)throw new Error("Generator is already running");if(n===y){if("throw"===o)throw i;return C()}for(r.method=o,r.arg=i;;){var c=r.delegate;if(c){var u=_(c,r);if(u){if(u===d)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(n===l)throw n=y,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n=h;var a=s(t,e,r);if("normal"===a.type){if(n=r.done?y:p,a.arg===d)continue;return{value:a.arg,done:r.done}}"throw"===a.type&&(n=y,r.method="throw",r.arg=a.arg)}}}(t,r,c),i}function s(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=f;var l="suspendedStart",p="suspendedYield",h="executing",y="completed",d={};function v(){}function b(){}function g(){}var w={};w[i]=function(){return this};var m=Object.getPrototypeOf,O=m&&m(m(S([])));O&&O!==r&&n.call(O,i)&&(w=O);var P=g.prototype=v.prototype=Object.create(w);function j(t){["next","throw","return"].forEach((function(e){a(t,e,(function(t){return this._invoke(e,t)}))}))}function E(t,e){function r(o,i,c,u){var a=s(t[o],t,i);if("throw"!==a.type){var f=a.arg,l=f.value;return l&&"object"==typeof l&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,c,u)}),(function(t){r("throw",t,c,u)})):e.resolve(l).then((function(t){f.value=t,c(f)}),(function(t){return r("throw",t,c,u)}))}u(a.arg)}var o;this._invoke=function(t,n){function i(){return new e((function(e,o){r(t,n,e,o)}))}return o=o?o.then(i,i):i()}}function _(t,r){var n=t.iterator[r.method];if(n===e){if(r.delegate=null,"throw"===r.method){if(t.iterator.return&&(r.method="return",r.arg=e,_(t,r),"throw"===r.method))return d;r.method="throw",r.arg=new TypeError("The iterator does not provide a 'throw' method")}return d}var o=s(n,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,d;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,d):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,d)}function x(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function L(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function k(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(x,this),this.reset(!0)}function S(t){if(t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,c=function r(){for(;++o<t.length;)if(n.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return c.next=c}}return{next:C}}function C(){return{value:e,done:!0}}return b.prototype=P.constructor=g,g.constructor=b,b.displayName=a(g,u,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===b||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,g):(t.__proto__=g,a(t,u,"GeneratorFunction")),t.prototype=Object.create(P),t},t.awrap=function(t){return{__await:t}},j(E.prototype),E.prototype[c]=function(){return this},t.AsyncIterator=E,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var c=new E(f(e,r,n,o),i);return t.isGeneratorFunction(r)?c:c.next().then((function(t){return t.done?t.value:c.next()}))},j(P),a(P,u,"Generator"),P[i]=function(){return this},P.toString=function(){return"[object Generator]"},t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=S,k.prototype={constructor:k,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(L),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function o(n,o){return u.type="throw",u.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var c=this.tryEntries[i],u=c.completion;if("root"===c.tryLoc)return o("end");if(c.tryLoc<=this.prev){var a=n.call(c,"catchLoc"),f=n.call(c,"finallyLoc");if(a&&f){if(this.prev<c.catchLoc)return o(c.catchLoc,!0);if(this.prev<c.finallyLoc)return o(c.finallyLoc)}else if(a){if(this.prev<c.catchLoc)return o(c.catchLoc,!0)}else{if(!f)throw new Error("try statement without catch or finally");if(this.prev<c.finallyLoc)return o(c.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var c=i?i.completion:{};return c.type=t,c.arg=e,i?(this.method="next",this.next=i.finallyLoc,d):this.complete(c)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),d},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),L(r),d}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;L(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:S(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),d}},t}(t.exports);try{regeneratorRuntime=e}catch(t){Function("r","regeneratorRuntime = r")(e)}}},e={};function r(n){var o=e[n];if(void 0!==o)return o.exports;var i=e[n]={exports:{}};return t[n](i,i.exports,r),i.exports}r(666);r(930)}();</script> 
  <script type="module">
    window.importmap = {"orbit-drawer":"https://static.files.bbci.co.uk/orbit/2b1998e8c0a7c99b4e754326b283a810/js/drawer.mjs","bbccookies":"https://static.files.bbci.co.uk/cookies/2e8917a000cbc9051af7ab0a431d1750/cookie-banner/cookie-library.module.js"};
    var o={738:function(o){o.exports={loadModule:function(o){return new Promise(((n,t)=>{window.require(o,(function(){n.apply(this,arguments)}),(o=>{t(o)}))}))}}},61:function(o,n,t){const{loadModule:r}=t(738);o.exports=function(o){return function(n){return"string"==typeof n&&o[n]?import(o[n]):r(n)}}}},n={};function t(r){var i=n[r];if(void 0!==i)return i.exports;var e=n[r]={exports:{}};return o[r](e,e.exports,t),e.exports}!function(){const o=t(61);window.shimport=o({...window.importmap}),window.importMap=void 0}();</script> 
  <script type="text/javascript">
    window.page = undefined;
    window.user = undefined;
</script> 
  <link rel="preload" href="https://static.files.bbci.co.uk/fonts/reith/2.512/BBCReithSans_W_Rg.woff2" as="font" type="font/woff2" crossorigin> 
  <link rel="preload" href="https://static.files.bbci.co.uk/fonts/reith/2.512/BBCReithSans_W_Bd.woff2" as="font" type="font/woff2" crossorigin> <!-- searchbox Web Module: 3.1.0-549.e45b83d --> <!-- navpromo Web Module: 3.0.0-309.772e03a --> <!-- cookies Web Module: 0.0.3-729.bb9a63d --> <!-- useractivityhelper Web Module: 1.0.0-240.ab6612c --> <!-- reverb Web Module: 3.4.1 --> <!-- ukomtracking Web Module: 1.0.1 --> <!-- navid Web Module: 0.2.0-102.9b022c8 --> 
  <link rel="stylesheet" href="https://nav.files.bbci.co.uk/searchbox/f6d680456889eb445d7adfbf1e20b98d/css/box.css"> 
  <script src="https://static.files.bbci.co.uk/cookies/2e8917a000cbc9051af7ab0a431d1750/cookie-banner/cookie-library.bundle.js"></script>
  <script type="text/javascript">void 0!==window.define&&define("orb/cookies",function(){return window.bbccookies})</script> 
  <script type="text/javascript">window.__detectview={clickManagementEnabled:false};</script> 
  <script type="text/javascript">"use strict";!function(){window.__reverbStaticLocation="https://mybbc-analytics.files.bbci.co.uk/reverb-client-js/",window.__smarttagVersion="5.29.1",window.__reverb={},window.__reverb.__reverbLoadedPromise=new Promise(function(e,i){window.__reverb.__resolveReverbLoaded=e,window.__reverb.__rejectReverbLoaded=i}),window.__reverb.__reverbTimeout=setTimeout(function(){window.__reverb.__rejectReverbLoaded()},5e3);var i=function(d,a){window.__reverb.__reverbLoadedPromise.then(function(e){if(d&&d.detail){var i=!!d.detail.item,n=d.detail.label,t=i?"viewability":d.detail.type,o=d.detail.elem,r=d.detail.originalEvent;d.detail.isClick&&(a=d.detail.isClick),e.userActionEvent(t,n,d.detail,o,r,a)}},function(){console.log("Reverb failed to load. Event not sent")})},n=function(){window.__reverb.__reverbLoadedPromise.then(function(e){e.initialise().then(function(){return e.viewEvent()})},function(){console.log("Reverb failed to load. Event not sent")})};document.addEventListener("bbc-user-event",function(e){i(e,!1)}),document.addEventListener("bbc-user-click",function(e){i(e,!0)}),document.addEventListener("bbc-page-updated",n),window.addEventListener("pageshow",function(e){e.persisted&&n()})}();</script>
  <script type="text/javascript" src="https://mybbc-analytics.files.bbci.co.uk/reverb-client-js/reverb-3.4.1.js" async></script> 
  <script type="text/javascript">"use strict";function asyncGeneratorStep(e,t,n,r,o,a,i){try{var s=e[a](i),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,o)}function _asyncToGenerator(s){return function(){var e=this,i=arguments;return new Promise(function(t,n){var r=s.apply(e,i);function o(e){asyncGeneratorStep(r,t,n,o,a,"next",e)}function a(e){asyncGeneratorStep(r,t,n,o,a,"throw",e)}o(void 0)})}}var wrapMethod=function(e,t){return e[t]&&"function"==typeof e[t]?e[t]():Promise.resolve(null)},getPageVariables=function(){return window&&window.bbcpage?Promise.all(["getDestination","getSection"].map(function(e){return wrapMethod(window.bbcpage,e)})).then(function(e){var t=JSON.parse(JSON.stringify(e));return{destination:t[0],section:t[1]}}):Promise.resolve(void 0)},getUserVariables=function(){return window&&window.bbcuser?Promise.all(["isSignedIn","getHashedId"].map(function(e){return wrapMethod(window.bbcuser,e)})).then(function(e){var t=JSON.parse(JSON.stringify(e));return{isSignedIn:t[0],hashedId:t[1]}}):Promise.resolve(void 0)},dotMetricsTag=function(e,t){var n=document.createElement("script");return n.src="https://uk-script.dotmetrics.net/door.js?d=".concat(t,"&t=").concat(e),n.async=!0,n.id="dotmetrics",document.body.appendChild(n),function(){document.body.removeChild(n)}},isAccountPage=function(e,t){return!!e.includes("account.bbc")||!!t&&("account"===t.toLowerCase()||"account_test"===t.toLowerCase())},parseSiteSectionName=function(e){var t=e.destination,n=e.section,r=document?document.location.host.replace(/:.*/,""):"bbc.no.host";if(t){var o="";n&&["NEWS_PS","NEWS_PS_TEST","SOUNDS","SOUNDS_TEST","SPORT_PS","SPORT_PS_TEST","IPLAYER","IPLAYER_TEST"].includes(t.toUpperCase())&&(o=n.split("::")[0]);var a=t.replace(/_/g,""),i="".concat(a).concat(o).toLowerCase();dotMetricsTag(i,r)}else dotMetricsTag("other",r)};function startUkom(){return _startUkom.apply(this,arguments)}function _startUkom(){return(_startUkom=_asyncToGenerator(regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,getUserVariables();case 2:if((t=e.sent)&&t.isSignedIn&&null==t.hashedId)return e.abrupt("return");e.next=5;break;case 5:return e.next=7,getPageVariables();case 7:if(n=e.sent,isAccountPage(document.location.host,n.destination))return e.abrupt("return");e.next=10;break;case 10:parseSiteSectionName(n);case 11:case"end":return e.stop()}},e)}))).apply(this,arguments)}document.addEventListener("bbc-page-updated",dotMetricsTag),window.addEventListener("pageshow",function(e){e.persisted&&startUkom()}),document.addEventListener("DOMContentLoaded",function(){startUkom()});</script> 
  <link rel="stylesheet" href="https://static.files.bbci.co.uk/account/id-cta/575/style/id-cta.css"><!--[if IE 8]><link href="https://static.files.bbci.co.uk/account/id-cta/575/style/ie8.css" rel="stylesheet"/> <![endif]-->
  <script type="text/javascript">(function () {if (!window.require) {throw new Error('idcta: could not find require module');}if (typeof (map) == 'undefined') {var map = {};}if (!!document.createElementNS && !!document.createElementNS('http://www.w3.org/2000/svg', 'svg').createSVGRect) {document.documentElement.className += ' id-svg';}var ptrt = new RegExp("[\\?&]ptrt=([^&]*)").exec(document.location.href);var ENDPOINT_URL = 'https://idcta.api.bbc.co.uk';var ENDPOINT_CONFIG = ('/idcta/config?callback=&ptrt=' + (ptrt ? ptrt[1] : encodeURIComponent(document.location.href))).replace(/\&amp;/g, '&');var ENDPOINT_TRANSLATIONS = '/idcta/translations?callback=';function hasPromise() {var P = window.Promise;var promiseToString = null;if (P) {try {promiseToString = Object.prototype.toString.call(P.resolve());} catch (e) {/*silently ignored*/}}return (promiseToString === '[object Promise]' && !P.cast);}if (hasPromise()) {define('idcta/es6-promise', function () {return window.Promise;});define('idcta-v2/es6-promise', function () {return window.Promise;});}map['idcta-v2'] = 'https://static.files.bbci.co.uk/account/id-cta/575/modules/idcta-v2';map['idcta-v2/config'] = ENDPOINT_URL + ENDPOINT_CONFIG;map['idcta-v2/translations'] = ENDPOINT_URL + ENDPOINT_TRANSLATIONS;map['idcta'] = 'https://static.files.bbci.co.uk/account/id-cta/1.8.2/modules/idcta';map['idcta-v2/idcta-1'] = 'https://static.files.bbci.co.uk/account/id-cta/575/modules/idcta-v2/dist/idcta-1.min';map['idcta-v2/experiment-snippet'] = 'https://cdn.optimizely.com/public/4621041136/s/idcta_live';const idctaShim = {deps: ['idcta-v2/idcta-1'],};require({shim: {'idcta-v2/statusbar': idctaShim,'idcta-v2/id-config': idctaShim},map: {'*': {'idcta/idcta-1': 'idcta-v2/idcta-1','idcta': 'idcta-v2',}},paths: map});window.idctaBaseUrl = ENDPOINT_URL;define('idcta/config', ['idcta-v2/config'], function (data) { return data; });define('idcta/translations', ['idcta-v2/translations'], function (data) { return data; });})();</script> 
  <script>
    require.config({
      paths: {
          'optimizely-ati': ['https://childrens-web.files.bbci.co.uk/cbeebies/www/assets/6cc36e0/javascripts/stats/optimizely-ati']
      }
    });
    require(['optimizely-ati'], function (optimizelyATI) {
        window['optimizely'] = window['optimizely'] || [];
        window['optimizely'].push({'type': 'sendEvents'});
        optimizelyATI.init();
    });
  </script> 
  <script type="text/javascript">
        if(window.bbcuser && window.bbcuser.isUKCombined) {
            window.bbcuser.isUKCombined().then(function (isUK) {
                if (!isUK) {
                    window.location = "https://www.cbeebies.com";
                }
            }).catch(function(error) {
                console.error(error)
            })
        }
    </script> 
  <script type="text/javascript" src="https://childrens-web.files.bbci.co.uk/cbeebies/www/assets/6cc36e0/javascripts/libraries/modernizr.js"></script> 
  <script>
  define('modernizr', [], Modernizr);
</script> 
  <script type="text/javascript" src="https://childrens-web.files.bbci.co.uk/cbeebies/www/assets/6cc36e0/javascripts/libraries/matchMedia.js"></script> 
  <script>window.Morph = {}</script> 
  <script type="text/javascript">Morph.markPerformance = function(label) { if(window.performance && window.performance.mark) { window.performance.mark(label); } }; Morph.versions = {}; Morph.modules = {}; Morph.config = { cdn: "m.files.bbci.co.uk", pushEnv: "live" }; Morph.styles = {}; Morph.styleSrc = []; Morph.toInit = {bundles: [], registers: [], payloads: []};   Morph.initStyles = function() { if (!Morph.enhanced) { var eles = Array.prototype.slice.call(document.getElementsByTagName('noscript')); for (var i = 0, len = eles.length; i<len; i++) { if (eles[i].className === 'morph-core-style') { document.write(eles[i].innerText); eles[i].parentNode.removeChild(eles[i]); } } return; } for (var j = 0, jLen = Morph.styleSrc.length; j<jLen; j++) { document.write(Morph.styleSrc[j]); } Morph.styleSrc = []; };</script> 
  <script type="text/javascript">Morph.forceCore = window.location.search.indexOf('morph-disable-enhanced=1')>-1; Morph.modernBrowser = ( 'addEventListener' in window && 'querySelector' in document && 'localStorage' in window ); Morph.isOperaMini = ( window.navigator.userAgent.indexOf('Opera Mini/')>-1 && window.navigator.userAgent.indexOf('Presto/')>-1 ); Morph.enhanced = (!Morph.forceCore && Morph.modernBrowser && !Morph.isOperaMini);</script> <!--[if gt IE 8]><!-->
  <noscript class="morph-core-style">
   <!--<![endif]-->
   <style>@import url("https://gel.files.bbci.co.uk/r2.302/bbc-reith.css");html,body,div,span,applet,object,iframe,h1,h2,h3,h4,h5,h6,p,blockquote,pre,a,abbr,acronym,address,big,cite,code,del,dfn,em,img,ins,kbd,q,s,samp,small,strike,strong,sub,sup,tt,var,b,u,i,center,dl,dt,dd,ol,ul,li,fieldset,form,label,legend,table,caption,tbody,tfoot,thead,tr,th,td,article,aside,canvas,details,embed,figure,figcaption,footer,header,hgroup,menu,nav,output,ruby,section,summary,time,mark,audio,video{margin:0;padding:0;border:0;vertical-align:baseline}article,aside,details,figcaption,figure,footer,header,hgroup,menu,nav,section{display:block}body{line-height:1}ol,ul{list-style:none}blockquote,q{quotes:none}blockquote:before,blockquote:after,q:before,q:after{content:'';content:none}table{border-collapse:collapse;border-spacing:0}.cage-game{height:-webkit-fill-available}.cage-pointer-block{user-select:none;-webkit-user-select:none;pointer-events:none;height:100%;width:100%}.game-wrapper{position:absolute;width:100%;height:100%;background-color:#000}.game-wrapper__brim{position:fixed}.game-wrapper--embed{position:relative;padding-bottom:56.25%}.cage-fullscreen-capture{position:fixed;top:0;width:100%;height:100%;z-index:2147483647}.game-wrapper--fixedsize{position:relative;margin:0 auto}@keyframes rotating{from{-ms-transform:translate(-50%, -50%) rotate(0deg);-moz-transform:translate(-50%, -50%) rotate(0deg);-webkit-transform:translate(-50%, -50%) rotate(0deg);-o-transform:translate(-50%, -50%) rotate(0deg);transform:translate(-50%, -50%) rotate(0deg)}to{-ms-transform:translate(-50%, -50%) rotate(360deg);-moz-transform:translate(-50%, -50%) rotate(360deg);-webkit-transform:translate(-50%, -50%) rotate(360deg);-o-transform:translate(-50%, -50%) rotate(360deg);transform:translate(-50%, -50%) rotate(360deg)}}.game-wrapper__loading-spinner{position:absolute;left:50%;top:50%;animation:rotating 1.5s linear infinite}.game-wrapper__loading-spinner path{fill:#fff}.game-wrapper__cta{position:absolute;height:100%;width:100%;cursor:pointer;background-color:#000}.game-wrapper__cta img{width:100%;height:100%}.game-wrapper__cta:hover .game-holder__cta-button{background-color:rgba(186,26,23,0.75)}.game-wrapper__cta-button{position:absolute;bottom:0;left:0;width:80px;height:80px;background-color:rgba(0,0,0,0.75)}.game-wrapper__cta-icon{position:absolute;top:16px;left:16px;width:49px;height:39px}.game-wrapper__iframe{position:absolute;width:100%;height:100%}.game-wrapper__game{position:fixed;width:100%;height:100%}.game-wrapper__iframe--fixedsize{position:absolute;margin:0 auto}.cage-overlay{position:fixed;display:-ms-flexbox;display:flex;-ms-flex-pack:center;justify-content:center;-ms-flex-align:center;align-items:center;-ms-flex-direction:column;flex-direction:column;width:100%;height:100%;background:rgba(0,0,0,0.4)}.cage-overlay__modal{top:25%;width:50%;min-width:325px;height:50%;min-height:150px;overflow:hidden;background-color:#fff;z-index:1;border-radius:5px;-webkit-border-radius:5px;-moz-border-radius:5px;font-size:110%}.cage-overlay__title{position:relative;margin:0 auto;padding:0;text-align:center;border-bottom:1px solid #B7BBBB}.cage-overlay__title-text{padding:1.1em 3em;text-align:center;font:bold 1.3em arial,sans-serif;color:#3F3E4A;outline:0}.cage-overlay__close-button{position:absolute;right:10px;top:10px;padding:2px 2px 0;border:0;background-color:rgba(0,0,0,0);-webkit-tap-highlight-color:rgba(0,0,0,0);-webkit-backface-visibility:hidden}.cage-overlay__close-button:hover .cage-settings__close-icon-circle{fill:#B3B3B5}.cage-overlay__close-button:focus{-webkit-focus-ring-color:#bfbfc2}.cage-overlay__close-icon-circle{transition:200ms;transition-timing-function:ease-in-out;-webkit-transition:200ms;-webkit-transition-timing-function:ease-in-out;fill:#F0F0F4}.cage-overlay__subheading{padding:1em 2.2em;font:bold 0.9em arial,sans-serif;text-transform:uppercase;color:#939397;background-color:#F0F0F4}.cage-overlay__content{height:calc(100% - 68px);overflow-y:auto;outline:0}.cage-overlay__content::-webkit-scrollbar{-webkit-appearance:none}.cage-overlay__content::-webkit-scrollbar:vertical{width:12px}.cage-overlay__content::-webkit-scrollbar-thumb{background-color:rgba(0,0,0,0.5);border-radius:10px;border:2px solid #fff}.cage-overlay__content::-webkit-scrollbar-track{border-radius:10px;background-color:transparent}@media (max-width: 410px){.cage-overlay__modal{top:5%;width:90%;height:90%;font-size:85%}.cage-overlay__content{height:calc(100% - 53px)}.cage-overlay__close-button{top:8px;right:8px}.cage-overlay__close-icon{width:36px;height:36px}.cage-setting__toggle-icon{width:42px;height:26px}}@media (max-width: 450px) and (min-width: 411px){.cage-overlay__modal{top:5%;width:90%;height:90%;font-size:85%}.cage-overlay__content{height:calc(100% - 53px)}.cage-overlay__close-button{top:8px;right:8px}.cage-overlay__close-icon{width:36px;height:36px}.cage-setting__toggle-icon{width:42px;height:26px}}@media (max-width: 580px) and (min-width: 451px){.cage-overlay__modal{top:5%;width:80%;height:90%;font-size:90%}.cage-overlay__content{height:calc(100% - 56px)}.cage-overlay__close-icon{width:36px;height:36px}.cage-setting__toggle-icon{width:42px;height:26px}}@media (max-width: 780px) and (min-width: 581px){.cage-overlay__modal{top:10%;width:80%;height:80%;font-size:90%}.cage-overlay__content{height:calc(100% - 56px)}.cage-overlay__close-icon{width:36px;height:36px}.cage-setting__toggle-icon{width:42px;height:26px}}@media (max-width: 980px) and (min-width: 781px){.cage-overlay__modal{top:15%;width:70%;height:70%}}@media (max-width: 1470px) and (min-width: 981px){.cage-overlay--mobile{width:80%}.cage-overlay--mobile .cage-settings__modal{height:70%}}body:not(.user-is-tabbing) button:focus,body:not(.user-is-tabbing) input:focus,body:not(.user-is-tabbing) select:focus,body:not(.user-is-tabbing) textarea:focus{outline:none}.cage-achievements{display:block;top:10%;height:80%;width:52%;padding-bottom:5px;font-family:ReithSans,Arial,Helvetica,freesans,sans-serif;background-color:#2a205c;opacity:1}.cage-achievements .cage-overlay__content{padding:0 10px;margin-right:10px;height:calc(100% - 61px)}.cage-achievements .cage-overlay__modal{border-radius:6px;-webkit-border-radius:6px;-moz-border-radius:6px}.cage-achievements .cage-overlay__content::-webkit-scrollbar:vertical{width:10px}.cage-achievements .cage-overlay__content::-webkit-scrollbar-thumb{background-color:#fff;border-radius:3px}.cage-achievements .cage-overlay__content::-webkit-scrollbar-track{border-radius:3px;background-color:#746d93}.cage-achievements .cage-overlay__title{border-bottom:none}.cage-achievements .cage-overlay__title-text{padding:16px 0px 15px 0px;line-height:100%;text-align:center;font:bold 20px ReithSans,Arial,Helvetica,freesans,sans-serif;color:#fff}.cage-achievement{display:flex;margin-bottom:8px;padding:6px;min-height:58px;border-radius:3px;font-size:13px;line-height:16px;color:#3b3b3b;background-color:#fff}.cage-achievement svg{float:left;width:13px;height:13px;margin-right:4px;margin-top:5px;fill:#FFD130}.cage-achievement--locked{background-color:#EAE9EE}.cage-achievement--locked svg{fill:#B4B4B4}.cage-achievement:last-child{margin-bottom:0}.cage-achievement__icon{width:58px;height:58px;min-width:58px;margin-right:6px;border-radius:2px}.cage-achievement__inner{width:80%}.cage-achievement__title{margin:2px 0 0;line-height:18px;font-size:15px;font-weight:bold;color:#222}.cage-achievement__description{margin:4px 0 2px 0}.cage-achievement__hintline-prefix{font-weight:bold}.cage-achievement__hintline-text{font-style:italic}.cage-achievement progress{border:none;border-radius:5px;background-color:#d6d6d6}.cage-achievement progress::-ms-fill{background-color:#00d2a9;border:none;border-radius:5px}.cage-achievement progress[value]{-webkit-appearance:none;appearance:none;width:170px;height:10px;margin-right:6px;position:relative;bottom:2px}.cage-achievement progress[value]::-webkit-progress-bar{background-color:#d6d6d6;border-radius:5px;overflow:hidden}.cage-achievement progress::-moz-progress-bar{background:#00d2a9;border-radius:5px}.cage-achievement progress[value]::-webkit-progress-value{background:#00d2a9;border-radius:5px}.cage-overlay__modal{width:75%;height:calc(100% - 4vw)}@media (min-width: 769px){.cage-overlay__modal{width:744px;height:86%;max-height:623px}.cage-achievements .cage-overlay__content::-webkit-scrollbar:vertical{width:16px}.cage-achievements .cage-overlay__content{padding:0 16px;margin-right:16px;height:calc(100% - 81px)}.cage-achievements .cage-overlay__title{border-bottom:none}.cage-achievements .cage-overlay__title-text{padding:20px 0px 22px 0px;line-height:100%;text-align:center;font:bold 26px ReithSans,Arial,Helvetica,freesans,sans-serif;color:#fff}.cage-achievement{display:flex;margin-bottom:10px;padding:8px;min-height:74px;border-radius:3px;font-size:15px;line-height:22px}.cage-achievement progress[value]{-webkit-appearance:none;appearance:none;width:216px;height:10px;margin-right:6px;position:relative;bottom:3px}.cage-achievement svg{float:left;width:16px;height:16px;margin-right:6px;margin-top:6px}.cage-achievement__icon{width:74px;height:74px;min-width:74px;margin-right:10px;border-radius:2px}.cage-achievement__title{margin:2px 0 0;line-height:22px;font-size:18px;font-weight:bold;color:#222}.cage-achievement__description{margin:4px 0 2px 0}.cage-achievement__hintline-prefix{font-weight:bold}.cage-achievement__hintline-text{font-style:italic}}.cage-setting{position:relative;padding:1em 2.2em;border-bottom:1px solid #F0F0F4}.cage-setting:last-child{border-bottom:0}.cage-setting__info{display:block;padding-right:86px;font:normal 1em arial,sans-serif}.cage-setting__title{padding-bottom:0.3em;font-weight:bold;color:#323232}.cage-setting__description{font-size:1em;color:#939397}.cage-setting__toggle{position:absolute;right:1.8em;top:10px}.cage-setting__toggle_button{margin-top:0.4em;padding:0.4em 0.4em 0.2em;border:0;background-color:rgba(0,0,0,0);-webkit-backface-visibility:hidden;-webkit-tap-highlight-color:rgba(0,0,0,0)}.cage-setting__toggle_button:active,.cage-setting__toggle_button:focus{background-color:rgba(0,0,0,0);-webkit-focus-ring-color:#bfbfc2}.cage-setting__toggle_button .cage-setting__toggle-slider,.cage-setting__toggle_button .cage-setting__toggle-outline{transition:200ms;transition-timing-function:ease-in-out;-webkit-transition:200ms;-webkit-transition-timing-function:ease-in-out}.cage-setting__toggle_button--on .cage-setting__toggle-outline{fill:#44D6DA}.cage-setting__toggle_button--off .cage-setting__toggle-outline{fill:#D8D8D8}@media (max-width: 410px){.cage-setting__toggle-icon{width:42px;height:26px}}@media (max-width: 450px) and (min-width: 411px){.cage-setting__toggle-icon{width:42px;height:26px}}@media (max-width: 580px) and (min-width: 451px){.cage-setting__toggle-icon{width:42px;height:26px}}@media (max-width: 780px) and (min-width: 581px){.cage-setting__toggle-icon{width:42px;height:26px}}.game-wrapper__error{padding-top:5%;background-color:#000;color:#fff;font-family:Arial, Helvetica, sans-serif;text-align:center;font-size:26px}.game-wrapper__error a{color:#fff;text-decoration:underline;font-weight:bold}@media screen and (min-width: 400px){.game-wrapper__error h1{margin:8px 70px}.game-wrapper__error p{margin:8px 70px}}@media screen and (min-width: 600px){.game-wrapper__error h1{margin:16px 96px;font-size:20px}.game-wrapper__error p{margin:16px 96px;font-size:18px}}@media screen and (min-width: 770px){.game-wrapper__error h1{margin:16px 126px;font-size:26px}.game-wrapper__error p{margin:16px 126px;font-size:20px}}@media screen and (min-width: 1008px){.game-wrapper__error h1{margin:16px 246px}.game-wrapper__error p{margin:16px 246px}}.game-wrapper #brim{display:none}.cage-brim#cage-brim{width:100%;height:175vh}.cage-brim__message{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#000000;touch-action:pan-y;-webkit-user-select:none;z-index:2147483647}.cage-brim--disabled{display:none}.cage-brim__vo-button{height:1px;width:1px}.cage-brim__text{position:absolute;top:54vmin;left:0px;right:0px;color:#FFFFFF;text-align:center;font:bold 7vmin Helvetica, sans-serif}@keyframes hand-movement{21%{transform:rotate(-20deg);visibility:hidden;left:50%;top:27vmin}50%{transform:rotate(-5deg);visibility:hidden;left:50%;top:7vmin}}@keyframes hand-tap-swipe{20%{transform:rotate(-20deg);visibility:hidden;top:27vmin}50%{transform:rotate(-5deg);visibility:visible;top:7vmin}51%{visibility:hidden;top:7vmin}}@keyframes arrow-swipe{20%{opacity:0;top:26vmin}30%{opacity:1}50%{opacity:1;top:7vmin}100%{opacity:0;top:7vmin}}.cage-brim__hand{position:absolute;left:50%;top:24vmin;width:30vmin;height:30vmin;animation:hand-movement 2.2s ease infinite;transform:translate(10vmin);transform-origin:bottom right}.cage-brim__hand-tap{position:absolute;left:50%;top:27vmin;width:30vmin;height:30vmin;visibility:hidden;animation:hand-tap-swipe 2.2s ease infinite;transform-origin:bottom right}.cage-brim__arrow{position:absolute;left:50%;top:26vmin;width:40vmin;height:40vmin;opacity:0;animation:arrow-swipe 2.2s ease infinite;transform:translate(-30vmin)}.cage-achievement-notification{position:fixed;left:50%;margin-left:-172px;width:344px;height:80px;pointer-events:none;font-family:ReithSans,Arial,Helvetica,freesans,sans-serif}.cage-achievement-notification--top{top:2vw}.cage-achievement-notification--bottom{bottom:2vw}.cage-achievement-toast__container{position:relative;left:50%;margin-left:-172px;width:344px;height:80px;opacity:1;-webkit-transform:translateZ(0);transform:translateZ(0);-webkit-backface-visibility:hidden;backface-visibility:hidden;background-size:100%;background-position:0 0;-webkit-animation:achievement-animateBoxIn 1.93s steps(58, end) 1 forwards,achievement-animateBoxOut 1s steps(30, end) 6s;animation:achievement-animateBoxIn 1.93s steps(58, end) 1 forwards,achievement-animateBoxOut 1s steps(30, end) 6s;-webkit-animation-fill-mode:forwards;animation-fill-mode:forwards}.cage-achievement-toast__icon{position:absolute;top:19px;left:31px;width:42px;height:42px;opacity:0;border-radius:2px;-webkit-animation:achievement-scrollIn 0.2s ease-out 2.22s forwards, achievement-fadeOut 0.2s ease-in 6s forwards;animation:achievement-scrollIn 0.2s ease-out 2.22s forwards, achievement-fadeOut 0.2s ease-in 6s forwards;-webkit-animation-fill-mode:forwards;animation-fill-mode:forwards}.cage-achievement-toast__inner{position:absolute;top:19px;left:83px;width:237px}.cage-achievement-toast__title{position:absolute;top:0px;font-size:16px;line-height:20px;font-weight:bold;opacity:0;-webkit-animation:achievement-scrollIn 0.2s ease-out 2s forwards, achievement-scrollOut 0.2s ease-in 4s forwards;animation:achievement-scrollIn 0.2s ease-out 2s forwards, achievement-scrollOut 0.2s ease-in 4s forwards;-webkit-animation-fill-mode:forwards;animation-fill-mode:forwards}.cage-achievement-toast__name{position:absolute;top:21px;font-size:14px;line-height:18px;height:18px;overflow:hidden;opacity:0;-webkit-animation:achievement-scrollIn 0.2s ease-out 2.32s forwards, achievement-scrollOut 0.2s ease-in 4s forwards;animation:achievement-scrollIn 0.2s ease-out 2.32s forwards, achievement-scrollOut 0.2s ease-in 4s forwards;-webkit-animation-fill-mode:forwards;animation-fill-mode:forwards}.cage-achievement-toast__name svg{float:left;margin-right:5px;margin-top:4px;width:12px;height:12px;fill:#FFD130}.cage-achievement-toast__description{position:absolute;top:2px;height:36px;font-size:14px;line-height:18px;opacity:0;overflow:hidden;-webkit-animation:achievement-scrollIn 0.2s ease-out 4.2s forwards, achievement-scrollOut 0.2s ease-in 6s forwards;animation:achievement-scrollIn 0.2s ease-out 4.2s forwards, achievement-scrollOut 0.2s ease-in 6s forwards;-webkit-animation-fill-mode:forwards;animation-fill-mode:forwards}@-webkit-keyframes achievement-animateBoxIn{from{background-position:0 0}to{background-position:0 -4640px}}@keyframes achievement-animateBoxIn{from{background-position:0 0}to{background-position:0 -4640px}}@-webkit-keyframes achievement-animateBoxOut{from{background-position:0 -4640px}to{background-position:0 -7040px}}@keyframes achievement-animateBoxOut{from{background-position:0 -4640px}to{background-position:0 -7040px}}@-webkit-keyframes achievement-animateBoxIn-1280{from{background-position:0 0}to{background-position:0 -5800px}}@keyframes achievement-animateBoxIn-1280{from{background-position:0 0}to{background-position:0 -5800px}}@-webkit-keyframes achievement-animateBoxOut-1280{from{background-position:0 -5800px}to{background-position:0 -8800px}}@keyframes achievement-animateBoxOut-1280{from{background-position:0 -5800px}to{background-position:0 -8800px}}@-webkit-keyframes achievement-scrollIn{from{margin-top:5px;opacity:0}to{margin-top:0;opacity:1}}@keyframes achievement-scrollIn{from{margin-top:5px;opacity:0}to{margin-top:0;opacity:1}}@-webkit-keyframes achievement-scrollOut{from{margin-top:0;opacity:1}to{margin-top:-5px;opacity:0}}@keyframes achievement-scrollOut{from{margin-top:0;opacity:1}to{margin-top:-5px;opacity:0}}@-webkit-keyframes achievement-fadeIn{from{opacity:0}to{opacity:1}}@keyframes achievement-fadeIn{from{opacity:0}to{opacity:1}}@-webkit-keyframes achievement-fadeOut{from{opacity:1}to{opacity:0}}@keyframes achievement-fadeOut{from{opacity:1}to{opacity:0}}@media screen and (min-width: 1280px){.cage-achievement-notification{bottom:45px;margin-left:-215px;width:430px;height:100px}.cage-achievement-toast__container{margin-left:-215px;width:430px;height:100px;-webkit-animation:achievement-animateBoxIn-1280 1.93s steps(58, end) 1 forwards,achievement-animateBoxOut-1280 1s steps(30, end) 6s;animation:achievement-animateBoxIn-1280 1.93s steps(58, end) 1 forwards,achievement-animateBoxOut-1280 1s steps(30, end) 6s;-webkit-animation-fill-mode:forwards;animation-fill-mode:forwards}.cage-achievement-toast__inner{top:21px;left:111px;width:282px}.cage-achievement-toast__icon{top:21px;left:42px;width:58px;height:58px}.cage-achievement-toast__title{top:6px;font-size:22px;line-height:22px}.cage-achievement-toast__name{top:31px;font-size:18px;line-height:22px;height:22px}.cage-achievement-toast__name svg{width:16px;height:16px}.cage-achievement-toast__description{top:8px;height:44px;font-size:18px;line-height:22px}}.data-notice{position:fixed;bottom:0;padding:0.4%;width:100%;text-align:center;font-family:ReithSans,Arial,Helvetica,freesans,sans-serif;font-size:1em;background:rgba(0,0,0,0.8);color:#fff}@media screen and (orientation: portrait){.data-notice{display:none}}@media (max-width: 25em){.data-notice{font-size:0.96em}}.exit-tile__container--hidden{display:none}.exit-tile__frame{border:0;height:100%;position:fixed;width:100%;overflow:hidden;z-index:2147483647}
</style><!--[if gt IE 8]><!-->
  </noscript><!--<![endif]-->
  <script>if (Morph.enhanced) { Morph.styles["bbc-morph-childrens-games-view/9.9.6"]=true; Morph.styleSrc.push("<style>@import url(\"https://gel.files.bbci.co.uk/r2.302/bbc-reith.css\");html,body,div,span,applet,object,iframe,h1,h2,h3,h4,h5,h6,p,blockquote,pre,a,abbr,acronym,address,big,cite,code,del,dfn,em,img,ins,kbd,q,s,samp,small,strike,strong,sub,sup,tt,var,b,u,i,center,dl,dt,dd,ol,ul,li,fieldset,form,label,legend,table,caption,tbody,tfoot,thead,tr,th,td,article,aside,canvas,details,embed,figure,figcaption,footer,header,hgroup,menu,nav,output,ruby,section,summary,time,mark,audio,video{margin:0;padding:0;border:0;vertical-align:baseline}article,aside,details,figcaption,figure,footer,header,hgroup,menu,nav,section{display:block}body{line-height:1}ol,ul{list-style:none}blockquote,q{quotes:none}blockquote:before,blockquote:after,q:before,q:after{content:'';content:none}table{border-collapse:collapse;border-spacing:0}.cage-game{height:-webkit-fill-available}.cage-pointer-block{user-select:none;-webkit-user-select:none;pointer-events:none;height:100%;width:100%}.game-wrapper{position:absolute;width:100%;height:100%;background-color:#000}.game-wrapper__brim{position:fixed}.game-wrapper--embed{position:relative;padding-bottom:56.25%}.cage-fullscreen-capture{position:fixed;top:0;width:100%;height:100%;z-index:2147483647}.game-wrapper--fixedsize{position:relative;margin:0 auto}@keyframes rotating{from{-ms-transform:translate(-50%, -50%) rotate(0deg);-moz-transform:translate(-50%, -50%) rotate(0deg);-webkit-transform:translate(-50%, -50%) rotate(0deg);-o-transform:translate(-50%, -50%) rotate(0deg);transform:translate(-50%, -50%) rotate(0deg)}to{-ms-transform:translate(-50%, -50%) rotate(360deg);-moz-transform:translate(-50%, -50%) rotate(360deg);-webkit-transform:translate(-50%, -50%) rotate(360deg);-o-transform:translate(-50%, -50%) rotate(360deg);transform:translate(-50%, -50%) rotate(360deg)}}.game-wrapper__loading-spinner{position:absolute;left:50%;top:50%;animation:rotating 1.5s linear infinite}.game-wrapper__loading-spinner path{fill:#fff}.game-wrapper__cta{position:absolute;height:100%;width:100%;cursor:pointer;background-color:#000}.game-wrapper__cta img{width:100%;height:100%}.game-wrapper__cta:hover .game-holder__cta-button{background-color:rgba(186,26,23,0.75)}.game-wrapper__cta-button{position:absolute;bottom:0;left:0;width:80px;height:80px;background-color:rgba(0,0,0,0.75)}.game-wrapper__cta-icon{position:absolute;top:16px;left:16px;width:49px;height:39px}.game-wrapper__iframe{position:absolute;width:100%;height:100%}.game-wrapper__game{position:fixed;width:100%;height:100%}.game-wrapper__iframe--fixedsize{position:absolute;margin:0 auto}.cage-overlay{position:fixed;display:-ms-flexbox;display:flex;-ms-flex-pack:center;justify-content:center;-ms-flex-align:center;align-items:center;-ms-flex-direction:column;flex-direction:column;width:100%;height:100%;background:rgba(0,0,0,0.4)}.cage-overlay__modal{top:25%;width:50%;min-width:325px;height:50%;min-height:150px;overflow:hidden;background-color:#fff;z-index:1;border-radius:5px;-webkit-border-radius:5px;-moz-border-radius:5px;font-size:110%}.cage-overlay__title{position:relative;margin:0 auto;padding:0;text-align:center;border-bottom:1px solid #B7BBBB}.cage-overlay__title-text{padding:1.1em 3em;text-align:center;font:bold 1.3em arial,sans-serif;color:#3F3E4A;outline:0}.cage-overlay__close-button{position:absolute;right:10px;top:10px;padding:2px 2px 0;border:0;background-color:rgba(0,0,0,0);-webkit-tap-highlight-color:rgba(0,0,0,0);-webkit-backface-visibility:hidden}.cage-overlay__close-button:hover .cage-settings__close-icon-circle{fill:#B3B3B5}.cage-overlay__close-button:focus{-webkit-focus-ring-color:#bfbfc2}.cage-overlay__close-icon-circle{transition:200ms;transition-timing-function:ease-in-out;-webkit-transition:200ms;-webkit-transition-timing-function:ease-in-out;fill:#F0F0F4}.cage-overlay__subheading{padding:1em 2.2em;font:bold 0.9em arial,sans-serif;text-transform:uppercase;color:#939397;background-color:#F0F0F4}.cage-overlay__content{height:calc(100% - 68px);overflow-y:auto;outline:0}.cage-overlay__content::-webkit-scrollbar{-webkit-appearance:none}.cage-overlay__content::-webkit-scrollbar:vertical{width:12px}.cage-overlay__content::-webkit-scrollbar-thumb{background-color:rgba(0,0,0,0.5);border-radius:10px;border:2px solid #fff}.cage-overlay__content::-webkit-scrollbar-track{border-radius:10px;background-color:transparent}@media (max-width: 410px){.cage-overlay__modal{top:5%;width:90%;height:90%;font-size:85%}.cage-overlay__content{height:calc(100% - 53px)}.cage-overlay__close-button{top:8px;right:8px}.cage-overlay__close-icon{width:36px;height:36px}.cage-setting__toggle-icon{width:42px;height:26px}}@media (max-width: 450px) and (min-width: 411px){.cage-overlay__modal{top:5%;width:90%;height:90%;font-size:85%}.cage-overlay__content{height:calc(100% - 53px)}.cage-overlay__close-button{top:8px;right:8px}.cage-overlay__close-icon{width:36px;height:36px}.cage-setting__toggle-icon{width:42px;height:26px}}@media (max-width: 580px) and (min-width: 451px){.cage-overlay__modal{top:5%;width:80%;height:90%;font-size:90%}.cage-overlay__content{height:calc(100% - 56px)}.cage-overlay__close-icon{width:36px;height:36px}.cage-setting__toggle-icon{width:42px;height:26px}}@media (max-width: 780px) and (min-width: 581px){.cage-overlay__modal{top:10%;width:80%;height:80%;font-size:90%}.cage-overlay__content{height:calc(100% - 56px)}.cage-overlay__close-icon{width:36px;height:36px}.cage-setting__toggle-icon{width:42px;height:26px}}@media (max-width: 980px) and (min-width: 781px){.cage-overlay__modal{top:15%;width:70%;height:70%}}@media (max-width: 1470px) and (min-width: 981px){.cage-overlay--mobile{width:80%}.cage-overlay--mobile .cage-settings__modal{height:70%}}body:not(.user-is-tabbing) button:focus,body:not(.user-is-tabbing) input:focus,body:not(.user-is-tabbing) select:focus,body:not(.user-is-tabbing) textarea:focus{outline:none}.cage-achievements{display:block;top:10%;height:80%;width:52%;padding-bottom:5px;font-family:ReithSans,Arial,Helvetica,freesans,sans-serif;background-color:#2a205c;opacity:1}.cage-achievements .cage-overlay__content{padding:0 10px;margin-right:10px;height:calc(100% - 61px)}.cage-achievements .cage-overlay__modal{border-radius:6px;-webkit-border-radius:6px;-moz-border-radius:6px}.cage-achievements .cage-overlay__content::-webkit-scrollbar:vertical{width:10px}.cage-achievements .cage-overlay__content::-webkit-scrollbar-thumb{background-color:#fff;border-radius:3px}.cage-achievements .cage-overlay__content::-webkit-scrollbar-track{border-radius:3px;background-color:#746d93}.cage-achievements .cage-overlay__title{border-bottom:none}.cage-achievements .cage-overlay__title-text{padding:16px 0px 15px 0px;line-height:100%;text-align:center;font:bold 20px ReithSans,Arial,Helvetica,freesans,sans-serif;color:#fff}.cage-achievement{display:flex;margin-bottom:8px;padding:6px;min-height:58px;border-radius:3px;font-size:13px;line-height:16px;color:#3b3b3b;background-color:#fff}.cage-achievement svg{float:left;width:13px;height:13px;margin-right:4px;margin-top:5px;fill:#FFD130}.cage-achievement--locked{background-color:#EAE9EE}.cage-achievement--locked svg{fill:#B4B4B4}.cage-achievement:last-child{margin-bottom:0}.cage-achievement__icon{width:58px;height:58px;min-width:58px;margin-right:6px;border-radius:2px}.cage-achievement__inner{width:80%}.cage-achievement__title{margin:2px 0 0;line-height:18px;font-size:15px;font-weight:bold;color:#222}.cage-achievement__description{margin:4px 0 2px 0}.cage-achievement__hintline-prefix{font-weight:bold}.cage-achievement__hintline-text{font-style:italic}.cage-achievement progress{border:none;border-radius:5px;background-color:#d6d6d6}.cage-achievement progress::-ms-fill{background-color:#00d2a9;border:none;border-radius:5px}.cage-achievement progress[value]{-webkit-appearance:none;appearance:none;width:170px;height:10px;margin-right:6px;position:relative;bottom:2px}.cage-achievement progress[value]::-webkit-progress-bar{background-color:#d6d6d6;border-radius:5px;overflow:hidden}.cage-achievement progress::-moz-progress-bar{background:#00d2a9;border-radius:5px}.cage-achievement progress[value]::-webkit-progress-value{background:#00d2a9;border-radius:5px}.cage-overlay__modal{width:75%;height:calc(100% - 4vw)}@media (min-width: 769px){.cage-overlay__modal{width:744px;height:86%;max-height:623px}.cage-achievements .cage-overlay__content::-webkit-scrollbar:vertical{width:16px}.cage-achievements .cage-overlay__content{padding:0 16px;margin-right:16px;height:calc(100% - 81px)}.cage-achievements .cage-overlay__title{border-bottom:none}.cage-achievements .cage-overlay__title-text{padding:20px 0px 22px 0px;line-height:100%;text-align:center;font:bold 26px ReithSans,Arial,Helvetica,freesans,sans-serif;color:#fff}.cage-achievement{display:flex;margin-bottom:10px;padding:8px;min-height:74px;border-radius:3px;font-size:15px;line-height:22px}.cage-achievement progress[value]{-webkit-appearance:none;appearance:none;width:216px;height:10px;margin-right:6px;position:relative;bottom:3px}.cage-achievement svg{float:left;width:16px;height:16px;margin-right:6px;margin-top:6px}.cage-achievement__icon{width:74px;height:74px;min-width:74px;margin-right:10px;border-radius:2px}.cage-achievement__title{margin:2px 0 0;line-height:22px;font-size:18px;font-weight:bold;color:#222}.cage-achievement__description{margin:4px 0 2px 0}.cage-achievement__hintline-prefix{font-weight:bold}.cage-achievement__hintline-text{font-style:italic}}.cage-setting{position:relative;padding:1em 2.2em;border-bottom:1px solid #F0F0F4}.cage-setting:last-child{border-bottom:0}.cage-setting__info{display:block;padding-right:86px;font:normal 1em arial,sans-serif}.cage-setting__title{padding-bottom:0.3em;font-weight:bold;color:#323232}.cage-setting__description{font-size:1em;color:#939397}.cage-setting__toggle{position:absolute;right:1.8em;top:10px}.cage-setting__toggle_button{margin-top:0.4em;padding:0.4em 0.4em 0.2em;border:0;background-color:rgba(0,0,0,0);-webkit-backface-visibility:hidden;-webkit-tap-highlight-color:rgba(0,0,0,0)}.cage-setting__toggle_button:active,.cage-setting__toggle_button:focus{background-color:rgba(0,0,0,0);-webkit-focus-ring-color:#bfbfc2}.cage-setting__toggle_button .cage-setting__toggle-slider,.cage-setting__toggle_button .cage-setting__toggle-outline{transition:200ms;transition-timing-function:ease-in-out;-webkit-transition:200ms;-webkit-transition-timing-function:ease-in-out}.cage-setting__toggle_button--on .cage-setting__toggle-outline{fill:#44D6DA}.cage-setting__toggle_button--off .cage-setting__toggle-outline{fill:#D8D8D8}@media (max-width: 410px){.cage-setting__toggle-icon{width:42px;height:26px}}@media (max-width: 450px) and (min-width: 411px){.cage-setting__toggle-icon{width:42px;height:26px}}@media (max-width: 580px) and (min-width: 451px){.cage-setting__toggle-icon{width:42px;height:26px}}@media (max-width: 780px) and (min-width: 581px){.cage-setting__toggle-icon{width:42px;height:26px}}.game-wrapper__error{padding-top:5%;background-color:#000;color:#fff;font-family:Arial, Helvetica, sans-serif;text-align:center;font-size:26px}.game-wrapper__error a{color:#fff;text-decoration:underline;font-weight:bold}@media screen and (min-width: 400px){.game-wrapper__error h1{margin:8px 70px}.game-wrapper__error p{margin:8px 70px}}@media screen and (min-width: 600px){.game-wrapper__error h1{margin:16px 96px;font-size:20px}.game-wrapper__error p{margin:16px 96px;font-size:18px}}@media screen and (min-width: 770px){.game-wrapper__error h1{margin:16px 126px;font-size:26px}.game-wrapper__error p{margin:16px 126px;font-size:20px}}@media screen and (min-width: 1008px){.game-wrapper__error h1{margin:16px 246px}.game-wrapper__error p{margin:16px 246px}}.game-wrapper #brim{display:none}.cage-brim#cage-brim{width:100%;height:175vh}.cage-brim__message{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#000000;touch-action:pan-y;-webkit-user-select:none;z-index:2147483647}.cage-brim--disabled{display:none}.cage-brim__vo-button{height:1px;width:1px}.cage-brim__text{position:absolute;top:54vmin;left:0px;right:0px;color:#FFFFFF;text-align:center;font:bold 7vmin Helvetica, sans-serif}@keyframes hand-movement{21%{transform:rotate(-20deg);visibility:hidden;left:50%;top:27vmin}50%{transform:rotate(-5deg);visibility:hidden;left:50%;top:7vmin}}@keyframes hand-tap-swipe{20%{transform:rotate(-20deg);visibility:hidden;top:27vmin}50%{transform:rotate(-5deg);visibility:visible;top:7vmin}51%{visibility:hidden;top:7vmin}}@keyframes arrow-swipe{20%{opacity:0;top:26vmin}30%{opacity:1}50%{opacity:1;top:7vmin}100%{opacity:0;top:7vmin}}.cage-brim__hand{position:absolute;left:50%;top:24vmin;width:30vmin;height:30vmin;animation:hand-movement 2.2s ease infinite;transform:translate(10vmin);transform-origin:bottom right}.cage-brim__hand-tap{position:absolute;left:50%;top:27vmin;width:30vmin;height:30vmin;visibility:hidden;animation:hand-tap-swipe 2.2s ease infinite;transform-origin:bottom right}.cage-brim__arrow{position:absolute;left:50%;top:26vmin;width:40vmin;height:40vmin;opacity:0;animation:arrow-swipe 2.2s ease infinite;transform:translate(-30vmin)}.cage-achievement-notification{position:fixed;left:50%;margin-left:-172px;width:344px;height:80px;pointer-events:none;font-family:ReithSans,Arial,Helvetica,freesans,sans-serif}.cage-achievement-notification--top{top:2vw}.cage-achievement-notification--bottom{bottom:2vw}.cage-achievement-toast__container{position:relative;left:50%;margin-left:-172px;width:344px;height:80px;opacity:1;-webkit-transform:translateZ(0);transform:translateZ(0);-webkit-backface-visibility:hidden;backface-visibility:hidden;background-size:100%;background-position:0 0;-webkit-animation:achievement-animateBoxIn 1.93s steps(58, end) 1 forwards,achievement-animateBoxOut 1s steps(30, end) 6s;animation:achievement-animateBoxIn 1.93s steps(58, end) 1 forwards,achievement-animateBoxOut 1s steps(30, end) 6s;-webkit-animation-fill-mode:forwards;animation-fill-mode:forwards}.cage-achievement-toast__icon{position:absolute;top:19px;left:31px;width:42px;height:42px;opacity:0;border-radius:2px;-webkit-animation:achievement-scrollIn 0.2s ease-out 2.22s forwards, achievement-fadeOut 0.2s ease-in 6s forwards;animation:achievement-scrollIn 0.2s ease-out 2.22s forwards, achievement-fadeOut 0.2s ease-in 6s forwards;-webkit-animation-fill-mode:forwards;animation-fill-mode:forwards}.cage-achievement-toast__inner{position:absolute;top:19px;left:83px;width:237px}.cage-achievement-toast__title{position:absolute;top:0px;font-size:16px;line-height:20px;font-weight:bold;opacity:0;-webkit-animation:achievement-scrollIn 0.2s ease-out 2s forwards, achievement-scrollOut 0.2s ease-in 4s forwards;animation:achievement-scrollIn 0.2s ease-out 2s forwards, achievement-scrollOut 0.2s ease-in 4s forwards;-webkit-animation-fill-mode:forwards;animation-fill-mode:forwards}.cage-achievement-toast__name{position:absolute;top:21px;font-size:14px;line-height:18px;height:18px;overflow:hidden;opacity:0;-webkit-animation:achievement-scrollIn 0.2s ease-out 2.32s forwards, achievement-scrollOut 0.2s ease-in 4s forwards;animation:achievement-scrollIn 0.2s ease-out 2.32s forwards, achievement-scrollOut 0.2s ease-in 4s forwards;-webkit-animation-fill-mode:forwards;animation-fill-mode:forwards}.cage-achievement-toast__name svg{float:left;margin-right:5px;margin-top:4px;width:12px;height:12px;fill:#FFD130}.cage-achievement-toast__description{position:absolute;top:2px;height:36px;font-size:14px;line-height:18px;opacity:0;overflow:hidden;-webkit-animation:achievement-scrollIn 0.2s ease-out 4.2s forwards, achievement-scrollOut 0.2s ease-in 6s forwards;animation:achievement-scrollIn 0.2s ease-out 4.2s forwards, achievement-scrollOut 0.2s ease-in 6s forwards;-webkit-animation-fill-mode:forwards;animation-fill-mode:forwards}@-webkit-keyframes achievement-animateBoxIn{from{background-position:0 0}to{background-position:0 -4640px}}@keyframes achievement-animateBoxIn{from{background-position:0 0}to{background-position:0 -4640px}}@-webkit-keyframes achievement-animateBoxOut{from{background-position:0 -4640px}to{background-position:0 -7040px}}@keyframes achievement-animateBoxOut{from{background-position:0 -4640px}to{background-position:0 -7040px}}@-webkit-keyframes achievement-animateBoxIn-1280{from{background-position:0 0}to{background-position:0 -5800px}}@keyframes achievement-animateBoxIn-1280{from{background-position:0 0}to{background-position:0 -5800px}}@-webkit-keyframes achievement-animateBoxOut-1280{from{background-position:0 -5800px}to{background-position:0 -8800px}}@keyframes achievement-animateBoxOut-1280{from{background-position:0 -5800px}to{background-position:0 -8800px}}@-webkit-keyframes achievement-scrollIn{from{margin-top:5px;opacity:0}to{margin-top:0;opacity:1}}@keyframes achievement-scrollIn{from{margin-top:5px;opacity:0}to{margin-top:0;opacity:1}}@-webkit-keyframes achievement-scrollOut{from{margin-top:0;opacity:1}to{margin-top:-5px;opacity:0}}@keyframes achievement-scrollOut{from{margin-top:0;opacity:1}to{margin-top:-5px;opacity:0}}@-webkit-keyframes achievement-fadeIn{from{opacity:0}to{opacity:1}}@keyframes achievement-fadeIn{from{opacity:0}to{opacity:1}}@-webkit-keyframes achievement-fadeOut{from{opacity:1}to{opacity:0}}@keyframes achievement-fadeOut{from{opacity:1}to{opacity:0}}@media screen and (min-width: 1280px){.cage-achievement-notification{bottom:45px;margin-left:-215px;width:430px;height:100px}.cage-achievement-toast__container{margin-left:-215px;width:430px;height:100px;-webkit-animation:achievement-animateBoxIn-1280 1.93s steps(58, end) 1 forwards,achievement-animateBoxOut-1280 1s steps(30, end) 6s;animation:achievement-animateBoxIn-1280 1.93s steps(58, end) 1 forwards,achievement-animateBoxOut-1280 1s steps(30, end) 6s;-webkit-animation-fill-mode:forwards;animation-fill-mode:forwards}.cage-achievement-toast__inner{top:21px;left:111px;width:282px}.cage-achievement-toast__icon{top:21px;left:42px;width:58px;height:58px}.cage-achievement-toast__title{top:6px;font-size:22px;line-height:22px}.cage-achievement-toast__name{top:31px;font-size:18px;line-height:22px;height:22px}.cage-achievement-toast__name svg{width:16px;height:16px}.cage-achievement-toast__description{top:8px;height:44px;font-size:18px;line-height:22px}}.data-notice{position:fixed;bottom:0;padding:0.4%;width:100%;text-align:center;font-family:ReithSans,Arial,Helvetica,freesans,sans-serif;font-size:1em;background:rgba(0,0,0,0.8);color:#fff}@media screen and (orientation: portrait){.data-notice{display:none}}@media (max-width: 25em){.data-notice{font-size:0.96em}}.exit-tile__container--hidden{display:none}.exit-tile__frame{border:0;height:100%;position:fixed;width:100%;overflow:hidden;z-index:2147483647}\n</style>"); }</script> <!--[if gt IE 8]><!-->
  <noscript class="morph-core-style">
   <!--<![endif]-->
   <style>@import url("https://gel.files.bbci.co.uk/r2.302/bbc-reith.css");.absolute-center{position:absolute;margin-left:auto;margin-right:auto;left:0;right:0}.cage-rotate-screen{position:fixed;color:#000;width:100%;height:100%;left:0;top:0;overflow:visible;z-index:2147483647;touch-action:none;user-select:none;-webkit-user-select:none;pointer-events:none}.cage-rotate-screen__inner{position:fixed;width:200%;height:100%;max-width:100vw;max-height:100vh;transform:translatex(calc(50vw - 50%)) translatey(calc(50vh - 50%));margin-left:auto;z-index:2147483647;text-align:center;font:bold 7vmin ReithSans,Arial,Helvetica,freesans,sans-serif}.cage-rotate-screen__icon{top:39%;width:40%;height:40%}.cage-rotate-screen__path{fill:#000}.cage-rotate-screen__text{top:78%}.cage-rotate-screen__title{top:17%;text-transform:uppercase;font-size:235%}@media screen and (orientation: portrait){.cage-rotate-screen__inner{max-width:100vh;max-height:100vw;transform:translatex(calc(50vw - 50%)) translatey(calc(50vh - 50%)) rotate(90deg)}}.cage-rotate-screen--bitesize{background-color:#fff;background-image:linear-gradient(145.03deg, #E56410 49.16%, #E9B01F 93%)}.cage-rotate-screen__bitesize-x-shape{position:absolute;top:22%;left:-2%;width:3%}.cage-rotate-screen__bitesize-c-shape{position:absolute;top:9%;left:14%}.cage-rotate-screen__bitesize-cross{position:absolute;top:15%;right:13%;width:5%}.cage-rotate-screen__bitesize-curve{position:absolute;top:8%;right:36%;width:8%}.cage-rotate-screen__bitesize-piranha{position:absolute;top:27%;right:19%;width:5%}.cage-rotate-screen__bitesize-starburst{position:absolute;bottom:5%;left:15%;width:3%}.cage-rotate-screen__bitesize-triangle{bottom:6%;position:absolute;right:6%}.cage-rotate-screen__bitesize-zigzag{position:absolute;bottom:-2%;right:43%}.cage-rotate-screen__bitesize-house{position:absolute;top:41%;left:-4%;width:37%}.cage-rotate-screen__bitesize-book{position:absolute;top:49%;right:-6%;width:41%}.cage-rotate-screen--bitesize .cage-rotate-screen__title{font-size:226%;color:#fff;text-transform:capitalize}.cage-rotate-screen--cbbc{background-color:#F2F3F4}.cage-rotate-screen__streamers-left{position:absolute;top:21%;left:-30%;width:50%}.cage-rotate-screen__streamers-right{position:absolute;top:46%;right:-81px;width:50%}.cage-rotate-screen__cbbc-logo{top:10%;width:19%}.cage-rotate-screen--cbeebies{background-color:#9DD3E1}.cage-rotate-screen__grass{position:absolute;width:100%;height:15%;left:0;bottom:0;background-color:#8EAD23}.cage-rotate-screen__cbeebies-bug-1{position:absolute;top:68%;left:10%}.cage-rotate-screen__cbeebies-bug-2{position:absolute;top:68%;left:45%}.cage-rotate-screen__cbeebies-bug-3{position:absolute;top:68%;right:10%}.cage-rotate-screen__cbeebies-logo{top:4%}.cage-rotate-screen--cbeebies .cage-rotate-screen__icon{top:22%}.cage-rotate-screen--cbeebies .cage-rotate-screen__text{top:56%;font-size:82%}.cage-rotate-screen--default{color:#fff;background-color:#000}.cage-rotate-screen--default .cage-rotate-screen__icon{top:20%}.cage-rotate-screen--default .cage-rotate-screen__path{fill:#fff}.cage-rotate-screen--default .cage-rotate-screen__text{top:65%}.cage-rotate-screen--food{color:#333;background:#eee}.cage-rotate-screen__food-logo{top:19%;width:38%}.cage-rotate-screen--food .cage-rotate-screen__path{fill:#333}.cage-rotate-screen--sport{background:#FFD230}
</style><!--[if gt IE 8]><!-->
  </noscript><!--<![endif]-->
  <script>if (Morph.enhanced) { Morph.styles["bbc-morph-games-rotate-view/1.1.6"]=true; Morph.styleSrc.push("<style>@import url(\"https://gel.files.bbci.co.uk/r2.302/bbc-reith.css\");.absolute-center{position:absolute;margin-left:auto;margin-right:auto;left:0;right:0}.cage-rotate-screen{position:fixed;color:#000;width:100%;height:100%;left:0;top:0;overflow:visible;z-index:2147483647;touch-action:none;user-select:none;-webkit-user-select:none;pointer-events:none}.cage-rotate-screen__inner{position:fixed;width:200%;height:100%;max-width:100vw;max-height:100vh;transform:translatex(calc(50vw - 50%)) translatey(calc(50vh - 50%));margin-left:auto;z-index:2147483647;text-align:center;font:bold 7vmin ReithSans,Arial,Helvetica,freesans,sans-serif}.cage-rotate-screen__icon{top:39%;width:40%;height:40%}.cage-rotate-screen__path{fill:#000}.cage-rotate-screen__text{top:78%}.cage-rotate-screen__title{top:17%;text-transform:uppercase;font-size:235%}@media screen and (orientation: portrait){.cage-rotate-screen__inner{max-width:100vh;max-height:100vw;transform:translatex(calc(50vw - 50%)) translatey(calc(50vh - 50%)) rotate(90deg)}}.cage-rotate-screen--bitesize{background-color:#fff;background-image:linear-gradient(145.03deg, #E56410 49.16%, #E9B01F 93%)}.cage-rotate-screen__bitesize-x-shape{position:absolute;top:22%;left:-2%;width:3%}.cage-rotate-screen__bitesize-c-shape{position:absolute;top:9%;left:14%}.cage-rotate-screen__bitesize-cross{position:absolute;top:15%;right:13%;width:5%}.cage-rotate-screen__bitesize-curve{position:absolute;top:8%;right:36%;width:8%}.cage-rotate-screen__bitesize-piranha{position:absolute;top:27%;right:19%;width:5%}.cage-rotate-screen__bitesize-starburst{position:absolute;bottom:5%;left:15%;width:3%}.cage-rotate-screen__bitesize-triangle{bottom:6%;position:absolute;right:6%}.cage-rotate-screen__bitesize-zigzag{position:absolute;bottom:-2%;right:43%}.cage-rotate-screen__bitesize-house{position:absolute;top:41%;left:-4%;width:37%}.cage-rotate-screen__bitesize-book{position:absolute;top:49%;right:-6%;width:41%}.cage-rotate-screen--bitesize .cage-rotate-screen__title{font-size:226%;color:#fff;text-transform:capitalize}.cage-rotate-screen--cbbc{background-color:#F2F3F4}.cage-rotate-screen__streamers-left{position:absolute;top:21%;left:-30%;width:50%}.cage-rotate-screen__streamers-right{position:absolute;top:46%;right:-81px;width:50%}.cage-rotate-screen__cbbc-logo{top:10%;width:19%}.cage-rotate-screen--cbeebies{background-color:#9DD3E1}.cage-rotate-screen__grass{position:absolute;width:100%;height:15%;left:0;bottom:0;background-color:#8EAD23}.cage-rotate-screen__cbeebies-bug-1{position:absolute;top:68%;left:10%}.cage-rotate-screen__cbeebies-bug-2{position:absolute;top:68%;left:45%}.cage-rotate-screen__cbeebies-bug-3{position:absolute;top:68%;right:10%}.cage-rotate-screen__cbeebies-logo{top:4%}.cage-rotate-screen--cbeebies .cage-rotate-screen__icon{top:22%}.cage-rotate-screen--cbeebies .cage-rotate-screen__text{top:56%;font-size:82%}.cage-rotate-screen--default{color:#fff;background-color:#000}.cage-rotate-screen--default .cage-rotate-screen__icon{top:20%}.cage-rotate-screen--default .cage-rotate-screen__path{fill:#fff}.cage-rotate-screen--default .cage-rotate-screen__text{top:65%}.cage-rotate-screen--food{color:#333;background:#eee}.cage-rotate-screen__food-logo{top:19%;width:38%}.cage-rotate-screen--food .cage-rotate-screen__path{fill:#333}.cage-rotate-screen--sport{background:#FFD230}\n</style>"); }</script> 
  <script type="text/javascript">Morph.initStyles(); /* u037955625307000807 */</script> <!--[if gt IE 8]><!-->
  <noscript class="morph-core-style">
   <!--<![endif]-->
   <style>.reactions-styleguide__section{background-color:#fff;margin-bottom:32px}@media (min-width: 37.5em){.reactions-styleguide__section{padding:16px}}.reactions-styleguide__heading{background-color:#FFD201;margin-left:-16px;margin-right:-16px;padding:16px}.reactions-styleguide__heading:first-of-type{margin-top:-16px}.reactions-styleguide__heading,.reactions-styleguide__subheading{font-size:18px;font-size:1.125rem;line-height:22px;line-height:1.375rem;font-weight:bold;margin-bottom:16px;margin-top:32px}#reactions-list li{list-style:none}.reactions__standalone .content-item-description{*zoom:1}.reactions__standalone .content-item-description:before,.reactions__standalone .content-item-description:after{content:" ";display:table}.reactions__standalone .content-item-description:after{clear:both}.reactions__standalone{max-width:864px}.reactions__standalone::before{position:relative;content:"";display:block;width:100%;background-color:black;padding-top:56.25%;z-index:999}.reactions__standalone .content-item-description{color:palette("text-dark");padding:16px 8px}@media (min-width: 37.5em){.reactions__standalone .content-item-description{padding:16px}}.reactions__standalone .reactions-container{width:calc(100% + 16px);margin-top:-16px;margin-right:-16px;margin-bottom:16px;margin-left:-8px}.content-item--riddle-content .reactions__standalone .reactions-container{margin-top:0}@media (min-width: 37.5em){.reactions__standalone .reactions-container{width:calc(100% + 32px);margin-left:-16px}}.reactions__standalone .content-item-description .reactions-cta{float:right;padding-left:16px;padding-right:4px}@media (min-width: 25em){.reactions__standalone .content-item-description .reactions-cta{padding-right:8px}}@media (min-width: 37.5em){.reactions__standalone .content-item-description .reactions-cta{padding-right:16px}}.reactions__standalone .content-item-description .reactions-cta--open{margin-top:0}.reactions__standalone .content-item-description .reactions-tray__reactions{z-index:999}.reactions-module{pointer-events:none;position:relative}.reactions .reactions-tray{margin-top:-36px;position:relative;z-index:999;pointer-events:none}.reactions .reactions-tray::before{display:block;height:20px;content:''}.reactions .reactions-tray__reactions-container{display:block;position:relative;padding:0 3px;max-height:0;height:auto;transition:max-height 300ms 120ms;background-color:#FDF6FF}@media (min-width: 37.5em){.reactions .reactions-tray__reactions-container{justify-content:center;-ms-flex-pack:center;-webkit-justify-content:center}}@media (prefers-reduced-motion: reduce){.reactions .reactions-tray__reactions-container{transition:none;max-height:0}}.reactions .reactions-tray__reactions-container:after{content:"";position:absolute;width:100%;height:5px;left:0;background:linear-gradient(rgba(43,31,90,0), rgba(43,31,90,0.2));bottom:0;visibility:hidden;transition:visibility 1ms 300ms}.reactions .reactions-tray__reactions-container li{padding-bottom:0;visibility:hidden;transition:visibility 0ms linear 300ms}.reactions .reactions-tray__reactive-prompt{font-size:12px;font-size:.75rem;line-height:16px;line-height:1rem;text-transform:uppercase;color:#333;opacity:0;padding-bottom:16px;text-align:center;text-transform:uppercase;transition:opacity 300ms,visibility 0s linear 200ms;visibility:hidden}.reactions .reactions-tray__reactions-container--open{display:block;max-height:124px;pointer-events:all;transition:max-height 300ms}@media (min-width: 37.5em){.reactions .reactions-tray__reactions-container--open{max-height:154px}}.reactions .reactions-tray__reactions-container--open:after{visibility:visible;transition:visibility 1ms}.reactions .reactions-tray__reactions-container--open li{visibility:visible;transition:visibility 0ms linear 0ms}.reactions .reactions-tray__reactions-container--open .reactions-tray__reactive-prompt{visibility:visible;opacity:1}.reactions .reactions-cta{border:0;position:relative;overflow:visible;cursor:pointer;background-color:transparent;margin:8px 0;pointer-events:auto;z-index:999}.reactions .reactions-cta:hover .cta-cbbc-icon,.reactions .reactions-cta:hover .cta-cbeebies-icon{animation-play-state:paused}@media (min-width: 37.5em){.reactions .reactions-cta:hover .cta-cbbc-icon svg,.reactions .reactions-cta:hover .cta-cbeebies-icon svg{transition:all 500ms ease;transform:scale(1.1)}}.reactions .reactions-cta:not(.reactions-cta--clicked) .cta-cbbc-icon,.reactions .reactions-cta:not(.reactions-cta--clicked) .cta-cbeebies-icon{display:block;animation-name:wiggle;animation-duration:7s;animation-delay:5s;animation-iteration-count:3}.reactions .cta-icon svg{width:54px}@keyframes wiggle{0%{transform:scale(1) rotate(0deg)}10%{transform:scale(1.05) rotate(0deg)}11%{transform:scale(1.05) rotate(-5deg)}13%{transform:scale(1.05) rotate(5deg)}15%{transform:scale(1.05) rotate(-5deg)}17%{transform:scale(1.05) rotate(5deg)}19%{transform:scale(1.05) rotate(-5deg)}20%{transform:scale(1.05) rotate(0deg)}30%{transform:scale(1) rotate(0deg)}}.reactions .reactions-cta-image{display:-webkit-flex;display:-ms-flexbox;display:flex;align-items:center;-ms-flex-align:center;font-size:15px;font-size:.9375rem;line-height:18px;line-height:1.125rem;font-weight:bold;color:#2B1F5A;position:relative}.reactions .reactions-count-container{position:absolute;top:58%;left:-90%;height:25px;line-height:25px;width:80px;text-align:right;vertical-align:middle}.reactions .reactions-cta--open .cta-arrow-icon{transform:rotate(180deg)}.reactions .reaction-button{transition:opacity 200ms ease-in-out;opacity:0;outline:none;overflow:visible;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}@media (hover: hover), (-ms-high-contrast: none){.reactions .reaction-button:hover svg{height:44px;width:44px;top:-2px;left:-2px;transform:rotate(-10deg);transform-origin:center center}}@media (hover: hover) and (min-width: 37.5em), (-ms-high-contrast: none) and (min-width: 37.5em){.reactions .reaction-button:hover svg{height:66px;width:66px;top:-3px;left:-3px}}@-moz-document url-prefix(){.reactions .reaction-button:hover svg{height:44px;width:44px;top:-2px;left:-2px;transform:rotate(-10deg);transform-origin:center center}@media (min-width: 37.5em){.reactions .reaction-button:hover svg{height:66px;width:66px;top:-3px;left:-3px}}}.reactions .reaction-button:focus .reaction-focus-line{background-color:#2B1F5A}.reactions .reaction-button.reaction-button--selected .reaction-icon{top:-8px}@media (min-width: 37.5em){.reactions .reaction-button.reaction-button--selected .reaction-icon{top:-12px}}.reactions .reaction-button.reaction-button--selected .reaction-icon svg{transform:rotate(20deg);transform-origin:center center;height:56px;width:56px;top:-8px;left:-8px}@media (min-width: 37.5em){.reactions .reaction-button.reaction-button--selected .reaction-icon svg{height:84px;width:84px;top:-12px;left:-12px}}.reactions .animation-playing .reaction-button--selected{position:relative;z-index:1020}.reactions .animation-playing .reaction-button--selected .reaction-icon svg{z-index:1030;height:104px;width:104px;top:-32px;left:-32px}@media (min-width: 37.5em){.reactions .animation-playing .reaction-button--selected .reaction-icon svg{height:156px;width:156px;top:-48px;left:-48px}}.reactions .reaction-button--show{transition:opacity 43ms cubic-bezier(0, 0.94, 0.46, 0.85) 80ms;opacity:1}@media (prefers-reduced-motion: reduce){.reactions .reaction-button{transition:none}}.reactions .reaction-icon{display:block;position:relative;height:40px;width:40px;margin:4px auto;top:0}@media (min-width: 37.5em){.reactions .reaction-icon{height:60px;width:60px;margin-bottom:8px;margin-top:0}}.reactions .reaction-icon svg{position:absolute;top:0;left:0;height:40px;width:40px;transition:width 43ms ease-out,height 43ms ease-out,transform 43ms ease-out,top 43ms ease-out,left 43ms ease-out}@media (min-width: 37.5em){.reactions .reaction-icon svg{height:60px;width:60px}}.reactions .reaction-label,.reactions .reaction-count{display:block;position:relative;color:#2B1F5A}.reactions .reaction-label{font-size:12px;font-size:.75rem;line-height:16px;line-height:1rem;text-transform:uppercase;font-weight:bold}@media (min-width: 37.5em){.reactions .reaction-label{font-size:14px;font-size:.875rem;line-height:16px;line-height:1rem;font-weight:bold}}.reactions .reaction-count{font-size:12px;font-size:.75rem;line-height:16px;line-height:1rem;text-transform:uppercase;font-size:11px;padding-bottom:3px}@media (min-width: 25em){.reactions .reaction-count{font-size:12px;font-size:.75rem;line-height:16px;line-height:1rem;text-transform:uppercase}}.reactions .reaction-focus-line{width:12px;height:3px;margin:0 auto;position:relative}.reactions .gel-icon{position:relative}.reactions .reactions-cookie-warning{font-size:14px;font-size:.875rem;line-height:16px;line-height:1rem;background-color:#FFD201;text-align:center}.reactions .reactions-cookie-warning__inner{display:inline-block}.reactions .reactions-cookie-warning__icon{width:60px;height:50px;float:right;position:relative;overflow:hidden}.reactions .reactions-cookie-warning__icon svg{transform:rotate(15deg);position:absolute;top:-7.5px;left:0}.reactions .reactions-cookie-warning__text{text-align:left;padding:16px;-webkit-text-size-adjust:100%}@media (min-width: 37.5em){.reactions .reactions-cookie-warning__text{padding-right:60px;padding-left:60px}}.reactions .reactions-cookie-warning__link{color:#000;text-decoration:none;font-weight:bold;white-space:nowrap}.reactions .reactions-cookie-warning__link:hover{text-decoration:underline}.reactions .reactions-sprite-animation-wrapper{position:fixed;width:100%;height:100%;top:0;left:0;overflow:hidden;z-index:1000}.reactions .reactions-sprite-animation{position:absolute;overflow:hidden;pointer-events:none;width:150vw;height:150vh;margin-left:-75vw;margin-top:-67.5vh}.reactions .reactions-sprite-animation svg{width:100%;height:100%;max-height:100%;position:relative}.reactions .reactions-sprite__layer{visibility:hidden}.reactions .reactions-sprite-animation__slide--1 .reactions-sprite__layer--1{visibility:visible}.reactions .reactions-sprite-animation__slide--2 .reactions-sprite__layer--1{visibility:visible}.reactions .reactions-sprite-animation__slide--2 .reactions-sprite__layer--2{visibility:visible}.reactions .reactions-sprite-animation__slide--3 .reactions-sprite__layer--1{visibility:visible}.reactions .reactions-sprite-animation__slide--3 .reactions-sprite__layer--2{visibility:visible}.reactions .reactions-sprite-animation__slide--3 .reactions-sprite__layer--3{visibility:visible}.reactions .reactions-sprite-animation__slide--4 .reactions-sprite__layer--1{visibility:visible}.reactions .reactions-sprite-animation__slide--4 .reactions-sprite__layer--2{visibility:visible}.reactions .reactions-sprite-animation__slide--4 .reactions-sprite__layer--3{visibility:visible}.reactions .reactions-sprite-animation__slide--4 .reactions-sprite__layer--4{visibility:visible}.reactions .reactions-sprite-animation__slide--5 .reactions-sprite__layer--1{visibility:visible}.reactions .reactions-sprite-animation__slide--5 .reactions-sprite__layer--2{visibility:visible}.reactions .reactions-sprite-animation__slide--5 .reactions-sprite__layer--3{visibility:visible}.reactions .reactions-sprite-animation__slide--5 .reactions-sprite__layer--4{visibility:visible}.reactions .reactions-sprite-animation__slide--5 .reactions-sprite__layer--5{visibility:visible}.reactions .reactions-sprite-animation__slide--6 .reactions-sprite__layer--1{visibility:visible}.reactions .reactions-sprite-animation__slide--6 .reactions-sprite__layer--2{visibility:visible}.reactions .reactions-sprite-animation__slide--6 .reactions-sprite__layer--3{visibility:visible}.reactions .reactions-sprite-animation__slide--6 .reactions-sprite__layer--4{visibility:visible}.reactions .reactions-sprite-animation__slide--6 .reactions-sprite__layer--5{visibility:visible}.reactions .reactions-sprite-animation__slide--6 .reactions-sprite__layer--6{visibility:visible}.reactions .reactions-sprite-animation__slide--7 .reactions-sprite__layer--1{visibility:visible}.reactions .reactions-sprite-animation__slide--7 .reactions-sprite__layer--2{visibility:visible}.reactions .reactions-sprite-animation__slide--7 .reactions-sprite__layer--3{visibility:visible}.reactions .reactions-sprite-animation__slide--7 .reactions-sprite__layer--4{visibility:visible}.reactions .reactions-sprite-animation__slide--7 .reactions-sprite__layer--5{visibility:visible}.reactions .reactions-sprite-animation__slide--7 .reactions-sprite__layer--6{visibility:visible}.reactions .reactions-sprite-animation__slide--7 .reactions-sprite__layer--7{visibility:visible}.reactions .reactions-sprite-animation__slide--8 .reactions-sprite__layer--1{visibility:visible}.reactions .reactions-sprite-animation__slide--8 .reactions-sprite__layer--2{visibility:visible}.reactions .reactions-sprite-animation__slide--8 .reactions-sprite__layer--3{visibility:visible}.reactions .reactions-sprite-animation__slide--8 .reactions-sprite__layer--4{visibility:visible}.reactions .reactions-sprite-animation__slide--8 .reactions-sprite__layer--5{visibility:visible}.reactions .reactions-sprite-animation__slide--8 .reactions-sprite__layer--6{visibility:visible}.reactions .reactions-sprite-animation__slide--8 .reactions-sprite__layer--7{visibility:visible}.reactions .reactions-sprite-animation__slide--8 .reactions-sprite__layer--8{visibility:visible}.reactions .reactions-sprite-animation__slide--9 .reactions-sprite__layer--1{visibility:visible}.reactions .reactions-sprite-animation__slide--9 .reactions-sprite__layer--2{visibility:visible}.reactions .reactions-sprite-animation__slide--9 .reactions-sprite__layer--3{visibility:visible}.reactions .reactions-sprite-animation__slide--9 .reactions-sprite__layer--4{visibility:visible}.reactions .reactions-sprite-animation__slide--9 .reactions-sprite__layer--5{visibility:visible}.reactions .reactions-sprite-animation__slide--9 .reactions-sprite__layer--6{visibility:visible}.reactions .reactions-sprite-animation__slide--9 .reactions-sprite__layer--7{visibility:visible}.reactions .reactions-sprite-animation__slide--9 .reactions-sprite__layer--8{visibility:visible}.reactions .reactions-sprite-animation__slide--9 .reactions-sprite__layer--9{visibility:visible}.reactions .reactions-sprite-animation__slide--10 .reactions-sprite__layer--1{visibility:visible}.reactions .reactions-sprite-animation__slide--10 .reactions-sprite__layer--2{visibility:visible}.reactions .reactions-sprite-animation__slide--10 .reactions-sprite__layer--3{visibility:visible}.reactions .reactions-sprite-animation__slide--10 .reactions-sprite__layer--4{visibility:visible}.reactions .reactions-sprite-animation__slide--10 .reactions-sprite__layer--5{visibility:visible}.reactions .reactions-sprite-animation__slide--10 .reactions-sprite__layer--6{visibility:visible}.reactions .reactions-sprite-animation__slide--10 .reactions-sprite__layer--7{visibility:visible}.reactions .reactions-sprite-animation__slide--10 .reactions-sprite__layer--8{visibility:visible}.reactions .reactions-sprite-animation__slide--10 .reactions-sprite__layer--9{visibility:visible}.reactions .reactions-sprite-animation__slide--10 .reactions-sprite__layer--10{visibility:visible}.reactions .reactions-list{display:flex;display:-webkit-flex;display:-ms-flexbox;margin-bottom:10px;width:100%;justify-content:space-between;-ms-flex-pack:space-between;-webkit-justify-content:space-between}@media (min-width: 25em){.reactions .reactions-list{justify-content:center;-ms-flex-pack:center;-webkit-justify-content:center}}@media (min-width: 37.5em){.reactions .reactions-list{justify-content:center;-ms-flex-pack:center;-webkit-justify-content:center;margin:0 auto 10px;padding:8px 0 0}}.reactions .reactions-list li{flex-direction:row;padding:0 2px}@media (min-width: 25em){.reactions .reactions-list li{padding:0 4px}}@media (min-width: 37.5em){.reactions .reactions-list li{padding:0 5px}}.reactions .reactions-error-message{font-size:14px;font-size:.875rem;line-height:16px;line-height:1rem;background-color:#FD3726;text-align:center;color:#fff}.reactions .reactions-error-message__inner{display:inline-block}.reactions .reactions-error-message__text{text-align:left;padding:16px}@media (min-width: 37.5em){.reactions .reactions-error-message__text{padding-right:60px;padding-left:60px}}
</style><!--[if gt IE 8]><!-->
  </noscript><!--<![endif]-->
  <script>if (Morph.enhanced) { Morph.styles["bbc-morph-childrens-reactions/1.4.7"]=true; Morph.styleSrc.push("<style>.reactions-styleguide__section{background-color:#fff;margin-bottom:32px}@media (min-width: 37.5em){.reactions-styleguide__section{padding:16px}}.reactions-styleguide__heading{background-color:#FFD201;margin-left:-16px;margin-right:-16px;padding:16px}.reactions-styleguide__heading:first-of-type{margin-top:-16px}.reactions-styleguide__heading,.reactions-styleguide__subheading{font-size:18px;font-size:1.125rem;line-height:22px;line-height:1.375rem;font-weight:bold;margin-bottom:16px;margin-top:32px}@media (min-width: 37.5em){.reactions-styleguide__heading,.reactions-styleguide__subheading{font-size:21px;font-size:1.3125rem;line-height:24px;line-height:1.5rem}.no-touch .reactions-styleguide__heading,.no-touch .reactions-styleguide__subheading{font-size:20px;font-size:1.25rem}}#reactions-list li{list-style:none}.reactions__standalone .content-item-description{*zoom:1}.reactions__standalone .content-item-description:before,.reactions__standalone .content-item-description:after{content:\" \";display:table}.reactions__standalone .content-item-description:after{clear:both}.reactions__standalone{max-width:864px}.reactions__standalone::before{position:relative;content:\"\";display:block;width:100%;background-color:black;padding-top:56.25%;z-index:999}.reactions__standalone .content-item-description{color:palette(\"text-dark\");padding:16px 8px}@media (min-width: 37.5em){.reactions__standalone .content-item-description{padding:16px}}.reactions__standalone .reactions-container{width:calc(100% + 16px);margin-top:-16px;margin-right:-16px;margin-bottom:16px;margin-left:-8px}.content-item--riddle-content .reactions__standalone .reactions-container{margin-top:0}@media (min-width: 37.5em){.reactions__standalone .reactions-container{width:calc(100% + 32px);margin-left:-16px}}.reactions__standalone .content-item-description .reactions-cta{float:right;padding-left:16px;padding-right:4px}@media (min-width: 25em){.reactions__standalone .content-item-description .reactions-cta{padding-right:8px}}@media (min-width: 37.5em){.reactions__standalone .content-item-description .reactions-cta{padding-right:16px}}.reactions__standalone .content-item-description .reactions-cta--open{margin-top:0}.reactions__standalone .content-item-description .reactions-tray__reactions{z-index:999}.reactions-module{pointer-events:none;position:relative}.reactions .reactions-tray{margin-top:-36px;position:relative;z-index:999;pointer-events:none}.reactions .reactions-tray::before{display:block;height:20px;content:''}.reactions .reactions-tray__reactions-container{display:block;position:relative;padding:0 3px;max-height:0;height:auto;transition:max-height 300ms 120ms;background-color:#FDF6FF}@media (min-width: 37.5em){.reactions .reactions-tray__reactions-container{justify-content:center;-ms-flex-pack:center;-webkit-justify-content:center}}@media (prefers-reduced-motion: reduce){.reactions .reactions-tray__reactions-container{transition:none;max-height:0}}.reactions .reactions-tray__reactions-container:after{content:\"\";position:absolute;width:100%;height:5px;left:0;background:linear-gradient(rgba(43,31,90,0), rgba(43,31,90,0.2));bottom:0;visibility:hidden;transition:visibility 1ms 300ms}.reactions .reactions-tray__reactions-container li{padding-bottom:0;visibility:hidden;transition:visibility 0ms linear 300ms}.reactions .reactions-tray__reactive-prompt{font-size:12px;font-size:.75rem;line-height:16px;line-height:1rem;text-transform:uppercase;color:#333;opacity:0;padding-bottom:16px;text-align:center;text-transform:uppercase;transition:opacity 300ms,visibility 0s linear 200ms;visibility:hidden}@media (min-width: 37.5em){.reactions .reactions-tray__reactive-prompt{font-size:13px;font-size:.8125rem}.no-touch .reactions .reactions-tray__reactive-prompt{font-size:12px;font-size:.75rem}}.reactions .reactions-tray__reactions-container--open{display:block;max-height:124px;pointer-events:all;transition:max-height 300ms}@media (min-width: 37.5em){.reactions .reactions-tray__reactions-container--open{max-height:154px}}.reactions .reactions-tray__reactions-container--open:after{visibility:visible;transition:visibility 1ms}.reactions .reactions-tray__reactions-container--open li{visibility:visible;transition:visibility 0ms linear 0ms}.reactions .reactions-tray__reactions-container--open .reactions-tray__reactive-prompt{visibility:visible;opacity:1}.reactions .reactions-cta{border:0;position:relative;overflow:visible;cursor:pointer;background-color:transparent;margin:8px 0;pointer-events:auto;z-index:999}.reactions .reactions-cta:hover .cta-cbbc-icon,.reactions .reactions-cta:hover .cta-cbeebies-icon{animation-play-state:paused}@media (min-width: 37.5em){.reactions .reactions-cta:hover .cta-cbbc-icon svg,.reactions .reactions-cta:hover .cta-cbeebies-icon svg{transition:all 500ms ease;transform:scale(1.1)}}.reactions .reactions-cta:not(.reactions-cta--clicked) .cta-cbbc-icon,.reactions .reactions-cta:not(.reactions-cta--clicked) .cta-cbeebies-icon{display:block;animation-name:wiggle;animation-duration:7s;animation-delay:5s;animation-iteration-count:3}.reactions .cta-icon svg{width:54px}@keyframes wiggle{0%{transform:scale(1) rotate(0deg)}10%{transform:scale(1.05) rotate(0deg)}11%{transform:scale(1.05) rotate(-5deg)}13%{transform:scale(1.05) rotate(5deg)}15%{transform:scale(1.05) rotate(-5deg)}17%{transform:scale(1.05) rotate(5deg)}19%{transform:scale(1.05) rotate(-5deg)}20%{transform:scale(1.05) rotate(0deg)}30%{transform:scale(1) rotate(0deg)}}.reactions .reactions-cta-image{display:-webkit-flex;display:-ms-flexbox;display:flex;align-items:center;-ms-flex-align:center;font-size:15px;font-size:.9375rem;line-height:18px;line-height:1.125rem;font-weight:bold;color:#2B1F5A;position:relative}@media (min-width: 37.5em){.reactions .reactions-cta-image{line-height:20px;line-height:1.25rem}.no-touch .reactions .reactions-cta-image{font-size:14px;font-size:.875rem;line-height:18px;line-height:1.125rem}}.reactions .reactions-count-container{position:absolute;top:58%;left:-90%;height:25px;line-height:25px;width:80px;text-align:right;vertical-align:middle}.reactions .reactions-cta--open .cta-arrow-icon{transform:rotate(180deg)}.reactions .reaction-button{transition:opacity 200ms ease-in-out;opacity:0;outline:none;overflow:visible;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}@media (hover: hover), (-ms-high-contrast: none){.reactions .reaction-button:hover svg{height:44px;width:44px;top:-2px;left:-2px;transform:rotate(-10deg);transform-origin:center center}}@media (hover: hover) and (min-width: 37.5em), (-ms-high-contrast: none) and (min-width: 37.5em){.reactions .reaction-button:hover svg{height:66px;width:66px;top:-3px;left:-3px}}@-moz-document url-prefix(){.reactions .reaction-button:hover svg{height:44px;width:44px;top:-2px;left:-2px;transform:rotate(-10deg);transform-origin:center center}@media (min-width: 37.5em){.reactions .reaction-button:hover svg{height:66px;width:66px;top:-3px;left:-3px}}}.reactions .reaction-button:focus .reaction-focus-line{background-color:#2B1F5A}.reactions .reaction-button.reaction-button--selected .reaction-icon{top:-8px}@media (min-width: 37.5em){.reactions .reaction-button.reaction-button--selected .reaction-icon{top:-12px}}.reactions .reaction-button.reaction-button--selected .reaction-icon svg{transform:rotate(20deg);transform-origin:center center;height:56px;width:56px;top:-8px;left:-8px}@media (min-width: 37.5em){.reactions .reaction-button.reaction-button--selected .reaction-icon svg{height:84px;width:84px;top:-12px;left:-12px}}.reactions .animation-playing .reaction-button--selected{position:relative;z-index:1020}.reactions .animation-playing .reaction-button--selected .reaction-icon svg{z-index:1030;height:104px;width:104px;top:-32px;left:-32px}@media (min-width: 37.5em){.reactions .animation-playing .reaction-button--selected .reaction-icon svg{height:156px;width:156px;top:-48px;left:-48px}}.reactions .reaction-button--show{transition:opacity 43ms cubic-bezier(0, 0.94, 0.46, 0.85) 80ms;opacity:1}@media (prefers-reduced-motion: reduce){.reactions .reaction-button{transition:none}}.reactions .reaction-icon{display:block;position:relative;height:40px;width:40px;margin:4px auto;top:0}@media (min-width: 37.5em){.reactions .reaction-icon{height:60px;width:60px;margin-bottom:8px;margin-top:0}}.reactions .reaction-icon svg{position:absolute;top:0;left:0;height:40px;width:40px;transition:width 43ms ease-out,height 43ms ease-out,transform 43ms ease-out,top 43ms ease-out,left 43ms ease-out}@media (min-width: 37.5em){.reactions .reaction-icon svg{height:60px;width:60px}}.reactions .reaction-label,.reactions .reaction-count{display:block;position:relative;color:#2B1F5A}.reactions .reaction-label{font-size:12px;font-size:.75rem;line-height:16px;line-height:1rem;text-transform:uppercase;font-weight:bold}@media (min-width: 37.5em){.reactions .reaction-label{font-size:13px;font-size:.8125rem}.no-touch .reactions .reaction-label{font-size:12px;font-size:.75rem}}@media (min-width: 37.5em){.reactions .reaction-label{font-size:14px;font-size:.875rem;line-height:16px;line-height:1rem;font-weight:bold}}@media (min-width: 37.5em) and (min-width: 20em){.reactions .reaction-label{line-height:18px;line-height:1.125rem}}@media (min-width: 37.5em) and (min-width: 37.5em){.no-touch .reactions .reaction-label{font-size:13px;font-size:.8125rem;line-height:16px;line-height:1rem}}.reactions .reaction-count{font-size:12px;font-size:.75rem;line-height:16px;line-height:1rem;text-transform:uppercase;font-size:11px;padding-bottom:3px}@media (min-width: 37.5em){.reactions .reaction-count{font-size:13px;font-size:.8125rem}.no-touch .reactions .reaction-count{font-size:12px;font-size:.75rem}}@media (min-width: 25em){.reactions .reaction-count{font-size:12px;font-size:.75rem;line-height:16px;line-height:1rem;text-transform:uppercase}}@media (min-width: 25em) and (min-width: 37.5em){.reactions .reaction-count{font-size:13px;font-size:.8125rem}.no-touch .reactions .reaction-count{font-size:12px;font-size:.75rem}}.reactions .reaction-focus-line{width:12px;height:3px;margin:0 auto;position:relative}.reactions .gel-icon{position:relative}.reactions .reactions-cookie-warning{font-size:14px;font-size:.875rem;line-height:16px;line-height:1rem;background-color:#FFD201;text-align:center}@media (min-width: 20em){.reactions .reactions-cookie-warning{line-height:18px;line-height:1.125rem}}@media (min-width: 37.5em){.no-touch .reactions .reactions-cookie-warning{font-size:13px;font-size:.8125rem;line-height:16px;line-height:1rem}}.reactions .reactions-cookie-warning__inner{display:inline-block}.reactions .reactions-cookie-warning__icon{width:60px;height:50px;float:right;position:relative;overflow:hidden}.reactions .reactions-cookie-warning__icon svg{transform:rotate(15deg);position:absolute;top:-7.5px;left:0}.reactions .reactions-cookie-warning__text{text-align:left;padding:16px;-webkit-text-size-adjust:100%}@media (min-width: 37.5em){.reactions .reactions-cookie-warning__text{padding-right:60px;padding-left:60px}}.reactions .reactions-cookie-warning__link{color:#000;text-decoration:none;font-weight:bold;white-space:nowrap}.reactions .reactions-cookie-warning__link:hover{text-decoration:underline}.reactions .reactions-sprite-animation-wrapper{position:fixed;width:100%;height:100%;top:0;left:0;overflow:hidden;z-index:1000}.reactions .reactions-sprite-animation{position:absolute;overflow:hidden;pointer-events:none;width:150vw;height:150vh;margin-left:-75vw;margin-top:-67.5vh}.reactions .reactions-sprite-animation svg{width:100%;height:100%;max-height:100%;position:relative}.reactions .reactions-sprite__layer{visibility:hidden}.reactions .reactions-sprite-animation__slide--1 .reactions-sprite__layer--1{visibility:visible}.reactions .reactions-sprite-animation__slide--2 .reactions-sprite__layer--1{visibility:visible}.reactions .reactions-sprite-animation__slide--2 .reactions-sprite__layer--2{visibility:visible}.reactions .reactions-sprite-animation__slide--3 .reactions-sprite__layer--1{visibility:visible}.reactions .reactions-sprite-animation__slide--3 .reactions-sprite__layer--2{visibility:visible}.reactions .reactions-sprite-animation__slide--3 .reactions-sprite__layer--3{visibility:visible}.reactions .reactions-sprite-animation__slide--4 .reactions-sprite__layer--1{visibility:visible}.reactions .reactions-sprite-animation__slide--4 .reactions-sprite__layer--2{visibility:visible}.reactions .reactions-sprite-animation__slide--4 .reactions-sprite__layer--3{visibility:visible}.reactions .reactions-sprite-animation__slide--4 .reactions-sprite__layer--4{visibility:visible}.reactions .reactions-sprite-animation__slide--5 .reactions-sprite__layer--1{visibility:visible}.reactions .reactions-sprite-animation__slide--5 .reactions-sprite__layer--2{visibility:visible}.reactions .reactions-sprite-animation__slide--5 .reactions-sprite__layer--3{visibility:visible}.reactions .reactions-sprite-animation__slide--5 .reactions-sprite__layer--4{visibility:visible}.reactions .reactions-sprite-animation__slide--5 .reactions-sprite__layer--5{visibility:visible}.reactions .reactions-sprite-animation__slide--6 .reactions-sprite__layer--1{visibility:visible}.reactions .reactions-sprite-animation__slide--6 .reactions-sprite__layer--2{visibility:visible}.reactions .reactions-sprite-animation__slide--6 .reactions-sprite__layer--3{visibility:visible}.reactions .reactions-sprite-animation__slide--6 .reactions-sprite__layer--4{visibility:visible}.reactions .reactions-sprite-animation__slide--6 .reactions-sprite__layer--5{visibility:visible}.reactions .reactions-sprite-animation__slide--6 .reactions-sprite__layer--6{visibility:visible}.reactions .reactions-sprite-animation__slide--7 .reactions-sprite__layer--1{visibility:visible}.reactions .reactions-sprite-animation__slide--7 .reactions-sprite__layer--2{visibility:visible}.reactions .reactions-sprite-animation__slide--7 .reactions-sprite__layer--3{visibility:visible}.reactions .reactions-sprite-animation__slide--7 .reactions-sprite__layer--4{visibility:visible}.reactions .reactions-sprite-animation__slide--7 .reactions-sprite__layer--5{visibility:visible}.reactions .reactions-sprite-animation__slide--7 .reactions-sprite__layer--6{visibility:visible}.reactions .reactions-sprite-animation__slide--7 .reactions-sprite__layer--7{visibility:visible}.reactions .reactions-sprite-animation__slide--8 .reactions-sprite__layer--1{visibility:visible}.reactions .reactions-sprite-animation__slide--8 .reactions-sprite__layer--2{visibility:visible}.reactions .reactions-sprite-animation__slide--8 .reactions-sprite__layer--3{visibility:visible}.reactions .reactions-sprite-animation__slide--8 .reactions-sprite__layer--4{visibility:visible}.reactions .reactions-sprite-animation__slide--8 .reactions-sprite__layer--5{visibility:visible}.reactions .reactions-sprite-animation__slide--8 .reactions-sprite__layer--6{visibility:visible}.reactions .reactions-sprite-animation__slide--8 .reactions-sprite__layer--7{visibility:visible}.reactions .reactions-sprite-animation__slide--8 .reactions-sprite__layer--8{visibility:visible}.reactions .reactions-sprite-animation__slide--9 .reactions-sprite__layer--1{visibility:visible}.reactions .reactions-sprite-animation__slide--9 .reactions-sprite__layer--2{visibility:visible}.reactions .reactions-sprite-animation__slide--9 .reactions-sprite__layer--3{visibility:visible}.reactions .reactions-sprite-animation__slide--9 .reactions-sprite__layer--4{visibility:visible}.reactions .reactions-sprite-animation__slide--9 .reactions-sprite__layer--5{visibility:visible}.reactions .reactions-sprite-animation__slide--9 .reactions-sprite__layer--6{visibility:visible}.reactions .reactions-sprite-animation__slide--9 .reactions-sprite__layer--7{visibility:visible}.reactions .reactions-sprite-animation__slide--9 .reactions-sprite__layer--8{visibility:visible}.reactions .reactions-sprite-animation__slide--9 .reactions-sprite__layer--9{visibility:visible}.reactions .reactions-sprite-animation__slide--10 .reactions-sprite__layer--1{visibility:visible}.reactions .reactions-sprite-animation__slide--10 .reactions-sprite__layer--2{visibility:visible}.reactions .reactions-sprite-animation__slide--10 .reactions-sprite__layer--3{visibility:visible}.reactions .reactions-sprite-animation__slide--10 .reactions-sprite__layer--4{visibility:visible}.reactions .reactions-sprite-animation__slide--10 .reactions-sprite__layer--5{visibility:visible}.reactions .reactions-sprite-animation__slide--10 .reactions-sprite__layer--6{visibility:visible}.reactions .reactions-sprite-animation__slide--10 .reactions-sprite__layer--7{visibility:visible}.reactions .reactions-sprite-animation__slide--10 .reactions-sprite__layer--8{visibility:visible}.reactions .reactions-sprite-animation__slide--10 .reactions-sprite__layer--9{visibility:visible}.reactions .reactions-sprite-animation__slide--10 .reactions-sprite__layer--10{visibility:visible}.reactions .reactions-list{display:flex;display:-webkit-flex;display:-ms-flexbox;margin-bottom:10px;width:100%;justify-content:space-between;-ms-flex-pack:space-between;-webkit-justify-content:space-between}@media (min-width: 25em){.reactions .reactions-list{justify-content:center;-ms-flex-pack:center;-webkit-justify-content:center}}@media (min-width: 37.5em){.reactions .reactions-list{justify-content:center;-ms-flex-pack:center;-webkit-justify-content:center;margin:0 auto 10px;padding:8px 0 0}}.reactions .reactions-list li{flex-direction:row;padding:0 2px}@media (min-width: 25em){.reactions .reactions-list li{padding:0 4px}}@media (min-width: 37.5em){.reactions .reactions-list li{padding:0 5px}}.reactions .reactions-error-message{font-size:14px;font-size:.875rem;line-height:16px;line-height:1rem;background-color:#FD3726;text-align:center;color:#fff}@media (min-width: 20em){.reactions .reactions-error-message{line-height:18px;line-height:1.125rem}}@media (min-width: 37.5em){.no-touch .reactions .reactions-error-message{font-size:13px;font-size:.8125rem;line-height:16px;line-height:1rem}}.reactions .reactions-error-message__inner{display:inline-block}.reactions .reactions-error-message__text{text-align:left;padding:16px}@media (min-width: 37.5em){.reactions .reactions-error-message__text{padding-right:60px;padding-left:60px}}\n</style>"); }</script> <!--[if gt IE 8]><!-->
  <noscript class="morph-core-style">
   <!--<![endif]-->
   <style>.gs-c-reactions{list-style:none;margin:0;padding:0}.gs-c-reaction{border:0;padding:0;margin:0;background:none;min-height:44px;cursor:pointer}
</style><!--[if gt IE 8]><!-->
  </noscript><!--<![endif]-->
  <script>if (Morph.enhanced) { Morph.styles["bbc-morph-reactions/4.2.0"]=true; Morph.styleSrc.push("<style>.gs-c-reactions{list-style:none;margin:0;padding:0}.gs-c-reaction{border:0;padding:0;margin:0;background:none;min-height:44px;cursor:pointer}\n</style>"); }</script> 
  <script>if (Morph.enhanced) { Morph.styles["bbc-morph-gel-icons/2.2.0"]=true; Morph.styleSrc.push("<style>.gel-icon{display:inline-block}.gel-icon svg{width:inherit;height:inherit;fill:currentColor}.gel-icon--loading{-webkit-animation-name:gel-spin;-webkit-animation-duration:1s;-webkit-animation-iteration-count:infinite;-webkit-animation-timing-function:linear;-moz-animation-name:gel-spin;-moz-animation-duration:1s;-moz-animation-iteration-count:infinite;-moz-animation-timing-function:linear;animation-name:gel-spin;animation-duration:1s;animation-iteration-count:infinite;animation-timing-function:linear}@-moz-keyframes gel-spin{0%{-moz-transform:rotate(0deg)}100%{-moz-transform:rotate(360deg)}}@-webkit-keyframes gel-spin{0%{-webkit-transform:rotate(0deg)}100%{-webkit-transform:rotate(360deg)}}@keyframes gel-spin{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}\n</style>"); }</script> 
  <script type="text/javascript">Morph.initStyles(); /* u6640433433627035 */</script> 
  <script type="text/javascript" id="js-require-config">


define('local/utils/config', function () {
    "use strict";

    var currentTLD = function () {
        var hostname = window.location.hostname;
        if (hostname.indexOf('bbc.com') > -1) {
            return 'com';
        } 
        return 'co.uk';
    }();

    return {
        'appName': 'cbeebies',
        'env': 'live',
        'uasKey': 'ocivkho3fups2',
        'uasEnv': 'live',
        'uasUrl': '',
        'uasDomainSuffix': currentTLD,
        'currentTLD': currentTLD,
        'comscoreSiteOverride': '',
        'comscoreTestServiceUrl': '',
        'oneTooltipPerPageEnabled': 'true',
        'analyticsReclassificationEnabled': true,
        
        'breakpointConfig': [
            { minWidth: 0, name: 'extra-small' },
            { minWidth: 400, name: 'small' },
            { minWidth: 600, name: 'medium' },
            { minWidth: 768, name: 'medium-wide' },
            { minWidth: 1008, name: 'wide' },
            { minWidth: 1280, name: 'extra-wide' }
        ]
    };
});
</script> 
  <script>

    define('childrens-mandolin', function () {
        "use strict";

        var ROLLING_PERIOD_DAYS = 30;

        
        var Mandolin = function (id, segments, opts) {
            var now                 = new Date().getTime(),
                    storedItem,
                    DEFAULT_START       = now,
                    DEFAULT_RATE        = 1,
                    COOKIE_NAME         = 'ckpf_childrens_mandolin';

            opts = opts || {};

            
            this._id = id;

            
            this._segmentSet = segments;

            
            this._store = new Mandolin.Storage(COOKIE_NAME);
            this._opts = opts;

            
            this._rate = (opts.rate !== undefined)     ? +opts.rate : DEFAULT_RATE;
            
            this._startTs = (opts.start !== undefined) ? new Date(opts.start).getTime() : new Date(DEFAULT_START).getTime();
            
            this._endTs = (opts.end !== undefined)     ? new Date(opts.end).getTime() : daysFromNow(ROLLING_PERIOD_DAYS);
            
            this._signupEndTs = (opts.signupEnd !== undefined) ? new Date(opts.signupEnd).getTime() : this._endTs;

            
            this._segment = null; // initially

            // Check for invalid options
            if (typeof id !== 'string') {
                throw new Error('Invalid Argument: id must be defined and be a string');
            }

            if (Object.prototype.toString.call(segments) !== '[object Array]') {
                throw new Error('Invalid Argument: Segments are required.');
            }

            if (opts.rate !== undefined && (opts.rate < 0 || opts.rate > 1)) {
                throw new Error('Invalid Argument: Rate must be between 0 and 1.');
            }

            if (this._startTs > this._endTs) {
                throw new Error('Invalid Argument: end date must occur after start date.');
            }

            if (!(this._startTs < this._signupEndTs && this._signupEndTs <= this._endTs)) {
                throw new Error('Invalid Argument: SignupEnd must be between start and end date');
            }

            //  Clear out expired items from Storage before looking for stashed segment data
            removeExpired.call(this, now);

            // Load segment override from cookie and validate segment if set.
            var overrides = window.bbccookies.get().match(/ckns_mandolin_setSegments=([^;]+)/);

            if (overrides !== null) {
                eval('overrides = ' + decodeURIComponent(RegExp.$1) + ';');
                if(overrides[this._id] && this._segmentSet.indexOf(overrides[this._id]) == -1){
                    throw new Error('Invalid Override: overridden segment should exist in segments array');
                }
            }

            
            if (overrides !== null && overrides[this._id]){
                this._segment = overrides[this._id];
            }
            else if ((storedItem = this._store.getItem(this._id))) {
                this._segment = storedItem.segment;
            }
            else if (this._startTs <= now && now < this._signupEndTs && now <= this._endTs && this._store.isEnabled() === true) {

                this._segment = pick(segments, this._rate);


                if (opts.end === undefined) {
                    this._store.setItem(this._id, {segment: this._segment});
                }
                else {
                    this._store.setItem(this._id, {segment: this._segment, end: this._endTs});
                }
                log.call(this, 'mandolin_segment');
            }

            //  order matters: do this after the segment has been populated
            log.call(this, 'mandolin_view');

        };

        
        Mandolin.prototype.getSegment = function () {
            return this._segment;
        };

        
        function log(actionType, params) {
            var that = this;

            require(['istats-1'], function (istats) {
                istats.log(actionType, that._id + ':' + that._segment, params ? params : {});
            });
        }

        
        function removeExpired(expires) {
            var items = this._store.getItems(),
                    expiresInt = +expires;

            for (var key in items) {
                if (items[key].end !== undefined && +items[key].end < expiresInt) {
                    this._store.removeItem(key);
                }
            }
        }

        
        function getLastExpirationDate(data) {
            var winner = 0,
                    rollingExpire = daysFromNow(ROLLING_PERIOD_DAYS);

            for (var key in data) {
                if (data[key].end === undefined && rollingExpire > winner) { 
                    winner = rollingExpire;
                }
                else if (+data[key].end > winner) {
                    winner = +data[key].end;
                }
            }

            
            return (winner) ? new Date(winner) : new Date(rollingExpire) ; 
        }

        
        Mandolin.prototype.log = function (params) {
            log.call(this, 'mandolin_log', params);
        };

        
        Mandolin.prototype.convert = function (params) {
            log.call(this, 'mandolin_convert', params);

            
            this.convert = function () {};
        };

        
        function daysFromNow(n) {
            var endDate;
            endDate = new Date().getTime() + (n * 60 * 60 * 24) * 1000;
            return endDate;
        }

        
        function pick(segments, rate) {
            var picked,
                    min = 0,
                    max = segments.length - 1;

            
            if (typeof rate === 'number' && Math.random() > rate) {
                return null;
            }

            
            do {
                picked = Math.floor(Math.random() * (max - min + 1)) + min;
            }
            while (picked > max);

            return segments[picked];
        }

        
        Mandolin.Storage = function (name) {
            validateCookieName(name);
            this._cookieName = name;
            this._isEnabled = (bbccookies.isAllowed(this._cookieName) === true && bbccookies.cookiesEnabled() === true);
        };

        
        Mandolin.Storage.prototype.setItem = function (key, value) {
            var storeData = this.getItems();
            storeData[key] = value;
            this.save(storeData);

            return value;
        };

        
        Mandolin.Storage.prototype.isEnabled = function () {
            return this._isEnabled;
        };

        
        Mandolin.Storage.prototype.getItem = function (key) {
            var storeData = this.getItems();
            return storeData[key];
        };

        
        Mandolin.Storage.prototype.removeItem = function (key) {
            var storeData = this.getItems();
            delete storeData[key];
            this.save(storeData);
        };

        
        Mandolin.Storage.prototype.getItems = function () {
            return deserialise(this.readCookie(this._cookieName) || '');
        };

        
        Mandolin.Storage.prototype.save = function (data) {
            //TODO: Is this mixing concerns to have Storage aware of item expiry?
            window.bbccookies.set(
                    this._cookieName + '=' + encodeURIComponent(serialise(data)) + '; ' +
                    'path=/;' +
                    'expires=' + getLastExpirationDate(data).toUTCString() + ';'
            );
        };

        
        Mandolin.Storage.prototype.readCookie = function (name) {
            var nameEq = name + '=',
                    ca = window.bbccookies.get().split('; '),
                    i,
                    c;

            validateCookieName(name);

            for (i = 0; i < ca.length; i++) {
                c = ca[i];

                if (c.indexOf(nameEq) === 0) {
                    return decodeURIComponent(c.substring(nameEq.length, c.length));
                }
            }

            return null;
        };

        
        function serialise(o) {
            var str = '';
            for (var p in o) {
                if (o.hasOwnProperty(p)) {
                    str += '"' + p + '"' + ':' + (typeof o[p] === 'object' ?  (o[p] === null? 'null' : '{' + serialise(o[p])+  '}')  : '"' + o[p].toString() + '"') + ',';
                }
            }
            return str.replace(/,\}/g, '}').replace(/,$/g, '');
        }

        
        function deserialise(str) {
            var o;

            str = '{' + str + '}';
            if ( !validateSerialisation(str) ) {
                throw 'Invalid input provided for deserialisation.';
            }
            eval('o = ' + str);
            
            return o;
        }

        
        var validateSerialisation = (function () {
            var OBJECT_TOKEN       = '<Object>',
                    ESCAPED_CHAR       = '"\\n\\r\\u2028\\u2029\\u000A\\u000D\\u005C',
                    ALLOWED_CHAR       = '([^' + ESCAPED_CHAR + ']|\\\\[' + ESCAPED_CHAR + '])',
                    KEY                = '"' + ALLOWED_CHAR + '+"',
                    VALUE              = '(null|"' + ALLOWED_CHAR + '*"|' + OBJECT_TOKEN + ')',
                    KEY_VALUE          = KEY + ':' + VALUE,
                    KEY_VALUE_SEQUENCE = '(' + KEY_VALUE + ',)*' + KEY_VALUE,
                    OBJECT_LITERAL     = '({}|{' + KEY_VALUE_SEQUENCE + '})',
                    objectPattern      = new RegExp(OBJECT_LITERAL, 'g');

            return function(str) {
                if (str.indexOf(OBJECT_TOKEN) !== -1) return false; 
                while (str.match(objectPattern)) { str = str.replace(objectPattern, OBJECT_TOKEN); }
                return str === OBJECT_TOKEN;
            }
        })();

        
        function validateCookieName(name) {
            if ( name.match(/ ,;/) ) {
                throw 'Illegal name provided, must be valid in browser cookie.';
            }
        }

        return Mandolin;
    });
</script> 
  <script type="text/javascript" id="js-require-setup">
  
  require({
    paths: {
      'childrens': 'https://childrens-web.files.bbci.co.uk/cbeebies/www/assets/6cc36e0/javascripts',
      'cbeebies': 'https://childrens-web.files.bbci.co.uk/cbeebies/www/assets/6cc36e0/javascripts/cbeebies',
      'cbbc': 'https://childrens-web.files.bbci.co.uk/cbeebies/www/assets/6cc36e0/javascripts/cbbc',
      'jquery': 'https://childrens-web.files.bbci.co.uk/cbeebies/www/assets/6cc36e0/javascripts/libraries/jquery',
      'jquery-1': 'https://childrens-web.files.bbci.co.uk/cbeebies/www/assets/6cc36e0/javascripts/libraries/jquery/jquery',
      'jquery-1.9': 'https://static.bbci.co.uk/frameworks/jquery/0.4.1/sharedmodules/jquery-1.9.1',
      'lib': 'https://childrens-web.files.bbci.co.uk/cbeebies/www/assets/6cc36e0/javascripts/libraries',
      'bump-3': 'https://emp.bbci.co.uk/emp/bump-3/bump-3',
      'bump-4': 'https://emp.bbci.co.uk/emp/bump-4/bump-4',
      'embed': 'https://play.bbc.co.uk/play/sdk/embed/v1/latest',
      'lib/Imager': 'https://childrens-web.files.bbci.co.uk/cbeebies/www/assets/6cc36e0/javascripts/libraries/Imager.min',
      'TweenMax': 'https://childrens-web.files.bbci.co.uk/cbeebies/www/assets/6cc36e0/javascripts/libraries/gsap/TweenMax.min',
      'TimelineMax': 'https://childrens-web.files.bbci.co.uk/cbeebies/www/assets/6cc36e0/javascripts/libraries/gsap/TweenMax.min',
      'echo-11.2.2': 'https://mybbc-analytics.files.bbci.co.uk/echo-client-js/echo-11.2.2.min',
      'lib/riddle': 'https://childrens-web.files.bbci.co.uk/cbeebies/www/assets/6cc36e0/javascripts/libraries/riddle/embed-3.3.min',
      'lib/minpubsub': 'https://childrens-web.files.bbci.co.uk/cbeebies/www/assets/6cc36e0/javascripts/libraries/minpubsub.min',
      'uasclient': 'https://static.bbci.co.uk/uasclient/0.1.40/modules/uasclient',
      'activity-button': 'https://childrens-web.files.bbci.co.uk/cbeebies/www/assets/6cc36e0/javascripts/activity-button',
      'activity-button/activity-button': 'https://childrens-web.files.bbci.co.uk/cbeebies/www/assets/6cc36e0/javascripts/personalisation/personalisation.min',
      'reads': 'https://childrens-web.files.bbci.co.uk/cbeebies/www/assets/6cc36e0/javascripts/reads',
      'reads/reads': 'https://childrens-web.files.bbci.co.uk/cbeebies/www/assets/6cc36e0/javascripts/personalisation/personalisation.min',
      'reads-carousel': 'https://childrens-web.files.bbci.co.uk/cbeebies/www/assets/6cc36e0/javascripts/reads-carousel',
      'reads-carousel/reads-carousel': 'https://childrens-web.files.bbci.co.uk/cbeebies/www/assets/6cc36e0/javascripts/personalisation/personalisation.min',
      'angular': 'https://childrens-web.files.bbci.co.uk/cbeebies/www/assets/6cc36e0/javascripts/angular',
      'angular/app': 'https://childrens-web.files.bbci.co.uk/cbeebies/www/assets/6cc36e0/javascripts/angular/app.min',
      'stats': 'https://childrens-web.files.bbci.co.uk/cbeebies/www/assets/6cc36e0/javascripts/stats',
      'stats/riddle-events': 'https://childrens-web.files.bbci.co.uk/cbeebies/www/assets/6cc36e0/javascripts/stats/riddle-events.min',
      'stats/stats': 'https://childrens-web.files.bbci.co.uk/cbeebies/www/assets/6cc36e0/javascripts/stats/stats.min',
      'confetti': 'https://childrens-web.files.bbci.co.uk/cbeebies/www/assets/6cc36e0/javascripts/confetti',
      'confetti/confetti': 'https://childrens-web.files.bbci.co.uk/cbeebies/www/assets/6cc36e0/javascripts/confetti/confetti.min',
      'follows-panel': 'https://childrens-web.files.bbci.co.uk/cbeebies/www/assets/6cc36e0/javascripts/follows-panel',
      'follows-panel/childrens-follows-panel': 'https://childrens-web.files.bbci.co.uk/cbeebies/www/assets/6cc36e0/javascripts/personalisation/personalisation.min',
      'personalisation': 'https://childrens-web.files.bbci.co.uk/cbeebies/www/assets/6cc36e0/javascripts/personalisation',
      'domReady': 'https://childrens-web.files.bbci.co.uk/cbeebies/www/assets/6cc36e0/javascripts/libraries/require/domReady.min',
      'relay-1': 'https://static.bbci.co.uk/frameworks/relay/0.2.6/sharedmodules/relay-1',
      'jssignals-1': 'https://static.bbci.co.uk/frameworks/jssignals/0.3.6/modules/jssignals-1',
      'vote-wrapper': 'https://account-wrapper.files.bbci.co.uk/vote-wrapper.min',
      'event-stream': 'https://childrens-web.files.bbci.co.uk/cbeebies/www/assets/6cc36e0/javascripts/event-stream/event-stream.min',
      'riddle/auto-scroll': 'https://childrens-web.files.bbci.co.uk/cbeebies/www/assets/6cc36e0/javascripts/riddle/auto-scroll.min'
    },
    shim: {
      'angular/angular': {
        exports: 'angular'
      },
      'TweenMax': {
        exports: 'TweenMax'
      },
      'TimelineMax': {
        exports: 'TimelineMax'
      }
    }
  });

  require({
    map: {
      '*': {
        
        'idcta/idcta-1': 'idcta-v2/idcta-1'
      }
    }
  });

  requirejs.onError = function (err) {
    // if a version of echojs fails to load (i.e. blocked for privacy reasons)
    // replace our echo_client with a dummy implementation so existing code
    // continues to work as expected
    function isEchoJsLibrary(moduleName) {
      return moduleName.indexOf('echo-') === 0;
    }
    if (
            err.requireType === 'scripterror' &&
            err.requireModules &&
            err.requireModules.find(isEchoJsLibrary)
    ) {
      requirejs.undef('stats/echo_client');
      define('stats/echo_client', [], function () {
        return {
          countername : function() {},
          viewEvent : function() {},
          userActionEvent : function() {}
        }
      });
      // re-evaluate all dependencies on echo_client which will pick up the dummy version
      requirejs(['stats/echo_client'], function () {});
    }
  };

  define('istats-1', function() {
    return {
      log: function() {},
      track: function() {},
      setSite: function() {},
      addLabels: function() {},
      getCountername: function() {}
    }
  });

  require(['local/utils/config'], function (config) {
      
  });

  require(["istats-1"], function (istats) {
    if (istats.setSite !== undefined) {
      istats.setSite('cbeebies');
    }
    
      istats.addLabels({
  "page_type" : "content",
  "children_curation" : "fun-activities-to-do-with-older-kids",
  "children_show" : "graces-amazing-machines",
  "children_index" : "games",
  "children_topic" : "none",
  "children_collection" : "fun-activities-to-do-with-older-kids",
  "children_oj_campaign" : "cbeebies.puzzles.graces_amazing_machines_make_your_own_machine.page-cbeebies.games.alba_go_jetters_crathadh_cruinneil.page-cbeebies.watch.graces_amazing_green_machines.page",
  "children_primary_content" : "gid-cbeebies-ivor-graces-amazing-machines-minigames",
  "children_game_cms" : "isite",
  "children_comments" : "false",
  "children_uploader" : "false"
});
    
  });

</script> 
  <script>
  require(['childrens-mandolin'], function (Mandolin) {
    //cleanup collection-position test
    var storage = new Mandolin.Storage('ckpf_childrens_mandolin');
    var experimentName = 'childrens_collection_position';
    if (storage.getItem(experimentName)) {
      storage.removeItem(experimentName);
    }
  });
</script> 
  <script type="text/javascript">

    define('local/utils/experiments', ['childrens-mandolin'], function (Mandolin) {
        "use strict";

        function setupMandolin(experiment, variants, config) {
            var mandolin = new Mandolin(experiment, variants, config);
            return mandolin.getSegment();
        }

        function addClasses(wrapper, experiment, variant) {
            var experimentPrefix = " experiment-";
            var experimentClass = experimentPrefix + experiment;
            wrapper.className += experimentClass + experimentClass + "--" + variant;
        }

        function addAttribute(wrapper, experiment, variant) {
            if (!wrapper.hasAttribute("data-active-experiment")) {
                var att = document.createAttribute("data-active-experiment");
                att.value = experiment + ":" + variant;
                wrapper.setAttributeNode(att);
            }
        }

        return {
            setup: function(experiment, variants, config) {
                var variant = setupMandolin(experiment, variants, config);
                var wrapper = document.querySelector(".childrens-wrapper");
                if (variant) {
                    addClasses(wrapper, experiment, variant);
                }
                addAttribute(wrapper, experiment, variant);

                return variant;
            }
        }

    });

</script> 
 </head> 
 <body class="b-pw-1280"> 
  <div id="cookiePrompt"></div> 
  <noscript>
   <p style="position: absolute; top: -999em"><img src="https://a1.api.bbc.co.uk/hit.xiti?&amp;col=1&amp;from=p&amp;ptag=js&amp;s=598253&amp;p=games::unknown&amp;x1=[urn:bbc:isite2:a64f3809-05e4-441a-9aea-5913250709c7]&amp;x2=[responsive]&amp;x3=[bbc_website]&amp;x4=[en]&amp;x7=[article]&amp;x8=[reverb-3.4.1-nojs]&amp;x11=[cbeebies]&amp;x12=[cbeebies]" height="1" width="1" alt=""></p>
  </noscript> 
  <div class="orbit-header-container" id="orbit-header">
   <header id="orb-banner" role="banner" aria-label="BBC" class="orbit-header nogeo orbit-cbeebies orbit-language-en orbit-ux-v4">
    <div id="orb-header" class="orb-nav-pri orb-nav-pri-white orb-nav-empty" dir="ltr">
     <div class="orb-nav-pri-container b-r b-g-p">
      <div class="orb-nav-section orb-nav-blocks">
       <a href="https://www.bbc.co.uk" id="homepage-link">Homepage</a>
      </div>
      <section>
       <div class="orb-skip-links">
        <h2>Accessibility links</h2>
        <ul>
         <li><a href="#main-content"><span>Skip to content</span></a></li>
         <li><a id="orb-accessibility-help" href="https://www.bbc.co.uk/accessibility/"><span>Accessibility Help</span></a></li>
        </ul>
       </div>
      </section>
      <div id="mybbc-wrapper" class="orb-nav-section orb-nav-id orb-nav-focus orb-nav-id-default"> 
       <div id="idcta-statusbar" class="orb-nav-section orb-nav-focus" data-bbc-container="id-cta" data-bbc-event-type="click" data-bbc-ignore-views="1" data-bbc-metadata="{&quot;id-cta-type&quot;: &quot;statusbar-orb&quot;}" data-bbc-source="responsive_web" data-bbc-title="id-cta-sign-in">
        <a id="idcta-link" href="https://account.bbc.com/account?ptrt=https://www.bbc.co.uk/cbeebies/games/graces-amazing-machines-game-speedys-epic-journey"><span id="idcta-username">BBC Account</span></a>
       </div>
       <script type="text/javascript">require(['idcta/statusbar'], function (statusbar) {new statusbar.Statusbar({id: 'idcta-statusbar', publiclyCacheable: true});});</script> 
      </div>
      <nav class="orbit-header-links common">
       <ul>
        <li class="orb-nav-cbeebies"><a href="https://www.bbc.co.uk/cbeebies">CBeebies</a></li>
        <li class="orb-nav-iplayer"><a href="https://www.bbc.co.uk/tv/cbeebies">CBeebies iPlayer</a></li>
        <li class="orb-nav-grownups orb-d"><a href="https://www.bbc.co.uk/cbeebies/grownups">Grown-ups</a></li>
        <li class="orb-nav-cbeebiesguide"><a href="https://www.bbc.co.uk/iplayer/guide/cbeebies">TV Guide</a></li>
        <li class="orb-nav-cbbc"><a href="https://www.bbc.co.uk/cbbc">CBBC</a></li>
        <li class="orb-nav-cbeebiesbitesize orb-d"><a href="https://www.bbc.co.uk/bitesize">Bitesize</a></li>
       </ul>
      </nav>
      <div id="orb-nav-more">
       <a href="#orbit-more-drawer" id="orbit-more-button"><span class="more-mobile">Menu</span><span class="more-desktop">More</span><span class="orb-icon orb-icon-arrow"></span></a>
      </div>
      <div class="orb-nav-section orb-nav-search" role="search"> <a id="orbit-search-button" class="orbit-search__button" aria-expanded="false" href="https://search.bbc.co.uk/search?scope=cbeebies" title="Search BBC"><span class="ux-v4">Search BBC</span> <span class="ux-v5">
         <svg class="orbit-search-button-icon-only" width="1.75em" height="1.8125em" viewbox="0 0 28 29" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
          <path d="M11,-0.0001 C17.0751322,-0.0001 22,4.92476775 22,10.9999 C22,13.5276632 21.1473793,15.8562862 19.7140404,17.7138664 L28,26 L25,29 L16.518046,20.5178339 C14.8960209,21.4602385 13.0110328,21.9999 11,21.9999 C4.92486775,21.9999 0,17.0750322 0,10.9999 C0,4.92476775 4.92486775,-0.0001 11,-0.0001 Z M11,2.5 C6.30557963,2.5 2.5,6.30557963 2.5,11 C2.5,15.6944204 6.30557963,19.5 11,19.5 C15.6944204,19.5 19.5,15.6944204 19.5,11 C19.5,6.30557963 15.6944204,2.5 11,2.5 Z"></path>
         </svg>
         <svg class="orbit-search-button-icon-with-text" width="0.9375em" height="1em" viewbox="0 0 15 16" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
          <path d="M6,-5.32907052e-15 C9.3137085,-5.32907052e-15 12,2.6862915 12,6 C12,7.43892143 11.4934776,8.75953821 10.6490096,9.79327337 L15,14.24 L13.2782609,16 L8.72578477,11.3465317 C7.90789326,11.7643456 6.98146665,12 6,12 C2.6862915,12 -1.687539e-14,9.3137085 -1.687539e-14,6 C-1.687539e-14,2.6862915 2.6862915,-5.32907052e-15 6,-5.32907052e-15 Z M6,1.5 C3.51471863,1.5 1.5,3.51471863 1.5,6 C1.5,8.48528137 3.51471863,10.5 6,10.5 C8.48528137,10.5 10.5,8.48528137 10.5,6 C10.5,3.51471863 8.48528137,1.5 6,1.5 Z"></path>
         </svg><span>Search BBC</span></span></a> 
      </div>
     </div>
     <div id="orb-panels"></div>
    </div>
   </header>
   <div id="orbit-drawer-container" class="orbit-drawer-container"></div>
   <section class="orbit-more-drawer nogeo orbit-cbeebies orbit-language-en b-r b-g-p" id="orbit-more-drawer">
    <div class="orbit-more-drawer-content">
     <ul>
      <li class="orb-nav-cbeebies"><a href="https://www.bbc.co.uk/cbeebies">CBeebies</a></li>
      <li class="orb-nav-iplayer"><a href="https://www.bbc.co.uk/tv/cbeebies">CBeebies iPlayer</a></li>
      <li class="orb-nav-grownups orb-d"><a href="https://www.bbc.co.uk/cbeebies/grownups">Grown-ups</a></li>
      <li class="orb-nav-cbeebiesguide"><a href="https://www.bbc.co.uk/iplayer/guide/cbeebies">TV Guide</a></li>
      <li class="orb-nav-cbbc"><a href="https://www.bbc.co.uk/cbbc">CBBC</a></li>
      <li class="orb-nav-cbeebiesbitesize orb-d"><a href="https://www.bbc.co.uk/bitesize">Bitesize</a></li>
     </ul><a href="#" class="orbit-more-drawer-close" role="button">
      <svg width="32" height="32" viewbox="0 0 28 28" fill="none" xmlns="http://www.w3.org/2000/svg">
       <path fill-rule="evenodd" clip-rule="evenodd" d="M7.48651 5.71054L5.79834 7.39871L12.3428 14.0225L5.81992 20.6229L7.46434 22.2673L13.9778 15.6768L20.5123 22.2895H20.5135L22.2017 20.6007L15.6567 13.9781L22.1795 7.37712L20.5351 5.73271L14.0216 12.3232L7.48651 5.71054Z"></path>
      </svg><span class="orbit-button-text">Close menu</span></a>
    </div>
   </section>
  </div> <!-- Styling hook for shared modules only --> 
  <div id="orb-modules"> 
   <div id="unsupported-browser-banner-wrapper"> <!--[if lt IE 10]>
        

<div class="unsupported-browser-banner" role="complementary">
  <div class="unsupported-browser-banner__window">
    <div class="grid__container">
      <div class="grid__item">
        <img class="unsupported-browser-banner__icon" aria-hidden="true" alt="" src="https://childrens-web.files.bbci.co.uk/cbeebies/www/assets/6cc36e0/images/icons/ie-caution-icon.png"/>
        <span class="unsupported-browser-banner__text">To get the best experience from CBeebies, you need to upgrade your browser to the latest version.</span>
      </div>
    </div>
  </div>
</div>

      <![endif]--> 
   </div> 
   <script>
      // Show unsupported browser banner for IE10
      (function () {
        if (/*@cc_on!@*/false && document.documentMode === 10) {
          var bannerWrapper = document.getElementById('unsupported-browser-banner-wrapper');
          var currentNode = bannerWrapper.firstChild;
          var startTagLength = '<!--[if lt IE 10]>'.length;
          var endTagLength = '<![endif]-->'.length;

          // Retrieve comment node inside the bannerWrapper; first child is whitespace
          while (currentNode) {
            if (currentNode.nodeType === bannerWrapper.COMMENT_NODE) {
              // Remove the IE tag comments and insert HTML into bannerWrapper
              bannerWrapper.innerHTML = currentNode.nodeValue.trim().slice(startTagLength, -endTagLength);
            }
            currentNode = currentNode.nextSibling;
          }
        }
      })();
    </script> 
   <div class="childrens-wrapper childrens-wrapper--cbeebies childrens-wrapper--content-item childrens-wrapper--games childrens-wrapper--background feature-flag feature-flag--search-bar feature-flag--puzzles-and-quizzes feature-flag--new-vote-styling feature-flag--episode-prominence-on-brand-pages feature-flag--reactions feature-flag--reith-font" data-stats-page-type="content" data-stats-children-curation="fun-activities-to-do-with-older-kids" data-stats-children-show="graces-amazing-machines" data-stats-children-index="games" data-stats-children-topic="none" data-stats-children-collection="fun-activities-to-do-with-older-kids" data-stats-children-oj-campaign="cbeebies.puzzles.graces_amazing_machines_make_your_own_machine.page-cbeebies.games.alba_go_jetters_crathadh_cruinneil.page-cbeebies.watch.graces_amazing_green_machines.page" data-stats-children-page-intention="false" data-stats-children-primary-content="gid-cbeebies-ivor-graces-amazing-machines-minigames" data-stats-children-game-cms="isite" data-stats-children-comments="false" data-stats-children-uploader="false"> 
    <script>
        require(['jquery-1', 'stats/stats', 'domReady!'], function ($, stats, domReady) {
            stats.init($('.childrens-wrapper'), window.location.pathname);
        });
      </script> <span class="childrens-wrapper__cover"></span> 
    <div class="menu-container "> 
     <div class="menu-placeholder"></div> 
     <nav id="menu" role="navigation" class="menu menu--closed"> 
      <div class="menu__window window window--extra-wide "> 
       <div class="menu__bar"> <a class="menu__product" href="/cbeebies" data-stats-interaction="navigation" data-stats-interaction-variant="home_logo"> 
         <svg version="1.1" id="small-menu-logo" class="logo logo--cbeebies logo--animated menu__logo" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewbox="0 0 126 54" enable-background="new 0 0 126 54" xml:space="preserve" preserveaspectratio="xMaxYMin meet"> <g class="logo__part logo__part--character logo__part--c"> 
           <g> 
            <g> 
             <g> 
              <path d="M10.6,22.7c-1.8,0-3.4,0.7-4.7,2C2.3,28.2-5,37.8,5.4,49c3.5,3.8,7.2,5.8,10.8,5.8c4.5,0,7.7-2.9,9.2-4.3
					c0.1-0.1,0.3-0.3,0.4-0.4c1.7-1.5,4.6-5.2,4.8-8.5c0.1-1.5-0.4-2.8-1.3-3.8c-0.3-0.3-0.4-0.6-0.8-0.8c-0.6-0.3-1.1-0.6-1.5-1
					c-0.6-0.5-1.2-1.4-1.6-1.7c-0.6-0.4-1.2-0.5-1.8-0.5c-0.7,0-1.9,0.2-2.8,1.4c-0.8,1.1-0.8,2.6-1,4c-0.1,0.9-0.4,2.9-0.9,3
					c-0.4,0.2-0.8,0.2-1.2,0.2c-1.2,0-2.4-0.7-3.6-2.2c-0.8-1-1.4-2.4-1.7-3.7c0.6,0.5,1.3,0.9,2.4,1c0.3,0.1,0.6,0.1,0.9,0.1
					c2.6,0,5.7-1.8,6.6-4.3c0.2-1.8-0.4-4.5-2.4-6.1C17.2,25,13.9,22.7,10.6,22.7L10.6,22.7C10.6,22.7,10.6,22.7,10.6,22.7
					L10.6,22.7z"></path> 
              <path fill="#FFE500" d="M15.2,35.9c3.2,0.6,7.6-4,3.6-7.2c-4-3.2-8.4-6-11.7-2.7c-3.4,3.4-9.7,11.7-0.4,21.8
					c9.2,10.1,16,2.7,18,1s5.9-7,3.4-9.7c-2.6-2.7-4.4-4.4-5.6-2.6c-1.2,1.7-0.4,6.7-2.9,7.6c-2.4,0.9-4.6,0-6.7-2.5
					c-2.1-2.6-3.4-8.4-1.4-8.9C13.3,32,12,35.4,15.2,35.9z"></path> 
             </g> 
            </g> 
           </g> 
          </g><g class="logo__part logo__part--character logo__part--b1"> 
           <g> 
            <g> 
             <path d="M33.1,12.5c-2.1,0-4.2,0.5-6,1.3C24.3,15.3,17,19.3,21,31.6c0.1,0.7,0.4,2,0.9,2.7c0.3,0.4,1,0.6,1.1,0.8
				c0.2,0.3,2.2,1.1,2.9,1.8c0.8,0.7,1.2,1.4,1.8,1.7c2.5,1.4,5,1.7,6.8,1.7c2.4,0,4.9-0.6,7-1.6c2-0.9,5.5-3,6.6-6.4
				c0.6-1.8,0.4-3.7-0.6-5.5c-0.4-0.7-0.9-1.3-1.4-1.7c-0.2-0.2-0.6-0.2-0.8-0.4c-0.4-0.3-0.7-0.6-1.1-0.8c-1.1-0.4-2.2-0.6-3.1-0.8
				c-1.4-0.2-2.1-0.4-2.4-0.7c0.1-0.4,0.3-1,0.5-1.5c0.7-1.8,1.6-4.2,0.2-6C38.4,13.4,36.1,12.5,33.1,12.5L33.1,12.5z"></path> 
             <path fill="#FFE500" d="M27.9,15.4c-3.6,1.9-8.7,5.1-4.6,15.1c4.1,9.9,13.3,8.6,17.5,6.6c4-1.9,7.5-5.4,5.2-9.5
				c-2.1-4-7.7-1.6-9-4.7c-0.5-1.4,2.4-5.2,1-7C36.7,14.1,31.6,13.7,27.9,15.4z"></path> 
            </g> 
           </g> 
           <g> 
            <path fill="#50318E" d="M31.8,24.3c1.5-1.7,1.1-5.4-0.7-5.9c-2.6-0.7-4.6,3.1-4,4.4C27.9,24.1,30.3,26,31.8,24.3z"></path> 
           </g> 
           <g> 
            <path fill="#50318E" d="M38.7,31c-0.5,1.5-2.2,3.6-4.4,2.9s-3.7-3.9-2.4-5C33.4,27.9,40.3,26.5,38.7,31z"></path> 
           </g> 
          </g><g class="logo__part logo__part--character logo__part--e1"> 
           <g> 
            <g> 
             <path d="M47.8,8.2c-1.7,0-3.4,0.7-4.6,1.8c-5.2,4.8-4.3,10.5-1.1,14.1c0.4,0.5,0.9,0.9,1.4,1.3c0.3,0.2,0.6,0.3,0.9,0.4
				c0.1,0.1,0.3,0.1,0.4,0.2c0.1,0.1,0.2,0.3,0.3,0.3c1.4,0.8,3,1.1,4.5,1.1c2.6,0,5.1-1.1,7.3-3.1c2.5-2.2,2.1-4,1.3-5.5
				c0-0.1-0.1-0.1-0.1-0.2c-0.5-1.2-1.8-2.4-3.2-2.6c0.4-1.8-0.4-3.8-1.3-5l-0.1-0.1L53.5,11C51.5,8.7,49.3,8.2,47.8,8.2L47.8,8.2z"></path> 
             <path fill="#FFE500" d="M44.4,11.3c-3.2,3-4.5,7.6-1,11.6c2.9,3.1,7.9,4.4,12.4,0.2c2-1.7,1.2-2.6,0.7-3.6
				c-0.4-1-1.9-2.1-2.6-1.4c-0.7,0.7-1.1,1.7-2,2.5c-1.2,1.1-5.2,0.4-3.9-0.9c0.7-0.7,2.9-1.5,4.6-3.1c1.2-1.1,0.1-3.6-0.5-4.5
				C49.3,9,45.9,10,44.4,11.3z"></path> 
            </g> 
           </g> 
           <g> 
            <path fill="#50318E" d="M44.8,16.9c0.5,1.1,2.6,0.6,3.6-0.4c1-1,1.9-2.5,0.6-3.6C47,11.2,44,15.2,44.8,16.9z"></path> 
           </g> 
          </g><g class="logo__part logo__part--character logo__part--e2"> 
           <g> 
            <g> 
             <path d="M67.1,9.1c-6.8,0-10,4.7-10.2,9.3c-0.1,5,3.1,10.4,10.5,10.7c0.2,0,0.3,0,0.5,0c3.3,0,4-2,4.3-2.9c0-0.1,0.1-0.2,0.1-0.2
				c0.4-1.1,0.4-2.9-0.4-4.1c1.6-1.1,2.4-3.4,2.6-4.6l0-0.1v-0.1c0-5.2-3.6-7.8-6.9-8l0,0l0,0C67.3,9.1,67.2,9.1,67.1,9.1L67.1,9.1z
				"></path> 
             <path fill="#FFE500" d="M67.4,11c-4.4-0.1-8.5,2.4-8.7,7.6c-0.1,4.2,2.6,8.6,8.7,8.9c2.6,0.1,2.7-1,3.1-2c0.4-1,0.1-2.9-0.9-2.9
				c-1,0-2,0.5-3.1,0.5c-1.7,0-4-3.4-2.1-3.2c1.1,0,3.1,0.9,5.5,1c1.6,0,2.6-2.5,2.7-3.6C72.6,12.6,69.4,11.1,67.4,11z"></path> 
            </g> 
           </g> 
           <g> 
            <path fill="#50318E" d="M64.9,16.1c-0.4,1.1,1.2,2.4,2.5,2.2c1.2,0,2.7-0.5,2.6-2.1C69.7,13.4,65.5,14.3,64.9,16.1z"></path> 
           </g> 
          </g><g class="logo__part logo__part--character logo__part--b2"> 
           <g> 
            <g> 
             <path d="M82.3,0.4c-2.1,0-3.8,1-4.7,2.9c-0.3,0.5-1,1.5-1.5,3.4l0,0l0,0c0,0.1-0.4,1.8-0.5,3l0,0.1V10c0,0.2,0,0.6,0,0.9
				c0,0.5-0.1,1-0.1,1.6c0,0,0,0,0,0c0,0,0,0.4-0.2,1.4c-0.1,0.5-0.6,1.1-1.2,2.1c-0.3,0.4-0.6,0.8-0.9,1.3c-0.2,0.3-1,1.6-1.3,2.6
				c-0.3,0.8-1.7,4.5,0.1,8.9c1.3,3.7,4.9,6.1,9.3,6.1c1.6,0,3.2-0.3,4.7-1c1-0.4,1.7-1,2.2-1.3l0.1-0.1c0.5-0.4,0.9-0.8,1-1
				c0.3-0.3,0.6-0.7,0.8-1.1c0.3-0.5,0.2-1.1,0.5-1.6c0.4-0.8,1.1-1.2,1.1-1.4c0.9-2.6,0.8-4.7,0.7-5.7v-0.1v-0.2L92.4,21
				c0-0.2-0.1-0.3-0.1-0.4c0-0.2-0.1-0.5-0.2-0.9c-0.7-2.7-3.2-4.3-6.4-4.3c-0.6,0-1.1,0.1-1.6,0.2l-0.5,0.1l-0.1,0.1
				c0-0.1,0.1-0.2,0.1-0.4l0-0.1l0-0.1l0.1-0.2c0.3-1.1,0.3-1.1,1.6-3l0.1-0.2c0.6-0.5,1.1-1.5,1.9-2.9C87.8,8,88,7,88,6.1
				C88,3,85.5,0.4,82.3,0.4L82.3,0.4z"></path> 
             <path fill="#FFE500" d="M73.6,20.4c0.2-0.9,1.1-2.2,1.1-2.2c1.2-1.9,2.1-2.9,2.4-4c0.2-1.2,0.2-1.7,0.2-1.7
				c0-0.9,0.1-1.9,0.1-2.5C77.6,8.8,78,7.1,78,7.1c0.5-2,1.2-2.9,1.2-2.9c0.6-1.4,1.7-2,3.1-2c2.1,0,3.9,1.7,3.9,3.9
				c0,0.5-0.1,1.2-0.5,2c-1.1,2.1-1.5,2.5-1.6,2.5c-1.7,2.7-1.6,2.5-2.1,4.1c-0.2,0.6-0.4,1.1-0.2,1.6c0.2,0.9,0.9,1.2,1.5,1.2
				c0.2,0,0.5,0,0.9-0.1c0.1,0,0.2,0,0.4-0.1c1.9-0.4,5.2,0,6,3c0.1,0.2,0.1,0.6,0.2,1.1v0.2c0.1,1,0.1,2.9-0.6,5
				c-0.1,0.4-1.2,2.6-2.1,3.5l0,0c0,0-0.2,0.4-0.7,0.7c-0.5,0.4-1.1,0.9-2,1.2c-4.4,2-10,0.4-11.5-4.1C72,23.9,73.6,20.4,73.6,20.4z
				"></path> 
            </g> 
           </g> 
           <g> 
            <path fill="#50318E" d="M86.1,25.9c-1.1,1.2-3.7,2.5-5.5,0.9c-1.7-1.6-1.9-5.5-0.1-5.9C82.3,20.7,89.6,22.3,86.1,25.9z"></path> 
           </g> 
          </g><g class="logo__part logo__part--character logo__part--i"> 
           <g> 
            <g> 
             <path d="M99.7,14.3c-1.6,0-2.8,0.9-3.3,2.4c-1.2,3.7,0.4,5.8,2.2,6.5c0.3,0.1,0.7,0.2,1,0.2c1.8,0,3.4-1.7,4.2-3.1
				c0.8-1.4,0.8-2.8,0.2-3.7C103.2,15.5,101.5,14.3,99.7,14.3L99.7,14.3z"></path> 
             <path fill="#FFE500" d="M98.1,17.3c-0.7,2.4-0.1,3.7,1.1,4.2c1.5,0.6,4-2.9,3.2-4C101.7,16.4,98.8,15.1,98.1,17.3z"></path> 
            </g> 
           </g> 
           <g> 
            <g> 
             <path d="M97.1,21.5L97.1,21.5c-1.2,0-2.6,0.7-4.1,1.9l0,0l0,0c-1.1,1.1-1.6,1.7-2.3,2.5c-0.1,0.1-0.2,0.3-0.3,0.5
				c-0.1,0.1-0.3,0.8-0.3,0.8c-0.6,1.2-1.3,1.9-1.4,2.2c-0.1,1.1,0,1.8,0.3,2.4c0.6,1.3,2.1,2.2,4,2.3c0.1,0,0.2,0,0.3,0
				c3.3,0,6.5-4.2,7.1-7.9c0.3-2-0.2-3.2-0.7-3.8C98.9,21.9,98.1,21.5,97.1,21.5L97.1,21.5z"></path> 
             <path fill="#FFE500" d="M94.2,24.8c2.9-2.5,4.7-1.7,4.2,1.2c-0.5,3-3.1,6.5-5.5,6.4c-1.7-0.1-3.9-1.2-1.7-4.4
				C92.3,26.8,92.8,26.2,94.2,24.8z"></path> 
            </g> 
           </g> 
          </g><g class="logo__part logo__part--character logo__part--e3"> 
           <g> 
            <g> 
             <path d="M106.4,23.7c-4.7,0-8.3,2.9-9.1,7.4c-0.5,2.6,0,5.3,1.4,7.4c1.5,2.1,3.8,3.5,6.7,4.1c0.5,0.1,1,0.2,1.4,0.2
				c2.2,0,3-1.4,3.4-2.1c0-0.1,0.1-0.2,0.1-0.2l0-0.1l0-0.1c0.6-1,0.8-2.7,0.2-4c0,0,0,0,0,0c0.6-0.3,1.1-0.7,1.6-1.3
				c0.7-0.8,1.1-1.8,1.3-2.6c0.6-2.6-0.1-4.4-0.8-5.5c-1-1.5-2.6-2.6-4.3-3C107.8,23.8,107.1,23.7,106.4,23.7L106.4,23.7z"></path> 
             <path fill="#FFE500" d="M108.2,25.7c-4-0.7-8.2,1-9.1,5.7c-0.7,3.9,1.1,8.4,6.7,9.4c2.4,0.5,2.6-0.6,3.1-1.4
				c0.5-0.9,0.5-2.6-0.5-2.7s-2,0.1-3,0c-1.6-0.2-3.2-3.6-1.5-3.4c1,0.2,2.7,1.2,4.9,1.6c1.5,0.2,2.9-1.9,3-2.9
				C112.8,28,110,26,108.2,25.7z"></path> 
            </g> 
           </g> 
           <g> 
            <path fill="#50318E" d="M105,28.5c-0.6,1-0.5,2.9,0.7,3c1.2,0.1,3.6-1.1,2.7-2.6C107.7,27.5,105.9,27.2,105,28.5z"></path> 
           </g> 
          </g><g class="logo__part logo__part--character logo__part--s"> 
           <g> 
            <path d="M117.5,34.6c-2.4,0-4.7,1-6.3,2.7l0,0l0,0c-1.2,1.4-2.3,3.8-1.7,5.9c-1.3,0.1-2.2,0.9-2.6,1.3l0,0l0,0
			c-2.3,2.5-2.2,5.6,0.3,7.9l0,0l0,0c1.8,1.6,4.1,2.4,6.4,2.4c2.4,0,4.6-1,6.2-2.7c1.3-1.4,2.4-3.9,1.8-5.9c1.2-0.1,2.2-0.9,2.5-1.3
			l0,0l0,0c1.1-1.2,1.7-2.6,1.6-4c-0.1-1.4-0.7-2.7-2-3.9C122.1,35.5,119.9,34.6,117.5,34.6L117.5,34.6
			C117.5,34.6,117.5,34.6,117.5,34.6L117.5,34.6z"></path> 
            <path fill="#FFE500" d="M118.5,51c1.1-1.2,2.2-3.9,0.7-5.2c-1-0.9-1.9-1.2-2.9-2.1c-0.7-0.7-0.7-1.7-0.1-2.4
			c0.5-0.6,1.6-1.2,2.4-0.6c1,0.9,1.1,2.6,2,3.6c0.7,0.6,1.7,0,2.2-0.5c1.6-1.7,1.5-3.7-0.2-5.4c-2.9-2.6-7.4-2.7-10.1,0.1
			c-1.1,1.2-2.1,3.9-0.7,5.2c1,0.9,2.4,1.1,3,2.4c0.5,0.9,0.4,1.4,0,2.1c-0.5,0.7-1.6,1.2-2.4,0.6c-1-0.9-1-2.6-2-3.6
			c-0.7-0.6-1.7,0-2.2,0.5c-1.6,1.7-1.5,3.7,0.2,5.4C111.4,53.7,115.9,53.9,118.5,51z"></path> 
           </g> 
          </g> 
         </svg> <script>
        require(['jquery-1', 'modernizr', 'childrens/logo/animated-cbeebies-logo'],
                function ($, Modernizr, logoAnimation) {
            var shouldAnimateLogo = Modernizr.svg && Modernizr.cssanimations;
            if (shouldAnimateLogo) {
                var logo = logoAnimation({id: '#small-menu-logo'});
                $(document).ready(function () {
                    setTimeout(logo.play, 800);
                });
            }
        });
</script> Home </a> <button id="menu-toggle" class="menu__toggle" data-stats-interaction="navigation" data-stats-interaction-action="button" data-stats-interaction-variant="open"> <span id="menu-toggle-title" class="menu__toggle-title">Menu</span> <i aria-hidden="true" class="menu__toggle-icon"></i> </button> 
       </div> 
       <div class="menu__contents"> 
        <div class="menu__list"> 
         <ul class="menu__list-inner"> 
          <li class="menu__item  menu__item--home"> <a class="menu__link" href="/cbeebies" data-stats-interaction="navigation" data-stats-interaction-variant="home" data-bbc-container="Navigation" data-bbc-metadata="{&quot;PAR&quot;:&quot;navigation&quot;,&quot;CHD&quot;:&quot;home::1&quot;}" data-bbc-title="Home" data-bbc-source="cbeebies"> <span class="menu__link-icon"> 
             <svg version="1.1" id="large-menu-logo" class="logo logo--cbeebies logo--animated menu__logo" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewbox="0 0 126 54" enable-background="new 0 0 126 54" xml:space="preserve" preserveaspectratio="xMaxYMin meet"> <g class="logo__part logo__part--character logo__part--c"> 
               <g> 
                <g> 
                 <g> 
                  <path d="M10.6,22.7c-1.8,0-3.4,0.7-4.7,2C2.3,28.2-5,37.8,5.4,49c3.5,3.8,7.2,5.8,10.8,5.8c4.5,0,7.7-2.9,9.2-4.3
					c0.1-0.1,0.3-0.3,0.4-0.4c1.7-1.5,4.6-5.2,4.8-8.5c0.1-1.5-0.4-2.8-1.3-3.8c-0.3-0.3-0.4-0.6-0.8-0.8c-0.6-0.3-1.1-0.6-1.5-1
					c-0.6-0.5-1.2-1.4-1.6-1.7c-0.6-0.4-1.2-0.5-1.8-0.5c-0.7,0-1.9,0.2-2.8,1.4c-0.8,1.1-0.8,2.6-1,4c-0.1,0.9-0.4,2.9-0.9,3
					c-0.4,0.2-0.8,0.2-1.2,0.2c-1.2,0-2.4-0.7-3.6-2.2c-0.8-1-1.4-2.4-1.7-3.7c0.6,0.5,1.3,0.9,2.4,1c0.3,0.1,0.6,0.1,0.9,0.1
					c2.6,0,5.7-1.8,6.6-4.3c0.2-1.8-0.4-4.5-2.4-6.1C17.2,25,13.9,22.7,10.6,22.7L10.6,22.7C10.6,22.7,10.6,22.7,10.6,22.7
					L10.6,22.7z"></path> 
                  <path fill="#FFE500" d="M15.2,35.9c3.2,0.6,7.6-4,3.6-7.2c-4-3.2-8.4-6-11.7-2.7c-3.4,3.4-9.7,11.7-0.4,21.8
					c9.2,10.1,16,2.7,18,1s5.9-7,3.4-9.7c-2.6-2.7-4.4-4.4-5.6-2.6c-1.2,1.7-0.4,6.7-2.9,7.6c-2.4,0.9-4.6,0-6.7-2.5
					c-2.1-2.6-3.4-8.4-1.4-8.9C13.3,32,12,35.4,15.2,35.9z"></path> 
                 </g> 
                </g> 
               </g> 
              </g><g class="logo__part logo__part--character logo__part--b1"> 
               <g> 
                <g> 
                 <path d="M33.1,12.5c-2.1,0-4.2,0.5-6,1.3C24.3,15.3,17,19.3,21,31.6c0.1,0.7,0.4,2,0.9,2.7c0.3,0.4,1,0.6,1.1,0.8
				c0.2,0.3,2.2,1.1,2.9,1.8c0.8,0.7,1.2,1.4,1.8,1.7c2.5,1.4,5,1.7,6.8,1.7c2.4,0,4.9-0.6,7-1.6c2-0.9,5.5-3,6.6-6.4
				c0.6-1.8,0.4-3.7-0.6-5.5c-0.4-0.7-0.9-1.3-1.4-1.7c-0.2-0.2-0.6-0.2-0.8-0.4c-0.4-0.3-0.7-0.6-1.1-0.8c-1.1-0.4-2.2-0.6-3.1-0.8
				c-1.4-0.2-2.1-0.4-2.4-0.7c0.1-0.4,0.3-1,0.5-1.5c0.7-1.8,1.6-4.2,0.2-6C38.4,13.4,36.1,12.5,33.1,12.5L33.1,12.5z"></path> 
                 <path fill="#FFE500" d="M27.9,15.4c-3.6,1.9-8.7,5.1-4.6,15.1c4.1,9.9,13.3,8.6,17.5,6.6c4-1.9,7.5-5.4,5.2-9.5
				c-2.1-4-7.7-1.6-9-4.7c-0.5-1.4,2.4-5.2,1-7C36.7,14.1,31.6,13.7,27.9,15.4z"></path> 
                </g> 
               </g> 
               <g> 
                <path fill="#50318E" d="M31.8,24.3c1.5-1.7,1.1-5.4-0.7-5.9c-2.6-0.7-4.6,3.1-4,4.4C27.9,24.1,30.3,26,31.8,24.3z"></path> 
               </g> 
               <g> 
                <path fill="#50318E" d="M38.7,31c-0.5,1.5-2.2,3.6-4.4,2.9s-3.7-3.9-2.4-5C33.4,27.9,40.3,26.5,38.7,31z"></path> 
               </g> 
              </g><g class="logo__part logo__part--character logo__part--e1"> 
               <g> 
                <g> 
                 <path d="M47.8,8.2c-1.7,0-3.4,0.7-4.6,1.8c-5.2,4.8-4.3,10.5-1.1,14.1c0.4,0.5,0.9,0.9,1.4,1.3c0.3,0.2,0.6,0.3,0.9,0.4
				c0.1,0.1,0.3,0.1,0.4,0.2c0.1,0.1,0.2,0.3,0.3,0.3c1.4,0.8,3,1.1,4.5,1.1c2.6,0,5.1-1.1,7.3-3.1c2.5-2.2,2.1-4,1.3-5.5
				c0-0.1-0.1-0.1-0.1-0.2c-0.5-1.2-1.8-2.4-3.2-2.6c0.4-1.8-0.4-3.8-1.3-5l-0.1-0.1L53.5,11C51.5,8.7,49.3,8.2,47.8,8.2L47.8,8.2z"></path> 
                 <path fill="#FFE500" d="M44.4,11.3c-3.2,3-4.5,7.6-1,11.6c2.9,3.1,7.9,4.4,12.4,0.2c2-1.7,1.2-2.6,0.7-3.6
				c-0.4-1-1.9-2.1-2.6-1.4c-0.7,0.7-1.1,1.7-2,2.5c-1.2,1.1-5.2,0.4-3.9-0.9c0.7-0.7,2.9-1.5,4.6-3.1c1.2-1.1,0.1-3.6-0.5-4.5
				C49.3,9,45.9,10,44.4,11.3z"></path> 
                </g> 
               </g> 
               <g> 
                <path fill="#50318E" d="M44.8,16.9c0.5,1.1,2.6,0.6,3.6-0.4c1-1,1.9-2.5,0.6-3.6C47,11.2,44,15.2,44.8,16.9z"></path> 
               </g> 
              </g><g class="logo__part logo__part--character logo__part--e2"> 
               <g> 
                <g> 
                 <path d="M67.1,9.1c-6.8,0-10,4.7-10.2,9.3c-0.1,5,3.1,10.4,10.5,10.7c0.2,0,0.3,0,0.5,0c3.3,0,4-2,4.3-2.9c0-0.1,0.1-0.2,0.1-0.2
				c0.4-1.1,0.4-2.9-0.4-4.1c1.6-1.1,2.4-3.4,2.6-4.6l0-0.1v-0.1c0-5.2-3.6-7.8-6.9-8l0,0l0,0C67.3,9.1,67.2,9.1,67.1,9.1L67.1,9.1z
				"></path> 
                 <path fill="#FFE500" d="M67.4,11c-4.4-0.1-8.5,2.4-8.7,7.6c-0.1,4.2,2.6,8.6,8.7,8.9c2.6,0.1,2.7-1,3.1-2c0.4-1,0.1-2.9-0.9-2.9
				c-1,0-2,0.5-3.1,0.5c-1.7,0-4-3.4-2.1-3.2c1.1,0,3.1,0.9,5.5,1c1.6,0,2.6-2.5,2.7-3.6C72.6,12.6,69.4,11.1,67.4,11z"></path> 
                </g> 
               </g> 
               <g> 
                <path fill="#50318E" d="M64.9,16.1c-0.4,1.1,1.2,2.4,2.5,2.2c1.2,0,2.7-0.5,2.6-2.1C69.7,13.4,65.5,14.3,64.9,16.1z"></path> 
               </g> 
              </g><g class="logo__part logo__part--character logo__part--b2"> 
               <g> 
                <g> 
                 <path d="M82.3,0.4c-2.1,0-3.8,1-4.7,2.9c-0.3,0.5-1,1.5-1.5,3.4l0,0l0,0c0,0.1-0.4,1.8-0.5,3l0,0.1V10c0,0.2,0,0.6,0,0.9
				c0,0.5-0.1,1-0.1,1.6c0,0,0,0,0,0c0,0,0,0.4-0.2,1.4c-0.1,0.5-0.6,1.1-1.2,2.1c-0.3,0.4-0.6,0.8-0.9,1.3c-0.2,0.3-1,1.6-1.3,2.6
				c-0.3,0.8-1.7,4.5,0.1,8.9c1.3,3.7,4.9,6.1,9.3,6.1c1.6,0,3.2-0.3,4.7-1c1-0.4,1.7-1,2.2-1.3l0.1-0.1c0.5-0.4,0.9-0.8,1-1
				c0.3-0.3,0.6-0.7,0.8-1.1c0.3-0.5,0.2-1.1,0.5-1.6c0.4-0.8,1.1-1.2,1.1-1.4c0.9-2.6,0.8-4.7,0.7-5.7v-0.1v-0.2L92.4,21
				c0-0.2-0.1-0.3-0.1-0.4c0-0.2-0.1-0.5-0.2-0.9c-0.7-2.7-3.2-4.3-6.4-4.3c-0.6,0-1.1,0.1-1.6,0.2l-0.5,0.1l-0.1,0.1
				c0-0.1,0.1-0.2,0.1-0.4l0-0.1l0-0.1l0.1-0.2c0.3-1.1,0.3-1.1,1.6-3l0.1-0.2c0.6-0.5,1.1-1.5,1.9-2.9C87.8,8,88,7,88,6.1
				C88,3,85.5,0.4,82.3,0.4L82.3,0.4z"></path> 
                 <path fill="#FFE500" d="M73.6,20.4c0.2-0.9,1.1-2.2,1.1-2.2c1.2-1.9,2.1-2.9,2.4-4c0.2-1.2,0.2-1.7,0.2-1.7
				c0-0.9,0.1-1.9,0.1-2.5C77.6,8.8,78,7.1,78,7.1c0.5-2,1.2-2.9,1.2-2.9c0.6-1.4,1.7-2,3.1-2c2.1,0,3.9,1.7,3.9,3.9
				c0,0.5-0.1,1.2-0.5,2c-1.1,2.1-1.5,2.5-1.6,2.5c-1.7,2.7-1.6,2.5-2.1,4.1c-0.2,0.6-0.4,1.1-0.2,1.6c0.2,0.9,0.9,1.2,1.5,1.2
				c0.2,0,0.5,0,0.9-0.1c0.1,0,0.2,0,0.4-0.1c1.9-0.4,5.2,0,6,3c0.1,0.2,0.1,0.6,0.2,1.1v0.2c0.1,1,0.1,2.9-0.6,5
				c-0.1,0.4-1.2,2.6-2.1,3.5l0,0c0,0-0.2,0.4-0.7,0.7c-0.5,0.4-1.1,0.9-2,1.2c-4.4,2-10,0.4-11.5-4.1C72,23.9,73.6,20.4,73.6,20.4z
				"></path> 
                </g> 
               </g> 
               <g> 
                <path fill="#50318E" d="M86.1,25.9c-1.1,1.2-3.7,2.5-5.5,0.9c-1.7-1.6-1.9-5.5-0.1-5.9C82.3,20.7,89.6,22.3,86.1,25.9z"></path> 
               </g> 
              </g><g class="logo__part logo__part--character logo__part--i"> 
               <g> 
                <g> 
                 <path d="M99.7,14.3c-1.6,0-2.8,0.9-3.3,2.4c-1.2,3.7,0.4,5.8,2.2,6.5c0.3,0.1,0.7,0.2,1,0.2c1.8,0,3.4-1.7,4.2-3.1
				c0.8-1.4,0.8-2.8,0.2-3.7C103.2,15.5,101.5,14.3,99.7,14.3L99.7,14.3z"></path> 
                 <path fill="#FFE500" d="M98.1,17.3c-0.7,2.4-0.1,3.7,1.1,4.2c1.5,0.6,4-2.9,3.2-4C101.7,16.4,98.8,15.1,98.1,17.3z"></path> 
                </g> 
               </g> 
               <g> 
                <g> 
                 <path d="M97.1,21.5L97.1,21.5c-1.2,0-2.6,0.7-4.1,1.9l0,0l0,0c-1.1,1.1-1.6,1.7-2.3,2.5c-0.1,0.1-0.2,0.3-0.3,0.5
				c-0.1,0.1-0.3,0.8-0.3,0.8c-0.6,1.2-1.3,1.9-1.4,2.2c-0.1,1.1,0,1.8,0.3,2.4c0.6,1.3,2.1,2.2,4,2.3c0.1,0,0.2,0,0.3,0
				c3.3,0,6.5-4.2,7.1-7.9c0.3-2-0.2-3.2-0.7-3.8C98.9,21.9,98.1,21.5,97.1,21.5L97.1,21.5z"></path> 
                 <path fill="#FFE500" d="M94.2,24.8c2.9-2.5,4.7-1.7,4.2,1.2c-0.5,3-3.1,6.5-5.5,6.4c-1.7-0.1-3.9-1.2-1.7-4.4
				C92.3,26.8,92.8,26.2,94.2,24.8z"></path> 
                </g> 
               </g> 
              </g><g class="logo__part logo__part--character logo__part--e3"> 
               <g> 
                <g> 
                 <path d="M106.4,23.7c-4.7,0-8.3,2.9-9.1,7.4c-0.5,2.6,0,5.3,1.4,7.4c1.5,2.1,3.8,3.5,6.7,4.1c0.5,0.1,1,0.2,1.4,0.2
				c2.2,0,3-1.4,3.4-2.1c0-0.1,0.1-0.2,0.1-0.2l0-0.1l0-0.1c0.6-1,0.8-2.7,0.2-4c0,0,0,0,0,0c0.6-0.3,1.1-0.7,1.6-1.3
				c0.7-0.8,1.1-1.8,1.3-2.6c0.6-2.6-0.1-4.4-0.8-5.5c-1-1.5-2.6-2.6-4.3-3C107.8,23.8,107.1,23.7,106.4,23.7L106.4,23.7z"></path> 
                 <path fill="#FFE500" d="M108.2,25.7c-4-0.7-8.2,1-9.1,5.7c-0.7,3.9,1.1,8.4,6.7,9.4c2.4,0.5,2.6-0.6,3.1-1.4
				c0.5-0.9,0.5-2.6-0.5-2.7s-2,0.1-3,0c-1.6-0.2-3.2-3.6-1.5-3.4c1,0.2,2.7,1.2,4.9,1.6c1.5,0.2,2.9-1.9,3-2.9
				C112.8,28,110,26,108.2,25.7z"></path> 
                </g> 
               </g> 
               <g> 
                <path fill="#50318E" d="M105,28.5c-0.6,1-0.5,2.9,0.7,3c1.2,0.1,3.6-1.1,2.7-2.6C107.7,27.5,105.9,27.2,105,28.5z"></path> 
               </g> 
              </g><g class="logo__part logo__part--character logo__part--s"> 
               <g> 
                <path d="M117.5,34.6c-2.4,0-4.7,1-6.3,2.7l0,0l0,0c-1.2,1.4-2.3,3.8-1.7,5.9c-1.3,0.1-2.2,0.9-2.6,1.3l0,0l0,0
			c-2.3,2.5-2.2,5.6,0.3,7.9l0,0l0,0c1.8,1.6,4.1,2.4,6.4,2.4c2.4,0,4.6-1,6.2-2.7c1.3-1.4,2.4-3.9,1.8-5.9c1.2-0.1,2.2-0.9,2.5-1.3
			l0,0l0,0c1.1-1.2,1.7-2.6,1.6-4c-0.1-1.4-0.7-2.7-2-3.9C122.1,35.5,119.9,34.6,117.5,34.6L117.5,34.6
			C117.5,34.6,117.5,34.6,117.5,34.6L117.5,34.6z"></path> 
                <path fill="#FFE500" d="M118.5,51c1.1-1.2,2.2-3.9,0.7-5.2c-1-0.9-1.9-1.2-2.9-2.1c-0.7-0.7-0.7-1.7-0.1-2.4
			c0.5-0.6,1.6-1.2,2.4-0.6c1,0.9,1.1,2.6,2,3.6c0.7,0.6,1.7,0,2.2-0.5c1.6-1.7,1.5-3.7-0.2-5.4c-2.9-2.6-7.4-2.7-10.1,0.1
			c-1.1,1.2-2.1,3.9-0.7,5.2c1,0.9,2.4,1.1,3,2.4c0.5,0.9,0.4,1.4,0,2.1c-0.5,0.7-1.6,1.2-2.4,0.6c-1-0.9-1-2.6-2-3.6
			c-0.7-0.6-1.7,0-2.2,0.5c-1.6,1.7-1.5,3.7,0.2,5.4C111.4,53.7,115.9,53.9,118.5,51z"></path> 
               </g> 
              </g> 
             </svg> <script>
        require(['jquery-1', 'modernizr', 'childrens/logo/animated-cbeebies-logo'],
                function ($, Modernizr, logoAnimation) {
            var shouldAnimateLogo = Modernizr.svg && Modernizr.cssanimations;
            if (shouldAnimateLogo) {
                var logo = logoAnimation({id: '#large-menu-logo'});
                $(document).ready(function () {
                    setTimeout(logo.play, 800);
                });
            }
        });
</script> </span><span class="menu__link-label">Home</span> </a> </li><!--

              -->
          <li class="menu__item  menu__item--shows"> <a class="menu__link" href="/cbeebies/shows" data-stats-interaction="navigation" data-stats-interaction-variant="shows" data-bbc-container="Navigation" data-bbc-metadata="{&quot;PAR&quot;:&quot;navigation&quot;,&quot;CHD&quot;:&quot;shows::2&quot;}" data-bbc-title="Shows" data-bbc-source="cbeebies"> <span class="menu__link-icon"></span><span class="menu__link-label">Shows</span> </a> </li>
          <li class="menu__item  menu__item--games menu__item--current"> <a class="menu__link" href="/cbeebies/games" data-stats-interaction="navigation" data-stats-interaction-variant="games" data-bbc-container="Navigation" data-bbc-metadata="{&quot;PAR&quot;:&quot;navigation&quot;,&quot;CHD&quot;:&quot;games::3&quot;}" data-bbc-title="Games" data-bbc-source="cbeebies"> <span class="menu__link-icon"></span><span class="menu__link-label">Games</span> </a> </li>
          <li class="menu__item  menu__item--puzzles"> <a class="menu__link" href="/cbeebies/puzzles" data-stats-interaction="navigation" data-stats-interaction-variant="puzzles" data-bbc-container="Navigation" data-bbc-metadata="{&quot;PAR&quot;:&quot;navigation&quot;,&quot;CHD&quot;:&quot;puzzles::4&quot;}" data-bbc-title="Puzzles &amp; Quizzes" data-bbc-source="cbeebies"> <span class="menu__link-icon"></span><span class="menu__link-label">Puzzles &amp; Quizzes</span> </a> </li>
          <li class="menu__item  menu__item--watch"> <a class="menu__link" href="/cbeebies/watch" data-stats-interaction="navigation" data-stats-interaction-variant="watch" data-bbc-container="Navigation" data-bbc-metadata="{&quot;PAR&quot;:&quot;navigation&quot;,&quot;CHD&quot;:&quot;watch::5&quot;}" data-bbc-title="Watch &amp; Sing" data-bbc-source="cbeebies"> <span class="menu__link-icon"></span><span class="menu__link-label">Watch &amp; Sing</span> </a> </li>
          <li class="menu__item  menu__item--joinin"> <a class="menu__link" href="/cbeebies/joinin" data-stats-interaction="navigation" data-stats-interaction-variant="joinin" data-bbc-container="Navigation" data-bbc-metadata="{&quot;PAR&quot;:&quot;navigation&quot;,&quot;CHD&quot;:&quot;joinin::6&quot;}" data-bbc-title="Join In" data-bbc-source="cbeebies"> <span class="menu__link-icon"></span><span class="menu__link-label">Join In</span> </a> </li>
          <li class="menu__item  menu__item--makes"> <a class="menu__link" href="/cbeebies/makes" data-stats-interaction="navigation" data-stats-interaction-variant="makes" data-bbc-container="Navigation" data-bbc-metadata="{&quot;PAR&quot;:&quot;navigation&quot;,&quot;CHD&quot;:&quot;makes::7&quot;}" data-bbc-title="Make &amp; Colour" data-bbc-source="cbeebies"> <span class="menu__link-icon"></span><span class="menu__link-label">Make &amp; Colour</span> </a> </li>
          <li class="menu__item  menu__item--radio"> <a class="menu__link" href="/cbeebies/radio" data-stats-interaction="navigation" data-stats-interaction-variant="radio" data-bbc-container="Navigation" data-bbc-metadata="{&quot;PAR&quot;:&quot;navigation&quot;,&quot;CHD&quot;:&quot;radio::8&quot;}" data-bbc-title="Radio" data-bbc-source="cbeebies"> <span class="menu__link-icon"></span><span class="menu__link-label">Radio</span> </a> </li>
          <li class="menu__item  menu__item--topics"> <a class="menu__link" href="/cbeebies/topics" data-stats-interaction="navigation" data-stats-interaction-variant="topics" data-bbc-container="Navigation" data-bbc-metadata="{&quot;PAR&quot;:&quot;navigation&quot;,&quot;CHD&quot;:&quot;topics::9&quot;}" data-bbc-title="Topics" data-bbc-source="cbeebies"> <span class="menu__link-icon"></span><span class="menu__link-label">Topics</span> </a> </li> 
         </ul> 
         <div class="menu__search-bar menu__search-bar--open"> 
          <form id="search-bar-in-menu" class="search-bar" role="search" action="//search.bbc.co.uk/search" method="get" accept-charset="utf-8"> <label for="search-bar-input-in-menu" class="search-bar__label vh">Start your search here...</label> 
           <input type="hidden" name="scope" value="cbeebies"> 
           <div class="search-bar__input-area"> 
            <input id="search-bar-input-in-menu" class="search-bar__input" type="text" name="q" placeholder="Start your search here..."> <button class="search-bar__clear" aria-label="Clear Search" type="button" data-stats-interaction="search_bar" data-stats-interaction-variant="clear" data-stats-interaction-action="button"> <i class="search-bar__clear-icon gelicon gelicon--no" aria-hidden="true"></i> </button> 
           </div> <button aria-label="Search" class="search-bar__button"> 
            <div class="search-bar__button-inner"> <span class="search-bar__button-image"></span> 
            </div> </button> 
          </form> 
          <script>
  require(['jquery-1', 'local/utils/config'], function ($, config) {


    function clearSearchOnClick() {
      var $searchBar = $('#search-bar-in-menu');
      var $searchInput = $('#search-bar-input-in-menu');
      var $clearButton = $searchBar.find('.search-bar__clear');

      $clearButton.on('click', function () {
        $searchInput.val("").focus();
        $clearButton.hide();
      });

      function hideOrShowClearButton() {
        var isEmpty = $searchInput.val() === "";
        isEmpty ? $clearButton.hide() : $clearButton.show();
      }

      hideOrShowClearButton();
      $searchInput.on('keyup keypress blur change', hideOrShowClearButton);
    }

    function setNextPageIstatsLabelsOnFormSubmit() {
      var $searchForm = $('#search-bar-in-menu');

      function canSetPerformanceCookies() {
        return config.analyticsReclassificationEnabled || (window.bbccookies
            && window.bbccookies.cookiesEnabled()
            && window.bbccookies.readPolicy('performance'));
      }

      function setNextPageIstatsCookie(labels, domain) {
        var encodedLabels = $.map(labels, function(value, key) {
          return encodeURIComponent(key) + '=' + encodeURIComponent(value);
        });
        var encodedLabelString = encodeURIComponent(encodedLabels.join('&'));
        document.cookie = 'sa_labels=' + encodedLabelString + '; domain=' + domain + '; path=/';
      }

      var $searchButton = $searchForm.find('.search-bar__button');

      function searchButtonIsActive() {
        return document.activeElement === $searchButton[0];
      }

      $searchForm.submit(function () {
        if (canSetPerformanceCookies()) {

          var pageType = $(this).closest('[data-stats-page-type]').attr('data-stats-page-type');
          var submitType = searchButtonIsActive() ? 'button' : 'submit';

          var labels = {
            'intlink_from_url': window.location.href,
            'intlink_ts': new Date().getTime(),
            'intlink_id': 'childrens-local-search-' + submitType,
            'link_location': 'childrens-local-search-' + pageType
          };

          setNextPageIstatsCookie(labels, "bbc." + config.currentTLD);
        }
      });
    }

    clearSearchOnClick();
    setNextPageIstatsLabelsOnFormSubmit();
  });
</script> 
         </div> 
         <div class="menu__close-on-focus" tabindex="0"></div> 
        </div> 
       </div> 
      </div> 
     </nav> 
     <div class="menu__search-bar menu__search-bar--below-menu"> 
      <form id="search-bar-below-menu" class="search-bar" role="search" action="//search.bbc.co.uk/search" method="get" accept-charset="utf-8"> <label for="search-bar-input-below-menu" class="search-bar__label vh">Start your search here...</label> 
       <input type="hidden" name="scope" value="cbeebies"> 
       <div class="search-bar__input-area"> 
        <input id="search-bar-input-below-menu" class="search-bar__input" type="text" name="q" placeholder="Start your search here..."> <button class="search-bar__clear" aria-label="Clear Search" type="button" data-stats-interaction="search_bar" data-stats-interaction-variant="clear" data-stats-interaction-action="button"> <i class="search-bar__clear-icon gelicon gelicon--no" aria-hidden="true"></i> </button> 
       </div> <button aria-label="Search" class="search-bar__button"> 
        <div class="search-bar__button-inner"> <span class="search-bar__button-image"></span> 
        </div> </button> 
      </form> 
      <script>
  require(['jquery-1', 'local/utils/config'], function ($, config) {


    function clearSearchOnClick() {
      var $searchBar = $('#search-bar-below-menu');
      var $searchInput = $('#search-bar-input-below-menu');
      var $clearButton = $searchBar.find('.search-bar__clear');

      $clearButton.on('click', function () {
        $searchInput.val("").focus();
        $clearButton.hide();
      });

      function hideOrShowClearButton() {
        var isEmpty = $searchInput.val() === "";
        isEmpty ? $clearButton.hide() : $clearButton.show();
      }

      hideOrShowClearButton();
      $searchInput.on('keyup keypress blur change', hideOrShowClearButton);
    }

    function setNextPageIstatsLabelsOnFormSubmit() {
      var $searchForm = $('#search-bar-below-menu');

      function canSetPerformanceCookies() {
        return config.analyticsReclassificationEnabled || (window.bbccookies
            && window.bbccookies.cookiesEnabled()
            && window.bbccookies.readPolicy('performance'));
      }

      function setNextPageIstatsCookie(labels, domain) {
        var encodedLabels = $.map(labels, function(value, key) {
          return encodeURIComponent(key) + '=' + encodeURIComponent(value);
        });
        var encodedLabelString = encodeURIComponent(encodedLabels.join('&'));
        document.cookie = 'sa_labels=' + encodedLabelString + '; domain=' + domain + '; path=/';
      }

      var $searchButton = $searchForm.find('.search-bar__button');

      function searchButtonIsActive() {
        return document.activeElement === $searchButton[0];
      }

      $searchForm.submit(function () {
        if (canSetPerformanceCookies()) {

          var pageType = $(this).closest('[data-stats-page-type]').attr('data-stats-page-type');
          var submitType = searchButtonIsActive() ? 'button' : 'submit';

          var labels = {
            'intlink_from_url': window.location.href,
            'intlink_ts': new Date().getTime(),
            'intlink_id': 'childrens-local-search-' + submitType,
            'link_location': 'childrens-local-search-' + pageType
          };

          setNextPageIstatsCookie(labels, "bbc." + config.currentTLD);
        }
      });
    }

    clearSearchOnClick();
    setNextPageIstatsLabelsOnFormSubmit();
  });
</script> 
     </div> 
    </div> 
    <script>
  (function () {

    'use strict';

    var button = document.getElementById('menu-toggle');
    var buttonTitle = document.getElementById('menu-toggle-title');
    var menu = document.getElementById('menu');
    var menuOverlay = document.querySelector('.menu__contents');
    var menuOpen = false;

    function addEvent(name, el, fn) {
      if (el.addEventListener) el.addEventListener(name, fn, false);
      else if (el.attachEvent) el.attachEvent('on' + name, fn);
    }

    function removeClass(el, name) {
      el.className = el.className.replace(new RegExp('(?:^|\\s)' + name + '(?!\\S)'), '');
    }

    function setText(el, text) {
      if (el.textContent) {
        el.textContent = text;
      }
      else {
        el.innerText = text;
      }
    }

    function toggleMenuOpenAndClose(e) {
      e.preventDefault();
      menuOpen = !menuOpen;
      if (menuOpen) {
        removeClass(menu, 'menu--closed');
        menu.className += ' menu--open';
        setText(buttonTitle, 'Close');

        setTimeout(function () {
          button.setAttribute('data-stats-interaction-variant', 'close');
        }, 10);
      } else {
        removeClass(menu, 'menu--open');

        menu.className += ' menu--closed';
        setText(buttonTitle, 'Menu');

        setTimeout(function () {
          button.setAttribute('data-stats-interaction-variant', 'open');
        }, 10);
      }
    }

    function findElements(selector) {
      var elements = document.querySelectorAll(selector);

      return Array.prototype.slice.call(elements);
    }

    var searchBars = findElements('.search-bar__input');

    function searchInputCopyText(e) {
      var text = e.target.value;
      searchBars.forEach(function(searchBar) {
        searchBar.value = text;

        if ("createEvent" in document) {
          var evt = document.createEvent("HTMLEvents");
          evt.initEvent("change", false, true);
          searchBar.dispatchEvent(evt);
        }
      })
    }

    addEvent('click', button, toggleMenuOpenAndClose);

    if (menuOverlay) {
      addEvent('click', menuOverlay, function (e) {
        var clickedOnEmptySpace = e.target === menuOverlay;

        if (clickedOnEmptySpace) {
          toggleMenuOpenAndClose(e);
        }
      });
    }

    var hiddenElementAfterSearchInMenu = document.querySelector('.menu__close-on-focus');

    addEvent('focus', hiddenElementAfterSearchInMenu, function (e) {
      var menuToggle = document.querySelector('.menu__toggle');
      toggleMenuOpenAndClose(e);
      menuToggle.focus();
    });

    searchBars.forEach(function(searchBar) {
      addEvent('blur', searchBar, searchInputCopyText);
    });

  })();

</script> 
    <script>
      (function () {
      var menu = document.getElementById('menu');
      var childrensWrapper = document.querySelector('.childrens-wrapper');
      var anchorOffsetClass = 'childrens-wrapper--anchor-offset';

      function currentVerticalScroll() {
        return document.documentElement.scrollTop || document.body.scrollTop;
      }

      function setupMenuStickyness() {
        var stuckClass = 'menu--stuck';

        function stickingPoint() {
          return childrensWrapper.offsetTop;
        }

        function hasScrolledPastStickingPoint() {
          return currentVerticalScroll() >= stickingPoint();
        }

          function calculateMainContentHeight() {
              var viewportWidth = document.documentElement.clientWidth;
              var mediumBreakpoint = 600;
              var maxContentHeight = 468;
              var contentHeight;

              if (viewportWidth < mediumBreakpoint) {
                  contentHeight = Math.floor(viewportWidth / 16 * 9);
              } else {
                  contentHeight = Math.floor((viewportWidth - 64) / 16 * 9);
              }

              return contentHeight > maxContentHeight ? maxContentHeight : contentHeight;
          }

        function hasEnoughSpaceForMainContent() {
          var viewportHeight = document.documentElement.clientHeight;
          var menuHeight = menu.offsetHeight;

          return viewportHeight > (menuHeight + calculateMainContentHeight());
        }

        function stickElement(elem) {
          elem.classList.add(stuckClass);
        }

        function unstickElement(elem) {
          elem.classList.remove(stuckClass);
        }

        function applyAnchorOffsets() {
          childrensWrapper.classList.add(anchorOffsetClass);
        }

        function unapplyAnchorOffsets() {
          childrensWrapper.classList.remove(anchorOffsetClass);
        }

        function stickOrUnstickMenu() {
          var menuIsStuck = menu.classList.contains(stuckClass);
          var menuIsOpen = menu.classList.contains('menu--open');
          var isSpaceForStickyNav = (hasEnoughSpaceForMainContent() || menuIsOpen); //If the menu is open then assume there is enough space for sticky nav

          if (hasScrolledPastStickingPoint() && isSpaceForStickyNav) {
            if (!menuIsStuck && !menuIsOpen) {
              stickElement(menu);
            }
          } else {
            if (menuIsStuck) {
              unstickElement(menu);
            }
          }
        }

        function applyOrUnapplyAnchorOffsets() {
          if (hasEnoughSpaceForMainContent()) {
            applyAnchorOffsets();
          } else {
            unapplyAnchorOffsets();
          }
        }

        function throttleAndDebounce(fn) {
          var blockFunctionCall = false;
          return function () {
            if (blockFunctionCall) return;

            var self = this;
            blockFunctionCall = true;

            function run() {
              fn.apply(self);
            }

            run();

            setTimeout(function () {
              blockFunctionCall = false;
              run();
            }, 16);
          };

        }

          window.addEventListener('resize', throttleAndDebounce(applyOrUnapplyAnchorOffsets), false);
          window.addEventListener('resize', throttleAndDebounce(stickOrUnstickMenu), false);
          window.addEventListener('scroll', throttleAndDebounce(stickOrUnstickMenu), false);
          window.addEventListener('touchmove', throttleAndDebounce(stickOrUnstickMenu), false);
          document.addEventListener('DOMContentLoaded', stickOrUnstickMenu, false);

          applyOrUnapplyAnchorOffsets();
      }

      setupMenuStickyness();

    })();
  </script> 
    <div class="content-page content-page--has-sidebar" role="main"> <span class="vh" id="main-content">Speedy's Epic Journey Game</span> 
     <div class="content-page__columns-wrapper"> 
      <div class="content-page__columns">
       <!--
        -->
       <div class="content-page__column content-page__column--main"> 
        <section class="content-page__section content-page__section--content-item content-item content-item--game content-item--games"> 
         <div class="content-item__frame"> 
          <section class="content-item__section content-item__primary-content content-item__primary-content--game" itemtype="http://www.schema.org/MediaObject" itemscope> 
           <meta itemprop="name" content="Grace's Amazing Machines - Speedy's Epic Journey Game"> 
           <meta itemprop="description" content="Speedy has raced off to try out an exciting new machine and Grace needs to follow his trail. She must use her expert knowledge in machines on sea, land and air to try to keep up with him! Can you keep up?"> 
           <meta itemprop="typicalAgeRange" content="0-12"> 
           <meta itemprop="datePublished" content="2022-04-04T09:00:00.000Z"> 
           <meta itemprop="url" content="http://www.bbc.co.uk/cbeebies/games/graces-amazing-machines-game-speedys-epic-journey"> 
           <meta itemprop="isFamilyFriendly" content="true"> 
           <meta itemprop="image" content="https://ichef.bbci.co.uk/childrens-responsive-ichef-live/r/720/1x/cbeebies/Graces-Amazing-Machines-game-index2.jpg"> 
           <meta itemprop="thumbnailUrl" content="https://ichef.bbci.co.uk/childrens-responsive-ichef-live/r/720/1x/cbeebies/Graces-Amazing-Machines-game-index2.jpg"> 
           <div class="content-item__section-content"> 
            <div id="game" class="game-embed" data-intention-id="cbeebies-ivor-graces-amazing-machines-minigames" data-stats-children-game-cms="isite">
             <div id="u037955625307000807">
              <div data-reactid=".2aoq7i4gacg" data-react-checksum="953456555">
               <div class="game-wrapper game-wrapper--embed" data-reactid=".2aoq7i4gacg.0">
                <div data-reactid=".2aoq7i4gacg.0.0">
                 <svg width="64" height="64" viewbox="0 0 32 32" class="game-wrapper__loading-spinner" data-reactid=".2aoq7i4gacg.0.0.0">
                  <path d="M29.8 8l-3.5 2c1 1.8 1.6 3.8 1.6 6 0 6.6-5.4 12-12 12S4 22.6 4 16 9.4 4 16 4V0C7.2 0 0 7.2 0 16s7.2 16 16 16 16-7.2 16-16c0-2.9-.8-5.6-2.2-8z" data-reactid=".2aoq7i4gacg.0.0.0.0"></path>
                 </svg>
                 <div class="game-wrapper__cta" data-reactid=".2aoq7i4gacg.0.0.1">
                  <img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-reactid=".2aoq7i4gacg.0.0.1.0"><button type="button" class="game-wrapper__cta-button" data-reactid=".2aoq7i4gacg.0.0.1.1">
                   <div class="game-wrapper__cta-icon" data-reactid=".2aoq7i4gacg.0.0.1.1.0">
                    <svg viewbox="0 0 32 32" data-reactid=".2aoq7i4gacg.0.0.1.1.0.0">
                     <path fill="#fff" d="M8 7.5c-1.9 0-3.5 1.6-3.5 3.5s1.6 3.5 3.5 3.5 3.5-1.6 3.5-3.5S9.9 7.5 8 7.5z" data-reactid=".2aoq7i4gacg.0.0.1.1.0.0.0"></path><path fill="#fff" d="M24 3c-2 0-3.9.8-5.3 2h-5.4C11.9 3.8 10 3 8 3c-4.4 0-8 3.6-8 8v18h6l6-10h8l6 10h6V11c0-4.4-3.6-8-8-8zm0 2c1.1 0 2 .9 2 2s-.9 2-2 2-2-.9-2-2 .9-2 2-2zM8 17c-3.3 0-6-2.7-6-6s2.7-6 6-6 6 2.7 6 6-2.7 6-6 6zm12-4c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2zm4 4c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2zm4-4c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2z" data-reactid=".2aoq7i4gacg.0.0.1.1.0.0.1"></path>
                    </svg>
                   </div></button>
                 </div>
                </div>
               </div>
              </div>
             </div>
            </div> 
            <script>
    require(['jquery-1', 'stats/stats'], function ($, stats) {
        var intentionId = 'gid-cbeebies-ivor-graces-amazing-machines-minigames';
        var statsAttributes = {
            children_interaction_action: 'button',
            children_interaction_type: 'play',
            children_interaction_variant: intentionId
        };
        var clicked = false;
        var $embed = $('#game');

        $embed.on('click', '.game-wrapper__cta', function () {
            if (!clicked) {
                clicked = true;
                stats.recordIntention(intentionId);
                stats.recordInteraction($embed, "click", window.location.pathname, statsAttributes);
            }
        });
    });
</script> 
            <script>
        require(['jquery-1'], function ($) {
            var $embed = $('#game');

            $embed.on('DOMNodeInserted', '.game-wrapper__iframe--fixedsize', function (e) {
                var width = $(e.target).width();
                if($.isNumeric(width) && (width > 0)) {
                    $('.content-page__section.content-item--game').css('max-width', (width + 32) + 'px');
                }
            });
        });
    </script> 
            <noscript> 
             <div class="content-item__js-not-available js-not-available"> 
              <h2 class="js-not-available__title">Oops you can't see this activity!</h2> 
              <p class="js-not-available__text">To enjoy the CBeebies website at its best you will need to have JavaScript turned on.</p> 
              <p class="js-not-available__text">For more help please visit the <a href="/cbeebies/grownups/faqs" class="js-not-available__link">CBeebies Grown-ups FAQ <span class="gel-icon gelicon--next"></span></a></p> 
             </div> 
            </noscript> 
           </div> 
          </section> 
          <div class="content-item__section content-item__section--information"> 
           <div class="content-item__section-content"> 
            <div class="content-item-description"> 
             <div class="reactions-container">
              <div id="u6640433433627035">
               <div class="reactions" data-reactid=".2b4peb1b06w" data-react-checksum="1655540033">
                <div data-reactid=".2b4peb1b06w.0">
                 <div data-reactid=".2b4peb1b06w.0.0">
                  <div class="reactions-module" data-reactid=".2b4peb1b06w.0.0.0">
                   <div class="reactions-sprite-animation-wrapper" data-reactid=".2b4peb1b06w.0.0.0.0">
                    <div class="reactions-sprite-animation reactions-sprite-animation__slide--0" style="left:0;top:0;" data-reactid=".2b4peb1b06w.0.0.0.0.0">
                     <noscript data-reactid=".2b4peb1b06w.0.0.0.0.0.0"></noscript>
                    </div>
                   </div>
                   <div class="reactions-tray" data-reactid=".2b4peb1b06w.0.0.0.1">
                    <div class="reactions-tray__reactions-container reactions-tray__reactions-container--no-animation" data-reactid=".2b4peb1b06w.0.0.0.1.0">
                     <ul class="gs-c-reactions" data-reactid=".2b4peb1b06w.0.0.0.1.0.0">
                      <div class="reactions-list" data-reactid=".2b4peb1b06w.0.0.0.1.0.0.0">
                       <li data-reactid=".2b4peb1b06w.0.0.0.1.0.0.0.$0"><button class="gs-c-reaction reaction-button" aria-pressed="false" aria-labelledby="reaction-label-text--loved-childrens-reactions-urn:bbc:isite2:file_id:childrensgames:cbeebies-ivor-graces-amazing-machines-minigames reaction-count-text--loved-childrens-reactions-urn:bbc:isite2:file_id:childrensgames:cbeebies-ivor-graces-amazing-machines-minigames" data-reactid=".2b4peb1b06w.0.0.0.1.0.0.0.$0.0"><span class="gel-icon reaction-icon reaction-icon-loved" data-reactid=".2b4peb1b06w.0.0.0.1.0.0.0.$0.0.0">
                          <svg data-name="Layer 1" viewbox="0 0 72 72" data-reactid=".2b4peb1b06w.0.0.0.1.0.0.0.$0.0.0.0">
                           <path d="M13.54 49.73A31.54 31.54 0 0 1 6 30c0-2.08-.06-10.46 6.55-16.17a14.48 14.48 0 0 1 9.1-3.46c7.39 0 11.7 3.42 14.34 8.12 2.64-4.69 7-8.13 14.34-8.12a14.48 14.48 0 0 1 9.1 3.46C66.06 19.54 66 27.93 66 30a31.54 31.54 0 0 1-7.54 19.73C51.28 58.48 36 61.63 36 61.63s-15.28-3.15-22.46-11.9z" fill="#e63f23" data-reactid=".2b4peb1b06w.0.0.0.1.0.0.0.$0.0.0.0.0"></path><path d="M17.06 16.8C14.9 18.15 14 20.51 15 22.08s3.56 1.75 5.73.4 3.11-3.71 2.11-5.28-3.61-1.75-5.78-.4z" fill="#ee7966" data-reactid=".2b4peb1b06w.0.0.0.1.0.0.0.$0.0.0.0.1"></path>
                          </svg></span><span id="reaction-label-text--loved-childrens-reactions-urn:bbc:isite2:file_id:childrensgames:cbeebies-ivor-graces-amazing-machines-minigames" class="reaction-label" aria-label="Reaction type Love," data-reactid=".2b4peb1b06w.0.0.0.1.0.0.0.$0.0.1">Love</span><span id="reaction-count-text--loved-childrens-reactions-urn:bbc:isite2:file_id:childrensgames:cbeebies-ivor-graces-amazing-machines-minigames" class="reaction-count" aria-label="Total number of Loves 106" data-reactid=".2b4peb1b06w.0.0.0.1.0.0.0.$0.0.2">106</span>
                         <div class="reaction-focus-line" data-reactid=".2b4peb1b06w.0.0.0.1.0.0.0.$0.0.3"></div></button></li>
                       <li data-reactid=".2b4peb1b06w.0.0.0.1.0.0.0.$1"><button class="gs-c-reaction reaction-button" aria-pressed="false" aria-labelledby="reaction-label-text--lol-childrens-reactions-urn:bbc:isite2:file_id:childrensgames:cbeebies-ivor-graces-amazing-machines-minigames reaction-count-text--lol-childrens-reactions-urn:bbc:isite2:file_id:childrensgames:cbeebies-ivor-graces-amazing-machines-minigames" data-reactid=".2b4peb1b06w.0.0.0.1.0.0.0.$1.0"><span class="gel-icon reaction-icon reaction-icon-lol" data-reactid=".2b4peb1b06w.0.0.0.1.0.0.0.$1.0.0">
                          <svg data-name="Layer 1" viewbox="0 0 72 72" data-reactid=".2b4peb1b06w.0.0.0.1.0.0.0.$1.0.0.0">
                           <path d="M33.34 6.12A30 30 0 1 1 6.12 38.66 30 30 0 0 1 33.34 6.12" fill="#ffd201" data-reactid=".2b4peb1b06w.0.0.0.1.0.0.0.$1.0.0.0.0"></path><path d="M55.14 37.21a19.14 19.14 0 1 1-38.29-.16" fill="#2b2b2b" data-reactid=".2b4peb1b06w.0.0.0.1.0.0.0.$1.0.0.0.1"></path><path d="M25.56 53.17a11.22 11.22 0 0 1 20.75.07" fill="#a75916" data-reactid=".2b4peb1b06w.0.0.0.1.0.0.0.$1.0.0.0.2"></path><path d="M35.95 46.29a11.24 11.24 0 0 0-10.41 6.91 19.23 19.23 0 0 0 10.36 3.11 18.78 18.78 0 0 0 10.39-3 11.1 11.1 0 0 0-10.34-7" fill="#e63f23" data-reactid=".2b4peb1b06w.0.0.0.1.0.0.0.$1.0.0.0.3"></path><path d="M21.36 20.41l10.76 3.91a1.27 1.27 0 0 1 0 2.4l-10.75 3.81a1 1 0 0 1-.69-1.78l7.7-3.25-7.69-3.39a.92.92 0 0 1 .68-1.7M51.32 22.11l-7.7 3.38 7.71 3.25a1 1 0 0 1-.69 1.78l-10.74-3.8a1.27 1.27 0 0 1 0-2.4l10.76-3.91a.92.92 0 0 1 .68 1.7" fill="#2b2b2b" data-reactid=".2b4peb1b06w.0.0.0.1.0.0.0.$1.0.0.0.4"></path>
                          </svg></span><span id="reaction-label-text--lol-childrens-reactions-urn:bbc:isite2:file_id:childrensgames:cbeebies-ivor-graces-amazing-machines-minigames" class="reaction-label" aria-label="Reaction type Funny," data-reactid=".2b4peb1b06w.0.0.0.1.0.0.0.$1.0.1">Funny</span><span id="reaction-count-text--lol-childrens-reactions-urn:bbc:isite2:file_id:childrensgames:cbeebies-ivor-graces-amazing-machines-minigames" class="reaction-count" aria-label="Total number of Funnys 21" data-reactid=".2b4peb1b06w.0.0.0.1.0.0.0.$1.0.2">21</span>
                         <div class="reaction-focus-line" data-reactid=".2b4peb1b06w.0.0.0.1.0.0.0.$1.0.3"></div></button></li>
                       <li data-reactid=".2b4peb1b06w.0.0.0.1.0.0.0.$2"><button class="gs-c-reaction reaction-button" aria-pressed="false" aria-labelledby="reaction-label-text--applause-childrens-reactions-urn:bbc:isite2:file_id:childrensgames:cbeebies-ivor-graces-amazing-machines-minigames reaction-count-text--applause-childrens-reactions-urn:bbc:isite2:file_id:childrensgames:cbeebies-ivor-graces-amazing-machines-minigames" data-reactid=".2b4peb1b06w.0.0.0.1.0.0.0.$2.0"><span class="gel-icon reaction-icon reaction-icon-applause" data-reactid=".2b4peb1b06w.0.0.0.1.0.0.0.$2.0.0">
                          <svg data-name="Layer 1" viewbox="0 0 72 72" data-reactid=".2b4peb1b06w.0.0.0.1.0.0.0.$2.0.0.0">
                           <path d="M52.43 11.33l4.12-7.71a1.09 1.09 0 0 1 1.87 1.09l-4.12 7.71a1.09 1.09 0 0 1-1.87-1.09M43.75 3a1 1 0 0 1 1.79.25l1.23 5.28a1 1 0 0 1-1.89.47l-1.23-5.27a1 1 0 0 1 .1-.74M15.59 11.1l-.7-8.71a1.09 1.09 0 0 1 2.17-.09l.7 8.71a1.09 1.09 0 0 1-2.17.09M3.78 8.77A1 1 0 0 1 5.41 8l3.89 3.79A1 1 0 1 1 8 13.23L4.09 9.45a1 1 0 0 1-.31-.68" fill="#2b2b2b" data-reactid=".2b4peb1b06w.0.0.0.1.0.0.0.$2.0.0.0.0"></path><path d="M57.24 56.4c5-7.08 4.75-10.71 2.84-16.46-.37-1.12-.91-2.56-1.4-3.67a96 96 0 0 0-5.2-10.15l-3.54-7.32a4 4 0 0 0-4-2.23 3.72 3.72 0 0 0-2.6 1.36 4.29 4.29 0 0 0-.49 4.61l4 8.31L24 15.42a4 4 0 0 0-5.52 1l-.05.06c-1.55 2.09-.06 4.44.18 4.74l-4.06-2.74-.42-.28a4 4 0 0 0-5.56 1 3.86 3.86 0 0 0-.1 4.12 4.1 4.1 0 0 0 1.25 1.35L13 27.54c-1.84-1.24-4.92-1.62-6.38.54A3.86 3.86 0 0 0 7.8 33.5l5.65 4.66c-1.9-1.29-4.4-1.34-5.6.7a3.79 3.79 0 0 0 1.28 5s18.1 13.05 23.78 16.56c6.15 3.8 8.78 4.25 13.83 3.69 4.27-.47 7-2.71 10.5-7.72" fill="#9f8214" data-reactid=".2b4peb1b06w.0.0.0.1.0.0.0.$2.0.0.0.1"></path><path d="M64.75 41.35c-.34-1.13-.83-2.57-1.29-3.68-1.46-3.59-8.23-17.6-8.23-17.6a4 4 0 0 0-3.92-2.32 3.72 3.72 0 0 0-2.79 1.49 4.29 4.29 0 0 0-.44 4.39l3.27 7.23a.33.33 0 0 1-.49.4L29.57 16a4 4 0 0 0-5.51.86l-.06.06a2.53 2.53 0 0 0-.65 2 2.13 2.13 0 0 0 1 1.67l.48.37L39.64 32a.53.53 0 0 1 .13.72.48.48 0 0 1-.41.2.54.54 0 0 1-.31-.11L22.64 20.63l-2.55-1.81-.34-.25a4.06 4.06 0 0 0-5.68.88 3.45 3.45 0 0 0-.16 3.79 17.84 17.84 0 0 0 2.3 2.17l2.1 1.59 18.37 13.18a.53.53 0 0 1 .13.72.48.48 0 0 1-.41.2.54.54 0 0 1-.3-.1L17.21 27.41a4 4 0 0 0-2.55-.72 3.49 3.49 0 0 0-2.72 1.45 3.83 3.83 0 0 0 1 5.42l5 3.7 14.18 10.12a.53.53 0 0 1 .13.72.48.48 0 0 1-.41.2.54.54 0 0 1-.31-.11l-14-10-.25-.19-.54-.37c-1.93-.94-3.73-.74-4.73 1s.38 4 1.1 4.51c0 0 18.53 14.21 24.09 17.86 6 3.95 8.62 4.45 13.64 4 4.25-.36 7-2.51 10.65-7.39 5.13-6.88 5.01-10.5 3.26-16.26z" fill="#ffd201" data-reactid=".2b4peb1b06w.0.0.0.1.0.0.0.$2.0.0.0.2"></path>
                          </svg></span><span id="reaction-label-text--applause-childrens-reactions-urn:bbc:isite2:file_id:childrensgames:cbeebies-ivor-graces-amazing-machines-minigames" class="reaction-label" aria-label="Reaction type Clap," data-reactid=".2b4peb1b06w.0.0.0.1.0.0.0.$2.0.1">Clap</span><span id="reaction-count-text--applause-childrens-reactions-urn:bbc:isite2:file_id:childrensgames:cbeebies-ivor-graces-amazing-machines-minigames" class="reaction-count" aria-label="Total number of Claps 27" data-reactid=".2b4peb1b06w.0.0.0.1.0.0.0.$2.0.2">27</span>
                         <div class="reaction-focus-line" data-reactid=".2b4peb1b06w.0.0.0.1.0.0.0.$2.0.3"></div></button></li>
                       <li data-reactid=".2b4peb1b06w.0.0.0.1.0.0.0.$3"><button class="gs-c-reaction reaction-button" aria-pressed="false" aria-labelledby="reaction-label-text--inspired-childrens-reactions-urn:bbc:isite2:file_id:childrensgames:cbeebies-ivor-graces-amazing-machines-minigames reaction-count-text--inspired-childrens-reactions-urn:bbc:isite2:file_id:childrensgames:cbeebies-ivor-graces-amazing-machines-minigames" data-reactid=".2b4peb1b06w.0.0.0.1.0.0.0.$3.0"><span class="gel-icon reaction-icon reaction-icon-inspired" data-reactid=".2b4peb1b06w.0.0.0.1.0.0.0.$3.0.0">
                          <svg data-name="Layer 1" viewbox="0 0 72 72" data-reactid=".2b4peb1b06w.0.0.0.1.0.0.0.$3.0.0.0">
                           <circle cx="36" cy="36" r="30" fill="#ffd201" data-reactid=".2b4peb1b06w.0.0.0.1.0.0.0.$3.0.0.0.0"></circle><path d="M35.9 14.3a.82.82 0 0 1-.82-.82V9.7a.82.82 0 0 1 1.65 0v3.78a.82.82 0 0 1-.83.82zM61.42 36.51h-3.78a.82.82 0 0 1 0-1.65h3.78a.82.82 0 1 1 0 1.65zM14.16 36.51h-3.78a.82.82 0 1 1 0-1.65h3.78a.82.82 0 0 1 0 1.65zM51.28 20.67a.82.82 0 0 1-.58-1.4l2.67-2.67a.82.82 0 0 1 1.16 1.16l-2.67 2.67a.82.82 0 0 1-.58.24zM20.53 20.67a.82.82 0 0 1-.58-.24l-2.67-2.67a.82.82 0 1 1 1.16-1.16l2.67 2.67a.82.82 0 0 1-.58 1.4zM44 15.87a.82.82 0 0 1-.76-1.13l1.41-3.5a.82.82 0 0 1 1.53.61l-1.41 3.5a.82.82 0 0 1-.77.52zM59.57 46a.82.82 0 0 1-.31-.06l-3.5-1.41a.82.82 0 1 1 .62-1.53l3.5 1.41a.82.82 0 0 1-.31 1.59zM15.74 28.39a.82.82 0 0 1-.31-.06l-3.5-1.41a.82.82 0 0 1 .61-1.53L16 26.8a.82.82 0 0 1-.31 1.59zM55.91 28a.82.82 0 0 1-.32-1.58l3.48-1.48a.82.82 0 0 1 .64 1.51l-3.48 1.48a.82.82 0 0 1-.32.07zM12.43 46.51a.82.82 0 0 1-.32-1.58l3.48-1.48a.82.82 0 1 1 .63 1.55l-3.48 1.48a.82.82 0 0 1-.31.03zM27.39 16a.82.82 0 0 1-.76-.5l-1.48-3.48a.82.82 0 0 1 1.51-.64l1.48 3.48a.82.82 0 0 1-.75 1.14zM29.39 48.81c0-2.53-1.63-4.9-3.47-6.63a13.68 13.68 0 0 1 3.68-22.52c9.92-4.66 20.67 2.71 20.67 12.41a13.83 13.83 0 0 1-5.79 11.26 5 5 0 0 0-2.1 4.1v1.39a17 17 0 0 1-5.83 1.34 23.78 23.78 0 0 1-7.16-1.35z" fill="#fff" data-reactid=".2b4peb1b06w.0.0.0.1.0.0.0.$3.0.0.0.1"></path><path d="M29.42 48.71v4.8a8.05 8.05 0 0 0 2.33 1.09l.07.18a4.09 4.09 0 1 0 8.17 0v-.06a2.42 2.42 0 0 0 .11-.29 21.91 21.91 0 0 0 2.3-.79v-5.13s-4.92 3.49-12.98.2z" fill="#d3145b" data-reactid=".2b4peb1b06w.0.0.0.1.0.0.0.$3.0.0.0.2"></path>
                          </svg></span><span id="reaction-label-text--inspired-childrens-reactions-urn:bbc:isite2:file_id:childrensgames:cbeebies-ivor-graces-amazing-machines-minigames" class="reaction-label" aria-label="Reaction type Got It!," data-reactid=".2b4peb1b06w.0.0.0.1.0.0.0.$3.0.1">Got It!</span><span id="reaction-count-text--inspired-childrens-reactions-urn:bbc:isite2:file_id:childrensgames:cbeebies-ivor-graces-amazing-machines-minigames" class="reaction-count" aria-label="Total number of Got Its 23" data-reactid=".2b4peb1b06w.0.0.0.1.0.0.0.$3.0.2">23</span>
                         <div class="reaction-focus-line" data-reactid=".2b4peb1b06w.0.0.0.1.0.0.0.$3.0.3"></div></button></li>
                       <li data-reactid=".2b4peb1b06w.0.0.0.1.0.0.0.$4"><button class="gs-c-reaction reaction-button" aria-pressed="false" aria-labelledby="reaction-label-text--omd-childrens-reactions-urn:bbc:isite2:file_id:childrensgames:cbeebies-ivor-graces-amazing-machines-minigames reaction-count-text--omd-childrens-reactions-urn:bbc:isite2:file_id:childrensgames:cbeebies-ivor-graces-amazing-machines-minigames" data-reactid=".2b4peb1b06w.0.0.0.1.0.0.0.$4.0"><span class="gel-icon reaction-icon reaction-icon-omd" data-reactid=".2b4peb1b06w.0.0.0.1.0.0.0.$4.0.0">
                          <svg data-name="Layer 1" viewbox="0 0 72 72" data-reactid=".2b4peb1b06w.0.0.0.1.0.0.0.$4.0.0.0">
                           <circle cx="35.91" cy="35.72" r="30" fill="#ffd201" data-reactid=".2b4peb1b06w.0.0.0.1.0.0.0.$4.0.0.0.0"></circle><ellipse cx="25.73" cy="29.22" rx="3.85" ry="4.98" fill="#2b2b2b" data-reactid=".2b4peb1b06w.0.0.0.1.0.0.0.$4.0.0.0.1"></ellipse><ellipse cx="46.27" cy="29.22" rx="3.85" ry="4.98" fill="#2b2b2b" data-reactid=".2b4peb1b06w.0.0.0.1.0.0.0.$4.0.0.0.2"></ellipse><path d="M13.57 26.32v-.1c0-.37.06-.73.11-1.1s.17-.72.27-1.08.26-.71.41-1a10.55 10.55 0 0 1 .54-1 9.46 9.46 0 0 1 .65-.93 9.27 9.27 0 0 1 .75-.86 9.86 9.86 0 0 1 .84-.77A11.39 11.39 0 0 1 19 18.14a9.62 9.62 0 0 1 1-.49 9 9 0 0 1 1.06-.38 11.43 11.43 0 0 1 2.19-.45c.37 0 .74-.07 1.11-.07s.74 0 1.11.05.73.1 1.09.18c-.35.14-.69.25-1 .35l-1 .35c-.33.1-.66.24-1 .36s-.64.26-1 .39-.62.28-.93.42-.6.3-.9.45-.58.32-.87.49a9.58 9.58 0 0 0-.84.53 9.62 9.62 0 0 0-.81.57c-.28.18-.51.41-.77.62s-.48.45-.74.66-.46.48-.7.71-.44.51-.67.76-.42.54-.63.81-.39.57-.6.86-.37.6-.59.91zM58.27 26.32v-.1c-.21-.31-.4-.61-.59-.91s-.4-.58-.6-.86-.41-.55-.63-.81-.43-.52-.67-.76-.45-.49-.7-.71-.47-.47-.74-.66-.5-.43-.77-.62a9.61 9.61 0 0 0-.81-.57 9.58 9.58 0 0 0-.84-.53c-.28-.17-.57-.34-.87-.49s-.59-.32-.9-.45-.61-.3-.93-.42-.63-.28-1-.39-.64-.26-1-.36l-1-.35c-.34-.11-.69-.22-1-.35.36-.08.72-.13 1.09-.18s.73 0 1.11-.05.74 0 1.11.07a11.43 11.43 0 0 1 2.19.45 9 9 0 0 1 1.06.38 9.62 9.62 0 0 1 1 .49 11.39 11.39 0 0 1 1.89 1.27 9.86 9.86 0 0 1 .84.77 9.28 9.28 0 0 1 .75.86A9.45 9.45 0 0 1 57 22a10.54 10.54 0 0 1 .54 1c.16.34.28.7.41 1s.19.73.27 1.08.09.74.11 1.1z" fill="#9f8214" data-reactid=".2b4peb1b06w.0.0.0.1.0.0.0.$4.0.0.0.3"></path><path d="M35.55 56.89a14.47 14.47 0 0 1-14.42-14.53 29 29 0 0 1 14.54-4.26h.66a29 29 0 0 1 14.54 4.26 14.47 14.47 0 0 1-14.42 14.53z" fill="#2b2b2b" data-reactid=".2b4peb1b06w.0.0.0.1.0.0.0.$4.0.0.0.4"></path><path d="M28.43 55a14.31 14.31 0 0 0 7.11 2h.91a14.31 14.31 0 0 0 7.11-2A9 9 0 0 0 36 51.41 9 9 0 0 0 28.43 55z" fill="#e63f23" data-reactid=".2b4peb1b06w.0.0.0.1.0.0.0.$4.0.0.0.5"></path>
                          </svg></span><span id="reaction-label-text--omd-childrens-reactions-urn:bbc:isite2:file_id:childrensgames:cbeebies-ivor-graces-amazing-machines-minigames" class="reaction-label" aria-label="Reaction type Wow," data-reactid=".2b4peb1b06w.0.0.0.1.0.0.0.$4.0.1">Wow</span><span id="reaction-count-text--omd-childrens-reactions-urn:bbc:isite2:file_id:childrensgames:cbeebies-ivor-graces-amazing-machines-minigames" class="reaction-count" aria-label="Total number of Wows 28" data-reactid=".2b4peb1b06w.0.0.0.1.0.0.0.$4.0.2">28</span>
                         <div class="reaction-focus-line" data-reactid=".2b4peb1b06w.0.0.0.1.0.0.0.$4.0.3"></div></button></li>
                       <li data-reactid=".2b4peb1b06w.0.0.0.1.0.0.0.$5"><button class="gs-c-reaction reaction-button" aria-pressed="false" aria-labelledby="reaction-label-text--sad-childrens-reactions-urn:bbc:isite2:file_id:childrensgames:cbeebies-ivor-graces-amazing-machines-minigames reaction-count-text--sad-childrens-reactions-urn:bbc:isite2:file_id:childrensgames:cbeebies-ivor-graces-amazing-machines-minigames" data-reactid=".2b4peb1b06w.0.0.0.1.0.0.0.$5.0"><span class="gel-icon reaction-icon reaction-icon-sad" data-reactid=".2b4peb1b06w.0.0.0.1.0.0.0.$5.0.0">
                          <svg data-name="Layer 1" viewbox="0 0 72 72" data-reactid=".2b4peb1b06w.0.0.0.1.0.0.0.$5.0.0.0">
                           <circle cx="36" cy="36" r="30" transform="rotate(-5.1 35.96834013 36.0247667)" fill="#ffd201" data-reactid=".2b4peb1b06w.0.0.0.1.0.0.0.$5.0.0.0.0"></circle><path d="M15 40.42c1.16-2.66 8.18-5.59 8.18-5.59s2.59 7.17 1.42 9.79a5.26 5.26 0 0 1-9.6-4.2z" fill="#269dc8" data-reactid=".2b4peb1b06w.0.0.0.1.0.0.0.$5.0.0.0.1"></path><path d="M25.81 53.82a1 1 0 0 1-.81-1.55A14.14 14.14 0 0 1 36.35 46a14.1 14.1 0 0 1 11.16 6A1 1 0 1 1 46 53.2a12 12 0 0 0-9.65-5.2 12.22 12.22 0 0 0-9.76 5.44 1 1 0 0 1-.78.38zM26.26 36A6.91 6.91 0 0 1 20 32.2a1.17 1.17 0 1 1 2.1-1 4.6 4.6 0 0 0 8.23 0 1.17 1.17 0 1 1 2.09 1.05A6.91 6.91 0 0 1 26.26 36zM45.36 36a6.91 6.91 0 0 1-6.21-3.84 1.17 1.17 0 1 1 2.1-1 4.6 4.6 0 0 0 8.23 0 1.17 1.17 0 1 1 2.09 1.05A6.91 6.91 0 0 1 45.36 36z" fill="#2b2b2b" data-reactid=".2b4peb1b06w.0.0.0.1.0.0.0.$5.0.0.0.2"></path>
                          </svg></span><span id="reaction-label-text--sad-childrens-reactions-urn:bbc:isite2:file_id:childrensgames:cbeebies-ivor-graces-amazing-machines-minigames" class="reaction-label" aria-label="Reaction type Sad," data-reactid=".2b4peb1b06w.0.0.0.1.0.0.0.$5.0.1">Sad</span><span id="reaction-count-text--sad-childrens-reactions-urn:bbc:isite2:file_id:childrensgames:cbeebies-ivor-graces-amazing-machines-minigames" class="reaction-count" aria-label="Total number of Sads 129" data-reactid=".2b4peb1b06w.0.0.0.1.0.0.0.$5.0.2">129</span>
                         <div class="reaction-focus-line" data-reactid=".2b4peb1b06w.0.0.0.1.0.0.0.$5.0.3"></div></button></li>
                      </div>
                     </ul>
                     <div class="reactions-tray__reactive-prompt" data-reactid=".2b4peb1b06w.0.0.0.1.0.1">
                      Press and hold for more...
                     </div>
                    </div>
                   </div><button class="reactions-cta" aria-pressed="false" aria-label="Reactions. Show Reactions. Total number of reactions: 334" data-reactid=".2b4peb1b06w.0.0.0.4">
                    <div class="reactions-cta-image" data-reactid=".2b4peb1b06w.0.0.0.4.0">
                     <span data-reactid=".2b4peb1b06w.0.0.0.4.0.0"><span class="cta-icon cta-cbeebies-icon" data-reactid=".2b4peb1b06w.0.0.0.4.0.0.0">
                       <svg viewbox="0 0 76 68" data-reactid=".2b4peb1b06w.0.0.0.4.0.0.0.0">
                        <defs data-reactid=".2b4peb1b06w.0.0.0.4.0.0.0.0.0">
                         <clippath id="a" data-reactid=".2b4peb1b06w.0.0.0.4.0.0.0.0.0.0">
                          <path d="M16.26 38.31a9.6 9.6 0 0 1-6.72-11.8 19.21 19.21 0 0 1 10-.22l.42.11a19.21 19.21 0 0 1 8.57 5.24 9.6 9.6 0 0 1-11.74 6.82z" fill="#2b2b2b" data-reactid=".2b4peb1b06w.0.0.0.4.0.0.0.0.0.0.0"></path>
                         </clippath>
                        </defs><circle cx="20.16" cy="25.01" r="19.9" transform="rotate(-80 20.16 25.01)" fill="#efc203" data-reactid=".2b4peb1b06w.0.0.0.4.0.0.0.0.1"></circle><ellipse cx="14.75" cy="18.89" rx="3.3" ry="2.55" transform="rotate(-74.9 14.757 18.895)" fill="#2b2b2b" data-reactid=".2b4peb1b06w.0.0.0.4.0.0.0.0.2"></ellipse><ellipse cx="27.9" cy="22.44" rx="3.3" ry="2.55" transform="rotate(-74.9 27.908 22.442)" fill="#2b2b2b" data-reactid=".2b4peb1b06w.0.0.0.4.0.0.0.0.3"></ellipse><path d="M7.46 14.93v-.07c.08-.23.16-.46.26-.69s.23-.43.36-.65.29-.41.45-.6a7 7 0 0 1 .52-.55 6.27 6.27 0 0 1 .58-.48 6.15 6.15 0 0 1 .63-.42 6.54 6.54 0 0 1 .67-.35 7.55 7.55 0 0 1 1.43-.48 6.38 6.38 0 0 1 .74-.13 6 6 0 0 1 .75-.06 6 6 0 0 1 .75 0 6 6 0 0 1 .74.08c.24.05.49.08.72.15s.47.13.7.22.45.19.67.3h-.72l-.7.05c-.23 0-.46 0-.69.06s-.45.06-.68.08-.44.07-.66.11-.44.09-.65.13-.43.1-.64.16a6.35 6.35 0 0 0-.63.19 6.38 6.38 0 0 0-.62.23c-.21.07-.4.17-.6.26s-.39.2-.59.3-.38.23-.57.33-.37.25-.56.37-.36.27-.54.41L8 14.4c-.17.16-.34.32-.53.48zM36.09 22.66v-.07c-.08-.23-.15-.46-.22-.68s-.15-.44-.24-.65-.17-.42-.27-.63-.19-.41-.3-.6-.2-.39-.33-.58-.22-.38-.36-.55-.24-.36-.39-.53a6.38 6.38 0 0 0-.42-.51 6.35 6.35 0 0 0-.45-.48c-.15-.16-.3-.32-.47-.46s-.32-.3-.5-.44-.34-.3-.52-.43-.35-.29-.54-.41-.37-.28-.56-.4l-.58-.4c-.2-.13-.4-.26-.6-.4.24 0 .49 0 .73.07s.48.11.72.16.46.16.7.23a7.58 7.58 0 0 1 1.33.67 6 6 0 0 1 .62.43 6.38 6.38 0 0 1 .57.49 7.55 7.55 0 0 1 1 1.14 6.54 6.54 0 0 1 .41.64 6.15 6.15 0 0 1 .33.68 6.27 6.27 0 0 1 .26.71 7 7 0 0 1 .17.73c0 .25.06.5.08.74s0 .5 0 .74-.07.49-.12.73z" fill="#9f8214" data-reactid=".2b4peb1b06w.0.0.0.4.0.0.0.0.4"></path><path d="M16.26 38.31a9.6 9.6 0 0 1-6.72-11.8 19.21 19.21 0 0 1 10-.22l.42.11a19.21 19.21 0 0 1 8.57 5.24 9.6 9.6 0 0 1-11.74 6.82z" fill="#2b2b2b" data-reactid=".2b4peb1b06w.0.0.0.4.0.0.0.0.5"></path><g clip-path="url(#a)" data-reactid=".2b4peb1b06w.0.0.0.4.0.0.0.0.6">
                         <ellipse cx="16.36" cy="39.1" rx="4.41" ry="5.64" transform="rotate(-74.9 16.361 39.1)" fill="#e63f23" data-reactid=".2b4peb1b06w.0.0.0.4.0.0.0.0.6.0"></ellipse>
                        </g><path d="M50.54 34.94A20.35 20.35 0 0 1 40 26.27c-.66-1.16-3.36-5.85-1.47-11.16a9.34 9.34 0 0 1 4-4.83 9.8 9.8 0 0 1 10.63 0 9.8 9.8 0 0 1 5.47-9.12 9.34 9.34 0 0 1 6.21-1c5.53 1.1 8.16 5.83 8.82 7a20.35 20.35 0 0 1 2 13.47c-1.25 7.19-8.81 13.81-8.81 13.81s-9.5 3.12-16.31.5z" fill="#e63f23" data-reactid=".2b4peb1b06w.0.0.0.4.0.0.0.0.7"></path><path d="M42 15.34c-.79 1.44-.56 3.07.5 3.63s2.56-.15 3.34-1.6.56-3.07-.5-3.63-2.51.15-3.34 1.6z" fill="#ee7966" data-reactid=".2b4peb1b06w.0.0.0.4.0.0.0.0.8"></path><circle cx="42.08" cy="45.81" r="22.09" transform="matrix(.17 -.98 .98 .17 -10.35 79.3)" fill="#ffd201" data-reactid=".2b4peb1b06w.0.0.0.4.0.0.0.0.9"></circle><path d="M55.66 49a14.07 14.07 0 0 1-27.69-5" fill="#2b2b2b" data-reactid=".2b4peb1b06w.0.0.0.4.0.0.0.0.a"></path><path d="M32.21 56.72a8.24 8.24 0 0 1 15 2.7" fill="#a75916" data-reactid=".2b4peb1b06w.0.0.0.4.0.0.0.0.b"></path><path d="M40.6 53.07a8.26 8.26 0 0 0-8.42 3.68 14.13 14.13 0 0 0 7.1 3.57 13.8 13.8 0 0 0 7.91-.87 8.15 8.15 0 0 0-6.59-6.38z" fill="#e63f23" data-reactid=".2b4peb1b06w.0.0.0.4.0.0.0.0.c"></path><path d="M53.22 43.65l-7.29-4.21a.94.94 0 0 1 .31-1.73l8.26-1.39a.7.7 0 0 1 .27 1.38l-6 1.37 5.13 3.43a.67.67 0 0 1-.71 1.15zM33.35 32.47l7.29 4.21a.94.94 0 0 1-.31 1.73l-8.27 1.39a.7.7 0 0 1-.27-1.38l6-1.37-5.13-3.43a.67.67 0 0 1 .71-1.15z" fill="#2b2b2b" data-reactid=".2b4peb1b06w.0.0.0.4.0.0.0.0.d"></path>
                       </svg></span><span class="reactions-count-container" data-reactid=".2b4peb1b06w.0.0.0.4.0.0.1"><span class="reactions-count-container__count-text" data-reactid=".2b4peb1b06w.0.0.0.4.0.0.1.0">334</span></span></span>
                     <div class="cta-arrow-icon" data-reactid=".2b4peb1b06w.0.0.0.4.0.1">
                      <svg height="15" width="20" viewbox="0 0 20 15" data-reactid=".2b4peb1b06w.0.0.0.4.0.1.0">
                       <path fill="#db63d9" d="M18.5 4.7l-2.8-2.9L10 7.5 4.3 1.8 1.5 4.7l8.5 8.5z" data-reactid=".2b4peb1b06w.0.0.0.4.0.1.0.0"></path>
                      </svg>
                     </div>
                    </div></button>
                  </div>
                 </div>
                </div>
               </div>
              </div>
             </div> 
             <div class="button-list-container button-list-container--above-description"> 
              <ul class="button-list">
               <!--
  
  
-->
              </ul> 
             </div> 
             <div class="content-item-description__text-container"> <a class="content-item-description__brand-link" href="/cbeebies/shows/graces-amazing-machines" title="Grace's Amazing Machines" data-stats-interaction="show_oj" data-stats-interaction-variant="text_link"> <span class="content-item-description__brand-name">All Grace's Amazing Machines</span> <span class="gelicon gelicon--next"></span> </a> 
              <h1 class="content-item-description__heading"><span class="vh">Grace's Amazing Machines - </span>Speedy's Epic Journey Game</h1> 
              <p class="content-item-description__description">Speedy has raced off to try out an exciting new machine and Grace needs to follow his trail. She must use her expert knowledge in machines on sea, land and air to try to keep up with him! Can you keep up?</p> 
             </div> 
            </div> 
            <div class="button-list-container button-list-container--below-description"> 
             <ul class="button-list">
              <!--
  
  
-->
             </ul> 
            </div> 
           </div> 
          </div> 
          <section class="content-item__section content-page__section--brand-onward-journey-footer brand-onward-journey--top"> 
           <div class="brand-journey-card"> 
            <div class="brand-journey-card__inner"> 
             <div class="brand-journey-card__body-container"> 
              <div class="brand-journey-card__title-container"> <a class="brand-journey-card__title-link" href="/cbeebies/shows/graces-amazing-machines" data-stats-interaction="show_oj" data-stats-interaction-variant="panel"> <h3 class="brand-journey-card__title">Grace's Amazing Machines</h3> </a> 
              </div> 
              <div class="brand-journey-card__image-container"> <a class="brand-journey-card__image-link" href="/cbeebies/shows/graces-amazing-machines" data-stats-interaction="show_oj" data-stats-interaction-variant="panel"> <span class="responsive-img responsive-img--5x6 brand-journey-card__image"> <span class="delayed-png-image-load" data-src="https://ichef.bbci.co.uk/childrens-responsive-ichef-live/r/{width}/{pixel_ratio}x/cbeebies/graces-amazing-machines-onward-journey-v3.png" data-alt="Grace's Amazing Machines"></span> 
                 <noscript> 
                  <img src="https://ichef.bbci.co.uk/childrens-responsive-ichef-live/r/400/1x/cbeebies/graces-amazing-machines-onward-journey-v3.png" alt="Grace's Amazing Machines"> 
                 </noscript> </span> </a> 
              </div> 
              <div class="brand-journey-card__button-container"> 
               <div class="brand-journey-card__button button  button--immersive ">
                <!--
--><a class="button__link" href="/cbeebies/shows/graces-amazing-machines" data-stats-interaction="show_oj" data-stats-interaction-variant="panel"><!--
    --><span class="button__inner"> <span class="button__text">View all</span> <i class="brand-journey-card__chevron button__icon-pre gelicon gelicon--next" aria-hidden="true"></i> </span><!--
--></a><!--
  --><!--
-->
               </div> 
              </div> 
             </div> 
            </div> 
           </div> 
          </section> 
          <div class="content-item__section content-item__section--collection-oj"> 
           <div class="content-item__section-content"> 
            <div data-carousel class="carousel carousel--with-title carousel--carousel-at-mobile " data-carousel-at-mobile="true" data-carousel-changes-in-place="false" data-carousel-disable-selected-item="true"> 
             <div class="carousel__title-container"> <a class="carousel__title-link" href="/cbeebies/curations/fun-activities-to-do-with-older-kids" data-stats-interaction="collection" data-stats-interaction-variant="text_link"> <h3 class="carousel__title" aria-label="Games for older kids  collection">Games for older kids </h3> </a> 
             </div> 
             <div class="carousel__controls"> 
              <div class="carousel__button carousel__button--prev button  button--prev  button--immersive ">
               <!--
--><a class="button__link"><!--
    --><span class="button__inner"> <span class="vh">previous items</span> <i class="gelicon gelicon--previous" aria-hidden="true"></i> </span><!--
--></a><!--
  --><!--
-->
              </div>
              <div class="carousel__button carousel__button--next button  button--next  button--immersive ">
               <!--
--><a class="button__link"><!--
    --><span class="button__inner"> <span class="vh">next items</span> <i class="gelicon gelicon--next" aria-hidden="true"></i> </span><!--
--></a><!--
  --><!--
-->
              </div> 
             </div> 
             <div class="carousel__curtain carousel__curtain--right"></div> 
             <div class="carousel__window">
              <!--
        -->
              <div class="carousel__panel"> 
               <ul class="carousel__list">
                <!--
                
                    -->
                <li class="carousel__item "> <a href="/cbeebies/games/danger-mouse-danger-dash?collection=fun-activities-to-do-with-older-kids" class="content-card content-card--games content-card--minimal" data-stats-interaction="collection" data-stats-interaction-variant="content_card" data-stats-interaction-position="0" data-stats-internal-link-location="fun-activities-to-do-with-older-kids" data-site-section="games"> 
                  <div class="content-card__image-wrapper "> 
                   <div class="content-card__image"> <span class="responsive-img responsive-img--16x9 "> <span class="delayed-image-load" data-src="https://ichef.bbci.co.uk/childrens-responsive-ichef-ck/{width}xn/amz/cbeebies/dm-dash-game-cc-2017.jpg"></span> 
                     <noscript> 
                      <img src="https://ichef.bbci.co.uk/childrens-responsive-ichef-ck/400xn/amz/cbeebies/dm-dash-game-cc-2017.jpg" alt=""> 
                     </noscript> </span> 
                   </div> 
                   <div class="content-card__flag flag flag--icon flag--games"> <span class="flag__icon"></span> <span class="flag__text"></span> 
                   </div> 
                  </div><!--
  -->
                  <div class="content-card__info"> 
                   <p class="content-card__title" aria-label="Play the Danger Dash game"> Play the Danger Dash game </p> 
                   <div class="content-card__details"> 
                    <ul class="content-card__counts">
                     <!--
      
      
      
      
    -->
                    </ul> 
                   </div> 
                  </div> </a> </li><!--
                
                    -->
                <li class="carousel__item "> <a href="/cbeebies/games/my-pet-and-me-game?collection=fun-activities-to-do-with-older-kids" class="content-card content-card--games content-card--minimal" data-stats-interaction="collection" data-stats-interaction-variant="content_card" data-stats-interaction-position="1" data-stats-internal-link-location="fun-activities-to-do-with-older-kids" data-site-section="games"> 
                  <div class="content-card__image-wrapper "> 
                   <div class="content-card__image"> <span class="responsive-img responsive-img--16x9 "> <span class="delayed-image-load" data-src="https://ichef.bbci.co.uk/childrens-responsive-ichef-ck/{width}xn/amz/cbeebies/mpam-game-cc-2017.jpg"></span> 
                     <noscript> 
                      <img src="https://ichef.bbci.co.uk/childrens-responsive-ichef-ck/400xn/amz/cbeebies/mpam-game-cc-2017.jpg" alt=""> 
                     </noscript> </span> 
                   </div> 
                   <div class="content-card__flag flag flag--icon flag--games"> <span class="flag__icon"></span> <span class="flag__text"></span> 
                   </div> 
                  </div><!--
  -->
                  <div class="content-card__info"> 
                   <p class="content-card__title" aria-label="My Pet and Friends"> My Pet and Friends </p> 
                   <div class="content-card__details"> 
                    <ul class="content-card__counts">
                     <!--
      
      
      
      
    -->
                    </ul> 
                   </div> 
                  </div> </a> </li><!--
                
                    -->
                <li class="carousel__item "> <a href="/cbeebies/games/my-world-kitchen-game?collection=fun-activities-to-do-with-older-kids" class="content-card content-card--games content-card--minimal" data-stats-interaction="collection" data-stats-interaction-variant="content_card" data-stats-interaction-position="2" data-stats-internal-link-location="fun-activities-to-do-with-older-kids" data-site-section="games"> 
                  <div class="content-card__image-wrapper "> 
                   <div class="content-card__image"> <span class="responsive-img responsive-img--16x9 "> <span class="delayed-image-load" data-src="https://ichef.bbci.co.uk/images/ic/{width}xn/p05wjp0r.jpg"></span> 
                     <noscript> 
                      <img src="https://ichef.bbci.co.uk/images/ic/400xn/p05wjp0r.jpg" alt=""> 
                     </noscript> </span> 
                   </div> 
                   <div class="content-card__flag flag flag--icon flag--games"> <span class="flag__icon"></span> <span class="flag__text"></span> 
                   </div> 
                  </div><!--
  -->
                  <div class="content-card__info"> 
                   <p class="content-card__title" aria-label="What will you cook in the kitchen?"> What will you cook in the kitchen? </p> 
                   <div class="content-card__details"> 
                    <ul class="content-card__counts">
                     <!--
      
      
      
      
    -->
                    </ul> 
                   </div> 
                  </div> </a> </li><!--
                
                    -->
                <li class="carousel__item "> <a href="/cbeebies/games/pablos-art-world-adventure-game?collection=fun-activities-to-do-with-older-kids" class="content-card content-card--games content-card--minimal" data-stats-interaction="collection" data-stats-interaction-variant="content_card" data-stats-interaction-position="3" data-stats-internal-link-location="fun-activities-to-do-with-older-kids" data-site-section="games"> 
                  <div class="content-card__image-wrapper "> 
                   <div class="content-card__image"> <span class="responsive-img responsive-img--16x9 "> <span class="delayed-image-load" data-src="https://ichef.bbci.co.uk/childrens-responsive-ichef-ck/{width}xn/amz/cbeebies/pablo-game-cc.jpg"></span> 
                     <noscript> 
                      <img src="https://ichef.bbci.co.uk/childrens-responsive-ichef-ck/400xn/amz/cbeebies/pablo-game-cc.jpg" alt=""> 
                     </noscript> </span> 
                   </div> 
                   <div class="content-card__flag flag flag--icon flag--games"> <span class="flag__icon"></span> <span class="flag__text"></span> 
                   </div> 
                  </div><!--
  -->
                  <div class="content-card__info"> 
                   <p class="content-card__title" aria-label="Pablo's Art World Adventure game"> Pablo's Art World Adventure game </p> 
                   <div class="content-card__details"> 
                    <ul class="content-card__counts">
                     <!--
      
      
      
      
    -->
                    </ul> 
                   </div> 
                  </div> </a> </li><!--
                
                    -->
                <li class="carousel__item carousel__item--selected"> <a href="/cbeebies/games/graces-amazing-machines-game-speedys-epic-journey?collection=fun-activities-to-do-with-older-kids" class="content-card content-card--games content-card--minimal" data-stats-interaction="collection" data-stats-interaction-variant="content_card-disabled" data-stats-interaction-position="4" data-stats-interaction-action="button" data-site-section="games"> 
                  <div class="content-card__image-wrapper "> 
                   <div class="content-card__image"> <span class="responsive-img responsive-img--16x9 "> <span class="delayed-image-load" data-src="https://ichef.bbci.co.uk/childrens-responsive-ichef-ck/{width}xn/amz/cbeebies/Graces-Amazing-Machines-game-index2.jpg"></span> 
                     <noscript> 
                      <img src="https://ichef.bbci.co.uk/childrens-responsive-ichef-ck/400xn/amz/cbeebies/Graces-Amazing-Machines-game-index2.jpg" alt=""> 
                     </noscript> </span> 
                   </div> 
                   <div class="content-card__flag flag flag--icon flag--games"> <span class="flag__icon"></span> <span class="flag__text"></span> 
                   </div> 
                  </div><!--
  -->
                  <div class="content-card__info"> 
                   <p class="content-card__title" aria-label="Speedy's Epic Journey Game"> Speedy's Epic Journey Game </p> 
                   <div class="content-card__details"> 
                    <ul class="content-card__counts">
                     <!--
      
      
      
      
    -->
                    </ul> 
                   </div> 
                  </div> </a> </li><!--
                
                    -->
                <li class="carousel__item "> <a href="/cbeebies/games/swashbuckle-the-midnight-mystery-game?collection=fun-activities-to-do-with-older-kids" class="content-card content-card--games content-card--minimal" data-stats-interaction="collection" data-stats-interaction-variant="content_card" data-stats-interaction-position="5" data-stats-internal-link-location="fun-activities-to-do-with-older-kids" data-site-section="games"> 
                  <div class="content-card__image-wrapper "> 
                   <div class="content-card__image"> <span class="responsive-img responsive-img--16x9 "> <span class="delayed-image-load" data-src="https://ichef.bbci.co.uk/childrens-responsive-ichef-ck/{width}xn/amz/cbeebies/swashbuckle-midnight-mystery-game-gem-cc.jpg"></span> 
                     <noscript> 
                      <img src="https://ichef.bbci.co.uk/childrens-responsive-ichef-ck/400xn/amz/cbeebies/swashbuckle-midnight-mystery-game-gem-cc.jpg" alt=""> 
                     </noscript> </span> 
                   </div> 
                   <div class="content-card__flag flag flag--icon flag--games"> <span class="flag__icon"></span> <span class="flag__text"></span> 
                   </div> 
                  </div><!--
  -->
                  <div class="content-card__info"> 
                   <p class="content-card__title" aria-label="The Midnight Mystery Game"> The Midnight Mystery Game </p> 
                   <div class="content-card__details"> 
                    <ul class="content-card__counts">
                     <!--
      
      
      
      
    -->
                    </ul> 
                   </div> 
                  </div> </a> </li><!--
                
                    -->
                <li class="carousel__item "> <a href="/cbeebies/games/waffle-and-friends-game?collection=fun-activities-to-do-with-older-kids" class="content-card content-card--games content-card--minimal" data-stats-interaction="collection" data-stats-interaction-variant="content_card" data-stats-interaction-position="6" data-stats-internal-link-location="fun-activities-to-do-with-older-kids" data-site-section="games"> 
                  <div class="content-card__image-wrapper "> 
                   <div class="content-card__image"> <span class="responsive-img responsive-img--16x9 "> <span class="delayed-image-load" data-src="https://ichef.bbci.co.uk/childrens-responsive-ichef-ck/{width}xn/amz/cbeebies/waffle-and-friends-game-cbeebies-cc.jpg"></span> 
                     <noscript> 
                      <img src="https://ichef.bbci.co.uk/childrens-responsive-ichef-ck/400xn/amz/cbeebies/waffle-and-friends-game-cbeebies-cc.jpg" alt=""> 
                     </noscript> </span> 
                   </div> 
                   <div class="content-card__flag flag flag--icon flag--games"> <span class="flag__icon"></span> <span class="flag__text"></span> 
                   </div> 
                  </div><!--
  -->
                  <div class="content-card__info"> 
                   <p class="content-card__title" aria-label="It's time to play with Waffle and Friends"> It's time to play with Waffle and Friends </p> 
                   <div class="content-card__details"> 
                    <ul class="content-card__counts">
                     <!--
      
      
      
      
    -->
                    </ul> 
                   </div> 
                  </div> </a> </li><!--
                
                    -->
                <li class="carousel__item "> <a href="/cbeebies/games/sarah-and-duck-game?collection=fun-activities-to-do-with-older-kids" class="content-card content-card--games content-card--minimal" data-stats-interaction="collection" data-stats-interaction-variant="content_card" data-stats-interaction-position="7" data-stats-internal-link-location="fun-activities-to-do-with-older-kids" data-site-section="games"> 
                  <div class="content-card__image-wrapper "> 
                   <div class="content-card__image"> <span class="responsive-img responsive-img--16x9 "> <span class="delayed-image-load" data-src="https://ichef.bbci.co.uk/childrens-responsive-ichef-ck/{width}xn/amz/cbeebies/SarahDuck_bubblepop_game_Banner_1024_576.jpg"></span> 
                     <noscript> 
                      <img src="https://ichef.bbci.co.uk/childrens-responsive-ichef-ck/400xn/amz/cbeebies/SarahDuck_bubblepop_game_Banner_1024_576.jpg" alt=""> 
                     </noscript> </span> 
                   </div> 
                   <div class="content-card__flag flag flag--icon flag--games"> <span class="flag__icon"></span> <span class="flag__text"></span> 
                   </div> 
                  </div><!--
  -->
                  <div class="content-card__info"> 
                   <p class="content-card__title" aria-label="Sarah and Duck Game"> Sarah and Duck Game </p> 
                   <div class="content-card__details"> 
                    <ul class="content-card__counts">
                     <!--
      
      
      
      
    -->
                    </ul> 
                   </div> 
                  </div> </a> </li><!--
                
                    -->
                <li class="carousel__item "> <a href="/cbeebies/games/go-jetters-global-grooves?collection=fun-activities-to-do-with-older-kids" class="content-card content-card--games content-card--minimal" data-stats-interaction="collection" data-stats-interaction-variant="content_card" data-stats-interaction-position="8" data-stats-internal-link-location="fun-activities-to-do-with-older-kids" data-site-section="games"> 
                  <div class="content-card__image-wrapper "> 
                   <div class="content-card__image"> <span class="responsive-img responsive-img--16x9 "> <span class="delayed-image-load" data-src="https://ichef.bbci.co.uk/childrens-responsive-ichef-ck/{width}xn/amz/cbeebies/go-jetters-global-grooves-index.jpg"></span> 
                     <noscript> 
                      <img src="https://ichef.bbci.co.uk/childrens-responsive-ichef-ck/400xn/amz/cbeebies/go-jetters-global-grooves-index.jpg" alt=""> 
                     </noscript> </span> 
                   </div> 
                   <div class="content-card__flag flag flag--icon flag--games"> <span class="flag__icon"></span> <span class="flag__text"></span> 
                   </div> 
                  </div><!--
  -->
                  <div class="content-card__info"> 
                   <p class="content-card__title" aria-label="Go Jetters Global Grooves"> Go Jetters Global Grooves </p> 
                   <div class="content-card__details"> 
                    <ul class="content-card__counts">
                     <!--
      
      
      
      
    -->
                    </ul> 
                   </div> 
                  </div> </a> </li><!--
                
                    -->
                <li class="carousel__item "> <a href="/cbeebies/games/andys-safari-sounds-game?collection=fun-activities-to-do-with-older-kids" class="content-card content-card--games content-card--minimal" data-stats-interaction="collection" data-stats-interaction-variant="content_card" data-stats-interaction-position="9" data-stats-internal-link-location="fun-activities-to-do-with-older-kids" data-site-section="games"> 
                  <div class="content-card__image-wrapper "> 
                   <div class="content-card__image"> <span class="responsive-img responsive-img--16x9 "> <span class="delayed-image-load" data-src="https://ichef.bbci.co.uk/childrens-responsive-ichef-ck/{width}xn/amz/cbeebies/andys-safari-sounds-index02.jpg"></span> 
                     <noscript> 
                      <img src="https://ichef.bbci.co.uk/childrens-responsive-ichef-ck/400xn/amz/cbeebies/andys-safari-sounds-index02.jpg" alt=""> 
                     </noscript> </span> 
                   </div> 
                   <div class="content-card__flag flag flag--icon flag--games"> <span class="flag__icon"></span> <span class="flag__text"></span> 
                   </div> 
                  </div><!--
  -->
                  <div class="content-card__info"> 
                   <p class="content-card__title" aria-label="Andy's Safari Sounds"> Andy's Safari Sounds </p> 
                   <div class="content-card__details"> 
                    <ul class="content-card__counts">
                     <!--
      
      
      
      
    -->
                    </ul> 
                   </div> 
                  </div> </a> </li><!--
                
                    -->
                <li class="carousel__item "> <a href="/cbeebies/games/go-jetters-hero-academy?collection=fun-activities-to-do-with-older-kids" class="content-card content-card--games content-card--minimal" data-stats-interaction="collection" data-stats-interaction-variant="content_card" data-stats-interaction-position="10" data-stats-internal-link-location="fun-activities-to-do-with-older-kids" data-site-section="games"> 
                  <div class="content-card__image-wrapper "> 
                   <div class="content-card__image"> <span class="responsive-img responsive-img--16x9 "> <span class="delayed-image-load" data-src="https://ichef.bbci.co.uk/childrens-responsive-ichef-ck/{width}xn/amz/cbeebies/go-jetters-hero-academy-cc-v2.jpg"></span> 
                     <noscript> 
                      <img src="https://ichef.bbci.co.uk/childrens-responsive-ichef-ck/400xn/amz/cbeebies/go-jetters-hero-academy-cc-v2.jpg" alt=""> 
                     </noscript> </span> 
                   </div> 
                   <div class="content-card__flag flag flag--icon flag--games"> <span class="flag__icon"></span> <span class="flag__text"></span> 
                   </div> 
                  </div><!--
  -->
                  <div class="content-card__info"> 
                   <p class="content-card__title" aria-label="Do you want to train with the Go Jetters?"> Do you want to train with the Go Jetters? </p> 
                   <div class="content-card__details"> 
                    <ul class="content-card__counts">
                     <!--
      
      
      
      
    -->
                    </ul> 
                   </div> 
                  </div> </a> </li><!--
                
                    -->
                <li class="carousel__item "> <a href="/cbeebies/games/peter-rabbit-running-wild?collection=fun-activities-to-do-with-older-kids" class="content-card content-card--games content-card--minimal" data-stats-interaction="collection" data-stats-interaction-variant="content_card" data-stats-interaction-position="11" data-stats-internal-link-location="fun-activities-to-do-with-older-kids" data-site-section="games"> 
                  <div class="content-card__image-wrapper "> 
                   <div class="content-card__image"> <span class="responsive-img responsive-img--16x9 "> <span class="delayed-image-load" data-src="https://ichef.bbci.co.uk/childrens-responsive-ichef-ck/{width}xn/amz/cbeebies/peter-rabbit-running-wild-game-cc.jpg"></span> 
                     <noscript> 
                      <img src="https://ichef.bbci.co.uk/childrens-responsive-ichef-ck/400xn/amz/cbeebies/peter-rabbit-running-wild-game-cc.jpg" alt=""> 
                     </noscript> </span> 
                   </div> 
                   <div class="content-card__flag flag flag--icon flag--games"> <span class="flag__icon"></span> <span class="flag__text"></span> 
                   </div> 
                  </div><!--
  -->
                  <div class="content-card__info"> 
                   <p class="content-card__title" aria-label="Peter Rabbit Running Wild Game"> Peter Rabbit Running Wild Game </p> 
                   <div class="content-card__details"> 
                    <ul class="content-card__counts">
                     <!--
      
      
      
      
    -->
                    </ul> 
                   </div> 
                  </div> </a> </li><!--
                
                    -->
                <li class="carousel__item "> <a href="/cbeebies/games/peter-rabbit-hop-to-it?collection=fun-activities-to-do-with-older-kids" class="content-card content-card--games content-card--minimal" data-stats-interaction="collection" data-stats-interaction-variant="content_card" data-stats-interaction-position="12" data-stats-internal-link-location="fun-activities-to-do-with-older-kids" data-site-section="games"> 
                  <div class="content-card__image-wrapper "> 
                   <div class="content-card__image"> <span class="responsive-img responsive-img--16x9 "> <span class="delayed-image-load" data-src="https://ichef.bbci.co.uk/childrens-responsive-ichef-ck/{width}xn/amz/cbeebies/Peter_Rabbit_Update_content_card.jpg"></span> 
                     <noscript> 
                      <img src="https://ichef.bbci.co.uk/childrens-responsive-ichef-ck/400xn/amz/cbeebies/Peter_Rabbit_Update_content_card.jpg" alt=""> 
                     </noscript> </span> 
                   </div> 
                   <div class="content-card__flag flag flag--icon flag--games"> <span class="flag__icon"></span> <span class="flag__text"></span> 
                   </div> 
                  </div><!--
  -->
                  <div class="content-card__info"> 
                   <p class="content-card__title" aria-label="Hop to it with Peter Rabbit"> Hop to it with Peter Rabbit </p> 
                   <div class="content-card__details"> 
                    <ul class="content-card__counts">
                     <!--
      
      
      
      
    -->
                    </ul> 
                   </div> 
                  </div> </a> </li><!--
                
                    -->
                <li class="carousel__item "> <a href="/cbeebies/games/swashbuckle-the-great-pirate-games?collection=fun-activities-to-do-with-older-kids" class="content-card content-card--games content-card--minimal" data-stats-interaction="collection" data-stats-interaction-variant="content_card" data-stats-interaction-position="13" data-stats-internal-link-location="fun-activities-to-do-with-older-kids" data-site-section="games"> 
                  <div class="content-card__image-wrapper "> 
                   <div class="content-card__image"> <span class="responsive-img responsive-img--16x9 "> <span class="delayed-png-image-load" data-src="https://ichef.bbci.co.uk/childrens-responsive-ichef-ck/{width}xn/amz/cbeebies/Swashbuckle-The-Great-Pirate-Games-Content-Card.png"></span> 
                     <noscript> 
                      <img src="https://ichef.bbci.co.uk/childrens-responsive-ichef-ck/400xn/amz/cbeebies/Swashbuckle-The-Great-Pirate-Games-Content-Card.png" alt=""> 
                     </noscript> </span> 
                   </div> 
                   <div class="content-card__flag flag flag--icon flag--games"> <span class="flag__icon"></span> <span class="flag__text"></span> 
                   </div> 
                  </div><!--
  -->
                  <div class="content-card__info"> 
                   <p class="content-card__title" aria-label="The Great Pirate Games"> The Great Pirate Games </p> 
                   <div class="content-card__details"> 
                    <ul class="content-card__counts">
                     <!--
      
      
      
      
    -->
                    </ul> 
                   </div> 
                  </div> </a> </li><!--
                
                    -->
                <li class="carousel__item "> <a href="/cbeebies/games/swashbuckle-my-swashbuckle-adventure?collection=fun-activities-to-do-with-older-kids" class="content-card content-card--games content-card--minimal" data-stats-interaction="collection" data-stats-interaction-variant="content_card" data-stats-interaction-position="14" data-stats-internal-link-location="fun-activities-to-do-with-older-kids" data-site-section="games"> 
                  <div class="content-card__image-wrapper "> 
                   <div class="content-card__image"> <span class="responsive-img responsive-img--16x9 "> <span class="delayed-image-load" data-src="https://ichef.bbci.co.uk/childrens-responsive-ichef-ck/{width}xn/amz/cbeebies/my-swashbuckle-adventure-index.jpg"></span> 
                     <noscript> 
                      <img src="https://ichef.bbci.co.uk/childrens-responsive-ichef-ck/400xn/amz/cbeebies/my-swashbuckle-adventure-index.jpg" alt=""> 
                     </noscript> </span> 
                   </div> 
                   <div class="content-card__flag flag flag--icon flag--games"> <span class="flag__icon"></span> <span class="flag__text"></span> 
                   </div> 
                  </div><!--
  -->
                  <div class="content-card__info"> 
                   <p class="content-card__title" aria-label="My Swashbuckle Adventure"> My Swashbuckle Adventure </p> 
                   <div class="content-card__details"> 
                    <ul class="content-card__counts">
                     <!--
      
      
      
      
    -->
                    </ul> 
                   </div> 
                  </div> </a> </li><!--
                
                    -->
                <li class="carousel__item "> <a href="/cbeebies/games/go-jetters-cadet-rescue?collection=fun-activities-to-do-with-older-kids" class="content-card content-card--games content-card--minimal" data-stats-interaction="collection" data-stats-interaction-variant="content_card" data-stats-interaction-position="15" data-stats-internal-link-location="fun-activities-to-do-with-older-kids" data-site-section="games"> 
                  <div class="content-card__image-wrapper "> 
                   <div class="content-card__image"> <span class="responsive-img responsive-img--16x9 "> <span class="delayed-image-load" data-src="https://ichef.bbci.co.uk/childrens-responsive-ichef-ck/{width}xn/amz/cbeebies/go-jetters-cadet-rescue-cc.jpg"></span> 
                     <noscript> 
                      <img src="https://ichef.bbci.co.uk/childrens-responsive-ichef-ck/400xn/amz/cbeebies/go-jetters-cadet-rescue-cc.jpg" alt=""> 
                     </noscript> </span> 
                   </div> 
                   <div class="content-card__flag flag flag--icon flag--games"> <span class="flag__icon"></span> <span class="flag__text"></span> 
                   </div> 
                  </div><!--
  -->
                  <div class="content-card__info"> 
                   <p class="content-card__title" aria-label="Go on a mission with the Go Jetters"> Go on a mission with the Go Jetters </p> 
                   <div class="content-card__details"> 
                    <ul class="content-card__counts">
                     <!--
      
      
      
      
    -->
                    </ul> 
                   </div> 
                  </div> </a> </li><!--
                
                    -->
                <li class="carousel__item "> <a href="/cbeebies/games/down-on-the-farm-a-year-on-your-farm?collection=fun-activities-to-do-with-older-kids" class="content-card content-card--games content-card--minimal" data-stats-interaction="collection" data-stats-interaction-variant="content_card" data-stats-interaction-position="16" data-stats-internal-link-location="fun-activities-to-do-with-older-kids" data-site-section="games"> 
                  <div class="content-card__image-wrapper "> 
                   <div class="content-card__image"> <span class="responsive-img responsive-img--16x9 "> <span class="delayed-image-load" data-src="https://ichef.bbci.co.uk/childrens-responsive-ichef-ck/{width}xn/amz/cbeebies/a_year_on_your_farm_content_card.jpg"></span> 
                     <noscript> 
                      <img src="https://ichef.bbci.co.uk/childrens-responsive-ichef-ck/400xn/amz/cbeebies/a_year_on_your_farm_content_card.jpg" alt=""> 
                     </noscript> </span> 
                   </div> 
                   <div class="content-card__flag flag flag--icon flag--games"> <span class="flag__icon"></span> <span class="flag__text"></span> 
                   </div> 
                  </div><!--
  -->
                  <div class="content-card__info"> 
                   <p class="content-card__title" aria-label="Look after the animals down on the farm"> Look after the animals down on the farm </p> 
                   <div class="content-card__details"> 
                    <ul class="content-card__counts">
                     <!--
      
      
      
      
    -->
                    </ul> 
                   </div> 
                  </div> </a> </li><!--
                
                    -->
                <li class="carousel__item "> <a href="/cbeebies/games/bitz-and-bob-ice-cream-party-game?collection=fun-activities-to-do-with-older-kids" class="content-card content-card--games content-card--minimal" data-stats-interaction="collection" data-stats-interaction-variant="content_card" data-stats-interaction-position="17" data-stats-internal-link-location="fun-activities-to-do-with-older-kids" data-site-section="games"> 
                  <div class="content-card__image-wrapper "> 
                   <div class="content-card__image"> <span class="responsive-img responsive-img--16x9 "> <span class="delayed-image-load" data-src="https://ichef.bbci.co.uk/childrens-responsive-ichef-ck/{width}xn/amz/cbeebies/Bitzandbobindexcard.jpg"></span> 
                     <noscript> 
                      <img src="https://ichef.bbci.co.uk/childrens-responsive-ichef-ck/400xn/amz/cbeebies/Bitzandbobindexcard.jpg" alt=""> 
                     </noscript> </span> 
                   </div> 
                   <div class="content-card__flag flag flag--icon flag--games"> <span class="flag__icon"></span> <span class="flag__text"></span> 
                   </div> 
                  </div><!--
  -->
                  <div class="content-card__info"> 
                   <p class="content-card__title" aria-label="Have an ice cream party with Bitz &amp; Bob"> Have an ice cream party with Bitz &amp; Bob </p> 
                   <div class="content-card__details"> 
                    <ul class="content-card__counts">
                     <!--
      
      
      
      
    -->
                    </ul> 
                   </div> 
                  </div> </a> </li><!--
                
                    -->
                <li class="carousel__item "> <a href="/cbeebies/games/bitz-and-bob-lets-get-bitzy-game?collection=fun-activities-to-do-with-older-kids" class="content-card content-card--games content-card--minimal" data-stats-interaction="collection" data-stats-interaction-variant="content_card" data-stats-interaction-position="18" data-stats-internal-link-location="fun-activities-to-do-with-older-kids" data-site-section="games"> 
                  <div class="content-card__image-wrapper "> 
                   <div class="content-card__image"> <span class="responsive-img responsive-img--16x9 "> <span class="delayed-image-load" data-src="https://ichef.bbci.co.uk/childrens-responsive-ichef-ck/{width}xn/amz/cbeebies/bitz-and-bob-game-cc.jpg"></span> 
                     <noscript> 
                      <img src="https://ichef.bbci.co.uk/childrens-responsive-ichef-ck/400xn/amz/cbeebies/bitz-and-bob-game-cc.jpg" alt=""> 
                     </noscript> </span> 
                   </div> 
                   <div class="content-card__flag flag flag--icon flag--games"> <span class="flag__icon"></span> <span class="flag__text"></span> 
                   </div> 
                  </div><!--
  -->
                  <div class="content-card__info"> 
                   <p class="content-card__title" aria-label="Bitz &amp; Bob Lets Get Bitzy "> Bitz &amp; Bob Lets Get Bitzy </p> 
                   <div class="content-card__details"> 
                    <ul class="content-card__counts">
                     <!--
      
      
      
      
    -->
                    </ul> 
                   </div> 
                  </div> </a> </li><!--
                
                    -->
                <li class="carousel__item "> <a href="/cbeebies/games/biggleton-helping-hands-game?collection=fun-activities-to-do-with-older-kids" class="content-card content-card--games content-card--minimal" data-stats-interaction="collection" data-stats-interaction-variant="content_card" data-stats-interaction-position="19" data-stats-internal-link-location="fun-activities-to-do-with-older-kids" data-site-section="games"> 
                  <div class="content-card__image-wrapper "> 
                   <div class="content-card__image"> <span class="responsive-img responsive-img--16x9 "> <span class="delayed-image-load" data-src="https://ichef.bbci.co.uk/childrens-responsive-ichef-ck/{width}xn/amz/cbeebies/contentindexbiggleton.jpg"></span> 
                     <noscript> 
                      <img src="https://ichef.bbci.co.uk/childrens-responsive-ichef-ck/400xn/amz/cbeebies/contentindexbiggleton.jpg" alt=""> 
                     </noscript> </span> 
                   </div> 
                   <div class="content-card__flag flag flag--icon flag--games"> <span class="flag__icon"></span> <span class="flag__text"></span> 
                   </div> 
                  </div><!--
  -->
                  <div class="content-card__info"> 
                   <p class="content-card__title" aria-label="Biggleton Helping Hands"> Biggleton Helping Hands </p> 
                   <div class="content-card__details"> 
                    <ul class="content-card__counts">
                     <!--
      
      
      
      
    -->
                    </ul> 
                   </div> 
                  </div> </a> </li><!--
                
                    -->
                <li class="carousel__item "> <a href="/cbeebies/games/go-jetters-global-glitch?collection=fun-activities-to-do-with-older-kids" class="content-card content-card--games content-card--minimal" data-stats-interaction="collection" data-stats-interaction-variant="content_card" data-stats-interaction-position="20" data-stats-internal-link-location="fun-activities-to-do-with-older-kids" data-site-section="games"> 
                  <div class="content-card__image-wrapper "> 
                   <div class="content-card__image"> <span class="responsive-img responsive-img--16x9 "> <span class="delayed-image-load" data-src="https://ichef.bbci.co.uk/childrens-responsive-ichef-ck/{width}xn/amz/cbeebies/go-jetters-game-cc-2017.jpg"></span> 
                     <noscript> 
                      <img src="https://ichef.bbci.co.uk/childrens-responsive-ichef-ck/400xn/amz/cbeebies/go-jetters-game-cc-2017.jpg" alt=""> 
                     </noscript> </span> 
                   </div> 
                   <div class="content-card__flag flag flag--icon flag--games"> <span class="flag__icon"></span> <span class="flag__text"></span> 
                   </div> 
                  </div><!--
  -->
                  <div class="content-card__info"> 
                   <p class="content-card__title" aria-label="Help the Go Jetters beat Glitch"> Help the Go Jetters beat Glitch </p> 
                   <div class="content-card__details"> 
                    <ul class="content-card__counts">
                     <!--
      
      
      
      
    -->
                    </ul> 
                   </div> 
                  </div> </a> </li><!--
                
                    -->
                <li class="carousel__item "> <a href="/cbeebies/games/jamillah-and-aladdin-cave-of-wonders?collection=fun-activities-to-do-with-older-kids" class="content-card content-card--games content-card--minimal" data-stats-interaction="collection" data-stats-interaction-variant="content_card" data-stats-interaction-position="21" data-stats-internal-link-location="fun-activities-to-do-with-older-kids" data-site-section="games"> 
                  <div class="content-card__image-wrapper "> 
                   <div class="content-card__image"> <span class="responsive-img responsive-img--16x9 "> <span class="delayed-image-load" data-src="https://ichef.bbci.co.uk/childrens-responsive-ichef-ck/{width}xn/amz/cbeebies/jamillah-and-aladdin-comic-sky-1024.jpg"></span> 
                     <noscript> 
                      <img src="https://ichef.bbci.co.uk/childrens-responsive-ichef-ck/400xn/amz/cbeebies/jamillah-and-aladdin-comic-sky-1024.jpg" alt=""> 
                     </noscript> </span> 
                   </div> 
                   <div class="content-card__flag flag flag--icon flag--games"> <span class="flag__icon"></span> <span class="flag__text"></span> 
                   </div> 
                  </div><!--
  -->
                  <div class="content-card__info"> 
                   <p class="content-card__title" aria-label="Cave of Wonders Comic"> Cave of Wonders Comic </p> 
                   <div class="content-card__details"> 
                    <ul class="content-card__counts">
                     <!--
      
      
      
      
    -->
                    </ul> 
                   </div> 
                  </div> </a> </li><!--
                
                    -->
                <li class="carousel__item "> <a href="/cbeebies/games/octonauts-ocean-adventures?collection=fun-activities-to-do-with-older-kids" class="content-card content-card--games content-card--minimal" data-stats-interaction="collection" data-stats-interaction-variant="content_card" data-stats-interaction-position="22" data-stats-internal-link-location="fun-activities-to-do-with-older-kids" data-site-section="games"> 
                  <div class="content-card__image-wrapper "> 
                   <div class="content-card__image"> <span class="responsive-img responsive-img--16x9 "> <span class="delayed-image-load" data-src="https://ichef.bbci.co.uk/childrens-responsive-ichef-ck/{width}xn/amz/cbeebies/octonauts-ocean-adventures-cc.jpg"></span> 
                     <noscript> 
                      <img src="https://ichef.bbci.co.uk/childrens-responsive-ichef-ck/400xn/amz/cbeebies/octonauts-ocean-adventures-cc.jpg" alt=""> 
                     </noscript> </span> 
                   </div> 
                   <div class="content-card__flag flag flag--icon flag--games"> <span class="flag__icon"></span> <span class="flag__text"></span> 
                   </div> 
                  </div><!--
  -->
                  <div class="content-card__info"> 
                   <p class="content-card__title" aria-label="Octonauts Ocean Adventures "> Octonauts Ocean Adventures </p> 
                   <div class="content-card__details"> 
                    <ul class="content-card__counts">
                     <!--
      
      
      
      
    -->
                    </ul> 
                   </div> 
                  </div> </a> </li><!--
                
                    -->
                <li class="carousel__item "> <a href="/cbeebies/games/topsy-and-tim-at-the-farm?collection=fun-activities-to-do-with-older-kids" class="content-card content-card--games content-card--minimal" data-stats-interaction="collection" data-stats-interaction-variant="content_card" data-stats-interaction-position="23" data-stats-internal-link-location="fun-activities-to-do-with-older-kids" data-site-section="games"> 
                  <div class="content-card__image-wrapper "> 
                   <div class="content-card__image"> <span class="responsive-img responsive-img--16x9 "> <span class="delayed-image-load" data-src="https://ichef.bbci.co.uk/childrens-responsive-ichef-ck/{width}xn/amz/cbeebies/topsy_and_tim_at_the_farm_1024.jpg"></span> 
                     <noscript> 
                      <img src="https://ichef.bbci.co.uk/childrens-responsive-ichef-ck/400xn/amz/cbeebies/topsy_and_tim_at_the_farm_1024.jpg" alt=""> 
                     </noscript> </span> 
                   </div> 
                   <div class="content-card__flag flag flag--icon flag--games"> <span class="flag__icon"></span> <span class="flag__text"></span> 
                   </div> 
                  </div><!--
  -->
                  <div class="content-card__info"> 
                   <p class="content-card__title" aria-label="Topsy and Tim at the Farm"> Topsy and Tim at the Farm </p> 
                   <div class="content-card__details"> 
                    <ul class="content-card__counts">
                     <!--
      
      
      
      
    -->
                    </ul> 
                   </div> 
                  </div> </a> </li><!--
                
                    -->
                <li class="carousel__item "> <a href="/cbeebies/games/andys-animal-teams-game?collection=fun-activities-to-do-with-older-kids" class="content-card content-card--games content-card--minimal" data-stats-interaction="collection" data-stats-interaction-variant="content_card" data-stats-interaction-position="24" data-stats-internal-link-location="fun-activities-to-do-with-older-kids" data-site-section="games"> 
                  <div class="content-card__image-wrapper "> 
                   <div class="content-card__image"> <span class="responsive-img responsive-img--16x9 "> <span class="delayed-image-load" data-src="https://ichef.bbci.co.uk/childrens-responsive-ichef-ck/{width}xn/amz/cbeebies/andys-animal-teams-index.jpg"></span> 
                     <noscript> 
                      <img src="https://ichef.bbci.co.uk/childrens-responsive-ichef-ck/400xn/amz/cbeebies/andys-animal-teams-index.jpg" alt=""> 
                     </noscript> </span> 
                   </div> 
                   <div class="content-card__flag flag flag--icon flag--games"> <span class="flag__icon"></span> <span class="flag__text"></span> 
                   </div> 
                  </div><!--
  -->
                  <div class="content-card__info"> 
                   <p class="content-card__title" aria-label="Andy's Animal Teams"> Andy's Animal Teams </p> 
                   <div class="content-card__details"> 
                    <ul class="content-card__counts">
                     <!--
      
      
      
      
    -->
                    </ul> 
                   </div> 
                  </div> </a> </li><!--
                
                    -->
                <li class="carousel__item "> <a href="/cbeebies/games/topsy-and-tim-fun-around-the-house?collection=fun-activities-to-do-with-older-kids" class="content-card content-card--games content-card--minimal" data-stats-interaction="collection" data-stats-interaction-variant="content_card" data-stats-interaction-position="25" data-stats-internal-link-location="fun-activities-to-do-with-older-kids" data-site-section="games"> 
                  <div class="content-card__image-wrapper "> 
                   <div class="content-card__image"> <span class="responsive-img responsive-img--16x9 "> <span class="delayed-image-load" data-src="https://ichef.bbci.co.uk/childrens-responsive-ichef-ck/{width}xn/amz/cbeebies/cbeebies-topsyandtim-img-games-topsy_and_tim_game_432_243.jpg"></span> 
                     <noscript> 
                      <img src="https://ichef.bbci.co.uk/childrens-responsive-ichef-ck/400xn/amz/cbeebies/cbeebies-topsyandtim-img-games-topsy_and_tim_game_432_243.jpg" alt=""> 
                     </noscript> </span> 
                   </div> 
                   <div class="content-card__flag flag flag--icon flag--games"> <span class="flag__icon"></span> <span class="flag__text"></span> 
                   </div> 
                  </div><!--
  -->
                  <div class="content-card__info"> 
                   <p class="content-card__title" aria-label="Fun Around the House"> Fun Around the House </p> 
                   <div class="content-card__details"> 
                    <ul class="content-card__counts">
                     <!--
      
      
      
      
    -->
                    </ul> 
                   </div> 
                  </div> </a> </li><!--
                
                    -->
                <li class="carousel__item "> <a href="/cbeebies/games/apple-tree-house-game?collection=fun-activities-to-do-with-older-kids" class="content-card content-card--games content-card--minimal" data-stats-interaction="collection" data-stats-interaction-variant="content_card" data-stats-interaction-position="26" data-stats-internal-link-location="fun-activities-to-do-with-older-kids" data-site-section="games"> 
                  <div class="content-card__image-wrapper "> 
                   <div class="content-card__image"> <span class="responsive-img responsive-img--16x9 "> <span class="delayed-image-load" data-src="https://ichef.bbci.co.uk/childrens-responsive-ichef-ck/{width}xn/amz/cbeebies/apple-tree-house-game.jpg"></span> 
                     <noscript> 
                      <img src="https://ichef.bbci.co.uk/childrens-responsive-ichef-ck/400xn/amz/cbeebies/apple-tree-house-game.jpg" alt=""> 
                     </noscript> </span> 
                   </div> 
                   <div class="content-card__flag flag flag--icon flag--games"> <span class="flag__icon"></span> <span class="flag__text"></span> 
                   </div> 
                  </div><!--
  -->
                  <div class="content-card__info"> 
                   <p class="content-card__title" aria-label="Apple Tree House Game"> Apple Tree House Game </p> 
                   <div class="content-card__details"> 
                    <ul class="content-card__counts">
                     <!--
      
      
      
      
    -->
                    </ul> 
                   </div> 
                  </div> </a> </li><!--
                
                    -->
                <li class="carousel__item "> <a href="/cbeebies/games/nina-get-building?collection=fun-activities-to-do-with-older-kids" class="content-card content-card--games content-card--minimal" data-stats-interaction="collection" data-stats-interaction-variant="content_card" data-stats-interaction-position="27" data-stats-internal-link-location="fun-activities-to-do-with-older-kids" data-site-section="games"> 
                  <div class="content-card__image-wrapper "> 
                   <div class="content-card__image"> <span class="responsive-img responsive-img--16x9 "> <span class="delayed-image-load" data-src="https://ichef.bbci.co.uk/childrens-responsive-ichef-ck/{width}xn/amz/cbeebies/nina_big_buildings_1024.jpg"></span> 
                     <noscript> 
                      <img src="https://ichef.bbci.co.uk/childrens-responsive-ichef-ck/400xn/amz/cbeebies/nina_big_buildings_1024.jpg" alt=""> 
                     </noscript> </span> 
                   </div> 
                   <div class="content-card__flag flag flag--icon flag--games"> <span class="flag__icon"></span> <span class="flag__text"></span> 
                   </div> 
                  </div><!--
  -->
                  <div class="content-card__info"> 
                   <p class="content-card__title" aria-label="Get Building "> Get Building </p> 
                   <div class="content-card__details"> 
                    <ul class="content-card__counts">
                     <!--
      
      
      
      
    -->
                    </ul> 
                   </div> 
                  </div> </a> </li><!--
                
                    -->
                <li class="carousel__item "> <a href="/cbeebies/games/treasure-champs-barry-and-karis-treasure-quest?collection=fun-activities-to-do-with-older-kids" class="content-card content-card--games content-card--minimal" data-stats-interaction="collection" data-stats-interaction-variant="content_card" data-stats-interaction-position="28" data-stats-internal-link-location="fun-activities-to-do-with-older-kids" data-site-section="games"> 
                  <div class="content-card__image-wrapper "> 
                   <div class="content-card__image"> <span class="responsive-img responsive-img--16x9 "> <span class="delayed-image-load" data-src="https://ichef.bbci.co.uk/childrens-responsive-ichef-ck/{width}xn/amz/cbeebies/treasure-champs-game-cc.jpg"></span> 
                     <noscript> 
                      <img src="https://ichef.bbci.co.uk/childrens-responsive-ichef-ck/400xn/amz/cbeebies/treasure-champs-game-cc.jpg" alt=""> 
                     </noscript> </span> 
                   </div> 
                   <div class="content-card__flag flag flag--icon flag--games"> <span class="flag__icon"></span> <span class="flag__text"></span> 
                   </div> 
                  </div><!--
  -->
                  <div class="content-card__info"> 
                   <p class="content-card__title" aria-label="Go on a Treasure Quest with Barry and Kari"> Go on a Treasure Quest with Barry and Kari </p> 
                   <div class="content-card__details"> 
                    <ul class="content-card__counts">
                     <!--
      
      
      
      
    -->
                    </ul> 
                   </div> 
                  </div> </a> </li><!--
                
                    -->
                <li class="carousel__item "> <a href="/cbeebies/games/biggleton-get-the-jobs-done?collection=fun-activities-to-do-with-older-kids" class="content-card content-card--games content-card--minimal" data-stats-interaction="collection" data-stats-interaction-variant="content_card" data-stats-interaction-position="29" data-stats-internal-link-location="fun-activities-to-do-with-older-kids" data-site-section="games"> 
                  <div class="content-card__image-wrapper "> 
                   <div class="content-card__image"> <span class="responsive-img responsive-img--16x9 "> <span class="delayed-image-load" data-src="https://ichef.bbci.co.uk/childrens-responsive-ichef-ck/{width}xn/amz/cbeebies/biggleton-get-the-job-done-content-card-1.jpg"></span> 
                     <noscript> 
                      <img src="https://ichef.bbci.co.uk/childrens-responsive-ichef-ck/400xn/amz/cbeebies/biggleton-get-the-job-done-content-card-1.jpg" alt=""> 
                     </noscript> </span> 
                   </div> 
                   <div class="content-card__flag flag flag--icon flag--games"> <span class="flag__icon"></span> <span class="flag__text"></span> 
                   </div> 
                  </div><!--
  -->
                  <div class="content-card__info"> 
                   <p class="content-card__title" aria-label="Get the Jobs Done in Biggleton"> Get the Jobs Done in Biggleton </p> 
                   <div class="content-card__details"> 
                    <ul class="content-card__counts">
                     <!--
      
      
      
      
    -->
                    </ul> 
                   </div> 
                  </div> </a> </li><!--
                
                    -->
                <li class="carousel__item "> <a href="/cbeebies/games/charlie-and-lola-making-and-doing?collection=fun-activities-to-do-with-older-kids" class="content-card content-card--games content-card--minimal" data-stats-interaction="collection" data-stats-interaction-variant="content_card" data-stats-interaction-position="30" data-stats-internal-link-location="fun-activities-to-do-with-older-kids" data-site-section="games"> 
                  <div class="content-card__image-wrapper "> 
                   <div class="content-card__image"> <span class="responsive-img responsive-img--16x9 "> <span class="delayed-image-load" data-src="https://ichef.bbci.co.uk/childrens-responsive-ichef-ck/{width}xn/amz/cbeebies/charlie-and-lola-making-doing-1024.jpg"></span> 
                     <noscript> 
                      <img src="https://ichef.bbci.co.uk/childrens-responsive-ichef-ck/400xn/amz/cbeebies/charlie-and-lola-making-doing-1024.jpg" alt=""> 
                     </noscript> </span> 
                   </div> 
                   <div class="content-card__flag flag flag--icon flag--games"> <span class="flag__icon"></span> <span class="flag__text"></span> 
                   </div> 
                  </div><!--
  -->
                  <div class="content-card__info"> 
                   <p class="content-card__title" aria-label="Making and Doing"> Making and Doing </p> 
                   <div class="content-card__details"> 
                    <ul class="content-card__counts">
                     <!--
      
      
      
      
    -->
                    </ul> 
                   </div> 
                  </div> </a> </li><!--
                
                    -->
                <li class="carousel__item "> <a href="/cbeebies/games/the-furchester-hotel-a-helping-hand?collection=fun-activities-to-do-with-older-kids" class="content-card content-card--games content-card--minimal" data-stats-interaction="collection" data-stats-interaction-variant="content_card" data-stats-interaction-position="31" data-stats-internal-link-location="fun-activities-to-do-with-older-kids" data-site-section="games"> 
                  <div class="content-card__image-wrapper "> 
                   <div class="content-card__image"> <span class="responsive-img responsive-img--16x9 "> <span class="delayed-image-load" data-src="https://ichef.bbci.co.uk/childrens-responsive-ichef-ck/{width}xn/amz/cbeebies/furchester-hotel-game-cc-2017-v2.jpg"></span> 
                     <noscript> 
                      <img src="https://ichef.bbci.co.uk/childrens-responsive-ichef-ck/400xn/amz/cbeebies/furchester-hotel-game-cc-2017-v2.jpg" alt=""> 
                     </noscript> </span> 
                   </div> 
                   <div class="content-card__flag flag flag--icon flag--games"> <span class="flag__icon"></span> <span class="flag__text"></span> 
                   </div> 
                  </div><!--
  -->
                  <div class="content-card__info"> 
                   <p class="content-card__title" aria-label="The Furchester Hotel: A Helping Hand"> The Furchester Hotel: A Helping Hand </p> 
                   <div class="content-card__details"> 
                    <ul class="content-card__counts">
                     <!--
      
      
      
      
    -->
                    </ul> 
                   </div> 
                  </div> </a> </li><!--
                
                    -->
                <li class="carousel__item "> <a href="/cbeebies/games/ninas-earth-explorers-game?collection=fun-activities-to-do-with-older-kids" class="content-card content-card--games content-card--minimal" data-stats-interaction="collection" data-stats-interaction-variant="content_card" data-stats-interaction-position="32" data-stats-internal-link-location="fun-activities-to-do-with-older-kids" data-site-section="games"> 
                  <div class="content-card__image-wrapper "> 
                   <div class="content-card__image"> <span class="responsive-img responsive-img--16x9 "> <span class="delayed-image-load" data-src="https://ichef.bbci.co.uk/childrens-responsive-ichef-ck/{width}xn/amz/cbeebies/cbeebies-nina_and_the_neurons-games-ninas_earth_explorers-ninas_earth_explorers_game_generic_432x243.jpg"></span> 
                     <noscript> 
                      <img src="https://ichef.bbci.co.uk/childrens-responsive-ichef-ck/400xn/amz/cbeebies/cbeebies-nina_and_the_neurons-games-ninas_earth_explorers-ninas_earth_explorers_game_generic_432x243.jpg" alt=""> 
                     </noscript> </span> 
                   </div> 
                   <div class="content-card__flag flag flag--icon flag--games"> <span class="flag__icon"></span> <span class="flag__text"></span> 
                   </div> 
                  </div><!--
  -->
                  <div class="content-card__info"> 
                   <p class="content-card__title" aria-label="Ninas Earth Explorers"> Ninas Earth Explorers </p> 
                   <div class="content-card__details"> 
                    <ul class="content-card__counts">
                     <!--
      
      
      
      
    -->
                    </ul> 
                   </div> 
                  </div> </a> </li><!--
                
            -->
               </ul> 
              </div><!--
    -->
             </div> 
            </div> 
           </div> 
          </div> 
          <section class="content-item__section content-page__section--brand-onward-journey-footer brand-onward-journey--bottom"> 
           <div class="brand-journey-card"> 
            <div class="brand-journey-card__inner"> 
             <div class="brand-journey-card__body-container"> 
              <div class="brand-journey-card__title-container"> <a class="brand-journey-card__title-link" href="/cbeebies/shows/graces-amazing-machines" data-stats-interaction="show_oj" data-stats-interaction-variant="panel"> <h3 class="brand-journey-card__title">Grace's Amazing Machines</h3> </a> 
              </div> 
              <div class="brand-journey-card__image-container"> <a class="brand-journey-card__image-link" href="/cbeebies/shows/graces-amazing-machines" data-stats-interaction="show_oj" data-stats-interaction-variant="panel"> <span class="responsive-img responsive-img--5x6 brand-journey-card__image"> <span class="delayed-png-image-load" data-src="https://ichef.bbci.co.uk/childrens-responsive-ichef-live/r/{width}/{pixel_ratio}x/cbeebies/graces-amazing-machines-onward-journey-v3.png" data-alt="Grace's Amazing Machines"></span> 
                 <noscript> 
                  <img src="https://ichef.bbci.co.uk/childrens-responsive-ichef-live/r/400/1x/cbeebies/graces-amazing-machines-onward-journey-v3.png" alt="Grace's Amazing Machines"> 
                 </noscript> </span> </a> 
              </div> 
              <div class="brand-journey-card__button-container"> 
               <div class="brand-journey-card__button button  button--immersive ">
                <!--
--><a class="button__link" href="/cbeebies/shows/graces-amazing-machines" data-stats-interaction="show_oj" data-stats-interaction-variant="panel"><!--
    --><span class="button__inner"> <span class="button__text">View all</span> <i class="brand-journey-card__chevron button__icon-pre gelicon gelicon--next" aria-hidden="true"></i> </span><!--
--></a><!--
  --><!--
-->
               </div> 
              </div> 
             </div> 
            </div> 
           </div> 
          </section> 
         </div> 
        </section> 
        <script>
    require(['jquery-1'], function ($) {
        var cover = $('.childrens-wrapper__cover');
        var secondContentItemSection = $('.content-item__section').eq(1);
        function updateCoverHeight() {
            var height = secondContentItemSection.offset().top - cover.offset().top;
            if (height > 250) {
                cover.height(height);
            }
        }
        if (cover.length && secondContentItemSection.length) {
            updateCoverHeight();
            var timer = null;
            $(window).on('orientationchange', updateCoverHeight);
            $(window).resize(function () {
                if (timer) {
                    clearTimeout(timer);
                }
                timer = setTimeout(updateCoverHeight, 150);
            });
        }
        var menuToggleButton = $('.menu__toggle');
        menuToggleButton.click(function () {
           window.setTimeout(updateCoverHeight, 100);
        });
    });
</script> 
        <section class="onward-journeys content-page__section content-page__section--content-cards"> 
         <div class="onward-journey__cards"> 
          <ul class="content-list"> 
           <li class="content-list__item" data-follows-panel-item data-resource-id=""> <a href="/cbeebies/puzzles/graces-amazing-machines-make-your-own-machine" class="content-card content-card--puzzles content-card--styled content-card--animated" data-stats-interaction="oj" data-stats-interaction-variant="content_card" data-stats-interaction-position="0" data-site-section="puzzles"> 
             <div class="content-card__image-wrapper "> 
              <div class="content-card__image"> <span class="responsive-img responsive-img--16x9 "> <span class="delayed-image-load" data-src="https://ichef.bbci.co.uk/childrens-responsive-ichef-live/r/{width}/{pixel_ratio}x/cbeebies/GAM_MakeYourOwnMachine_Index.jpg" data-alt="Grace's Amazing Machines - Make Your Own Machine"></span> 
                <noscript> 
                 <img src="https://ichef.bbci.co.uk/childrens-responsive-ichef-live/r/400/1x/cbeebies/GAM_MakeYourOwnMachine_Index.jpg" alt="Grace's Amazing Machines - Make Your Own Machine"> 
                </noscript> </span> 
              </div> 
              <div class="content-card__flag flag flag--icon flag--puzzles"> <span class="flag__icon"></span> <span class="flag__text"></span> 
              </div> 
             </div><!--
  -->
             <div class="content-card__info"> 
              <p class="content-card__title" aria-label="Make Your Own Machine"> Make Your Own Machine </p> 
              <div class="content-card__details"> 
               <p class="content-card__subtitle " aria-label="from Grace's Amazing Machines">Grace's Amazing Machines</p> 
               <ul class="content-card__counts">
                <!--
      
      
      
      
        
          -->
                <li class="content-card__count content-card__count--reactions"> <i class="gelicon gelicon--smiley content-card__count-icon" aria-hidden="true"></i> <span class="content-card__reaction-count"> <span class="content-card__count-description">Number of Loves, LOLs and other reactions </span> <span class="content-card__count-number">107</span> </span> </li><!--
        
      
    -->
               </ul> 
              </div> 
             </div> </a> </li>
           <li class="content-list__item" data-follows-panel-item data-resource-id=""> <a href="/cbeebies/games/alba-go-jetters-crathadh-cruinneil" class="content-card content-card--games content-card--styled content-card--animated" data-stats-interaction="oj" data-stats-interaction-variant="content_card" data-stats-interaction-position="1" data-site-section="games"> 
             <div class="content-card__image-wrapper "> 
              <div class="content-card__image"> <span class="responsive-img responsive-img--16x9 "> <span class="delayed-image-load" data-src="https://ichef.bbci.co.uk/childrens-responsive-ichef-live/r/{width}/{pixel_ratio}x/cbeebies/Go-Jetters-Game-Thumbnail.jpg" data-alt="ALBA - Go Jetters"></span> 
                <noscript> 
                 <img src="https://ichef.bbci.co.uk/childrens-responsive-ichef-live/r/400/1x/cbeebies/Go-Jetters-Game-Thumbnail.jpg" alt="ALBA - Go Jetters"> 
                </noscript> </span> 
              </div> 
              <div class="content-card__flag flag flag--icon flag--games"> <span class="flag__icon"></span> <span class="flag__text"></span> 
              </div> 
             </div><!--
  -->
             <div class="content-card__info"> 
              <p class="content-card__title" aria-label="Go Jetters"> Go Jetters </p> 
              <div class="content-card__details"> 
               <p class="content-card__subtitle " aria-label="from ALBA">ALBA</p> 
               <ul class="content-card__counts">
                <!--
      
      
      
      
        
          -->
                <li class="content-card__count content-card__count--reactions"> <i class="gelicon gelicon--smiley content-card__count-icon" aria-hidden="true"></i> <span class="content-card__reaction-count"> <span class="content-card__count-description">Number of Loves, LOLs and other reactions </span> <span class="content-card__count-number">1368</span> </span> </li><!--
        
      
    -->
               </ul> 
              </div> 
             </div> </a> </li>
           <li class="content-list__item" data-follows-panel-item data-resource-id=""> <a href="/cbeebies/watch/graces-amazing-green-machines" class="content-card content-card--watch content-card--styled content-card--animated" data-stats-interaction="oj" data-stats-interaction-variant="content_card" data-stats-interaction-position="2" data-site-section="watch"> 
             <div class="content-card__image-wrapper "> 
              <div class="content-card__image"> <span class="responsive-img responsive-img--16x9 "> <span class="delayed-image-load" data-src="https://ichef.bbci.co.uk/childrens-responsive-ichef-live/r/{width}/{pixel_ratio}x/cbeebies/grace-green-machine-clip.jpg" data-alt="Grace's Amazing Machines - Grace's Amazing Green Machines"></span> 
                <noscript> 
                 <img src="https://ichef.bbci.co.uk/childrens-responsive-ichef-live/r/400/1x/cbeebies/grace-green-machine-clip.jpg" alt="Grace's Amazing Machines - Grace's Amazing Green Machines"> 
                </noscript> </span> 
              </div> 
              <div class="content-card__flag flag flag--icon flag--watch"> <span class="flag__icon"></span> <span class="flag__text"></span> 
              </div> 
             </div><!--
  -->
             <div class="content-card__info"> 
              <p class="content-card__title" aria-label="Grace's Amazing Green Machines"> Grace's Amazing Green Machines </p> 
              <div class="content-card__details"> 
               <p class="content-card__subtitle " aria-label="from Grace's Amazing Machines">Grace's Amazing Machines</p> 
               <ul class="content-card__counts">
                <!--
      
      
      
      
        
          -->
                <li class="content-card__count content-card__count--reactions"> <i class="gelicon gelicon--smiley content-card__count-icon" aria-hidden="true"></i> <span class="content-card__reaction-count"> <span class="content-card__count-description">Number of Loves, LOLs and other reactions </span> <span class="content-card__count-number">35</span> </span> </li><!--
        
      
    -->
               </ul> 
              </div> 
             </div> </a> </li> 
          </ul> 
         </div> 
        </section> 
        <script>
    require(['jquery-1', 'stats/stats', 'domReady!'], function ($, stats, domReady) {
        stats.recordEvent({
            action_name: 'web_oj',
            action_type: 'view'
        }, $('.childrens-wrapper'), window.location.pathname);
    });
</script> 
        <section class="content-page__section content-page__section--brandcards"> <a href="/cbeebies/shows/graces-amazing-machines" class="brandcard" data-stats-interaction="show_oj" data-stats-interaction-variant="panel"><!--
    -->
          <div class="brandcard__inner">
           <!--
        -->
           <div class="brandcard__image-container"> 
            <div class="brandcard__image"> <span class="responsive-img responsive-img--16x9 "> <span class="delayed-png-image-load" data-src="https://ichef.bbci.co.uk/childrens-responsive-ichef-live/r/{width}/{pixel_ratio}x/cbeebies/graces-amazing-machines-onward-journey-v3.png" data-alt="Grace's Amazing Machines"></span> 
              <noscript> 
               <img src="https://ichef.bbci.co.uk/childrens-responsive-ichef-live/r/400/1x/cbeebies/graces-amazing-machines-onward-journey-v3.png" alt="Grace's Amazing Machines"> 
              </noscript> </span> 
            </div> 
           </div><!--
        -->
           <div class="brandcard__text"> <span class="brandcard__text-inner"> <span class="brandcard__brand-prefix">All</span> <span class="brandcard__brand-name-container"> <span class="brandcard__brand-name">Grace's Amazing Machines <span class="brandcard__link-icon gelicon gelicon--next"></span></span> </span> </span> 
           </div><!--
    -->
          </div><!--
--></a> 
        </section> 
       </div><!--
        -->
       <div class="content-page__column content-page__column--side"> 
        <section class="content-page__section--brand-onward-journey brand-onward-journey--top"> 
         <div class="brand-journey-card"> 
          <div class="brand-journey-card__inner"> 
           <div class="brand-journey-card__body-container"> 
            <div class="brand-journey-card__title-container"> <a class="brand-journey-card__title-link" href="/cbeebies/shows/graces-amazing-machines" data-stats-interaction="show_oj" data-stats-interaction-variant="panel"> <h3 class="brand-journey-card__title">Grace's Amazing Machines</h3> </a> 
            </div> 
            <div class="brand-journey-card__image-container"> <a class="brand-journey-card__image-link" href="/cbeebies/shows/graces-amazing-machines" data-stats-interaction="show_oj" data-stats-interaction-variant="panel"> <span class="responsive-img responsive-img--5x6 brand-journey-card__image"> <span class="delayed-png-image-load" data-src="https://ichef.bbci.co.uk/childrens-responsive-ichef-live/r/{width}/{pixel_ratio}x/cbeebies/graces-amazing-machines-onward-journey-v3.png" data-alt="Grace's Amazing Machines"></span> 
               <noscript> 
                <img src="https://ichef.bbci.co.uk/childrens-responsive-ichef-live/r/400/1x/cbeebies/graces-amazing-machines-onward-journey-v3.png" alt="Grace's Amazing Machines"> 
               </noscript> </span> </a> 
            </div> 
            <div class="brand-journey-card__button-container"> 
             <div class="brand-journey-card__button button  button--immersive ">
              <!--
--><a class="button__link" href="/cbeebies/shows/graces-amazing-machines" data-stats-interaction="show_oj" data-stats-interaction-variant="panel"><!--
    --><span class="button__inner"> <span class="button__text">View all</span> <i class="brand-journey-card__chevron button__icon-pre gelicon gelicon--next" aria-hidden="true"></i> </span><!--
--></a><!--
  --><!--
-->
             </div> 
            </div> 
           </div> 
          </div> 
         </div> 
        </section> 
        <div class="collection-list"> 
         <div class="collection-list__title-container"> <a class="collection-list__title-link" href="/cbeebies/curations/fun-activities-to-do-with-older-kids" data-stats-interaction="collection" data-stats-interaction-variant="text_link"> <h3 class="collection-list__title" aria-label="Games for older kids  collection">Games for older kids </h3> </a> 
         </div> 
         <ul class="collection-list__items"> 
          <li class="collection-list__item"> <a href="/cbeebies/games/swashbuckle-the-midnight-mystery-game?collection=fun-activities-to-do-with-older-kids" class="content-card content-card--games content-card--minimal" data-stats-interaction="collection" data-stats-interaction-variant="content_card" data-stats-interaction-position="0" data-stats-internal-link-location="fun-activities-to-do-with-older-kids" data-site-section="games"> 
            <div class="content-card__image-wrapper "> 
             <div class="content-card__image"> <span class="responsive-img responsive-img--16x9 "> <span class="delayed-image-load" data-src="https://ichef.bbci.co.uk/childrens-responsive-ichef-ck/{width}xn/amz/cbeebies/swashbuckle-midnight-mystery-game-gem-cc.jpg"></span> 
               <noscript> 
                <img src="https://ichef.bbci.co.uk/childrens-responsive-ichef-ck/400xn/amz/cbeebies/swashbuckle-midnight-mystery-game-gem-cc.jpg" alt=""> 
               </noscript> </span> 
             </div> 
             <div class="content-card__flag flag flag--icon flag--games"> <span class="flag__icon"></span> <span class="flag__text"></span> 
             </div> 
            </div><!--
  -->
            <div class="content-card__info"> 
             <p class="content-card__title" aria-label="The Midnight Mystery Game"> The Midnight Mystery Game </p> 
             <div class="content-card__details"> 
              <ul class="content-card__counts">
               <!--
      
      
      
      
    -->
              </ul> 
             </div> 
            </div> </a> </li>
          <li class="collection-list__item"> <a href="/cbeebies/games/waffle-and-friends-game?collection=fun-activities-to-do-with-older-kids" class="content-card content-card--games content-card--minimal" data-stats-interaction="collection" data-stats-interaction-variant="content_card" data-stats-interaction-position="1" data-stats-internal-link-location="fun-activities-to-do-with-older-kids" data-site-section="games"> 
            <div class="content-card__image-wrapper "> 
             <div class="content-card__image"> <span class="responsive-img responsive-img--16x9 "> <span class="delayed-image-load" data-src="https://ichef.bbci.co.uk/childrens-responsive-ichef-ck/{width}xn/amz/cbeebies/waffle-and-friends-game-cbeebies-cc.jpg"></span> 
               <noscript> 
                <img src="https://ichef.bbci.co.uk/childrens-responsive-ichef-ck/400xn/amz/cbeebies/waffle-and-friends-game-cbeebies-cc.jpg" alt=""> 
               </noscript> </span> 
             </div> 
             <div class="content-card__flag flag flag--icon flag--games"> <span class="flag__icon"></span> <span class="flag__text"></span> 
             </div> 
            </div><!--
  -->
            <div class="content-card__info"> 
             <p class="content-card__title" aria-label="It's time to play with Waffle and Friends"> It's time to play with Waffle and Friends </p> 
             <div class="content-card__details"> 
              <ul class="content-card__counts">
               <!--
      
      
      
      
    -->
              </ul> 
             </div> 
            </div> </a> </li>
          <li class="collection-list__item"> <a href="/cbeebies/games/sarah-and-duck-game?collection=fun-activities-to-do-with-older-kids" class="content-card content-card--games content-card--minimal" data-stats-interaction="collection" data-stats-interaction-variant="content_card" data-stats-interaction-position="2" data-stats-internal-link-location="fun-activities-to-do-with-older-kids" data-site-section="games"> 
            <div class="content-card__image-wrapper "> 
             <div class="content-card__image"> <span class="responsive-img responsive-img--16x9 "> <span class="delayed-image-load" data-src="https://ichef.bbci.co.uk/childrens-responsive-ichef-ck/{width}xn/amz/cbeebies/SarahDuck_bubblepop_game_Banner_1024_576.jpg"></span> 
               <noscript> 
                <img src="https://ichef.bbci.co.uk/childrens-responsive-ichef-ck/400xn/amz/cbeebies/SarahDuck_bubblepop_game_Banner_1024_576.jpg" alt=""> 
               </noscript> </span> 
             </div> 
             <div class="content-card__flag flag flag--icon flag--games"> <span class="flag__icon"></span> <span class="flag__text"></span> 
             </div> 
            </div><!--
  -->
            <div class="content-card__info"> 
             <p class="content-card__title" aria-label="Sarah and Duck Game"> Sarah and Duck Game </p> 
             <div class="content-card__details"> 
              <ul class="content-card__counts">
               <!--
      
      
      
      
    -->
              </ul> 
             </div> 
            </div> </a> </li>
          <li class="collection-list__item"> <a href="/cbeebies/games/go-jetters-global-grooves?collection=fun-activities-to-do-with-older-kids" class="content-card content-card--games content-card--minimal" data-stats-interaction="collection" data-stats-interaction-variant="content_card" data-stats-interaction-position="3" data-stats-internal-link-location="fun-activities-to-do-with-older-kids" data-site-section="games"> 
            <div class="content-card__image-wrapper "> 
             <div class="content-card__image"> <span class="responsive-img responsive-img--16x9 "> <span class="delayed-image-load" data-src="https://ichef.bbci.co.uk/childrens-responsive-ichef-ck/{width}xn/amz/cbeebies/go-jetters-global-grooves-index.jpg"></span> 
               <noscript> 
                <img src="https://ichef.bbci.co.uk/childrens-responsive-ichef-ck/400xn/amz/cbeebies/go-jetters-global-grooves-index.jpg" alt=""> 
               </noscript> </span> 
             </div> 
             <div class="content-card__flag flag flag--icon flag--games"> <span class="flag__icon"></span> <span class="flag__text"></span> 
             </div> 
            </div><!--
  -->
            <div class="content-card__info"> 
             <p class="content-card__title" aria-label="Go Jetters Global Grooves"> Go Jetters Global Grooves </p> 
             <div class="content-card__details"> 
              <ul class="content-card__counts">
               <!--
      
      
      
      
    -->
              </ul> 
             </div> 
            </div> </a> </li> 
         </ul> 
         <div class="collection-list__button button  button--immersive ">
          <!--
--><a class="button__link" href="/cbeebies/curations/fun-activities-to-do-with-older-kids" data-stats-interaction="collection" data-stats-interaction-variant="button"><!--
    --><span class="button__inner"> <span class="button__text">View collection</span> <i class="collection-list__chevron button__icon-pre gelicon gelicon--next" aria-hidden="true"></i> </span><!--
--></a><!--
  --><!--
-->
         </div> 
        </div> 
        <section class="content-page__section--brand-onward-journey brand-onward-journey--bottom"> 
         <div class="brand-journey-card"> 
          <div class="brand-journey-card__inner"> 
           <div class="brand-journey-card__body-container"> 
            <div class="brand-journey-card__title-container"> <a class="brand-journey-card__title-link" href="/cbeebies/shows/graces-amazing-machines" data-stats-interaction="show_oj" data-stats-interaction-variant="panel"> <h3 class="brand-journey-card__title">Grace's Amazing Machines</h3> </a> 
            </div> 
            <div class="brand-journey-card__image-container"> <a class="brand-journey-card__image-link" href="/cbeebies/shows/graces-amazing-machines" data-stats-interaction="show_oj" data-stats-interaction-variant="panel"> <span class="responsive-img responsive-img--5x6 brand-journey-card__image"> <span class="delayed-png-image-load" data-src="https://ichef.bbci.co.uk/childrens-responsive-ichef-live/r/{width}/{pixel_ratio}x/cbeebies/graces-amazing-machines-onward-journey-v3.png" data-alt="Grace's Amazing Machines"></span> 
               <noscript> 
                <img src="https://ichef.bbci.co.uk/childrens-responsive-ichef-live/r/400/1x/cbeebies/graces-amazing-machines-onward-journey-v3.png" alt="Grace's Amazing Machines"> 
               </noscript> </span> </a> 
            </div> 
            <div class="brand-journey-card__button-container"> 
             <div class="brand-journey-card__button button  button--immersive ">
              <!--
--><a class="button__link" href="/cbeebies/shows/graces-amazing-machines" data-stats-interaction="show_oj" data-stats-interaction-variant="panel"><!--
    --><span class="button__inner"> <span class="button__text">View all</span> <i class="brand-journey-card__chevron button__icon-pre gelicon gelicon--next" aria-hidden="true"></i> </span><!--
--></a><!--
  --><!--
-->
             </div> 
            </div> 
           </div> 
          </div> 
         </div> 
        </section> 
       </div> 
      </div> 
     </div> 
     <section class="brand-shelf-section"> 
      <p class="brand-shelf__title window window--extra-wide grid-container" hidden></p> 
      <div class="brand-shelf-container window window--extra-wide"> 
       <div id="brand-shelf" data-simple-carousel class="brand-shelf simple-carousel"> 
        <div class="brand-shelf__main"> 
         <div class="simple-carousel__controls"> 
          <div class="brand-shelf__curtain brand-shelf__curtain--left"></div> 
          <div class="brand-shelf__curtain brand-shelf__curtain--right"></div> <button class="brand-shelf__button brand-shelf__button--prev simple-carousel__button--prev"> <span class="vh">Previous items</span> <i class="gelicon gelicon--previous" aria-hidden="true"></i> </button> <button class="brand-shelf__button brand-shelf__button--next simple-carousel__button--next"> <span class="vh">Next items</span> <i class="gelicon gelicon--next" aria-hidden="true"></i> </button> 
         </div> 
         <div class="simple-carousel__window brand-shelf__window"> 
          <div class="simple-carousel__panel"> 
           <ul class="brand-shelf__list">
            <!--
                
                  -->
            <li class="simple-carousel__item brand-shelf__item"> <a class="brand-shelf__link" href="/cbeebies/shows/bluey" data-stats-interaction="brand_shelf" data-stats-interaction-variant="show" data-stats-interaction-position="0"> <span class="responsive-img responsive-img--5x6 brand-shelf__image"> <span class="delayed-png-image-load" data-src="https://ichef.bbci.co.uk/childrens-responsive-ichef-live/r/{width}/{pixel_ratio}x/cbeebies/Bluey-brandp-a-z2.png" data-alt="Bluey character in an orange egg."></span> 
               <noscript> 
                <img src="https://ichef.bbci.co.uk/childrens-responsive-ichef-live/r/400/1x/cbeebies/Bluey-brandp-a-z2.png" alt="Bluey character in an orange egg."> 
               </noscript> </span> </a> </li><!--
                
                  -->
            <li class="simple-carousel__item brand-shelf__item"> <a class="brand-shelf__link" href="/cbeebies/shows/jojo-and-gran" data-stats-interaction="brand_shelf" data-stats-interaction-variant="show" data-stats-interaction-position="1"> <span class="responsive-img responsive-img--5x6 brand-shelf__image"> <span class="delayed-png-image-load" data-src="https://ichef.bbci.co.uk/childrens-responsive-ichef-live/r/{width}/{pixel_ratio}x/cbeebies/jojo-and-grangran-brand-egg.png" data-alt="JoJo &amp; Gran Gran."></span> 
               <noscript> 
                <img src="https://ichef.bbci.co.uk/childrens-responsive-ichef-live/r/400/1x/cbeebies/jojo-and-grangran-brand-egg.png" alt="JoJo &amp; Gran Gran."> 
               </noscript> </span> </a> </li><!--
                
                  -->
            <li class="simple-carousel__item brand-shelf__item"> <a class="brand-shelf__link" href="/cbeebies/shows/numberblocks" data-stats-interaction="brand_shelf" data-stats-interaction-variant="show" data-stats-interaction-position="2"> <span class="responsive-img responsive-img--5x6 brand-shelf__image"> <span class="delayed-png-image-load" data-src="https://ichef.bbci.co.uk/childrens-responsive-ichef-live/r/{width}/{pixel_ratio}x/cbeebies/numberblocks-egg-v4.png"></span> 
               <noscript> 
                <img src="https://ichef.bbci.co.uk/childrens-responsive-ichef-live/r/400/1x/cbeebies/numberblocks-egg-v4.png" alt=""> 
               </noscript> </span> </a> </li><!--
                
                  -->
            <li class="simple-carousel__item brand-shelf__item"> <a class="brand-shelf__link" href="/cbeebies/shows/cbeebies-house" data-stats-interaction="brand_shelf" data-stats-interaction-variant="show" data-stats-interaction-position="3"> <span class="responsive-img responsive-img--5x6 brand-shelf__image"> <span class="delayed-png-image-load" data-src="https://ichef.bbci.co.uk/childrens-responsive-ichef-live/r/{width}/{pixel_ratio}x/cbeebies/Cbeebies-House-Egg-Evie-Ben.png" data-alt="Evie and Ben from CBeebies House."></span> 
               <noscript> 
                <img src="https://ichef.bbci.co.uk/childrens-responsive-ichef-live/r/400/1x/cbeebies/Cbeebies-House-Egg-Evie-Ben.png" alt="Evie and Ben from CBeebies House."> 
               </noscript> </span> </a> </li><!--
                
                  -->
            <li class="simple-carousel__item brand-shelf__item"> <a class="brand-shelf__link" href="/cbeebies/shows/something-special" data-stats-interaction="brand_shelf" data-stats-interaction-variant="show" data-stats-interaction-position="4"> <span class="responsive-img responsive-img--5x6 brand-shelf__image"> <span class="delayed-png-image-load" data-src="https://ichef.bbci.co.uk/childrens-responsive-ichef-live/r/{width}/{pixel_ratio}x/cbeebies/something-special-brand-egg-2022.png" data-alt="Mr Tumble smiling with a thumbs up."></span> 
               <noscript> 
                <img src="https://ichef.bbci.co.uk/childrens-responsive-ichef-live/r/400/1x/cbeebies/something-special-brand-egg-2022.png" alt="Mr Tumble smiling with a thumbs up."> 
               </noscript> </span> </a> </li><!--
                
                  -->
            <li class="simple-carousel__item brand-shelf__item"> <a class="brand-shelf__link" href="/cbeebies/shows/swashbuckle-online" data-stats-interaction="brand_shelf" data-stats-interaction-variant="show" data-stats-interaction-position="5"> <span class="responsive-img responsive-img--5x6 brand-shelf__image"> <span class="delayed-png-image-load" data-src="https://ichef.bbci.co.uk/childrens-responsive-ichef-live/r/{width}/{pixel_ratio}x/cbeebies/swashbuckle-s7-brand_egg.png" data-alt="A woman (Gem) has her hands on her hips and is smiling, whilst a woman (captain) has her hands on her hips and it looking over in suspicion at Gem."></span> 
               <noscript> 
                <img src="https://ichef.bbci.co.uk/childrens-responsive-ichef-live/r/400/1x/cbeebies/swashbuckle-s7-brand_egg.png" alt="A woman (Gem) has her hands on her hips and is smiling, whilst a woman (captain) has her hands on her hips and it looking over in suspicion at Gem."> 
               </noscript> </span> </a> </li><!--
                
              -->
           </ul> 
          </div> 
         </div> 
        </div> 
       </div> 
       <div class="brand-shelf__all-shows-link button  button--center  button--shows ">
        <!--
--><a class="button__link" href="/cbeebies/shows" data-stats-interaction="brand_shelf" data-stats-interaction-variant="all_shows"><!--
    --><span class="button__inner"> <span class="button__text">All shows</span> <i class="button__icon-gel gelicon gelicon--next gelicon--trailing" aria-hidden="true"></i> </span><!--
--></a><!--
  --><!--
-->
       </div> 
      </div> 
     </section> 
     <section class="channel-banner-section" data-channel-banner data-channel-banner-enable-close-persist="true" data-ng-class="{'channel-banner-section--hide' : isChannelBannerHidden}"> 
      <script>
                (function () {
                    var cookieCheckingEnabled = true;
                    var channelBannerSection = document.querySelector(".channel-banner-section");

                    function hideChannelBannerIfCookieIsSet() {
                        var channelBannerCookieName = 'ckps_cbeebies_channel_banner_hidden';
                        var hideCookieIsSet = document.cookie.indexOf(" " + channelBannerCookieName + "=true") > 0;
                        if (hideCookieIsSet) {
                            channelBannerSection.className += ' channel-banner-section--hide';
                        }
                    }

                    function showCloseButtonIfCookiesAreAllowed() {
                        var cookiePolicy = window.bbccookies.readPolicy();
                        var personalisationAllowed = cookiePolicy.personalisation;
                        if (personalisationAllowed) {
                            showCloseButton();
                        }
                    }

                    function showCloseButton() {
                        channelBannerSection.className += ' channel-banner-section--show-close';
                    }

                    if (cookieCheckingEnabled) {
                        hideChannelBannerIfCookieIsSet();
                        showCloseButtonIfCookiesAreAllowed();
                    } else {
                        showCloseButton();
                    }
                })()
            </script> 
      <div class="channel-banner-section__inner window window--extra-wide"> 
       <div class="channel-banner"> 
        <div class="channel-banner__inner"> 
         <div class="channel-banner__title-bar"> <a class="channel-banner__logo" href="/cbbc" data-istats-click="cross_channel_logo" data-stats-interaction="channel_banner" data-stats-interaction-variant="logo"> <img class="channel-banner__logo-image" alt="CBBC logo" src="https://childrens-web.files.bbci.co.uk/cbeebies/www/assets/6cc36e0/images/channel-banner/logo.png"> </a> <span class="channel-banner__title">Are you ready to try CBBC?</span> 
         </div> 
         <div class="channel-banner__main"> 
          <ul class="channel-banner__list"> 
           <li class="channel-banner__list-item"> <a class="channel-banner__link channel-banner-link" href="/cbbc/shows/the-deep" data-stats-interaction="channel_banner" data-stats-interaction-variant="show" data-stats-interaction-position="0"> <span class="channel-banner-link__image"> <span class="responsive-img responsive-img--16x9 "> <span class="delayed-png-image-load" data-src="https://ichef.bbci.co.uk/childrens-responsive-ichef-live/r/{width}/{pixel_ratio}x/cbeebies/the-deep-crossover-panel.png"></span> 
               <noscript> 
                <img src="https://ichef.bbci.co.uk/childrens-responsive-ichef-live/r/400/1x/cbeebies/the-deep-crossover-panel.png" alt=""> 
               </noscript> </span> </span><!--
    
    --> </a> </li>
           <li class="channel-banner__list-item"> <a class="channel-banner__link channel-banner-link" href="/cbbc/shows/shaun-the-sheep" data-stats-interaction="channel_banner" data-stats-interaction-variant="show" data-stats-interaction-position="1"> <span class="channel-banner-link__image"> <span class="responsive-img responsive-img--16x9 "> <span class="delayed-png-image-load" data-src="https://ichef.bbci.co.uk/childrens-responsive-ichef-live/r/{width}/{pixel_ratio}x/cbeebies/Shaun-the-sheep.png"></span> 
               <noscript> 
                <img src="https://ichef.bbci.co.uk/childrens-responsive-ichef-live/r/400/1x/cbeebies/Shaun-the-sheep.png" alt=""> 
               </noscript> </span> </span><!--
    
    --> </a> </li>
           <li class="channel-banner__list-item"> <a class="channel-banner__link channel-banner-link" href="/cbbc/shows/danger-mouse" data-stats-interaction="channel_banner" data-stats-interaction-variant="show" data-stats-interaction-position="2"> <span class="channel-banner-link__image"> <span class="responsive-img responsive-img--16x9 "> <span class="delayed-png-image-load" data-src="https://ichef.bbci.co.uk/childrens-responsive-ichef-live/r/{width}/{pixel_ratio}x/cbeebies/Dm-crossover-panel2.png"></span> 
               <noscript> 
                <img src="https://ichef.bbci.co.uk/childrens-responsive-ichef-live/r/400/1x/cbeebies/Dm-crossover-panel2.png" alt=""> 
               </noscript> </span> </span><!--
    
    --> </a> </li>
           <li class="channel-banner__list-item"> <a class="channel-banner__link channel-banner-link" href="/cbbc/shows/blue-peter" data-stats-interaction="channel_banner" data-stats-interaction-variant="show" data-stats-interaction-position="3"> <span class="channel-banner-link__image"> <span class="responsive-img responsive-img--16x9 "> <span class="delayed-png-image-load" data-src="https://ichef.bbci.co.uk/childrens-responsive-ichef-live/r/{width}/{pixel_ratio}x/cbeebies/BP-crossover-panel-2.png" data-alt="Blue Peter image"></span> 
               <noscript> 
                <img src="https://ichef.bbci.co.uk/childrens-responsive-ichef-live/r/400/1x/cbeebies/BP-crossover-panel-2.png" alt="Blue Peter image"> 
               </noscript> </span> </span><!--
    
    --> </a> </li> 
          </ul> 
          <div class="channel-banner__footer"> <a class="channel-banner-close" data-stats-interaction="channel_banner" data-stats-interaction-variant="close" data-stats-interaction-action="button" data-channel-banner-close data-feedback-banner-open> <i aria-hidden="true" class="gelicon gelicon--no gelicon--leading"></i><span class="channel-banner-close__text">No thanks</span> </a> <span class="channel-banner__title">Are you ready to try CBBC?</span> 
          </div> 
         </div> 
        </div> 
       </div> 
      </div> 
     </section> 
     <section class="feedback-banner-section" data-feedback-banner data-ng-class="{'feedback-banner-section--show' : !isFeedbackBannerHidden}"> 
      <div class="feedback-banner-container window window--extra-wide"> 
       <div class="feedback-banner"> <span class="feedback-banner__close" data-feedback-banner-close data-stats-interaction="channel_banner" data-stats-interaction-variant="hide" data-stats-interaction-action="button" data-istats-click="cross_channel_hide"> <i aria-hidden="true" class="gelicon gelicon--no"></i> </span> 
        <p class="feedback-banner__message">We'll hide these CBBC shows for 30 days.</p> 
        <p class="feedback-banner__undo"><a class="feedback-banner__undo-link" data-feedback-banner-close data-channel-banner-open data-stats-interaction="channel_banner" data-stats-interaction-variant="undo" data-stats-interaction-action="button" data-istats-click="cross_channel_undo">Bring them back!</a></p> 
        <p class="feedback-banner__question">Why did you hide them?</p> 
        <ul class="feedback-banner__options"> 
         <li class="feedback-banner__option" data-feedback-banner-close data-stats-interaction="channel_banner" data-stats-interaction-variant="feedback" data-stats-interaction-position="0" data-stats-interaction-action="button" data-istats-pos="0" data-istats-click="cross_channel_feedback"> <span>Not familiar with CBBC</span> </li> 
         <li class="feedback-banner__option" data-feedback-banner-close data-stats-interaction="channel_banner" data-stats-interaction-variant="feedback" data-stats-interaction-position="1" data-stats-interaction-action="button" data-istats-pos="1" data-istats-click="cross_channel_feedback"> <span>Didn't like those shows</span> </li> 
         <li class="feedback-banner__option" data-feedback-banner-close data-stats-interaction="channel_banner" data-stats-interaction-variant="feedback" data-stats-interaction-position="2" data-stats-interaction-action="button" data-istats-pos="2" data-istats-click="cross_channel_feedback"> <span>Too young for CBBC</span> </li> 
        </ul> 
        <div class="feedback-banner__image"> 
         <img class="feedback-banner__image-inner" src="https://childrens-web.files.bbci.co.uk/cbeebies/www/assets/6cc36e0/images/feedback/feedbackImage.png" alt=""> 
        </div> 
       </div> 
      </div> 
     </section> 
    </div> 
    <div class="cf"></div> 
   </div> 
   <div id="heart-button-isite-tooltip"> 
    <div class="tooltip heart-button__tooltip" data-active-tooltip=""> <span class="tooltip__pointer"></span> 
     <div class="tooltip__inner"> 
      <div class="tooltip__content tooltip__content--upsell"> 
       <p class="tooltip__subtitle"> Love this? Sign in to let us know. </p> 
       <div class="tooltip__idcta"> 
        <p class="id4-cta id-cta-wrapper id-cta--blue id-cta--small"> <a href="" class="id-cta-button" data-bbc-container="id-cta" data-bbc-event-type="click" data-bbc-ignore-views="1" data-bbc-metadata="{&quot;id-cta-type&quot;: &quot;embedded&quot;}" data-bbc-source="responsive_web" data-bbc-title="id-cta-sign-in">
          <svg class="id-cta-icon" viewbox="0 0 32 32" width="1em" height="1em"> <path d="M16 17.5a7.878 7.878 0 01-8-7.75A7.878 7.878 0 0116 2a7.878 7.878 0 018 7.75 7.878 7.878 0 01-8 7.75zM2 30c0-5.883 7.519-10 14.014-10C22.48 20 30 24.12 30 29.994c0 .005-28 .007-28 .005z"></path>
          </svg>Sign in</a> or <a href="" class="id-cta-link" data-bbc-container="id-cta" data-bbc-event-type="click" data-bbc-ignore-views="1" data-bbc-metadata="{&quot;id-cta-type&quot;: &quot;embedded&quot;}" data-bbc-source="responsive_web" data-bbc-title="id-cta-registration">Register</a> <script>
    require(["jquery-1", "idcta-v2/id-config"], ($, idctaConfig) => {
      idctaConfig.getConfigAsync().then((idConfig) => {
        $(".id-cta-button").each(function () {
          if (idConfig.signin_url) {
            this.href = idConfig.signin_url;
          }
        });
        $(".id-cta-link").each(function () {
          if (idConfig.register_url) {
            this.href = idConfig.register_url;
          }
        });
      });
    });
  </script> </p> 
       </div> 
      </div> 
      <div class="tooltip__content tooltip__content--error"> 
       <p class="tooltip__title"> <span class="add-to__icons add-to__s"> <i aria-hidden="true" class="gelicon gelicon--alert add-to__gelicon add-to__icon"></i> </span>Something's gone wrong </p> 
       <p class="tooltip__body tooltip__try-again">Please try again later</p> 
      </div> <button href="#" class="tooltip__close add-to__tab" title="Close" aria-label="Close Tooltip"> <span class="tooltip__close-icon"> <i aria-hidden="true" class="gelicon gelicon--no"></i> </span> </button> 
     </div> 
    </div> 
   </div> 
   <script type="text/javascript">

  require(['lib/Imager', 'lib/minpubsub'], function (Imager, pubsub) {

    Imager.transforms.pixelRatio = function (value) {
      return value;
    };

    var availableWidths = [80, 160, 240, 320, 400, 480, 560, 640, 720, 800, 880, 960];
    var imagerDefault = new Imager('.delayed-image-load', {
      availableWidths: availableWidths,
      availablePixelRatios: [1, 1.5],
      loadHidden: false
    });
    var imagerPng = new Imager('.delayed-png-image-load', {
      availableWidths: availableWidths,
      availablePixelRatios: [1],
      loadHidden: false
    });

     var imagerGif = new Imager('.delayed-gif-image-load', {
      availableWidths: availableWidths,
      availablePixelRatios: [1, 1.5],
      lazyload: true,
      loadHidden: false
    });

    pubsub.subscribe('/showMore/updateImages', function () {
      imagerDefault.add('.delayed-image-load');
      imagerPng.add('.delayed-png-image-load');
    });

    pubsub.subscribe('/imager/addPngImages', function (selector) {
      imagerPng.add(selector);
    });

    pubsub.subscribe('/imager/addImages', function (selector) {
        imagerDefault.add(selector);
    });

  });
  
    require(['childrens/singlePlayingVideo'], function (singlePlayingVideo) {
      setTimeout(singlePlayingVideo.setup, 2000);
    });
  

  
    require(['stats/riddle-events'], function (riddleEvents) {
        riddleEvents.init();
    });
  

  require(['angular/app'], function () {});
</script> 
   <script>Morph.toInit.bundles.push(function() { Morph.versions["bbc-morph-debouncer@1.0.1"]={morph:"3.4.0"},function(e){function n(o){if(t[o])return t[o].exports;var r=t[o]={exports:{},id:o,loaded:!1};return e[o].call(r.exports,r,r.exports,n),r.loaded=!0,r.exports}var t={};return n.m=e,n.c=t,n.p="",n(0)}([function(e,n,t){Morph.modules["bbc-morph-debouncer@1.0.1"]=t(1)},function(e,n,t){var o=t(2);e.exports=function(){function e(e,n){window.addEventListener?window.addEventListener(e,n,!1):document.documentElement.attachEvent("onpropertychange",function(t){t.propertyName===e&&n()})}function n(e){var n;document.createEvent?(n=document.createEvent("UIEvents"),n.initEvent(e,!1,!0),window.dispatchEvent(n)):(n=document.documentElement[e],n+=1)}function t(e){return setTimeout(function(){n(e+"-debounced")},i)}var r,c,i=50;o.isClientSide()&&(e("resize",function(){clearTimeout(r),r=t("resize")}),e("scroll",function(){clearTimeout(c),c=t("scroll")}))}()},function(e,n){e.exports=Morph}]);;
});</script> 
   <script>Morph.toInit.bundles.push(function() { Morph.versions["bbc-morph-responsive-image@1.3.1"]={"bbc-morph-debouncer":"1.0.1",morph:"3.5.0",react:"0.14.7"},function(t){function e(r){if(i[r])return i[r].exports;var s=i[r]={exports:{},id:r,loaded:!1};return t[r].call(s.exports,s,s.exports,e),s.loaded=!0,s.exports}var i={};e.m=t,e.c=i,e.p="",e(0)}([function(t,e,i){Morph.modules["bbc-morph-responsive-image@1.3.1"]=i(1)},function(t,e,i){i(2);var r=i(3),s=[64,80,96,128,160,240,320,400,480,512,624,704,800,912,960,1024,1056,1104,1152,1200,1248,1440,1600,1680];t.exports=r.createClass({displayName:"ResponsiveImage",propTypes:{src:r.PropTypes.string.isRequired,alt:r.PropTypes.string,className:r.PropTypes.string,width:r.PropTypes.number,availableWidths:r.PropTypes.arrayOf(r.PropTypes.number),delayed:r.PropTypes.bool,keepAspectRatio:r.PropTypes.string,aspectRatioStartPoint:r.PropTypes.oneOfType([r.PropTypes.number,r.PropTypes.bool])},getDefaultProps:function(){return{width:320,height:180,delayed:!1,background:!1,aspectRatioStartPoint:!1}},getInitialState:function(){var t=this.getClosestGreaterWidth(this.props.width);return{delayed:this.props.delayed,width:t,height:this.calcHeight(this.props.width),background:this.props.background,ratioStartPoint:this.isWidthAboveRatioStartPoint(t)}},componentWillUnmount:function(){window.removeEventListener&&(window.removeEventListener("resize-debounced",this.state.resizeHandler),window.removeEventListener("orientationchange",this.state.resizeHandler),this.props.triggerResizeOnClick&&window.removeEventListener("click",this.state.resizeHandler))},componentDidMount:function(){var t=function(){var t=this.getClosestGreaterWidth(this.node.parentNode.clientWidth);this.setState({width:t,height:this.calcHeight(t)})}.bind(this);window.addEventListener&&(window.addEventListener("resize-debounced",t),window.addEventListener("orientationchange",t),this.props.triggerResizeOnClick&&window.addEventListener("click",t));var e=this.getClosestGreaterWidth(this.node.parentNode.clientWidth),i=this.calcHeight(e);this.setState({delayed:!1,width:e,height:i,resizeHandler:t})},hdpiEnabled:function(){return this.props.hasOwnProperty("hidpi")&&!0===this.props.hidpi&&window.devicePixelRatio>1},defaultInterpolator:function(t,e){var i="";return this.hdpiEnabled()&&(i="-hidpi"),t.replace(/{width}/g,e+i)},interpolate:function(t,e){return this.props.customInterpolator?this.props.customInterpolator(t,e):this.defaultInterpolator(t,e)},getClosestGreaterWidth:function(t){for(var e=this.props.availableWidths||s,i=0;i<e.length;i+=1){var r=e[i];if(r>=t)return r}return e[e.length-1]},calcHeight:function(t){var e=this.getRatio(this.props.keepAspectRatio);return Math.floor(t/e)},getRatio:function(t){var e=1;if("string"==typeof t){var i=/^(\d{1,2})\:(\d{1,2})/g,r=i.exec(t);r.length>0&&(e=r[1]/r[2])}return e},isWidthAboveRatioStartPoint:function(t){return"string"==typeof this.props.keepAspectRatio&&("number"==typeof this.props.aspectRatioStartPoint&&this.props.aspectRatioStartPoint<t||!1===this.props.aspectRatioStartPoint)},setNode:function(t){this.node=t},render:function(){var t,e,i,s=this.state.width;return i=this.isWidthAboveRatioStartPoint(s)?{maxHeight:this.state.height}:{},this.state.delayed?e=r.createElement("img",{ref:this.setNode,src:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"}):this.state.background?(t={backgroundImage:"url("+this.interpolate(this.props.src,this.state.width)+")"},e=r.createElement("div",{ref:this.setNode,style:t,className:this.props.className})):e=r.createElement("img",{ref:this.setNode,src:this.interpolate(this.props.src,this.state.width),alt:this.props.alt,className:this.props.className,style:i}),e}})},function(t,e){t.exports=Morph.modules["bbc-morph-debouncer@1.0.1"]},function(t,e){t.exports=React}]);;
});</script> 
   <script>Morph.toInit.bundles.push(function() { Morph.versions["bbc-morph-games-rotate-view@1.1.6"]={"@babel/polyfill":"7.10.4","@babel/runtime":"7.11.1","morph-static-prefix":"3.0.0","react":"0.14.7"};
!function(e){function t(a){if(r[a])return r[a].exports;var n=r[a]={i:a,l:!1,exports:{}};return e[a].call(n.exports,n,n.exports,t),n.l=!0,n.exports}var r={};t.m=e,t.c=r,t.d=function(e,r,a){t.o(e,r)||Object.defineProperty(e,r,{configurable:!1,enumerable:!0,get:a})},t.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(r,"a",r),r},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=13)}([function(e,t,r){var a=r(16);a(a.S+a.F*!r(5),"Object",{defineProperty:r(11).f})},function(e,t){function r(e){return e&&e.__esModule?e:{default:e}}e.exports=r},function(e,t){e.exports=React},function(e,t,r){"use strict";r(0);var a=r(1);r(0),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(r(2)),c=n.default.createClass({displayName:"Games-Rotate-Loading-Spinner",render:function(){var e={version:"1.1",xmlns:"http://www.w3.org/2000/svg",xlinkHref:"http://www.w3.org/1999/xlink",className:"absolute-center cage-rotate-screen__icon",viewBox:"0 0 500 500",x:0,y:0,xmlSpace:"preserve"};return n.default.createElement("svg",e,n.default.createElement("path",{className:"cage-rotate-screen__path",d:"M389.4,186.2L389.4,186.2c-35.3-64.1-115.7-87.3-179.7-52c-1.2,0.7-2.4,1.4-3.6,2.1 c-0.5,0.3-0.9,0.5-1.4,0.8c-1.5,0.9-2.9,1.8-4.4,2.8c-0.4,0.2-0.7,0.5-1.1,0.7c-1.5,1-3,2.1-4.4,3.1c-0.3,0.2-0.5,0.4-0.8,0.6 c-1.5,1.1-3,2.3-4.4,3.5c-0.2,0.2-0.3,0.3-0.5,0.4c-1.5,1.2-3,2.5-4.4,3.8c-0.1,0.1-0.2,0.2-0.3,0.3c-1.5,1.3-2.9,2.7-4.3,4.1 c-0.1,0.1-0.3,0.3-0.4,0.4c-1.4,1.4-2.7,2.8-4,4.2c-15.2,16.7-26.2,37.4-31.2,60.3l-21.7-39.3L94,198l32,58l16,29l3.7-2.1 l25.1-13.9l5.1-2.8l52.9-29.1l-16-28.9l-35.7,19.7c2.3-9.9,6.1-19.5,11.3-28.3c0,0,0,0,0-0.1c0.7-1.1,1.4-2.2,2.1-3.4 c0.3-0.5,0.6-1,1-1.5c0.3-0.4,0.6-0.8,0.9-1.3c10.1-14.5,24-26.1,40.3-33.6c0.1,0,0.1,0,0.2-0.1c1.3-0.6,2.6-1.2,4-1.7 c0.1,0,0.2-0.1,0.4-0.1c1.3-0.5,2.7-1,4-1.5c0.1,0,0.2-0.1,0.3-0.1c1.4-0.5,2.8-0.9,4.2-1.3c0,0,0.1,0,0.1,0c8.8-2.6,18.2-4,27.8-4 c27.5,0,54.4,11.5,73.4,32.4c0,0.1,0,0.1,0,0.2c16.1,17.6,25.9,40.9,25.9,66.6c0,11.2-1.9,21.9-5.3,31.9c-0.1,0-0.1,0-0.2,0.1 c-7.6,22.6-23.4,42.4-45.8,54.8c-15.2,8.4-31.6,12.3-47.8,12.3v33.1c21.6,0,43.6-5.2,63.8-16.4c11-6.1,20.8-13.5,29.3-22 C391,319.9,406,286.7,406,250C406,226.9,399.9,205.1,389.4,186.2"}))}}),o=c;t.default=o,e.exports=t.default},function(e,t){var r=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=r)},function(e,t,r){e.exports=!r(12)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(e,t){e.exports=function(){return"//"+Morph.config.cdn+"/modules/bbc-morph-games-rotate-view/1.1.6"}},function(e,t){var r=e.exports={version:"2.6.11"};"number"==typeof __e&&(__e=r)},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t){var r;r=function(){return this}();try{r=r||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(r=window)}e.exports=r},function(e,t,r){var a=r(11),n=r(21);e.exports=r(5)?function(e,t,r){return a.f(e,t,n(1,r))}:function(e,t,r){return e[t]=r,e}},function(e,t,r){var a=r(17),n=r(18),c=r(20),o=Object.defineProperty;t.f=r(5)?Object.defineProperty:function(e,t,r){if(a(e),t=c(t,!0),a(r),n)try{return o(e,t,r)}catch(e){}if("get"in r||"set"in r)throw TypeError("Accessors not supported!");return"value"in r&&(e[t]=r.value),e}},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=r(14),n=r.n(a);Morph.modules["bbc-morph-games-rotate-view@1.1.6"]=n.a},function(e,t,r){"use strict";e.exports=r(15)},function(e,t,r){"use strict";(function(a){r(0);var n=r(30),c=r(1);r(0),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=c(r(2)),s=c(r(32)),i=c(r(33)),u=c(r(34)),l=c(r(35)),f=c(r(36)),d=c(r(37)),p=n(r(38)),m=o.default.createClass({displayName:"Games-Rotate",getInitialState:function(){return{isPortrait:!1}},componentDidMount:function(){var e=this;this.showRotateIfPortrait(),a.window.addEventListener("orientationchange",this.showRotateIfPortrait,!1),p.setupViewportHeightEventListener(function(){return e.forceUpdate()})},componentWillUnmount:function(){a.window.removeEventListener("orientationchange",this.showRotateIfPortrait,!1),p.removeViewportHeightEventListener()},showRotateIfPortrait:function(){this.setState({isPortrait:Boolean(0===a.window.orientation||180===a.window.orientation)})},renderRotateScreen:function(){var e={viewportStyle:p.getStyle()},t={cbbc:function(){return o.default.createElement(i.default,e)},cbeebies:function(){return o.default.createElement(u.default,e)},bitesize:function(){return o.default.createElement(s.default,e)},default:function(){return o.default.createElement(l.default,e)},food:function(){return o.default.createElement(f.default,e)},sport:function(){return o.default.createElement(d.default,e)}};return this.props.product&&t[this.props.product]?t[this.props.product]():t.default()},render:function(){return!("false"===this.props.showRotate||!1===this.props.showRotate)&&this.state.isPortrait&&this.renderRotateScreen()}});m.propTypes={showRotate:o.default.PropTypes.oneOfType([o.default.PropTypes.string,o.default.PropTypes.bool]),product:o.default.PropTypes.string};var g=m;t.default=g,e.exports=t.default}).call(t,r(9))},function(e,t,r){var a=r(4),n=r(7),c=r(10),o=r(22),s=r(28),i=function(e,t,r){var u,l,f,d,p=e&i.F,m=e&i.G,g=e&i.S,v=e&i.P,b=e&i.B,_=m?a:g?a[t]||(a[t]={}):(a[t]||{}).prototype,y=m?n:n[t]||(n[t]={}),h=y.prototype||(y.prototype={});m&&(r=t);for(u in r)l=!p&&_&&void 0!==_[u],f=(l?_:r)[u],d=b&&l?s(f,a):v&&"function"==typeof f?s(Function.call,f):f,_&&o(_,u,f,e&i.U),y[u]!=f&&c(y,u,d),v&&h[u]!=f&&(h[u]=f)};a.core=n,i.F=1,i.G=2,i.S=4,i.P=8,i.B=16,i.W=32,i.U=64,i.R=128,e.exports=i},function(e,t,r){var a=r(8);e.exports=function(e){if(!a(e))throw TypeError(e+" is not an object!");return e}},function(e,t,r){e.exports=!r(5)&&!r(12)(function(){return 7!=Object.defineProperty(r(19)("div"),"a",{get:function(){return 7}}).a})},function(e,t,r){var a=r(8),n=r(4).document,c=a(n)&&a(n.createElement);e.exports=function(e){return c?n.createElement(e):{}}},function(e,t,r){var a=r(8);e.exports=function(e,t){if(!a(e))return e;var r,n;if(t&&"function"==typeof(r=e.toString)&&!a(n=r.call(e)))return n;if("function"==typeof(r=e.valueOf)&&!a(n=r.call(e)))return n;if(!t&&"function"==typeof(r=e.toString)&&!a(n=r.call(e)))return n;throw TypeError("Can't convert object to primitive value")}},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t,r){var a=r(4),n=r(10),c=r(23),o=r(24)("src"),s=r(25),i=(""+s).split("toString");r(7).inspectSource=function(e){return s.call(e)},(e.exports=function(e,t,r,s){var u="function"==typeof r;u&&(c(r,"name")||n(r,"name",t)),e[t]!==r&&(u&&(c(r,o)||n(r,o,e[t]?""+e[t]:i.join(String(t)))),e===a?e[t]=r:s?e[t]?e[t]=r:n(e,t,r):(delete e[t],n(e,t,r)))})(Function.prototype,"toString",function(){return"function"==typeof this&&this[o]||s.call(this)})},function(e,t){var r={}.hasOwnProperty;e.exports=function(e,t){return r.call(e,t)}},function(e,t){var r=0,a=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++r+a).toString(36))}},function(e,t,r){e.exports=r(26)("native-function-to-string",Function.toString)},function(e,t,r){var a=r(7),n=r(4),c=n["__core-js_shared__"]||(n["__core-js_shared__"]={});(e.exports=function(e,t){return c[e]||(c[e]=void 0!==t?t:{})})("versions",[]).push({version:a.version,mode:r(27)?"pure":"global",copyright:" 2019 Denis Pushkarev (zloirock.ru)"})},function(e,t){e.exports=!1},function(e,t,r){var a=r(29);e.exports=function(e,t,r){if(a(e),void 0===t)return e;switch(r){case 1:return function(r){return e.call(t,r)};case 2:return function(r,a){return e.call(t,r,a)};case 3:return function(r,a,n){return e.call(t,r,a,n)}}return function(){return e.apply(t,arguments)}}},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t,r){function a(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return a=function(){return e},e}function n(e){if(e&&e.__esModule)return e;if(null===e||"object"!==c(e)&&"function"!=typeof e)return{default:e};var t=a();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var s=n?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(r,o,s):r[o]=e[o]}return r.default=e,t&&t.set(e,r),r}var c=r(31);e.exports=n},function(e,t){function r(t){"@babel/helpers - typeof";return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?e.exports=r=function(e){return typeof e}:e.exports=r=function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(t)}e.exports=r},function(e,t,r){"use strict";r(0);var a=r(1);r(0),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(r(2)),c=a(r(6)),o=a(r(3)),s=n.default.createClass({displayName:"Games-Rotate-Bitesize",render:function(){return n.default.createElement("div",{className:"cage-rotate-screen cage-rotate-screen--bitesize"},n.default.createElement("div",{className:"cage-rotate-screen__inner",style:this.props.viewportStyle},n.default.createElement("img",{className:"cage-rotate-screen__bitesize-x-shape",src:"".concat((0,c.default)(),"/images/bitesize/x-shape.svg"),alt:""}),n.default.createElement("img",{className:"cage-rotate-screen__bitesize-c-shape",src:"".concat((0,c.default)(),"/images/bitesize/c-shape.svg"),alt:""}),n.default.createElement("img",{className:"cage-rotate-screen__bitesize-cross",src:"".concat((0,c.default)(),"/images/bitesize/cross.svg"),alt:""}),n.default.createElement("img",{className:"cage-rotate-screen__bitesize-curve",src:"".concat((0,c.default)(),"/images/bitesize/curve.svg"),alt:""}),n.default.createElement("img",{className:"cage-rotate-screen__bitesize-piranha",src:"".concat((0,c.default)(),"/images/bitesize/piranha.svg"),alt:""}),n.default.createElement("img",{className:"cage-rotate-screen__bitesize-starburst",src:"".concat((0,c.default)(),"/images/bitesize/starburst.svg"),alt:""}),n.default.createElement("img",{className:"cage-rotate-screen__bitesize-triangle",src:"".concat((0,c.default)(),"/images/bitesize/triangle.svg"),alt:""}),n.default.createElement("img",{className:"cage-rotate-screen__bitesize-zigzag",src:"".concat((0,c.default)(),"/images/bitesize/zigzag.svg"),alt:""}),n.default.createElement("img",{className:"cage-rotate-screen__bitesize-house",src:"".concat((0,c.default)(),"/images/bitesize/house.svg"),alt:""}),n.default.createElement("img",{className:"cage-rotate-screen__bitesize-book",src:"".concat((0,c.default)(),"/images/bitesize/book.svg"),alt:""}),n.default.createElement("div",{className:"absolute-center cage-rotate-screen__title"},"Bitesize"),n.default.createElement(o.default,null),n.default.createElement("div",{className:"absolute-center cage-rotate-screen__text"},"Please rotate your device")))}}),i=s;t.default=i,e.exports=t.default},function(e,t,r){"use strict";r(0);var a=r(1);r(0),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(r(2)),c=a(r(6)),o=a(r(3)),s=n.default.createClass({displayName:"Games-Rotate-Cbbc",render:function(){return n.default.createElement("div",{className:"cage-rotate-screen cage-rotate-screen--cbbc"},n.default.createElement("div",{className:"cage-rotate-screen__inner",style:this.props.viewportStyle},n.default.createElement("img",{className:"cage-rotate-screen__streamers-left",src:"".concat((0,c.default)(),"/images/cbbc/streamers-green.svg"),alt:""}),n.default.createElement("img",{className:"cage-rotate-screen__streamers-right",src:"".concat((0,c.default)(),"/images/cbbc/streamers-pink.svg"),alt:""}),n.default.createElement("img",{className:"absolute-center cage-rotate-screen__cbbc-logo",src:"".concat((0,c.default)(),"/images/cbbc/logo.svg"),alt:"CBBC"}),n.default.createElement(o.default,null),n.default.createElement("div",{className:"absolute-center cage-rotate-screen__text"},"Please rotate your device")))}}),i=s;t.default=i,e.exports=t.default},function(e,t,r){"use strict";r(0);var a=r(1);r(0),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(r(2)),c=a(r(6)),o=a(r(3)),s=n.default.createClass({displayName:"Games-Rotate-Cbeebies",render:function(){return n.default.createElement("div",{className:"cage-rotate-screen cage-rotate-screen--cbeebies"},n.default.createElement("div",{className:"absolute-center cage-rotate-screen__inner",style:this.props.viewportStyle},n.default.createElement("div",{className:"cage-rotate-screen__grass"}),n.default.createElement("img",{className:"cage-rotate-screen__cbeebies-bug-1",src:"".concat((0,c.default)(),"/images/cbeebies/bug-1.svg"),alt:""}),n.default.createElement("img",{className:"cage-rotate-screen__cbeebies-bug-2",src:"".concat((0,c.default)(),"/images/cbeebies/bug-2.svg"),alt:""}),n.default.createElement("img",{className:"cage-rotate-screen__cbeebies-bug-3",src:"".concat((0,c.default)(),"/images/cbeebies/bug-3.svg"),alt:""}),n.default.createElement("img",{className:"absolute-center cage-rotate-screen__cbeebies-logo",src:"".concat((0,c.default)(),"/images/cbeebies/logo.svg"),alt:""}),n.default.createElement(o.default,null),n.default.createElement("div",{className:"absolute-center cage-rotate-screen__text"},"Please rotate your device")))}}),i=s;t.default=i,e.exports=t.default},function(e,t,r){"use strict";r(0);var a=r(1);r(0),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(r(2)),c=a(r(3)),o=n.default.createClass({displayName:"Games-Rotate-Default",render:function(){return n.default.createElement("div",{className:"cage-rotate-screen cage-rotate-screen--default"},n.default.createElement("div",{className:"absolute-center cage-rotate-screen__inner",style:this.props.viewportStyle},n.default.createElement(c.default,null),n.default.createElement("div",{className:"absolute-center cage-rotate-screen__text"},"Please rotate your device")))}}),s=o;t.default=s,e.exports=t.default},function(e,t,r){"use strict";r(0);var a=r(1);r(0),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(r(2)),c=a(r(6)),o=a(r(3)),s=n.default.createClass({displayName:"Games-Rotate-Food",render:function(){return n.default.createElement("div",{className:"cage-rotate-screen cage-rotate-screen--food"},n.default.createElement("div",{className:"cage-rotate-screen__inner",style:this.props.viewportStyle},n.default.createElement("img",{className:"absolute-center cage-rotate-screen__food-logo",src:"".concat((0,c.default)(),"/images/food/logo.svg"),alt:"Food"}),n.default.createElement(o.default,null),n.default.createElement("div",{className:"absolute-center cage-rotate-screen__text"},"Please rotate your device")))}}),i=s;t.default=i,e.exports=t.default},function(e,t,r){"use strict";r(0);var a=r(1);r(0),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(r(2)),c=a(r(3)),o=n.default.createClass({displayName:"Games-Rotate-Sport",render:function(){return n.default.createElement("div",{className:"cage-rotate-screen cage-rotate-screen--sport"},n.default.createElement("div",{className:"cage-rotate-screen__inner",style:this.props.viewportStyle},n.default.createElement("div",{className:"absolute-center cage-rotate-screen__title"},"Sport"),n.default.createElement(c.default,null),n.default.createElement("div",{className:"absolute-center cage-rotate-screen__text"},"Please rotate your device")))}}),s=o;t.default=s,e.exports=t.default},function(e,t,r){"use strict";(function(e){r(0),r(0),Object.defineProperty(t,"__esModule",{value:!0}),t.getStyle=t.removeViewportHeightEventListener=t.setupViewportHeightEventListener=void 0;var a=0,n=function(t){a=e.window.innerHeight,t()},c=function(t){e.window.addEventListener("resize",function(){return n(t)}),n(t)};t.setupViewportHeightEventListener=c;var o=function(){return e.window.removeEventListener("resize",n)};t.removeViewportHeightEventListener=o;var s=function(){return{maxWidth:"".concat(a,"px"),transform:"translateX(calc(50vw - 50%)) translateY(calc(".concat(a/2,"px - 50%)) rotate(90deg)")}};t.getStyle=s}).call(t,r(9))}]);;
});</script> 
   <script>Morph.toInit.bundles.push(function() { Morph.versions["bbc-morph-debouncer@2.1.1"]={morph:"3.10.0"},function(e){function n(o){if(t[o])return t[o].exports;var r=t[o]={exports:{},id:o,loaded:!1};return e[o].call(r.exports,r,r.exports,n),r.loaded=!0,r.exports}var t={};return n.m=e,n.c=t,n.p="",n(0)}([function(e,n,t){Morph.modules["bbc-morph-debouncer@2.1.1"]=t(1)},function(e,n,t){function o(e,n,t){t||(t="-debounced"+n);var o=e+t;timeouts[o]||r(e,function(){clearTimeout(timeouts[o]),timeouts[o]=u(e,t,n)})}function r(e,n){window.addEventListener?window.addEventListener(e,n,!1):document.documentElement.attachEvent("onpropertychange",function(t){t.propertyName===e&&n()})}function c(e){var n;document.createEvent?(n=document.createEvent("UIEvents"),n.initEvent(e,!1,!0),window.dispatchEvent(n)):(n=document.documentElement[e],n+=1)}function u(e,n,t){return setTimeout(function(){c(e+n)},t)}var i=t(2),d=50;timeouts={},function(){i.isClientSide()&&(o("resize",d,"-debounced"),o("scroll",d,"-debounced"))}(),e.exports={addDebouncedEvent:o}},function(e,n){e.exports=Morph}]);;
});</script> 
   <script>Morph.toInit.bundles.push(function() { Morph.versions["bbc-morph-childrens-games-view@9.9.6"]={"@babel/polyfill":"7.12.1","@babel/runtime":"7.15.4","@bbc/echo-client-js":"12.4.0","bbc-morph-debouncer":"2.1.1","bbc-morph-games-data":"1.3.4","bbc-morph-games-rotate-view":"1.1.6","bbc-morph-id-availability-data":"2.1.0","bbc-morph-responsive-image":"1.3.1","bowser":"2.11.0","es6-promise":"4.2.8","isomorphic-fetch":"2.2.1","morph-container":"4.0.0","morph-static-prefix":"3.0.0","react":"0.14.7"};Morph.versions["bbc-morph-games-rotate-view@1.1.6"]={"@babel/polyfill":"7.10.4","@babel/runtime":"7.11.1","morph-static-prefix":"3.0.0","react":"0.14.7"};
!function(e){function t(i){if(n[i])return n[i].exports;var r=n[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,t),r.l=!0,r.exports}var n={};t.m=e,t.c=n,t.d=function(e,n,i){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:i})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=139)}([function(e,t,n){var i=n(1);i(i.S+i.F*!n(17),"Object",{defineProperty:n(16).f})},function(e,t,n){var i=n(5),r=n(34),o=n(24),s=n(18),a=n(35),u=function(e,t,n){var c,l,f,d,p=e&u.F,h=e&u.G,_=e&u.S,g=e&u.P,v=e&u.B,m=h?i:_?i[t]||(i[t]={}):(i[t]||{}).prototype,E=h?r:r[t]||(r[t]={}),y=E.prototype||(E.prototype={});h&&(n=t);for(c in n)l=!p&&m&&void 0!==m[c],f=(l?m:n)[c],d=v&&l?a(f,i):g&&"function"==typeof f?a(Function.call,f):f,m&&s(m,c,f,e&u.U),E[c]!=f&&o(E,c,d),g&&y[c]!=f&&(y[c]=f)};i.core=r,u.F=1,u.G=2,u.S=4,u.P=8,u.B=16,u.W=32,u.U=64,u.R=128,e.exports=u},function(e,t,n){var i=n(57)("wks"),r=n(52),o=n(5).Symbol,s="function"==typeof o;(e.exports=function(e){return i[e]||(i[e]=s&&o[e]||(s?o:r)("Symbol."+e))}).store=i},function(e,t){e.exports=React},function(e,t){function n(e){return e&&e.__esModule?e:{default:e}}e.exports=n,e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t){var n=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(e,t,n){"use strict";var i=n(62),r={};r[n(2)("toStringTag")]="z",r+""!="[object z]"&&n(18)(Object.prototype,"toString",function(){return"[object "+i(this)+"]"},!0)},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t,n){var i=n(7);e.exports=function(e){if(!i(e))throw TypeError(e+" is not an object!");return e}},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t,n){"use strict";var i=n(87),r=n(194),o=n(55),s=n(26);e.exports=n(116)(Array,"Array",function(e,t){this._t=s(e),this._i=0,this._k=t},function(){var e=this._t,t=this._k,n=this._i++;return!e||n>=e.length?(this._t=void 0,r(1)):"keys"==t?r(0,n):"values"==t?r(0,e[n]):r(0,[n,e[n]])},"values"),o.Arguments=o.Array,i("keys"),i("values"),i("entries")},function(e,t,n){var i=n(1),r=n(58),o=n(36),s=n(8),a=n(7),u=n(9),c=n(95),l=(n(5).Reflect||{}).construct,f=u(function(){function e(){}return!(l(function(){},[],e)instanceof e)}),d=!u(function(){l(function(){})});i(i.S+i.F*(f||d),"Reflect",{construct:function(e,t){o(e),s(t);var n=arguments.length<3?e:o(arguments[2]);if(d&&!f)return l(e,t,n);if(e==n){switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3])}var i=[null];return i.push.apply(i,t),new(c.apply(e,i))}var u=n.prototype,p=r(a(u)?u:Object.prototype),h=Function.apply.call(e,p,t);return a(h)?h:p}})},function(e,t,n){"use strict";var i=n(8),r=n(29),o=n(27),s=n(54),a=n(75),u=n(76),c=Math.max,l=Math.min,f=Math.floor,d=/\$([$&`']|\d\d?|<[^>]*>)/g,p=/\$([$&`']|\d\d?)/g,h=function(e){return void 0===e?e:String(e)};n(77)("replace",2,function(e,t,n,_){function g(e,t,i,o,s,a){var u=i+e.length,c=o.length,l=p;return void 0!==s&&(s=r(s),l=d),n.call(a,l,function(n,r){var a;switch(r.charAt(0)){case"$":return"$";case"&":return e;case"`":return t.slice(0,i);case"'":return t.slice(u);case"<":a=s[r.slice(1,-1)];break;default:var l=+r;if(0===l)return n;if(l>c){var d=f(l/10);return 0===d?n:d<=c?void 0===o[d-1]?r.charAt(1):o[d-1]+r.charAt(1):n}a=o[l-1]}return void 0===a?"":a})}return[function(i,r){var o=e(this),s=void 0==i?void 0:i[t];return void 0!==s?s.call(i,o,r):n.call(String(o),i,r)},function(e,t){var r=_(n,e,this,t);if(r.done)return r.value;var f=i(e),d=String(this),p="function"==typeof t;p||(t=String(t));var v=f.global;if(v){var m=f.unicode;f.lastIndex=0}for(var E=[];;){var y=u(f,d);if(null===y)break;if(E.push(y),!v)break;""===String(y[0])&&(f.lastIndex=a(d,o(f.lastIndex),m))}for(var b="",S=0,A=0;A<E.length;A++){y=E[A];for(var I=String(y[0]),T=c(l(s(y.index),d.length),0),P=[],C=1;C<y.length;C++)P.push(h(y[C]));var O=y.groups;if(p){var w=[I].concat(P,T,d);void 0!==O&&w.push(O);var N=String(t.apply(void 0,w))}else N=g(I,d,T,P,O,t);T>=S&&(b+=d.slice(S,T)+N,S=T+I.length)}return b+d.slice(S)}]})},function(e,t,n){"use strict";var i=n(103)(!0);n(116)(String,"String",function(e){this._t=String(e),this._i=0},function(){var e,t=this._t,n=this._i;return n>=t.length?{value:void 0,done:!0}:(e=i(t,n),this._i+=e.length,{value:e,done:!1})})},function(e,t,n){for(var i=n(10),r=n(39),o=n(18),s=n(5),a=n(24),u=n(55),c=n(2),l=c("iterator"),f=c("toStringTag"),d=u.Array,p={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},h=r(p),_=0;_<h.length;_++){var g,v=h[_],m=p[v],E=s[v],y=E&&E.prototype;if(y&&(y[l]||a(y,l,d),y[f]||a(y,f,v),u[v]=d,m))for(g in i)y[g]||o(y,g,i[g],!0)}},function(e,t,n){"use strict";var i=n(1),r=n(38)(1);i(i.P+i.F*!n(37)([].map,!0),"Array",{map:function(e){return r(this,e,arguments[1])}})},function(e,t,n){var i=n(8),r=n(92),o=n(68),s=Object.defineProperty;t.f=n(17)?Object.defineProperty:function(e,t,n){if(i(e),t=o(t,!0),i(n),r)try{return s(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},function(e,t,n){e.exports=!n(9)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(e,t,n){var i=n(5),r=n(24),o=n(25),s=n(52)("src"),a=n(144),u=(""+a).split("toString");n(34).inspectSource=function(e){return a.call(e)},(e.exports=function(e,t,n,a){var c="function"==typeof n;c&&(o(n,"name")||r(n,"name",t)),e[t]!==n&&(c&&(o(n,s)||r(n,s,e[t]?""+e[t]:u.join(String(t)))),e===i?e[t]=n:a?e[t]?e[t]=n:r(e,t,n):(delete e[t],r(e,t,n)))})(Function.prototype,"toString",function(){return"function"==typeof this&&this[s]||a.call(this)})},function(e,t,n){var i=n(1);i(i.P,"Function",{bind:n(95)})},function(e,t,n){"use strict";var i,r=n(5),o=n(38)(0),s=n(18),a=n(63),u=n(114),c=n(189),l=n(7),f=n(85),d=n(85),p=!r.ActiveXObject&&"ActiveXObject"in r,h=a.getWeak,_=Object.isExtensible,g=c.ufstore,v=function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}},m={get:function(e){if(l(e)){var t=h(e);return!0===t?g(f(this,"WeakMap")).get(e):t?t[this._i]:void 0}},set:function(e,t){return c.def(f(this,"WeakMap"),e,t)}},E=e.exports=n(190)("WeakMap",v,m,c,!0,!0);d&&p&&(i=c.getConstructor(v,"WeakMap"),u(i.prototype,m),a.NEED=!0,o(["delete","has","get","set"],function(e){var t=E.prototype,n=t[e];s(t,e,function(t,r){if(l(t)&&!_(t)){this._f||(this._f=new i);var o=this._f[e](t,r);return"set"==e?this:o}return n.call(this,t,r)})}))},function(e,t,n){var i=n(26),r=n(86).f;n(117)("getOwnPropertyDescriptor",function(){return function(e,t){return r(i(e),t)}})},function(e,t,n){"use strict";var i=n(1),r=n(38)(0),o=n(37)([].forEach,!0);i(i.P+i.F*!o,"Array",{forEach:function(e){return r(this,e,arguments[1])}})},function(e,t,n){var i=n(151);i(i.S+i.F*!n(60),"Object",{defineProperty:n(101).f})},function(e,t,n){var i=n(16),r=n(51);e.exports=n(17)?function(e,t,n){return i.f(e,t,r(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},function(e,t,n){var i=n(69),r=n(41);e.exports=function(e){return i(r(e))}},function(e,t,n){var i=n(54),r=Math.min;e.exports=function(e){return e>0?r(i(e),9007199254740991):0}},function(e,t){function n(e){return e&&e.__esModule?e:{default:e}}e.exports=n},function(e,t,n){var i=n(41);e.exports=function(e){return Object(i(e))}},function(e,t,n){"use strict";var i,r,o,s,a=n(53),u=n(5),c=n(35),l=n(62),f=n(1),d=n(7),p=n(36),h=n(79),_=n(80),g=n(108),v=n(109).set,m=n(181)(),E=n(110),y=n(182),b=n(183),S=n(184),A=u.TypeError,I=u.process,T=I&&I.versions,P=T&&T.v8||"",C=u.Promise,O="process"==l(I),w=function(){},N=r=E.f,R=!!function(){try{var e=C.resolve(1),t=(e.constructor={})[n(2)("species")]=function(e){e(w,w)};return(O||"function"==typeof PromiseRejectionEvent)&&e.then(w)instanceof t&&0!==P.indexOf("6.6")&&-1===b.indexOf("Chrome/66")}catch(e){}}(),L=function(e){var t;return!(!d(e)||"function"!=typeof(t=e.then))&&t},D=function(e,t){if(!e._n){e._n=!0;var n=e._c;m(function(){for(var i=e._v,r=1==e._s,o=0;n.length>o;)!function(t){var n,o,s,a=r?t.ok:t.fail,u=t.resolve,c=t.reject,l=t.domain;try{a?(r||(2==e._h&&x(e),e._h=1),!0===a?n=i:(l&&l.enter(),n=a(i),l&&(l.exit(),s=!0)),n===t.promise?c(A("Promise-chain cycle")):(o=L(n))?o.call(n,u,c):u(n)):c(i)}catch(e){l&&!s&&l.exit(),c(e)}}(n[o++]);e._c=[],e._n=!1,t&&!e._h&&M(e)})}},M=function(e){v.call(u,function(){var t,n,i,r=e._v,o=B(e);if(o&&(t=y(function(){O?I.emit("unhandledRejection",r,e):(n=u.onunhandledrejection)?n({promise:e,reason:r}):(i=u.console)&&i.error&&i.error("Unhandled promise rejection",r)}),e._h=O||B(e)?2:1),e._a=void 0,o&&t.e)throw t.v})},B=function(e){return 1!==e._h&&0===(e._a||e._c).length},x=function(e){v.call(u,function(){var t;O?I.emit("rejectionHandled",e):(t=u.onrejectionhandled)&&t({promise:e,reason:e._v})})},k=function(e){var t=this;t._d||(t._d=!0,t=t._w||t,t._v=e,t._s=2,t._a||(t._a=t._c.slice()),D(t,!0))},U=function(e){var t,n=this;if(!n._d){n._d=!0,n=n._w||n;try{if(n===e)throw A("Promise can't be resolved itself");(t=L(e))?m(function(){var i={_w:n,_d:!1};try{t.call(e,c(U,i,1),c(k,i,1))}catch(e){k.call(i,e)}}):(n._v=e,n._s=1,D(n,!1))}catch(e){k.call({_w:n,_d:!1},e)}}};R||(C=function(e){h(this,C,"Promise","_h"),p(e),i.call(this);try{e(c(U,this,1),c(k,this,1))}catch(e){k.call(this,e)}},i=function(e){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1},i.prototype=n(81)(C.prototype,{then:function(e,t){var n=N(g(this,C));return n.ok="function"!=typeof e||e,n.fail="function"==typeof t&&t,n.domain=O?I.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&D(this,!1),n.promise},catch:function(e){return this.then(void 0,e)}}),o=function(){var e=new i;this.promise=e,this.resolve=c(U,e,1),this.reject=c(k,e,1)},E.f=N=function(e){return e===C||e===s?new o(e):r(e)}),f(f.G+f.W+f.F*!R,{Promise:C}),n(56)(C,"Promise"),n(111)("Promise"),s=n(34).Promise,f(f.S+f.F*!R,"Promise",{reject:function(e){var t=N(this);return(0,t.reject)(e),t.promise}}),f(f.S+f.F*(a||!R),"Promise",{resolve:function(e){return S(a&&this===s?C:this,e)}}),f(f.S+f.F*!(R&&n(82)(function(e){C.all(e).catch(w)})),"Promise",{all:function(e){var t=this,n=N(t),i=n.resolve,r=n.reject,o=y(function(){var n=[],o=0,s=1;_(e,!1,function(e){var a=o++,u=!1;n.push(void 0),s++,t.resolve(e).then(function(e){u||(u=!0,n[a]=e,--s||i(n))},r)}),--s||i(n)});return o.e&&r(o.v),n.promise},race:function(e){var t=this,n=N(t),i=n.reject,r=y(function(){_(e,!1,function(e){t.resolve(e).then(n.resolve,i)})});return r.e&&i(r.v),n.promise}})},function(e,t,n){var i=n(29),r=n(39);n(117)("keys",function(){return function(e){return r(i(e))}})},function(e,t,n){"use strict";var i=n(1),r=n(38)(2);i(i.P+i.F*!n(37)([].filter,!0),"Array",{filter:function(e){return r(this,e,arguments[1])}})},function(e,t,n){var i=n(16).f,r=Function.prototype,o=/^\s*function ([^ (]*)/;"name"in r||n(17)&&i(r,"name",{configurable:!0,get:function(){try{return(""+this).match(o)[1]}catch(e){return""}}})},function(e,t){var n=e.exports={version:"2.6.12"};"number"==typeof __e&&(__e=n)},function(e,t,n){var i=n(36);e.exports=function(e,t,n){if(i(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,i){return e.call(t,n,i)};case 3:return function(n,i,r){return e.call(t,n,i,r)}}return function(){return e.apply(t,arguments)}}},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t,n){"use strict";var i=n(9);e.exports=function(e,t){return!!e&&i(function(){t?e.call(null,function(){},1):e.call(null)})}},function(e,t,n){var i=n(35),r=n(69),o=n(29),s=n(27),a=n(187);e.exports=function(e,t){var n=1==e,u=2==e,c=3==e,l=4==e,f=6==e,d=5==e||f,p=t||a;return function(t,a,h){for(var _,g,v=o(t),m=r(v),E=i(a,h,3),y=s(m.length),b=0,S=n?p(t,y):u?p(t,0):void 0;y>b;b++)if((d||b in m)&&(_=m[b],g=E(_,b,v),e))if(n)S[b]=g;else if(g)switch(e){case 3:return!0;case 5:return _;case 6:return b;case 2:S.push(_)}else if(l)return!1;return f?-1:c||l?l:S}}},function(e,t,n){var i=n(93),r=n(72);e.exports=Object.keys||function(e){return i(e,r)}},function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},function(e,t){e.exports=function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e}},function(e,t){function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}e.exports=n,e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t){function n(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function i(e,t,i){return t&&n(e.prototype,t),i&&n(e,i),e}e.exports=i,e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,n){function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&r(e,t)}var r=n(147);e.exports=i,e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,n){function i(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return o(e)}var r=n(46).default,o=n(98);e.exports=i,e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t){function n(t){"@babel/helpers - typeof";return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?(e.exports=n=function(e){return typeof e},e.exports.default=e.exports,e.exports.__esModule=!0):(e.exports=n=function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.default=e.exports,e.exports.__esModule=!0),n(t)}e.exports=n,e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t){function n(t){return e.exports=n=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},e.exports.default=e.exports,e.exports.__esModule=!0,n(t)}e.exports=n,e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,n){"use strict";var i=n(28);n(23),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(3)),o=r.default.createClass({displayName:"Games-Rotate-Loading-Spinner",render:function(){var e={version:"1.1",xmlns:"http://www.w3.org/2000/svg",xlinkHref:"http://www.w3.org/1999/xlink",className:"absolute-center cage-rotate-screen__icon",viewBox:"0 0 500 500",x:0,y:0,xmlSpace:"preserve"};return r.default.createElement("svg",e,r.default.createElement("path",{className:"cage-rotate-screen__path",d:"M389.4,186.2L389.4,186.2c-35.3-64.1-115.7-87.3-179.7-52c-1.2,0.7-2.4,1.4-3.6,2.1 c-0.5,0.3-0.9,0.5-1.4,0.8c-1.5,0.9-2.9,1.8-4.4,2.8c-0.4,0.2-0.7,0.5-1.1,0.7c-1.5,1-3,2.1-4.4,3.1c-0.3,0.2-0.5,0.4-0.8,0.6 c-1.5,1.1-3,2.3-4.4,3.5c-0.2,0.2-0.3,0.3-0.5,0.4c-1.5,1.2-3,2.5-4.4,3.8c-0.1,0.1-0.2,0.2-0.3,0.3c-1.5,1.3-2.9,2.7-4.3,4.1 c-0.1,0.1-0.3,0.3-0.4,0.4c-1.4,1.4-2.7,2.8-4,4.2c-15.2,16.7-26.2,37.4-31.2,60.3l-21.7-39.3L94,198l32,58l16,29l3.7-2.1 l25.1-13.9l5.1-2.8l52.9-29.1l-16-28.9l-35.7,19.7c2.3-9.9,6.1-19.5,11.3-28.3c0,0,0,0,0-0.1c0.7-1.1,1.4-2.2,2.1-3.4 c0.3-0.5,0.6-1,1-1.5c0.3-0.4,0.6-0.8,0.9-1.3c10.1-14.5,24-26.1,40.3-33.6c0.1,0,0.1,0,0.2-0.1c1.3-0.6,2.6-1.2,4-1.7 c0.1,0,0.2-0.1,0.4-0.1c1.3-0.5,2.7-1,4-1.5c0.1,0,0.2-0.1,0.3-0.1c1.4-0.5,2.8-0.9,4.2-1.3c0,0,0.1,0,0.1,0c8.8-2.6,18.2-4,27.8-4 c27.5,0,54.4,11.5,73.4,32.4c0,0.1,0,0.1,0,0.2c16.1,17.6,25.9,40.9,25.9,66.6c0,11.2-1.9,21.9-5.3,31.9c-0.1,0-0.1,0-0.2,0.1 c-7.6,22.6-23.4,42.4-45.8,54.8c-15.2,8.4-31.6,12.3-47.8,12.3v33.1c21.6,0,43.6-5.2,63.8-16.4c11-6.1,20.8-13.5,29.3-22 C391,319.9,406,286.7,406,250C406,226.9,399.9,205.1,389.4,186.2"}))}}),s=o;t.default=s,e.exports=t.default},function(e,t,n){"use strict";var i=n(1),r=n(70)(!0);i(i.P,"Array",{includes:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}}),n(87)("includes")},function(e,t,n){"use strict";var i=n(1),r=n(70)(!1),o=[].indexOf,s=!!o&&1/[1].indexOf(1,-0)<0;i(i.P+i.F*(s||!n(37)(o)),"Array",{indexOf:function(e){return s?o.apply(this,arguments)||0:r(this,e,arguments[1])}})},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t){var n=0,i=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++n+i).toString(36))}},function(e,t){e.exports=!1},function(e,t){var n=Math.ceil,i=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?i:n)(e)}},function(e,t){e.exports={}},function(e,t,n){var i=n(16).f,r=n(25),o=n(2)("toStringTag");e.exports=function(e,t,n){e&&!r(e=n?e:e.prototype,o)&&i(e,o,{configurable:!0,value:t})}},function(e,t,n){var i=n(34),r=n(5),o=r["__core-js_shared__"]||(r["__core-js_shared__"]={});(e.exports=function(e,t){return o[e]||(o[e]=void 0!==t?t:{})})("versions",[]).push({version:i.version,mode:n(53)?"pure":"global",copyright:" 2020 Denis Pushkarev (zloirock.ru)"})},function(e,t,n){var i=n(8),r=n(145),o=n(72),s=n(71)("IE_PROTO"),a=function(){},u=function(){var e,t=n(67)("iframe"),i=o.length;for(t.style.display="none",n(94).appendChild(t),t.src="javascript:",e=t.contentWindow.document,e.open(),e.write("<script>document.F=Object<\/script>"),e.close(),u=e.F;i--;)delete u.prototype[o[i]];return u()};e.exports=Object.create||function(e,t){var n;return null!==e?(a.prototype=i(e),n=new a,a.prototype=null,n[s]=e):n=u(),void 0===t?n:r(n,t)}},function(e,t){var n=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(e,t,n){e.exports=!n(102)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(e,t){e.exports=function(){return"//"+Morph.config.cdn+"/modules/bbc-morph-games-rotate-view/1.1.6"}},function(e,t,n){var i=n(40),r=n(2)("toStringTag"),o="Arguments"==i(function(){return arguments}()),s=function(e,t){try{return e[t]}catch(e){}};e.exports=function(e){var t,n,a;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=s(t=Object(e),r))?n:o?i(t):"Object"==(a=i(t))&&"function"==typeof t.callee?"Arguments":a}},function(e,t,n){var i=n(52)("meta"),r=n(7),o=n(25),s=n(16).f,a=0,u=Object.isExtensible||function(){return!0},c=!n(9)(function(){return u(Object.preventExtensions({}))}),l=function(e){s(e,i,{value:{i:"O"+ ++a,w:{}}})},f=function(e,t){if(!r(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!o(e,i)){if(!u(e))return"F";if(!t)return"E";l(e)}return e[i].i},d=function(e,t){if(!o(e,i)){if(!u(e))return!0;if(!t)return!1;l(e)}return e[i].w},p=function(e){return c&&h.NEED&&u(e)&&!o(e,i)&&l(e),e},h=e.exports={KEY:i,NEED:!1,fastKey:f,getWeak:d,onFreeze:p}},function(e,t){t.f={}.propertyIsEnumerable},function(e,t,n){"use strict";var i=n(1),r=n(38)(3);i(i.P+i.F*!n(37)([].some,!0),"Array",{some:function(e){return r(this,e,arguments[1])}})},function(e,t,n){"use strict";var i=n(1),r=n(201);i(i.P+i.F*n(202)("includes"),"String",{includes:function(e){return!!~r(this,e,"includes").indexOf(e,arguments.length>1?arguments[1]:void 0)}})},function(e,t,n){var i=n(7),r=n(5).document,o=i(r)&&i(r.createElement);e.exports=function(e){return o?r.createElement(e):{}}},function(e,t,n){var i=n(7);e.exports=function(e,t){if(!i(e))return e;var n,r;if(t&&"function"==typeof(n=e.toString)&&!i(r=n.call(e)))return r;if("function"==typeof(n=e.valueOf)&&!i(r=n.call(e)))return r;if(!t&&"function"==typeof(n=e.toString)&&!i(r=n.call(e)))return r;throw TypeError("Can't convert object to primitive value")}},function(e,t,n){var i=n(40);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==i(e)?e.split(""):Object(e)}},function(e,t,n){var i=n(26),r=n(27),o=n(146);e.exports=function(e){return function(t,n,s){var a,u=i(t),c=r(u.length),l=o(s,c);if(e&&n!=n){for(;c>l;)if((a=u[l++])!=a)return!0}else for(;c>l;l++)if((e||l in u)&&u[l]===n)return e||l||0;return!e&&-1}}},function(e,t,n){var i=n(57)("keys"),r=n(52);e.exports=function(e){return i[e]||(i[e]=r(e))}},function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(e,t){var n=e.exports={version:"2.6.11"};"number"==typeof __e&&(__e=n)},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t,n){"use strict";var i=n(103)(!0);e.exports=function(e,t,n){return t+(n?i(e,t).length:1)}},function(e,t,n){"use strict";var i=n(62),r=RegExp.prototype.exec;e.exports=function(e,t){var n=e.exec;if("function"==typeof n){var o=n.call(e,t);if("object"!=typeof o)throw new TypeError("RegExp exec method returned something other than an Object or null");return o}if("RegExp"!==i(e))throw new TypeError("RegExp#exec called on incompatible receiver");return r.call(e,t)}},function(e,t,n){"use strict";n(174);var i=n(18),r=n(24),o=n(9),s=n(41),a=n(2),u=n(78),c=a("species"),l=!o(function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")}),f=function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var n="ab".split(e);return 2===n.length&&"a"===n[0]&&"b"===n[1]}();e.exports=function(e,t,n){var d=a(e),p=!o(function(){var t={};return t[d]=function(){return 7},7!=""[e](t)}),h=p?!o(function(){var t=!1,n=/a/;return n.exec=function(){return t=!0,null},"split"===e&&(n.constructor={},n.constructor[c]=function(){return n}),n[d](""),!t}):void 0;if(!p||!h||"replace"===e&&!l||"split"===e&&!f){var _=/./[d],g=n(s,d,""[e],function(e,t,n,i,r){return t.exec===u?p&&!r?{done:!0,value:_.call(t,n,i)}:{done:!0,value:e.call(n,t,i)}:{done:!1}}),v=g[0],m=g[1];i(String.prototype,e,v),r(RegExp.prototype,d,2==t?function(e,t){return m.call(e,this,t)}:function(e){return m.call(e,this)})}}},function(e,t,n){"use strict";var i=n(104),r=RegExp.prototype.exec,o=String.prototype.replace,s=r,a=function(){var e=/a/,t=/b*/g;return r.call(e,"a"),r.call(t,"a"),0!==e.lastIndex||0!==t.lastIndex}(),u=void 0!==/()??/.exec("")[1];(a||u)&&(s=function(e){var t,n,s,c,l=this;return u&&(n=new RegExp("^"+l.source+"$(?!\\s)",i.call(l))),a&&(t=l.lastIndex),s=r.call(l,e),a&&s&&(l.lastIndex=l.global?s.index+s[0].length:t),u&&s&&s.length>1&&o.call(s[0],n,function(){for(c=1;c<arguments.length-2;c++)void 0===arguments[c]&&(s[c]=void 0)}),s}),e.exports=s},function(e,t){e.exports=function(e,t,n,i){if(!(e instanceof t)||void 0!==i&&i in e)throw TypeError(n+": incorrect invocation!");return e}},function(e,t,n){var i=n(35),r=n(105),o=n(106),s=n(8),a=n(27),u=n(107),c={},l={},t=e.exports=function(e,t,n,f,d){var p,h,_,g,v=d?function(){return e}:u(e),m=i(n,f,t?2:1),E=0;if("function"!=typeof v)throw TypeError(e+" is not iterable!");if(o(v)){for(p=a(e.length);p>E;E++)if((g=t?m(s(h=e[E])[0],h[1]):m(e[E]))===c||g===l)return g}else for(_=v.call(e);!(h=_.next()).done;)if((g=r(_,m,h.value,t))===c||g===l)return g};t.BREAK=c,t.RETURN=l},function(e,t,n){var i=n(18);e.exports=function(e,t,n){for(var r in t)i(e,r,t[r],n);return e}},function(e,t,n){var i=n(2)("iterator"),r=!1;try{var o=[7][i]();o.return=function(){r=!0},Array.from(o,function(){throw 2})}catch(e){}e.exports=function(e,t){if(!t&&!r)return!1;var n=!1;try{var o=[7],s=o[i]();s.next=function(){return{done:n=!0}},o[i]=function(){return s},e(o)}catch(e){}return n}},function(e,t,n){n(186),e.exports=self.fetch.bind(self)},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t,n){var i=n(7);e.exports=function(e,t){if(!i(e)||e._t!==t)throw TypeError("Incompatible receiver, "+t+" required!");return e}},function(e,t,n){var i=n(64),r=n(51),o=n(26),s=n(68),a=n(25),u=n(92),c=Object.getOwnPropertyDescriptor;t.f=n(17)?c:function(e,t){if(e=o(e),t=s(t,!0),u)try{return c(e,t)}catch(e){}if(a(e,t))return r(!i.f.call(e,t),e[t])}},function(e,t,n){var i=n(2)("unscopables"),r=Array.prototype;void 0==r[i]&&n(24)(r,i,{}),e.exports=function(e){r[i][e]=!0}},function(e,t,n){"use strict";n(0),n(120),n(122),n(13),n(6),n(10),n(14),n(22),n(31),n(65),n(66),n(49),n(32),n(15),n(0),Object.defineProperty(t,"__esModule",{value:!0}),t.init=t.getStates=t.setStates=t.restoreState=void 0,n(120),n(122),n(13),n(6),n(10),n(14),n(22),n(31),n(65),n(66),n(49),n(32),n(15);var i=function(e){return Array.from(e.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])'))},r=function(e,t){return function(){var n=i(e);n["top"===t?1:n.length-2].focus()}},o=function(e){return function(t){"Escape"===t.key&&e()}},s=function(e){Array.from(e.getElementsByTagName("svg")).forEach(function(e){return e.setAttribute("focusable","false")})},a=function(e,t){var n=document.createElement("div");return n.setAttribute("tabindex","0"),n.addEventListener("focus",r(e,t),!0),n},u=function(e,t){var n=new MutationObserver(t),i={childList:!0,subtree:!0};n.observe(e.parentNode,i)},c=function(e){Object.keys(e.attributes).forEach(function(t){e.attributes[t]?e.el.setAttribute(t,e.attributes[t]):e.el.removeAttribute(t)})};t.restoreState=c;var l=function(e,t){return function(n){n.some(function(e){return Array.from(e.removedNodes).includes(t)})&&e.forEach(c)}},f=function(e){return{el:e,attributes:{tabindex:e.getAttribute("tabindex"),"aria-hidden":e.getAttribute("aria-hidden")}}},d=function(e){var t=i(e);i(document).filter(function(e){return!t.includes(e)}).forEach(function(e){e.setAttribute("aria-hidden","true"),e.setAttribute("tabindex","-1")})};t.setStates=d;var p=function(e){var t=i(e);return i(document).filter(function(e){return!t.includes(e)}).map(f)};t.getStates=p;var h=function(e){return e.stopPropagation()},_=function(e,t){e.classList.add("cage-overlay__modal"),e.setAttribute("aria-modal","true"),e.setAttribute("role","dialog"),i(e)[0].focus(),e.insertBefore(a(e,"bottom"),e.firstChild),e.appendChild(a(e,"top"));var n=e.getElementsByClassName("cage-overlay__close-button")[0];setTimeout(function(){n.addEventListener("click",t)}),document.addEventListener("keydown",o(t)),document.addEventListener("mouseup",h),document.addEventListener("mousedown",h),document.addEventListener("click",h),document.addEventListener("touchstart",h),document.addEventListener("touchend",h),s(document);var r=p(e);u(e.parentNode,function(n,i){i.disconnect(),l(r,e.parentNode)(n,i),document.removeEventListener("keydown",o(t)),document.removeEventListener("mouseup",h),document.removeEventListener("mousedown",h),document.removeEventListener("click",h),document.removeEventListener("touchstart",h),document.removeEventListener("touchend",h)}),d(e)};t.init=_},function(e,t,n){var i=n(93),r=n(72).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return i(e,r)}},function(e,t,n){var i=n(7),r=n(40),o=n(2)("match");e.exports=function(e){var t;return i(e)&&(void 0!==(t=e[o])?!!t:"RegExp"==r(e))}},function(e,t){e.exports=function(){return"//"+Morph.config.cdn+"/modules/bbc-morph-childrens-games-view/9.9.6"}},function(e,t,n){e.exports=!n(17)&&!n(9)(function(){return 7!=Object.defineProperty(n(67)("div"),"a",{get:function(){return 7}}).a})},function(e,t,n){var i=n(25),r=n(26),o=n(70)(!1),s=n(71)("IE_PROTO");e.exports=function(e,t){var n,a=r(e),u=0,c=[];for(n in a)n!=s&&i(a,n)&&c.push(n);for(;t.length>u;)i(a,n=t[u++])&&(~o(c,n)||c.push(n));return c}},function(e,t,n){var i=n(5).document;e.exports=i&&i.documentElement},function(e,t,n){"use strict";var i=n(36),r=n(7),o=n(96),s=[].slice,a={},u=function(e,t,n){if(!(t in a)){for(var i=[],r=0;r<t;r++)i[r]="a["+r+"]";a[t]=Function("F,a","return new F("+i.join(",")+")")}return a[t](e,n)};e.exports=Function.bind||function(e){var t=i(this),n=s.call(arguments,1),a=function(){var i=n.concat(s.call(arguments));return this instanceof a?u(t,i.length,i):o(t,i,e)};return r(t.prototype)&&(a.prototype=t.prototype),a}},function(e,t){e.exports=function(e,t,n){var i=void 0===n;switch(t.length){case 0:return i?e():e.call(n);case 1:return i?e(t[0]):e.call(n,t[0]);case 2:return i?e(t[0],t[1]):e.call(n,t[0],t[1]);case 3:return i?e(t[0],t[1],t[2]):e.call(n,t[0],t[1],t[2]);case 4:return i?e(t[0],t[1],t[2],t[3]):e.call(n,t[0],t[1],t[2],t[3])}return e.apply(n,t)}},function(e,t,n){"use strict";var i=n(1),r=n(26),o=n(54),s=n(27),a=[].lastIndexOf,u=!!a&&1/[1].lastIndexOf(1,-0)<0;i(i.P+i.F*(u||!n(37)(a)),"Array",{lastIndexOf:function(e){if(u)return a.apply(this,arguments)||0;var t=r(this),n=s(t.length),i=n-1;for(arguments.length>1&&(i=Math.min(i,o(arguments[1]))),i<0&&(i=n+i);i>=0;i--)if(i in t&&t[i]===e)return i||0;return-1}})},function(e,t){function n(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}e.exports=n,e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){var i=n(101),r=n(156);e.exports=n(60)?function(e,t,n){return i.f(e,t,r(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t,n){var i=n(152),r=n(153),o=n(155),s=Object.defineProperty;t.f=n(60)?Object.defineProperty:function(e,t,n){if(i(e),t=o(t,!0),i(n),r)try{return s(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t,n){var i=n(54),r=n(41);e.exports=function(e){return function(t,n){var o,s,a=String(r(t)),u=i(n),c=a.length;return u<0||u>=c?e?"":void 0:(o=a.charCodeAt(u),o<55296||o>56319||u+1===c||(s=a.charCodeAt(u+1))<56320||s>57343?e?a.charAt(u):o:e?a.slice(u,u+2):s-56320+(o-55296<<10)+65536)}}},function(e,t,n){"use strict";var i=n(8);e.exports=function(){var e=i(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},function(e,t,n){var i=n(8);e.exports=function(e,t,n,r){try{return r?t(i(n)[0],n[1]):t(n)}catch(t){var o=e.return;throw void 0!==o&&i(o.call(e)),t}}},function(e,t,n){var i=n(55),r=n(2)("iterator"),o=Array.prototype;e.exports=function(e){return void 0!==e&&(i.Array===e||o[r]===e)}},function(e,t,n){var i=n(62),r=n(2)("iterator"),o=n(55);e.exports=n(34).getIteratorMethod=function(e){if(void 0!=e)return e[r]||e["@@iterator"]||o[i(e)]}},function(e,t,n){var i=n(8),r=n(36),o=n(2)("species");e.exports=function(e,t){var n,s=i(e).constructor;return void 0===s||void 0==(n=i(s)[o])?t:r(n)}},function(e,t,n){var i,r,o,s=n(35),a=n(96),u=n(94),c=n(67),l=n(5),f=l.process,d=l.setImmediate,p=l.clearImmediate,h=l.MessageChannel,_=l.Dispatch,g=0,v={},m=function(){var e=+this;if(v.hasOwnProperty(e)){var t=v[e];delete v[e],t()}},E=function(e){m.call(e.data)};d&&p||(d=function(e){for(var t=[],n=1;arguments.length>n;)t.push(arguments[n++]);return v[++g]=function(){a("function"==typeof e?e:Function(e),t)},i(g),g},p=function(e){delete v[e]},"process"==n(40)(f)?i=function(e){f.nextTick(s(m,e,1))}:_&&_.now?i=function(e){_.now(s(m,e,1))}:h?(r=new h,o=r.port2,r.port1.onmessage=E,i=s(o.postMessage,o,1)):l.addEventListener&&"function"==typeof postMessage&&!l.importScripts?(i=function(e){l.postMessage(e+"","*")},l.addEventListener("message",E,!1)):i="onreadystatechange"in c("script")?function(e){u.appendChild(c("script")).onreadystatechange=function(){u.removeChild(this),m.call(e)}}:function(e){setTimeout(s(m,e,1),0)}),e.exports={set:d,clear:p}},function(e,t,n){"use strict";function i(e){var t,n;this.promise=new e(function(e,i){if(void 0!==t||void 0!==n)throw TypeError("Bad Promise constructor");t=e,n=i}),this.resolve=r(t),this.reject=r(n)}var r=n(36);e.exports.f=function(e){return new i(e)}},function(e,t,n){"use strict";var i=n(5),r=n(16),o=n(17),s=n(2)("species");e.exports=function(e){var t=i[e];o&&t&&!t[s]&&r.f(t,s,{configurable:!0,get:function(){return this}})}},function(e,t,n){"use strict";function i(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(i=function(e){return e?n:t})(e)}n(0),n(20),n(13),n(6),n(10),n(14),n(21),n(20),n(13),n(6),n(10),n(14),n(0),n(21);var r=n(46);Object.defineProperty(t,"__esModule",{value:!0}),t.getPageToReturnToQuery=void 0;var o=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=i(t);if(n&&n.has(e))return n.get(e);var o={},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var u=s?Object.getOwnPropertyDescriptor(e,a):null;u&&(u.get||u.set)?Object.defineProperty(o,a,u):o[a]=e[a]}return o.default=e,n&&n.set(e,o),o}(n(118)),s=function(e){var t=o.getValidUrl(e);return t?"&ptrt=".concat(encodeURIComponent(t)):""};t.getPageToReturnToQuery=s},function(e,t,n){var i=n(40);e.exports=Array.isArray||function(e){return"Array"==i(e)}},function(e,t,n){"use strict";var i=n(17),r=n(39),o=n(84),s=n(64),a=n(29),u=n(69),c=Object.assign;e.exports=!c||n(9)(function(){var e={},t={},n=Symbol(),i="abcdefghijklmnopqrst";return e[n]=7,i.split("").forEach(function(e){t[e]=e}),7!=c({},e)[n]||Object.keys(c({},t)).join("")!=i})?function(e,t){for(var n=a(e),c=arguments.length,l=1,f=o.f,d=s.f;c>l;)for(var p,h=u(arguments[l++]),_=f?r(h).concat(f(h)):r(h),g=_.length,v=0;g>v;)p=_[v++],i&&!d.call(h,p)||(n[p]=h[p]);return n}:c},function(e,t,n){var i=n(7),r=n(191).set;e.exports=function(e,t,n){var o,s=t.constructor;return s!==n&&"function"==typeof s&&(o=s.prototype)!==n.prototype&&i(o)&&r&&r(e,o),e}},function(e,t,n){"use strict";var i=n(53),r=n(1),o=n(18),s=n(24),a=n(55),u=n(192),c=n(56),l=n(193),f=n(2)("iterator"),d=!([].keys&&"next"in[].keys()),p=function(){return this};e.exports=function(e,t,n,h,_,g,v){u(n,t,h);var m,E,y,b=function(e){if(!d&&e in T)return T[e];switch(e){case"keys":case"values":return function(){return new n(this,e)}}return function(){return new n(this,e)}},S=t+" Iterator",A="values"==_,I=!1,T=e.prototype,P=T[f]||T["@@iterator"]||_&&T[_],C=P||b(_),O=_?A?b("entries"):C:void 0,w="Array"==t?T.entries||P:P;if(w&&(y=l(w.call(new e)))!==Object.prototype&&y.next&&(c(y,S,!0),i||"function"==typeof y[f]||s(y,f,p)),A&&P&&"values"!==P.name&&(I=!0,C=function(){return P.call(this)}),i&&!v||!d&&!I&&T[f]||s(T,f,C),a[t]=C,a[S]=p,_)if(m={values:A?C:b("values"),keys:g?C:b("keys"),entries:O},v)for(E in m)E in T||o(T,E,m[E]);else r(r.P+r.F*(d||I),t,m);return m}},function(e,t,n){var i=n(1),r=n(34),o=n(9);e.exports=function(e,t){var n=(r.Object||{})[e]||Object[e],s={};s[e]=t(n),i(i.S+i.F*o(function(){n(1)}),"Object",s)}},function(e,t,n){"use strict";function i(e){return/^https?:\/\/([a-z-.]*\.)?bbci?\.co(m|\.uk)(\/.*)?$/.test(e)?e:""}n(0),n(0),Object.defineProperty(t,"__esModule",{value:!0}),t.getValidUrl=i},function(e,t){function n(){return e.exports=n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},e.exports.default=e.exports,e.exports.__esModule=!0,n.apply(this,arguments)}e.exports=n,e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,n){"use strict";var i=n(5),r=n(25),o=n(17),s=n(1),a=n(18),u=n(63).KEY,c=n(9),l=n(57),f=n(56),d=n(52),p=n(2),h=n(121),_=n(197),g=n(198),v=n(113),m=n(8),E=n(7),y=n(29),b=n(26),S=n(68),A=n(51),I=n(58),T=n(199),P=n(86),C=n(84),O=n(16),w=n(39),N=P.f,R=O.f,L=T.f,D=i.Symbol,M=i.JSON,B=M&&M.stringify,x=p("_hidden"),k=p("toPrimitive"),U={}.propertyIsEnumerable,V=l("symbol-registry"),G=l("symbols"),F=l("op-symbols"),j=Object.prototype,H="function"==typeof D&&!!C.f,W=i.QObject,Y=!W||!W.prototype||!W.prototype.findChild,K=o&&c(function(){return 7!=I(R({},"a",{get:function(){return R(this,"a",{value:7}).a}})).a})?function(e,t,n){var i=N(j,t);i&&delete j[t],R(e,t,n),i&&e!==j&&R(j,t,i)}:R,z=function(e){var t=G[e]=I(D.prototype);return t._k=e,t},q=H&&"symbol"==typeof D.iterator?function(e){return"symbol"==typeof e}:function(e){return e instanceof D},Q=function(e,t,n){return e===j&&Q(F,t,n),m(e),t=S(t,!0),m(n),r(G,t)?(n.enumerable?(r(e,x)&&e[x][t]&&(e[x][t]=!1),n=I(n,{enumerable:A(0,!1)})):(r(e,x)||R(e,x,A(1,{})),e[x][t]=!0),K(e,t,n)):R(e,t,n)},$=function(e,t){m(e);for(var n,i=g(t=b(t)),r=0,o=i.length;o>r;)Q(e,n=i[r++],t[n]);return e},X=function(e,t){return void 0===t?I(e):$(I(e),t)},J=function(e){var t=U.call(this,e=S(e,!0));return!(this===j&&r(G,e)&&!r(F,e))&&(!(t||!r(this,e)||!r(G,e)||r(this,x)&&this[x][e])||t)},Z=function(e,t){if(e=b(e),t=S(t,!0),e!==j||!r(G,t)||r(F,t)){var n=N(e,t);return!n||!r(G,t)||r(e,x)&&e[x][t]||(n.enumerable=!0),n}},ee=function(e){for(var t,n=L(b(e)),i=[],o=0;n.length>o;)r(G,t=n[o++])||t==x||t==u||i.push(t);return i},te=function(e){for(var t,n=e===j,i=L(n?F:b(e)),o=[],s=0;i.length>s;)!r(G,t=i[s++])||n&&!r(j,t)||o.push(G[t]);return o};H||(D=function(){if(this instanceof D)throw TypeError("Symbol is not a constructor!");var e=d(arguments.length>0?arguments[0]:void 0),t=function(n){this===j&&t.call(F,n),r(this,x)&&r(this[x],e)&&(this[x][e]=!1),K(this,e,A(1,n))};return o&&Y&&K(j,e,{configurable:!0,set:t}),z(e)},a(D.prototype,"toString",function(){return this._k}),P.f=Z,O.f=Q,n(89).f=T.f=ee,n(64).f=J,C.f=te,o&&!n(53)&&a(j,"propertyIsEnumerable",J,!0),h.f=function(e){return z(p(e))}),s(s.G+s.W+s.F*!H,{Symbol:D});for(var ne="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),ie=0;ne.length>ie;)p(ne[ie++]);for(var re=w(p.store),oe=0;re.length>oe;)_(re[oe++]);s(s.S+s.F*!H,"Symbol",{for:function(e){return r(V,e+="")?V[e]:V[e]=D(e)},keyFor:function(e){if(!q(e))throw TypeError(e+" is not a symbol!");for(var t in V)if(V[t]===e)return t},useSetter:function(){Y=!0},useSimple:function(){Y=!1}}),s(s.S+s.F*!H,"Object",{create:X,defineProperty:Q,defineProperties:$,getOwnPropertyDescriptor:Z,getOwnPropertyNames:ee,getOwnPropertySymbols:te});var se=c(function(){C.f(1)});s(s.S+s.F*se,"Object",{getOwnPropertySymbols:function(e){return C.f(y(e))}}),M&&s(s.S+s.F*(!H||c(function(){var e=D();return"[null]"!=B([e])||"{}"!=B({a:e})||"{}"!=B(Object(e))})),"JSON",{stringify:function(e){for(var t,n,i=[e],r=1;arguments.length>r;)i.push(arguments[r++]);if(n=t=i[1],(E(t)||void 0!==e)&&!q(e))return v(t)||(t=function(e,t){if("function"==typeof n&&(t=n.call(this,e,t)),!q(t))return t}),i[1]=t,B.apply(M,i)}}),D.prototype[k]||n(24)(D.prototype,k,D.prototype.valueOf),f(D,"Symbol"),f(Math,"Math",!0),f(i.JSON,"JSON",!0)},function(e,t,n){t.f=n(2)},function(e,t,n){"use strict";var i=n(35),r=n(1),o=n(29),s=n(105),a=n(106),u=n(27),c=n(200),l=n(107);r(r.S+r.F*!n(82)(function(e){Array.from(e)}),"Array",{from:function(e){var t,n,r,f,d=o(e),p="function"==typeof this?this:Array,h=arguments.length,_=h>1?arguments[1]:void 0,g=void 0!==_,v=0,m=l(d);if(g&&(_=i(_,h>2?arguments[2]:void 0,2)),void 0==m||p==Array&&a(m))for(t=u(d.length),n=new p(t);t>v;v++)c(n,v,g?_(d[v],v):d[v]);else for(f=m.call(d),n=new p;!(r=f.next()).done;v++)c(n,v,g?s(f,_,[r.value,v],!0):r.value);return n.length=v,n}})},function(e,t,n){"use strict";n(0),n(0);var i=n(4);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(3)),o=r.default.createClass({displayName:"Trophy",render:function(){return r.default.createElement("svg",{enableBackground:"new 0 0 13 13",version:"1.1",viewBox:"0 0 13 13",xmlSpace:"preserve",xmlns:"http://www.w3.org/2000/svg"},r.default.createElement("path",{className:"st0",d:"m10.3 11.8h-7.6v1.2h7.6v-1.2z"}),r.default.createElement("path",{className:"st0",d:"m0 0v3.5l2 2.5h1.7l1 1.9 0.3 1.7-1.3 1.4h5.6l-1.4-1.4 0.3-1.7 1-1.9h1.8l2-2.5v-3.5h-13zm3 5h-0.6l-1.4-1.9v-2.1h2v4zm9-1.9l-1.4 1.9h-0.6v-4h2v2.1z"}))}}),s=o;t.default=s},function(e,t,n){"use strict";n(0),n(0),Object.defineProperty(t,"__esModule",{value:!0}),t.getAchievementsPath=void 0;var i=function(e,t,n){return void 0===t?"".concat(e,"/achievements/").concat(n):"".concat(e).concat(t,"/achievements/").concat(n)};t.getAchievementsPath=i},function(e,t,n){"use strict";var i=n(1),r=n(36),o=n(29),s=n(9),a=[].sort,u=[1,2,3];i(i.P+i.F*(s(function(){u.sort(void 0)})||!s(function(){u.sort(null)})||!n(37)(a)),"Array",{sort:function(e){return void 0===e?a.call(o(this)):a.call(o(this),r(e))}})},function(e,t){function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}e.exports=n,e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,n){"use strict";n(0),n(66),n(49),n(33),n(0);var i=n(4);Object.defineProperty(t,"__esModule",{value:!0}),t.getBrowser=void 0,n(66),n(49),n(33);var r=i(n(212)),o=function(e){var t=e.satisfies({mobile:{safari:">=8"}}),n=e.satisfies({mobile:{safari:"<15"}}),i=document.referrer.includes("https://t.co");return t&&!i&&n},s=function(){var e=r.default.getParser(window.navigator.userAgent),t=e.getOSName(),n=e.getBrowser(),i="Android"===t;return{shouldShowBrim:o(e),shouldUseFullscreenApi:i,isIe11:"Internet Explorer"===n.name}};t.getBrowser=s},function(e,t,n){var i=n(1);i(i.S,"Date",{now:function(){return(new Date).getTime()}})},function(e,t,n){"use strict";function i(e,t){e.top.location=t}n(0),n(0),Object.defineProperty(t,"__esModule",{value:!0}),t.openUrlAtWindowTop=i},function(e,t,n){"use strict";var i=n(8),r=n(27),o=n(75),s=n(76);n(77)("match",1,function(e,t,n,a){return[function(n){var i=e(this),r=void 0==n?void 0:n[t];return void 0!==r?r.call(n,i):new RegExp(n)[t](String(i))},function(e){var t=a(n,e,this);if(t.done)return t.value;var u=i(e),c=String(this);if(!u.global)return s(u,c);var l=u.unicode;u.lastIndex=0;for(var f,d=[],p=0;null!==(f=s(u,c));){var h=String(f[0]);d[p]=h,""===h&&(u.lastIndex=o(c,r(u.lastIndex),l)),p++}return 0===p?null:d}]})},function(e,t,n){"use strict";var i=n(90),r=n(8),o=n(108),s=n(75),a=n(27),u=n(76),c=n(78),l=n(9),f=Math.min,d=[].push,p="length",h=!l(function(){RegExp(4294967295,"y")});n(77)("split",2,function(e,t,n,l){var _;return _="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1)[p]||2!="ab".split(/(?:ab)*/)[p]||4!=".".split(/(.?)(.?)/)[p]||".".split(/()()/)[p]>1||"".split(/.?/)[p]?function(e,t){var r=String(this);if(void 0===e&&0===t)return[];if(!i(e))return n.call(r,e,t);for(var o,s,a,u=[],l=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),f=0,h=void 0===t?4294967295:t>>>0,_=new RegExp(e.source,l+"g");(o=c.call(_,r))&&!((s=_.lastIndex)>f&&(u.push(r.slice(f,o.index)),o[p]>1&&o.index<r[p]&&d.apply(u,o.slice(1)),a=o[0][p],f=s,u[p]>=h));)_.lastIndex===o.index&&_.lastIndex++;return f===r[p]?!a&&_.test("")||u.push(""):u.push(r.slice(f)),u[p]>h?u.slice(0,h):u}:"0".split(void 0,0)[p]?function(e,t){return void 0===e&&0===t?[]:n.call(this,e,t)}:n,[function(n,i){var r=e(this),o=void 0==n?void 0:n[t];return void 0!==o?o.call(n,r,i):_.call(String(r),n,i)},function(e,t){var i=l(_,e,this,t,_!==n);if(i.done)return i.value;var c=r(e),d=String(this),p=o(c,RegExp),g=c.unicode,v=(c.ignoreCase?"i":"")+(c.multiline?"m":"")+(c.unicode?"u":"")+(h?"y":"g"),m=new p(h?c:"^(?:"+c.source+")",v),E=void 0===t?4294967295:t>>>0;if(0===E)return[];if(0===d.length)return null===u(m,d)?[d]:[];for(var y=0,b=0,S=[];b<d.length;){m.lastIndex=h?b:0;var A,I=u(m,h?d:d.slice(b));if(null===I||(A=f(a(m.lastIndex+(h?0:b)),d.length))===y)b=s(d,b,g);else{if(S.push(d.slice(y,b)),S.length===E)return S;for(var T=1;T<=I.length-1;T++)if(S.push(I[T]),S.length===E)return S;b=y=A}}return S.push(d.slice(y)),S}]})},function(e,t,n){var i=n(5),r=n(115),o=n(16).f,s=n(89).f,a=n(90),u=n(104),c=i.RegExp,l=c,f=c.prototype,d=/a/g,p=/a/g,h=new c(d)!==d;if(n(17)&&(!h||n(9)(function(){return p[n(2)("match")]=!1,c(d)!=d||c(p)==p||"/a/i"!=c(d,"i")}))){c=function(e,t){var n=this instanceof c,i=a(e),o=void 0===t;return!n&&i&&e.constructor===c&&o?e:r(h?new l(i&&!o?e.source:e,t):l((i=e instanceof c)?e.source:e,i&&o?u.call(e):t),n?this:f,c)};for(var _=s(l),g=0;_.length>g;)!function(e){e in c||o(c,e,{configurable:!0,get:function(){return l[e]},set:function(t){l[e]=t}})}(_[g++]);f.constructor=c,c.prototype=f,n(18)(i,"RegExp",c)}n(111)("RegExp")},function(e,t,n){"use strict";n(219)("trim",function(e){return function(){return e(this,3)}})},function(e,t,n){"use strict";n(0),n(0),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=new Error("The ID availability service timed-out."),r=new Error("The ID availability service is unavailable."),o=new Error("The ID system is unavailable."),s=new Error("Not signed In"),a=new Error("The authorisation system is unavailable"),u=new Error("Token refresh failed"),c=new Error("clientId or AuthUrl have not been supplied"),l=new Error("IDCTA was not ready before authorisation was called"),f={servicetimeOut:i,serviceUnavailable:r,systemUnavailable:o,notSignedIn:s,authorisationSystemUnavailable:a,tokenRefreshFailed:u,clientIdOrAuthNotSupplied:c,idctaNotReady:l};t.default=f},function(e,t,n){var i=n(1);i(i.S,"Object",{create:n(58)})},function(e,t,n){var i=n(1);i(i.S+i.F,"Object",{assign:n(114)})},function(e,t,n){"use strict";var i=n(1),r=n(38)(5),o=!0;"find"in[]&&Array(1).find(function(){o=!1}),i(i.P+i.F*o,"Array",{find:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}}),n(87)("find")},function(e,t,n){"use strict";function i(e){return e&&e.bbccookies&&e.bbccookies.isAllowed("ckps_whatever")}n(0),n(0),Object.defineProperty(t,"__esModule",{value:!0}),t.areFunctionalCookiesEnabled=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(140),r=n.n(i);Morph.modules["bbc-morph-childrens-games-view@9.9.6"]=r.a},function(e,t,n){"use strict";e.exports=n(141)},function(e,t,n){"use strict";var i=n(4),r=i(n(142)),o=i(n(143)),s=function(e){var t={uri:{data:"bbc-morph-games-data",game:e.game||e.gid,project:"childrensgames",baseUrl:"/childrens/assets/games"},updates:!1,requireSuccess:!0};return e.versionOverride&&(t.uri.versionOverride=e.versionOverride),e.viewNonPublished&&(t.uri.viewNonPublished=e.viewNonPublished),t};e.exports=r.default.create(o.default,{data:function(e){return{data:s(e),idAvailabilityData:{uri:{data:"bbc-morph-id-availability-data"},requireSuccess:!0,updates:!1},idConfigData:{uri:{service:"bbcid-config-couk",path:"?context=games"},requireSuccess:!0,updates:!1}}}})},function(e,t){e.exports={create:function(e,t){return Morph.createContainerWithCaller("bbc-morph-childrens-games-view@9.9.6",e,t)}}},function(e,t,n){"use strict";function i(e){var t=r();return function(){var n,i=(0,p.default)(e);if(t){var r=(0,p.default)(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return(0,d.default)(this,n)}}function r(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}n(0),n(11),n(19),n(97),n(11),n(0);var o=n(4);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n(19),n(97);var s,a,u=o(n(42)),c=o(n(43)),l=o(n(98)),f=o(n(44)),d=o(n(45)),p=o(n(47)),h=o(n(3)),_=o(n(148)),g=o(n(172)),v=o(n(173)),m=o(n(178)),E=o(n(179)),y=o(n(180)),b=o(n(196)),S=n(203),A=n(205),I=n(118),T=n(211),P=n(127),C=n(213),O=o(n(214)),w=n(215),N=n(216),R=n(129),L=n(217),D=function(){window.bbccookies=n(218)},M=function(){(0,P.getBrowser)().shouldUseFullscreenApi&&(0,C.listenForFullscreen)(window,document.body)},B=function(e){return"true"===e||!0===e},x=function(e){function t(e){var n;return(0,u.default)(this,t),n=r.call(this,e),n.loadGameFromUrl=n.loadGameFromUrl.bind((0,l.default)(n)),n.state={showCta:n.showCta(),isPortrait:!1,showSettings:!1,userPressedEnter:!1,showErrorMessage:!1,loadingSpinnerEnabled:!0,useBrim:!1,componentMounted:!1,notificationKey:void 0,notificationName:void 0,notificationDescription:void 0,notificationPosition:void 0},n}(0,f.default)(t,e);var r=i(t);return(0,c.default)(t,[{key:"componentDidMount",value:function(){if(this.setUpWindowObject(),this.props.data.body.embedVars.pwa){var e=(0,T.setUrlOrigin)(this.props.data.body.gameDir,this.props.data.body.environment,window),t=e.substring(0,e.lastIndexOf("/",e.length-2));L.init(t)}var n=Boolean(0===window.orientation||180===window.orientation);this.setState({componentMounted:!0,useBrim:(0,P.getBrowser)().shouldShowBrim,isPortrait:n}),a=y.default.inject(document.head),this.showCta()||this.loadGame()}},{key:"getGameWrapperProps",value:function(){var e=this,t=["game-wrapper"];this.state.showCta&&t.push("game-wrapper--embed"),!this.state.showCta&&this.state.useBrim&&t.push("game-wrapper__brim");var n={className:t.join(" ")};return n.ref=function(t){e.gameWrapperDiv=t},n}},{key:"getGameHolderProps",value:function(){return{id:this.isLegacyGame()?"og-game-holder":"game-holder",className:"game-wrapper__game","aria-hidden":!!this.isOverlayOpen()||null,tabIndex:this.isOverlayOpen()?-1:null}}},{key:"setUpWindowObject",value:function(){window.cage={gameId:this.props.data.body.id,gameDir:(0,T.setUrlOrigin)(this.props.data.body.gameDir,this.props.data.body.environment,window),exitGameUrl:(0,I.getValidUrl)(this.props.exitGameUrl),embedVars:this.props.data.body.embedVars,gameContainerId:"game-holder",environment:window.Morph.config.pushEnv||"test",isFullScreen:!0},window.addEventListener("keydown",this.handleFirstTab.bind(this)),window.addEventListener("keyup",this.handleFirstEnterKey.bind(this)),window.addEventListener("orientationchange",this.handleOrientationChange.bind(this)),this.isLegacyGame()&&(window.og=window.cage,window.og.gameContainerId="og-game-holder")}},{key:"setRequireConfig",value:function(){requirejs({paths:{Game:(0,T.setUrlOrigin)(this.props.data.body.url,this.props.data.body.environment,window),echo:"https://static.bbci.co.uk/nkdata/echoclient/2.0.0/sharedmodules/echo"},waitSeconds:30,baseUrl:(0,T.setUrlOrigin)(this.props.data.body.gameDir,this.props.data.body.environment,window)})}},{key:"handleFirstTab",value:function(e){9===e.keyCode&&(document.body.classList.add("user-is-tabbing"),window.removeEventListener("keydown",this.handleFirstTab.bind(this)))}},{key:"handleFirstEnterKey",value:function(e){13===e.keyCode&&(this.setState({userPressedEnter:!0}),window.removeEventListener("keyup",this.handleFirstEnterKey.bind(this)))}},{key:"handleOrientationChange",value:function(){this.setState({isPortrait:Boolean(0===window.orientation||180===window.orientation)})}},{key:"showCta",value:function(){return B(this.props.showCallToAction)}},{key:"isLegacyGame",value:function(){return B(this.props.data.body.isLegacyGame)}},{key:"isOverlayOpen",value:function(){return this.state.showSettings||this.state.showAchievements}},{key:"delayLoadingSpinnerRemoval",value:function(){var e=this;setTimeout(function(){e.setState({loadingSpinnerEnabled:!1})},1e4)}},{key:"loadGameFromUrl",value:function(){var e=N.generate(window,this.props);R.openUrlAtWindowTop(window,decodeURI(e))}},{key:"loadGame",value:function(){var e=this;D();var t=n(221)(this.props,a),i=n(223);s=n(224)(window,i,function(t){e.setState(t)},t,this.props.data.body),window.getGMI=s.getGMI,this.setRequireConfig(),this.requireAndInitGame(),M()}},{key:"requireAndInitGame",value:function(){var e=this;requirejs(["Game","echo"],function(t){t&&"function"==typeof t.init&&t.init(),e.delayLoadingSpinnerRemoval()},function(t){console.log(t),e.setState({showErrorMessage:!0,loadingSpinnerEnabled:!1})})}},{key:"renderRotateScreen",value:function(){var e={product:this.props.data.body.product,showRotate:this.props.data.body.embedVars.showRotateScreen};return h.default.createElement(_.default,e)}},{key:"renderGameHolder",value:function(){var e=this;return h.default.createElement("div",null,this.state.isPortrait&&this.props.data.body.embedVars.showRotateScreen&&h.default.createElement("div",{className:"cage-pointer-block"}),h.default.createElement("div",{id:"cage-exit-tile",className:"exit-tile__container--hidden"}),this.state.componentMounted&&this.renderRotateScreen(),h.default.createElement("div",this.getGameHolderProps()),h.default.createElement(O.default,{userPressedEnter:this.state.userPressedEnter}),this.state.gmi&&this.state.gmi.getAllSettings&&h.default.createElement(S.AchievementNotification,{notificationKey:this.state.notificationKey,notificationName:this.state.notificationName,notificationDescription:this.state.notificationDescription,notificationPosition:this.state.notificationPosition,gmi:this.state.gmi}),this.state.showAchievements&&h.default.createElement(A.AchievementsScreen,{gmi:this.state.gmi}),this.state.showSettings&&h.default.createElement(b.default,{isMobile:w.isMobile(window,screen),gmi:this.state.gmi,gmiOptions:this.state.gmiOptions,closeSettingsView:function(){e.setState({showSettings:!1},function(){e.state.onSettingsClosed()})},onSettingChanged:this.state.onSettingChanged}))}},{key:"renderCallToAction",value:function(){var e=this.props.data.body.heroImagePid;return h.default.createElement("div",{className:"game-wrapper__cta",onClick:this.loadGameFromUrl},e&&h.default.createElement(v.default,{imagePid:e}),h.default.createElement(E.default,null))}},{key:"renderError",value:function(){return 200!==this.props.data.meta.responseCode||!0===this.state.showErrorMessage?h.default.createElement("div",{className:"game-wrapper__error"},"This content could not be found."):null}},{key:"renderGameContent",value:function(){return this.state.showCta?this.renderCallToAction():this.renderGameHolder()}},{key:"renderContent",value:function(){return h.default.createElement("div",null,this.state.loadingSpinnerEnabled&&h.default.createElement(m.default,null),this.renderGameContent())}},{key:"render",value:function(){var e=this,t={};return!this.state.showCta&&(t.className="cage-game"),h.default.createElement("div",t,h.default.createElement("div",this.getGameWrapperProps(),this.renderError()||this.renderContent()),this.state.useBrim&&this.state.gmi&&h.default.createElement(g.default,{windowObj:window,disableBrim:function(){return e.setState({useBrim:!1})},gmi:this.state.gmi}))}}]),t}(h.default.Component);t.default=x,x.displayName="Childrens-Games-View__Game",x.propTypes={data:h.default.PropTypes.object.isRequired,game:h.default.PropTypes.string.isRequired,exitGameUrl:h.default.PropTypes.string,showCallToAction:h.default.PropTypes.oneOfType([h.default.PropTypes.string,h.default.PropTypes.bool])}},function(e,t,n){e.exports=n(57)("native-function-to-string",Function.toString)},function(e,t,n){var i=n(16),r=n(8),o=n(39);e.exports=n(17)?Object.defineProperties:function(e,t){r(e);for(var n,s=o(t),a=s.length,u=0;a>u;)i.f(e,n=s[u++],t[n]);return e}},function(e,t,n){var i=n(54),r=Math.max,o=Math.min;e.exports=function(e,t){return e=i(e),e<0?r(e+t,0):o(e,t)}},function(e,t){function n(t,i){return e.exports=n=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},e.exports.default=e.exports,e.exports.__esModule=!0,n(t,i)}e.exports=n,e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,n){"use strict";(function(i){var r=n(149),o=n(28);n(23),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=o(n(3)),a=o(n(165)),u=o(n(166)),c=o(n(167)),l=o(n(168)),f=o(n(169)),d=o(n(170)),p=r(n(171)),h=s.default.createClass({displayName:"Games-Rotate",getInitialState:function(){return{isPortrait:!1}},componentDidMount:function(){var e=this;this.showRotateIfPortrait(),i.window.addEventListener("orientationchange",this.showRotateIfPortrait,!1),p.setupViewportHeightEventListener(function(){return e.forceUpdate()})},componentWillUnmount:function(){i.window.removeEventListener("orientationchange",this.showRotateIfPortrait,!1),p.removeViewportHeightEventListener()},showRotateIfPortrait:function(){this.setState({isPortrait:Boolean(0===i.window.orientation||180===i.window.orientation)})},renderRotateScreen:function(){var e={viewportStyle:p.getStyle()},t={cbbc:function(){return s.default.createElement(u.default,e)},cbeebies:function(){return s.default.createElement(c.default,e)},bitesize:function(){return s.default.createElement(a.default,e)},default:function(){return s.default.createElement(l.default,e)},food:function(){return s.default.createElement(f.default,e)},sport:function(){return s.default.createElement(d.default,e)}};return this.props.product&&t[this.props.product]?t[this.props.product]():t.default()},render:function(){return!("false"===this.props.showRotate||!1===this.props.showRotate)&&this.state.isPortrait&&this.renderRotateScreen()}});h.propTypes={showRotate:s.default.PropTypes.oneOfType([s.default.PropTypes.string,s.default.PropTypes.bool]),product:s.default.PropTypes.string};var _=h;t.default=_,e.exports=t.default}).call(t,n(99))},function(e,t,n){function i(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return i=function(){return e},e}function r(e){if(e&&e.__esModule)return e;if(null===e||"object"!==o(e)&&"function"!=typeof e)return{default:e};var t=i();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){var a=r?Object.getOwnPropertyDescriptor(e,s):null;a&&(a.get||a.set)?Object.defineProperty(n,s,a):n[s]=e[s]}return n.default=e,t&&t.set(e,n),n}var o=n(150);e.exports=r},function(e,t){function n(t){"@babel/helpers - typeof";return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?e.exports=n=function(e){return typeof e}:e.exports=n=function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(t)}e.exports=n},function(e,t,n){var i=n(59),r=n(73),o=n(100),s=n(157),a=n(163),u=function(e,t,n){var c,l,f,d,p=e&u.F,h=e&u.G,_=e&u.S,g=e&u.P,v=e&u.B,m=h?i:_?i[t]||(i[t]={}):(i[t]||{}).prototype,E=h?r:r[t]||(r[t]={}),y=E.prototype||(E.prototype={});h&&(n=t);for(c in n)l=!p&&m&&void 0!==m[c],f=(l?m:n)[c],d=v&&l?a(f,i):g&&"function"==typeof f?a(Function.call,f):f,m&&s(m,c,f,e&u.U),E[c]!=f&&o(E,c,d),g&&y[c]!=f&&(y[c]=f)};i.core=r,u.F=1,u.G=2,u.S=4,u.P=8,u.B=16,u.W=32,u.U=64,u.R=128,e.exports=u},function(e,t,n){var i=n(74);e.exports=function(e){if(!i(e))throw TypeError(e+" is not an object!");return e}},function(e,t,n){e.exports=!n(60)&&!n(102)(function(){return 7!=Object.defineProperty(n(154)("div"),"a",{get:function(){return 7}}).a})},function(e,t,n){var i=n(74),r=n(59).document,o=i(r)&&i(r.createElement);e.exports=function(e){return o?r.createElement(e):{}}},function(e,t,n){var i=n(74);e.exports=function(e,t){if(!i(e))return e;var n,r;if(t&&"function"==typeof(n=e.toString)&&!i(r=n.call(e)))return r;if("function"==typeof(n=e.valueOf)&&!i(r=n.call(e)))return r;if(!t&&"function"==typeof(n=e.toString)&&!i(r=n.call(e)))return r;throw TypeError("Can't convert object to primitive value")}},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t,n){var i=n(59),r=n(100),o=n(158),s=n(159)("src"),a=n(160),u=(""+a).split("toString");n(73).inspectSource=function(e){return a.call(e)},(e.exports=function(e,t,n,a){var c="function"==typeof n;c&&(o(n,"name")||r(n,"name",t)),e[t]!==n&&(c&&(o(n,s)||r(n,s,e[t]?""+e[t]:u.join(String(t)))),e===i?e[t]=n:a?e[t]?e[t]=n:r(e,t,n):(delete e[t],r(e,t,n)))})(Function.prototype,"toString",function(){return"function"==typeof this&&this[s]||a.call(this)})},function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},function(e,t){var n=0,i=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++n+i).toString(36))}},function(e,t,n){e.exports=n(161)("native-function-to-string",Function.toString)},function(e,t,n){var i=n(73),r=n(59),o=r["__core-js_shared__"]||(r["__core-js_shared__"]={});(e.exports=function(e,t){return o[e]||(o[e]=void 0!==t?t:{})})("versions",[]).push({version:i.version,mode:n(162)?"pure":"global",copyright:" 2019 Denis Pushkarev (zloirock.ru)"})},function(e,t){e.exports=!1},function(e,t,n){var i=n(164);e.exports=function(e,t,n){if(i(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,i){return e.call(t,n,i)};case 3:return function(n,i,r){return e.call(t,n,i,r)}}return function(){return e.apply(t,arguments)}}},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t,n){"use strict";var i=n(28);n(23),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(3)),o=i(n(61)),s=i(n(48)),a=r.default.createClass({displayName:"Games-Rotate-Bitesize",render:function(){return r.default.createElement("div",{className:"cage-rotate-screen cage-rotate-screen--bitesize"},r.default.createElement("div",{className:"cage-rotate-screen__inner",style:this.props.viewportStyle},r.default.createElement("img",{className:"cage-rotate-screen__bitesize-x-shape",src:"".concat((0,o.default)(),"/images/bitesize/x-shape.svg"),alt:""}),r.default.createElement("img",{className:"cage-rotate-screen__bitesize-c-shape",src:"".concat((0,o.default)(),"/images/bitesize/c-shape.svg"),alt:""}),r.default.createElement("img",{className:"cage-rotate-screen__bitesize-cross",src:"".concat((0,o.default)(),"/images/bitesize/cross.svg"),alt:""}),r.default.createElement("img",{className:"cage-rotate-screen__bitesize-curve",src:"".concat((0,o.default)(),"/images/bitesize/curve.svg"),alt:""}),r.default.createElement("img",{className:"cage-rotate-screen__bitesize-piranha",src:"".concat((0,o.default)(),"/images/bitesize/piranha.svg"),alt:""}),r.default.createElement("img",{className:"cage-rotate-screen__bitesize-starburst",src:"".concat((0,o.default)(),"/images/bitesize/starburst.svg"),alt:""}),r.default.createElement("img",{className:"cage-rotate-screen__bitesize-triangle",src:"".concat((0,o.default)(),"/images/bitesize/triangle.svg"),alt:""}),r.default.createElement("img",{className:"cage-rotate-screen__bitesize-zigzag",src:"".concat((0,o.default)(),"/images/bitesize/zigzag.svg"),alt:""}),r.default.createElement("img",{className:"cage-rotate-screen__bitesize-house",src:"".concat((0,o.default)(),"/images/bitesize/house.svg"),alt:""}),r.default.createElement("img",{className:"cage-rotate-screen__bitesize-book",src:"".concat((0,o.default)(),"/images/bitesize/book.svg"),alt:""}),r.default.createElement("div",{className:"absolute-center cage-rotate-screen__title"},"Bitesize"),r.default.createElement(s.default,null),r.default.createElement("div",{className:"absolute-center cage-rotate-screen__text"},"Please rotate your device")))}}),u=a;t.default=u,e.exports=t.default},function(e,t,n){"use strict";var i=n(28);n(23),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(3)),o=i(n(61)),s=i(n(48)),a=r.default.createClass({displayName:"Games-Rotate-Cbbc",render:function(){return r.default.createElement("div",{className:"cage-rotate-screen cage-rotate-screen--cbbc"},r.default.createElement("div",{className:"cage-rotate-screen__inner",style:this.props.viewportStyle},r.default.createElement("img",{className:"cage-rotate-screen__streamers-left",src:"".concat((0,o.default)(),"/images/cbbc/streamers-green.svg"),alt:""}),r.default.createElement("img",{className:"cage-rotate-screen__streamers-right",src:"".concat((0,o.default)(),"/images/cbbc/streamers-pink.svg"),alt:""}),r.default.createElement("img",{className:"absolute-center cage-rotate-screen__cbbc-logo",src:"".concat((0,o.default)(),"/images/cbbc/logo.svg"),alt:"CBBC"}),r.default.createElement(s.default,null),r.default.createElement("div",{className:"absolute-center cage-rotate-screen__text"},"Please rotate your device")))}}),u=a;t.default=u,e.exports=t.default},function(e,t,n){"use strict";var i=n(28);n(23),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(3)),o=i(n(61)),s=i(n(48)),a=r.default.createClass({displayName:"Games-Rotate-Cbeebies",render:function(){return r.default.createElement("div",{className:"cage-rotate-screen cage-rotate-screen--cbeebies"},r.default.createElement("div",{className:"absolute-center cage-rotate-screen__inner",style:this.props.viewportStyle},r.default.createElement("div",{className:"cage-rotate-screen__grass"}),r.default.createElement("img",{className:"cage-rotate-screen__cbeebies-bug-1",src:"".concat((0,o.default)(),"/images/cbeebies/bug-1.svg"),alt:""}),r.default.createElement("img",{className:"cage-rotate-screen__cbeebies-bug-2",src:"".concat((0,o.default)(),"/images/cbeebies/bug-2.svg"),alt:""}),r.default.createElement("img",{className:"cage-rotate-screen__cbeebies-bug-3",src:"".concat((0,o.default)(),"/images/cbeebies/bug-3.svg"),alt:""}),r.default.createElement("img",{className:"absolute-center cage-rotate-screen__cbeebies-logo",src:"".concat((0,o.default)(),"/images/cbeebies/logo.svg"),alt:""}),r.default.createElement(s.default,null),r.default.createElement("div",{className:"absolute-center cage-rotate-screen__text"},"Please rotate your device")))}}),u=a;t.default=u,e.exports=t.default},function(e,t,n){"use strict";var i=n(28);n(23),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(3)),o=i(n(48)),s=r.default.createClass({displayName:"Games-Rotate-Default",render:function(){return r.default.createElement("div",{className:"cage-rotate-screen cage-rotate-screen--default"},r.default.createElement("div",{className:"absolute-center cage-rotate-screen__inner",style:this.props.viewportStyle},r.default.createElement(o.default,null),r.default.createElement("div",{className:"absolute-center cage-rotate-screen__text"},"Please rotate your device")))}}),a=s;t.default=a,e.exports=t.default},function(e,t,n){"use strict";var i=n(28);n(23),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(3)),o=i(n(61)),s=i(n(48)),a=r.default.createClass({displayName:"Games-Rotate-Food",render:function(){return r.default.createElement("div",{className:"cage-rotate-screen cage-rotate-screen--food"},r.default.createElement("div",{className:"cage-rotate-screen__inner",style:this.props.viewportStyle},r.default.createElement("img",{className:"absolute-center cage-rotate-screen__food-logo",src:"".concat((0,o.default)(),"/images/food/logo.svg"),alt:"Food"}),r.default.createElement(s.default,null),r.default.createElement("div",{className:"absolute-center cage-rotate-screen__text"},"Please rotate your device")))}}),u=a;t.default=u,e.exports=t.default},function(e,t,n){"use strict";var i=n(28);n(23),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(3)),o=i(n(48)),s=r.default.createClass({displayName:"Games-Rotate-Sport",render:function(){return r.default.createElement("div",{className:"cage-rotate-screen cage-rotate-screen--sport"},r.default.createElement("div",{className:"cage-rotate-screen__inner",style:this.props.viewportStyle},r.default.createElement("div",{className:"absolute-center cage-rotate-screen__title"},"Sport"),r.default.createElement(o.default,null),r.default.createElement("div",{className:"absolute-center cage-rotate-screen__text"},"Please rotate your device")))}}),a=s;t.default=a,e.exports=t.default},function(e,t,n){"use strict";(function(e){n(23),Object.defineProperty(t,"__esModule",{value:!0}),t.getStyle=t.removeViewportHeightEventListener=t.setupViewportHeightEventListener=void 0;var i=0,r=function(t){i=e.window.innerHeight,t()},o=function(t){e.window.addEventListener("resize",function(){return r(t)}),r(t)};t.setupViewportHeightEventListener=o;var s=function(){return e.window.removeEventListener("resize",r)};t.removeViewportHeightEventListener=s;var a=function(){return{maxWidth:"".concat(i,"px"),transform:"translateX(calc(50vw - 50%)) translateY(calc(".concat(i/2,"px - 50%)) rotate(90deg)")}};t.getStyle=a}).call(t,n(99))},function(e,t,n){"use strict";function i(e){var t=r();return function(){var n,i=(0,l.default)(e);if(t){var r=(0,l.default)(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return(0,c.default)(this,n)}}function r(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}n(0),n(11),n(19),n(11),n(0);var o=n(4);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.preventDefault=void 0,n(19);var s=o(n(42)),a=o(n(43)),u=o(n(44)),c=o(n(45)),l=o(n(47)),f=o(n(3)),d=function(e){e.preventDefault()};t.preventDefault=d;var p=function(e){function t(e){var i;return(0,s.default)(this,t),i=n.call(this,e),i.numberOfTapsToDismiss=0,i.brimOpen=!1,i.state={hideBrim:!1},i.firstUpdate=!0,i}(0,u.default)(t,e);var n=i(t);return(0,a.default)(t,[{key:"componentDidMount",value:function(){this.props.windowObj.document.documentElement.style.height="101vh",this.onResize(),this.props.windowObj.addEventListener("resize",this.onResize.bind(this)),this.props.windowObj.addEventListener("gesturestart",d)}},{key:"componentDidUpdate",value:function(){(!this.firstUpdate&&!this.isPortrait||this.state.hideBrim&&this.firstUpdate)&&this.sendStatsEvent(),this.firstUpdate=!1}},{key:"componentWillUnmount",value:function(){this.props.windowObj.removeEventListener("resize",this.onResize.bind(this)),this.props.windowObj.removeEventListener("gesturestart",d)}},{key:"onResize",value:function(){var e=this.props.windowObj;e.scrollTo(0,0),this.isPortrait=e.innerHeight>e.innerWidth;var t=e.innerHeight===e.screen.width,n=this.isPortrait||t;this.props.windowObj.document.documentElement.style.overflow=n?"hidden":"",this.setState({hideBrim:n})}},{key:"sendStatsEvent",value:function(){this.state.hideBrim||this.brimOpen||(this.props.gmi.sendStatsEvent("brim","open"),this.brimOpen=!0),this.state.hideBrim&&this.brimOpen&&(this.props.gmi.sendStatsEvent("brim","dismiss",{metadata:"tap=".concat(this.numberOfTapsToDismiss)}),this.brimOpen=!1,this.numberOfTapsToDismiss=0)}},{key:"handleTouch",value:function(e){e.stopPropagation(),this.numberOfTapsToDismiss+=1}},{key:"renderVoiceoverButton",value:function(){var e=this,t={role:"button","aria-label":"Double-tap to Play Game",onClick:function(){return e.props.disableBrim()},tabIndex:0};return f.default.createElement("div",{className:"cage-brim__vo-button",role:"dialog","aria-modal":!0},f.default.createElement("div",t,"Play Game"))}},{key:"render",value:function(){var e=this,t={id:"cage-brim",className:this.state.hideBrim?"cage-brim--disabled":"cage-brim",onTouchStart:function(t){return e.handleTouch(t)}};return f.default.createElement("div",t,f.default.createElement("div",{className:"cage-brim__message"},this.renderVoiceoverButton(),f.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 273 283",className:"cage-brim__hand"},f.default.createElement("path",{fill:"#FFFFFF",d:"M163.8,229.5c23.6-10.7,44-20,55-29s9.1-18.2,7-28c-2-9.5,3.5-14.5,3.5-27.5s-0.3-27.3-18-45c-19-19-14-33-37-33c-16,0-19,17-19,17s-13-14-28-5s-13,17-13,17s-6.1-16.5-18-37c-5.5-9.5-22.5-7.5-28-4c-8.4,5.4-16,16-6,35s32,63,32,63s-24-9-32,3s-9,29,2,33s47,20,78,24C142.3,213,147.3,237,163.8,229.5z"}),f.default.createElement("g",{fill:"#DADADA"},f.default.createElement("path",{d:"M120.1,107.4c1,0.7,2.3-0.1,2.2-1.3c-0.1-3.3,0.3-14.5,3-25.9c-9.9,6.5-11.1,12.3-11.2,14.7c0,0.2,0,0.4,0,0.5c0,0,0,0,0,0c0,0.1,0,0.2,0.1,0.4C117.5,105.3,118.4,106.2,120.1,107.4z"}),f.default.createElement("path",{d:"M155.3,83.9c0.6,3.8,3.1,7.4,4.8,8.5c1,0.7,2.3-0.1,2.2-1.3c-0.1-3.3,1.3-11.2,3.9-22.4C157.7,72.8,155.5,82.8,155.3,83.9z"}),f.default.createElement("path",{d:"M101.2,153.7c0.9,0.1,1.5-0.8,1.1-1.6c-4.4-8.5-22.8-44.2-31-61.1c-11.2-22.8-0.8-30.5,7.5-36.8c0.9-0.7,0.3-2.1-0.8-2c-4,0.4-7.7,1.5-9.7,2.8c-8.4,5.4-16,16-6,35c9.3,17.8,29.2,57.4,31.7,62.5c0.2,0.3,0.5,0.6,0.9,0.6L101.2,153.7z"}),f.default.createElement("path",{d:"M163.8,229.5c23.6-10.7,44-20,55-29c6.7-5.5,8.6-11,8.6-16.8c-2.2,4.1-6.3,8.8-11.6,11.8c-18,10-36,21-50,25c-19,7-21-11-21-11s-63-21-78-27c-5.4-2.2-7.8-9.5-8.7-18.1c-3.7,10.4-2.4,21.4,6.2,24.6c11,4,47,20,78,24C142.3,213,147.3,237,163.8,229.5z"}))),f.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 273 283",className:"cage-brim__hand-tap"},f.default.createElement("path",{fill:"#FFFFFF",d:"M82.8,70.9c-5-5-21-16-33-2c-14,19-3,28,23,51s26,34,26,34l-4.5-1c0,0-24-9-32,3s-9,29,2,33s47,20,78,24c0,0,5,24,21.5,16.5c23.6-10.7,44-20,55-29s9.1-18.2,7-28c-2-9.5,3.5-14.5,3.5-27.5s-0.3-27.3-18-45c-19-19-14-33-37-33c-16,0-19,17-19,17s-13-14-28-5s-13,17-13,17L82.8,70.9z"}),f.default.createElement("g",{fill:"#DADADA"},f.default.createElement("path",{d:"M120.1,107.4c1,0.7,2.3-0.1,2.2-1.3c-0.1-3.3,0.3-14.5,3-25.9c-9.9,6.5-11.1,12.3-11.2,14.7c0,0.2,0,0.4,0,0.5c0,0,0,0,0,0c0,0.1,0,0.2,0.1,0.4C117.5,105.3,118.4,106.2,120.1,107.4z"}),f.default.createElement("path",{d:"M155.3,83.9c0.6,3.8,3.1,7.4,4.8,8.5c1,0.7,2.3-0.1,2.2-1.3c-0.1-3.3,1.3-11.2,3.9-22.4C157.7,72.8,155.5,82.8,155.3,83.9z"}),f.default.createElement("path",{d:"M163.8,229.5c23.6-10.7,44-20,55-29c6.7-5.5,8.6-11,8.6-16.8c-2.2,4.1-6.3,8.8-11.6,11.8c-18,10-36,21-50,25c-19,7-21-11-21-11s-63-21-78-27c-5.4-2.2-7.8-9.5-8.7-18.1c-3.7,10.4-2.4,21.4,6.2,24.6c11,4,47,20,78,24C142.3,213,147.3,237,163.8,229.5z"}),f.default.createElement("path",{d:"M72.8,119.9c12.1,10.7,18.5,18.8,22,24.4v-7c0-4.6-2.1-8.9-5.7-11.8C81,119.1,66.2,107,57.8,97.9c-8.6-9.4-7-25,8.4-35.7c-5.4-0.7-11.2,0.7-16.4,6.7C35.8,87.9,46.8,96.9,72.8,119.9z"}))),f.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 273 283",className:"cage-brim__arrow"},f.default.createElement("path",{fill:"#FFFFFF",d:"M139.1,82.4L91.6,130c-2,2-2,5.3,0,7.3l10.9,10.9c2.1,2.1,5.4,2,7.4-0.1l19.2-20.6V197c0,2.8,2.3,5.1,5.1,5.1h17.1c2.8,0,5.1-2.3,5.1-5.1v-69.7l19.2,20.6c2,2.1,5.3,2.2,7.4,0.1l10.9-10.9c2-2,2-5.3,0-7.3l-47.5-47.5C144.4,80.4,141.1,80.4,139.1,82.4z"})),f.default.createElement("p",{className:"cage-brim__text"},"Swipe up to return to the game!")))}}]),t}(f.default.Component);t.default=p,p.displayName="Childrens-Games-View__Brim",p.propTypes={windowObj:f.default.PropTypes.object,disableBrim:f.default.PropTypes.func,gmi:f.default.PropTypes.shape({sendStatsEvent:f.default.PropTypes.func})}},function(e,t,n){"use strict";function i(e){var t=r();return function(){var n,i=(0,l.default)(e);if(t){var r=(0,l.default)(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return(0,c.default)(this,n)}}function r(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}n(0),n(11),n(12),n(11),n(0);var o=n(4);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n(12);var s=o(n(42)),a=o(n(43)),u=o(n(44)),c=o(n(45)),l=o(n(47)),f=o(n(3)),d=o(n(175)),p=function(e){function t(){return(0,s.default)(this,t),n.apply(this,arguments)}(0,u.default)(t,e);var n=i(t);return(0,a.default)(t,[{key:"customInterpolator",value:function(e,t){var n=Math.round(9*t/16),i="".concat(t,"x").concat(n);return e.replace(/{width-height}/g,i)}},{key:"render",value:function(){var e={src:"https://ichef.bbci.co.uk/images/ic/{width-height}/".concat(this.props.imagePid,".jpg"),customInterpolator:this.customInterpolator,aspectRatioStartPoint:1,chefSizes:[400,512,608,704,800],delayed:!0};return f.default.createElement(d.default,e)}}]),t}(f.default.Component);t.default=p,p.displayName="Childrens-Games-View__Hero-Image",p.propTypes={imagePid:f.default.PropTypes.string}},function(e,t,n){"use strict";var i=n(78);n(1)({target:"RegExp",proto:!0,forced:i!==/./.exec},{exec:i})},function(e,t,n){n(176);var i=n(3),r=[64,80,96,128,160,240,320,400,480,512,624,704,800,912,960,1024,1056,1104,1152,1200,1248,1440,1600,1680];e.exports=i.createClass({displayName:"ResponsiveImage",propTypes:{src:i.PropTypes.string.isRequired,alt:i.PropTypes.string,className:i.PropTypes.string,width:i.PropTypes.number,availableWidths:i.PropTypes.arrayOf(i.PropTypes.number),delayed:i.PropTypes.bool,keepAspectRatio:i.PropTypes.string,aspectRatioStartPoint:i.PropTypes.oneOfType([i.PropTypes.number,i.PropTypes.bool])},getDefaultProps:function(){return{width:320,height:180,delayed:!1,background:!1,aspectRatioStartPoint:!1}},getInitialState:function(){var e=this.getClosestGreaterWidth(this.props.width);return{delayed:this.props.delayed,width:e,height:this.calcHeight(this.props.width),background:this.props.background,ratioStartPoint:this.isWidthAboveRatioStartPoint(e)}},componentWillUnmount:function(){window.removeEventListener&&(window.removeEventListener("resize-debounced",this.state.resizeHandler),window.removeEventListener("orientationchange",this.state.resizeHandler),this.props.triggerResizeOnClick&&window.removeEventListener("click",this.state.resizeHandler))},componentDidMount:function(){var e=function(){var e=this.getClosestGreaterWidth(this.node.parentNode.clientWidth);this.setState({width:e,height:this.calcHeight(e)})}.bind(this);window.addEventListener&&(window.addEventListener("resize-debounced",e),window.addEventListener("orientationchange",e),this.props.triggerResizeOnClick&&window.addEventListener("click",e));var t=this.getClosestGreaterWidth(this.node.parentNode.clientWidth),n=this.calcHeight(t);this.setState({delayed:!1,width:t,height:n,resizeHandler:e})},hdpiEnabled:function(){return this.props.hasOwnProperty("hidpi")&&!0===this.props.hidpi&&window.devicePixelRatio>1},defaultInterpolator:function(e,t){var n="";return this.hdpiEnabled()&&(n="-hidpi"),e.replace(/{width}/g,t+n)},interpolate:function(e,t){return this.props.customInterpolator?this.props.customInterpolator(e,t):this.defaultInterpolator(e,t)},getClosestGreaterWidth:function(e){for(var t=this.props.availableWidths||r,n=0;n<t.length;n+=1){var i=t[n];if(i>=e)return i}return t[t.length-1]},calcHeight:function(e){var t=this.getRatio(this.props.keepAspectRatio);return Math.floor(e/t)},getRatio:function(e){var t=1;if("string"==typeof e){var n=/^(\d{1,2})\:(\d{1,2})/g,i=n.exec(e);i.length>0&&(t=i[1]/i[2])}return t},isWidthAboveRatioStartPoint:function(e){return"string"==typeof this.props.keepAspectRatio&&("number"==typeof this.props.aspectRatioStartPoint&&this.props.aspectRatioStartPoint<e||!1===this.props.aspectRatioStartPoint)},setNode:function(e){this.node=e},render:function(){var e,t,n,r=this.state.width;return n=this.isWidthAboveRatioStartPoint(r)?{maxHeight:this.state.height}:{},this.state.delayed?t=i.createElement("img",{ref:this.setNode,src:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"}):this.state.background?(e={backgroundImage:"url("+this.interpolate(this.props.src,this.state.width)+")"},t=i.createElement("div",{ref:this.setNode,style:e,className:this.props.className})):t=i.createElement("img",{ref:this.setNode,src:this.interpolate(this.props.src,this.state.width),alt:this.props.alt,className:this.props.className,style:n}),t}})},function(e,t,n){var i=n(177);e.exports=function(){function e(e,t){window.addEventListener?window.addEventListener(e,t,!1):document.documentElement.attachEvent("onpropertychange",function(n){n.propertyName===e&&t()})}function t(e){var t;document.createEvent?(t=document.createEvent("UIEvents"),t.initEvent(e,!1,!0),window.dispatchEvent(t)):(t=document.documentElement[e],t+=1)}function n(e){return setTimeout(function(){t(e+"-debounced")},s)}var r,o,s=50;i.isClientSide()&&(e("resize",function(){clearTimeout(r),r=n("resize")}),e("scroll",function(){clearTimeout(o),o=n("scroll")}))}()},function(e,t){e.exports=Morph},function(e,t,n){"use strict";n(0),n(0);var i=n(4);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(3)),o=r.default.createClass({displayName:"LoadingSpinner",render:function(){var e={xmlns:"http://www.w3.org/2000/svg",width:"64",height:"64",viewBox:"0 0 32 32",className:"game-wrapper__loading-spinner",ref:"loading"};return r.default.createElement("svg",e,r.default.createElement("path",{d:"M29.8 8l-3.5 2c1 1.8 1.6 3.8 1.6 6 0 6.6-5.4 12-12 12S4 22.6 4 16 9.4 4 16 4V0C7.2 0 0 7.2 0 16s7.2 16 16 16 16-7.2 16-16c0-2.9-.8-5.6-2.2-8z"}))}});o.displayName="Childrens-Games-View__Loading-Spinner";var s=o;t.default=s},function(e,t,n){"use strict";n(0),n(0);var i=n(4);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(3)),o=r.default.createClass({displayName:"PlayIcon",render:function(){return r.default.createElement("button",{type:"button",className:"game-wrapper__cta-button"},r.default.createElement("div",{className:"game-wrapper__cta-icon"},r.default.createElement("svg",{viewBox:"0 0 32 32"},r.default.createElement("path",{fill:"#fff",d:"M8 7.5c-1.9 0-3.5 1.6-3.5 3.5s1.6 3.5 3.5 3.5 3.5-1.6 3.5-3.5S9.9 7.5 8 7.5z"}),r.default.createElement("path",{fill:"#fff",d:"M24 3c-2 0-3.9.8-5.3 2h-5.4C11.9 3.8 10 3 8 3c-4.4 0-8 3.6-8 8v18h6l6-10h8l6 10h6V11c0-4.4-3.6-8-8-8zm0 2c1.1 0 2 .9 2 2s-.9 2-2 2-2-.9-2-2 .9-2 2-2zM8 17c-3.3 0-6-2.7-6-6s2.7-6 6-6 6 2.7 6 6-2.7 6-6 6zm12-4c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2zm4 4c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2zm4-4c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2z"}))))}});o.displayName="Childrens-Games-View__Play-Icon";var s=o;t.default=s},function(e,t,n){"use strict";n(0),n(12),n(6),n(30),n(0);var i=n(4);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n(12),n(6),n(30);var r=i(n(185)),o=function(e){var t=document.createElement("script");return t.type="text/javascript",t.charset="utf-8",t.defer=!1,t.async=!1,t.text=function(e){return e.replace(/<script[^>]*>/gi,"").replace(/<\/script>/gi,"")}(e.inlineHead),t},s={inject:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3;return new Promise(function(n,i){r.default.init(t).then(function(t){var n=o(t);e.appendChild(n)}).then(function(){requirejs(["idcta-v2/idcta-1"],function(e){n(e)},i)}).catch(i)})}};t.default=s},function(e,t,n){var i=n(5),r=n(109).set,o=i.MutationObserver||i.WebKitMutationObserver,s=i.process,a=i.Promise,u="process"==n(40)(s);e.exports=function(){var e,t,n,c=function(){var i,r;for(u&&(i=s.domain)&&i.exit();e;){r=e.fn,e=e.next;try{r()}catch(i){throw e?n():t=void 0,i}}t=void 0,i&&i.enter()};if(u)n=function(){s.nextTick(c)};else if(!o||i.navigator&&i.navigator.standalone)if(a&&a.resolve){var l=a.resolve(void 0);n=function(){l.then(c)}}else n=function(){r.call(i,c)};else{var f=!0,d=document.createTextNode("");new o(c).observe(d,{characterData:!0}),n=function(){d.data=f=!f}}return function(i){var r={fn:i,next:void 0};t&&(t.next=r),e||(e=r,n()),t=r}}},function(e,t){e.exports=function(e){try{return{e:!1,v:e()}}catch(e){return{e:!0,v:e}}}},function(e,t,n){var i=n(5),r=i.navigator;e.exports=r&&r.userAgent||""},function(e,t,n){var i=n(8),r=n(7),o=n(110);e.exports=function(e,t){if(i(e),r(t)&&t.constructor===e)return t;var n=o.f(e);return(0,n.resolve)(t),n.promise}},function(e,t,n){"use strict";n(0),n(6),n(30),n(0);var i=n(4);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n(6),n(30);var r=i(n(83)),o=n(112),s=i(n(195)),a=function(e){return new Promise(function(t,n){var i=setTimeout(n,e,s.default.timeOut),a=(0,o.getPageToReturnToQuery)(document.location.href);(0,r.default)("https://idcta.api.bbc.co.uk/idcta/init?context=games".concat(a)).then(function(e){return clearTimeout(i),200!==e.status&&n(s.default.unavailable),e.json().then(t).catch(function(){n(s.default.unavailable)})}).catch(function(){clearTimeout(i),n(s.default.unavailable)})})},u=function e(t,n){if(0===n)return t();var i=n;return t().catch(function(){return e(t,i-=1)})},c={init:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3e3,n=e;return u(function(){return a(t)},n-=1)}};t.default=c},function(e,t,n){"use strict";function i(e){return e&&DataView.prototype.isPrototypeOf(e)}function r(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(e)||""===e)throw new TypeError('Invalid character in header field name: "'+e+'"');return e.toLowerCase()}function o(e){return"string"!=typeof e&&(e=String(e)),e}function s(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return S.iterable&&(t[Symbol.iterator]=function(){return t}),t}function a(e){this.map={},e instanceof a?e.forEach(function(e,t){this.append(t,e)},this):Array.isArray(e)?e.forEach(function(e){this.append(e[0],e[1])},this):e&&Object.getOwnPropertyNames(e).forEach(function(t){this.append(t,e[t])},this)}function u(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function c(e){return new Promise(function(t,n){e.onload=function(){t(e.result)},e.onerror=function(){n(e.error)}})}function l(e){var t=new FileReader,n=c(t);return t.readAsArrayBuffer(e),n}function f(e){var t=new FileReader,n=c(t);return t.readAsText(e),n}function d(e){for(var t=new Uint8Array(e),n=new Array(t.length),i=0;i<t.length;i++)n[i]=String.fromCharCode(t[i]);return n.join("")}function p(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function h(){return this.bodyUsed=!1,this._initBody=function(e){this.bodyUsed=this.bodyUsed,this._bodyInit=e,e?"string"==typeof e?this._bodyText=e:S.blob&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:S.formData&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:S.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():S.arrayBuffer&&S.blob&&i(e)?(this._bodyArrayBuffer=p(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):S.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(e)||I(e))?this._bodyArrayBuffer=p(e):this._bodyText=e=Object.prototype.toString.call(e):this._bodyText="",this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):S.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},S.blob&&(this.blob=function(){var e=u(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){if(this._bodyArrayBuffer){return u(this)||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}return this.blob().then(l)}),this.text=function(){var e=u(this);if(e)return e;if(this._bodyBlob)return f(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(d(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},S.formData&&(this.formData=function(){return this.text().then(v)}),this.json=function(){return this.text().then(JSON.parse)},this}function _(e){var t=e.toUpperCase();return T.indexOf(t)>-1?t:e}function g(e,t){if(!(this instanceof g))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');t=t||{};var n=t.body;if(e instanceof g){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new a(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,n||null==e._bodyInit||(n=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",!t.headers&&this.headers||(this.headers=new a(t.headers)),this.method=_(t.method||this.method||"GET"),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&n)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(n),!("GET"!==this.method&&"HEAD"!==this.method||"no-store"!==t.cache&&"no-cache"!==t.cache)){var i=/([?&])_=[^&]*/;if(i.test(this.url))this.url=this.url.replace(i,"$1_="+(new Date).getTime());else{var r=/\?/;this.url+=(r.test(this.url)?"&":"?")+"_="+(new Date).getTime()}}}function v(e){var t=new FormData;return e.trim().split("&").forEach(function(e){if(e){var n=e.split("="),i=n.shift().replace(/\+/g," "),r=n.join("=").replace(/\+/g," ");t.append(decodeURIComponent(i),decodeURIComponent(r))}}),t}function m(e){var t=new a;return e.replace(/\r?\n[\t ]+/g," ").split("\r").map(function(e){return 0===e.indexOf("\n")?e.substr(1,e.length):e}).forEach(function(e){var n=e.split(":"),i=n.shift().trim();if(i){var r=n.join(":").trim();t.append(i,r)}}),t}function E(e,t){if(!(this instanceof E))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.ok=this.status>=200&&this.status<300,this.statusText=void 0===t.statusText?"":""+t.statusText,this.headers=new a(t.headers),this.url=t.url||"",this._initBody(e)}function y(e,t){return new Promise(function(n,i){function r(){u.abort()}var s=new g(e,t);if(s.signal&&s.signal.aborted)return i(new C("Aborted","AbortError"));var u=new XMLHttpRequest;u.onload=function(){var e={status:u.status,statusText:u.statusText,headers:m(u.getAllResponseHeaders()||"")};e.url="responseURL"in u?u.responseURL:e.headers.get("X-Request-URL");var t="response"in u?u.response:u.responseText;setTimeout(function(){n(new E(t,e))},0)},u.onerror=function(){setTimeout(function(){i(new TypeError("Network request failed"))},0)},u.ontimeout=function(){setTimeout(function(){i(new TypeError("Network request failed"))},0)},u.onabort=function(){setTimeout(function(){i(new C("Aborted","AbortError"))},0)},u.open(s.method,function(e){try{return""===e&&b.location.href?b.location.href:e}catch(t){return e}}(s.url),!0),"include"===s.credentials?u.withCredentials=!0:"omit"===s.credentials&&(u.withCredentials=!1),"responseType"in u&&(S.blob?u.responseType="blob":S.arrayBuffer&&s.headers.get("Content-Type")&&-1!==s.headers.get("Content-Type").indexOf("application/octet-stream")&&(u.responseType="arraybuffer")),!t||"object"!=typeof t.headers||t.headers instanceof a?s.headers.forEach(function(e,t){u.setRequestHeader(t,e)}):Object.getOwnPropertyNames(t.headers).forEach(function(e){u.setRequestHeader(e,o(t.headers[e]))}),s.signal&&(s.signal.addEventListener("abort",r),u.onreadystatechange=function(){4===u.readyState&&s.signal.removeEventListener("abort",r)}),u.send(void 0===s._bodyInit?null:s._bodyInit)})}Object.defineProperty(t,"__esModule",{value:!0}),t.Headers=a,t.Request=g,t.Response=E,n.d(t,"DOMException",function(){return C}),t.fetch=y;var b="undefined"!=typeof globalThis&&globalThis||"undefined"!=typeof self&&self||void 0!==b&&b,S={searchParams:"URLSearchParams"in b,iterable:"Symbol"in b&&"iterator"in Symbol,blob:"FileReader"in b&&"Blob"in b&&function(){try{return new Blob,!0}catch(e){return!1}}(),formData:"FormData"in b,arrayBuffer:"ArrayBuffer"in b};if(S.arrayBuffer)var A=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],I=ArrayBuffer.isView||function(e){return e&&A.indexOf(Object.prototype.toString.call(e))>-1};a.prototype.append=function(e,t){e=r(e),t=o(t);var n=this.map[e];this.map[e]=n?n+", "+t:t},a.prototype.delete=function(e){delete this.map[r(e)]},a.prototype.get=function(e){return e=r(e),this.has(e)?this.map[e]:null},a.prototype.has=function(e){return this.map.hasOwnProperty(r(e))},a.prototype.set=function(e,t){this.map[r(e)]=o(t)},a.prototype.forEach=function(e,t){for(var n in this.map)this.map.hasOwnProperty(n)&&e.call(t,this.map[n],n,this)},a.prototype.keys=function(){var e=[];return this.forEach(function(t,n){e.push(n)}),s(e)},a.prototype.values=function(){var e=[];return this.forEach(function(t){e.push(t)}),s(e)},a.prototype.entries=function(){var e=[];return this.forEach(function(t,n){e.push([n,t])}),s(e)},S.iterable&&(a.prototype[Symbol.iterator]=a.prototype.entries);var T=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];g.prototype.clone=function(){return new g(this,{body:this._bodyInit})},h.call(g.prototype),h.call(E.prototype),E.prototype.clone=function(){return new E(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new a(this.headers),url:this.url})},E.error=function(){var e=new E(null,{status:0,statusText:""});return e.type="error",e};var P=[301,302,303,307,308];E.redirect=function(e,t){if(-1===P.indexOf(t))throw new RangeError("Invalid status code");return new E(null,{status:t,headers:{location:e}})};var C=b.DOMException;try{new C}catch(e){C=function(e,t){this.message=e,this.name=t;var n=Error(e);this.stack=n.stack},C.prototype=Object.create(Error.prototype),C.prototype.constructor=C}y.polyfill=!0,b.fetch||(b.fetch=y,b.Headers=a,b.Request=g,b.Response=E)},function(e,t,n){var i=n(188);e.exports=function(e,t){return new(i(e))(t)}},function(e,t,n){var i=n(7),r=n(113),o=n(2)("species");e.exports=function(e){var t;return r(e)&&(t=e.constructor,"function"!=typeof t||t!==Array&&!r(t.prototype)||(t=void 0),i(t)&&null===(t=t[o])&&(t=void 0)),void 0===t?Array:t}},function(e,t,n){"use strict";var i=n(81),r=n(63).getWeak,o=n(8),s=n(7),a=n(79),u=n(80),c=n(38),l=n(25),f=n(85),d=c(5),p=c(6),h=0,_=function(e){return e._l||(e._l=new g)},g=function(){this.a=[]},v=function(e,t){return d(e.a,function(e){return e[0]===t})};g.prototype={get:function(e){var t=v(this,e);if(t)return t[1]},has:function(e){return!!v(this,e)},set:function(e,t){var n=v(this,e);n?n[1]=t:this.a.push([e,t])},delete:function(e){var t=p(this.a,function(t){return t[0]===e});return~t&&this.a.splice(t,1),!!~t}},e.exports={getConstructor:function(e,t,n,o){var c=e(function(e,i){a(e,c,t,"_i"),e._t=t,e._i=h++,e._l=void 0,void 0!=i&&u(i,n,e[o],e)});return i(c.prototype,{delete:function(e){if(!s(e))return!1;var n=r(e);return!0===n?_(f(this,t)).delete(e):n&&l(n,this._i)&&delete n[this._i]},has:function(e){if(!s(e))return!1;var n=r(e);return!0===n?_(f(this,t)).has(e):n&&l(n,this._i)}}),c},def:function(e,t,n){var i=r(o(t),!0);return!0===i?_(e).set(t,n):i[e._i]=n,e},ufstore:_}},function(e,t,n){"use strict";var i=n(5),r=n(1),o=n(18),s=n(81),a=n(63),u=n(80),c=n(79),l=n(7),f=n(9),d=n(82),p=n(56),h=n(115);e.exports=function(e,t,n,_,g,v){var m=i[e],E=m,y=g?"set":"add",b=E&&E.prototype,S={},A=function(e){var t=b[e];o(b,e,"delete"==e?function(e){return!(v&&!l(e))&&t.call(this,0===e?0:e)}:"has"==e?function(e){return!(v&&!l(e))&&t.call(this,0===e?0:e)}:"get"==e?function(e){return v&&!l(e)?void 0:t.call(this,0===e?0:e)}:"add"==e?function(e){return t.call(this,0===e?0:e),this}:function(e,n){return t.call(this,0===e?0:e,n),this})};if("function"==typeof E&&(v||b.forEach&&!f(function(){(new E).entries().next()}))){var I=new E,T=I[y](v?{}:-0,1)!=I,P=f(function(){I.has(1)}),C=d(function(e){new E(e)}),O=!v&&f(function(){for(var e=new E,t=5;t--;)e[y](t,t);return!e.has(-0)});C||(E=t(function(t,n){c(t,E,e);var i=h(new m,t,E);return void 0!=n&&u(n,g,i[y],i),i}),E.prototype=b,b.constructor=E),(P||O)&&(A("delete"),A("has"),g&&A("get")),(O||T)&&A(y),v&&b.clear&&delete b.clear}else E=_.getConstructor(t,e,g,y),s(E.prototype,n),a.NEED=!0;return p(E,e),S[e]=E,r(r.G+r.W+r.F*(E!=m),S),v||_.setStrong(E,e,g),E}},function(e,t,n){var i=n(7),r=n(8),o=function(e,t){if(r(e),!i(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,t,i){try{i=n(35)(Function.call,n(86).f(Object.prototype,"__proto__").set,2),i(e,[]),t=!(e instanceof Array)}catch(e){t=!0}return function(e,n){return o(e,n),t?e.__proto__=n:i(e,n),e}}({},!1):void 0),check:o}},function(e,t,n){"use strict";var i=n(58),r=n(51),o=n(56),s={};n(24)(s,n(2)("iterator"),function(){return this}),e.exports=function(e,t,n){e.prototype=i(s,{next:r(1,n)}),o(e,t+" Iterator")}},function(e,t,n){var i=n(25),r=n(29),o=n(71)("IE_PROTO"),s=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=r(e),i(e,o)?e[o]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?s:null}},function(e,t){e.exports=function(e,t){return{value:t,done:!!e}}},function(e,t,n){"use strict";n(0),n(0),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=new Error("The IDCTA service timed-out."),r=new Error("The IDCTA service is unavailable."),o={timeOut:i,unavailable:r};t.default=o},function(e,t,n){"use strict";function i(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(i=function(e){return e?n:t})(e)}function r(e){var t=o();return function(){var n,i=(0,p.default)(e);if(t){var r=(0,p.default)(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return(0,d.default)(this,n)}}function o(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}n(0),n(20),n(13),n(6),n(10),n(14),n(21),n(11),n(22),n(19),n(15),n(11),n(20),n(13),n(6),n(10),n(14),n(0),n(21);var s=n(4),a=n(46);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n(22),n(19),n(15);var u=s(n(119)),c=s(n(42)),l=s(n(43)),f=s(n(44)),d=s(n(45)),p=s(n(47)),h=s(n(3)),_=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var n=i(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var u=o?Object.getOwnPropertyDescriptor(e,s):null;u&&(u.get||u.set)?Object.defineProperty(r,s,u):r[s]=e[s]}return r.default=e,n&&n.set(e,r),r}(n(88)),g=function(e){return function(){e.gmi.sendStatsEvent("settings","close"),e.closeSettingsView()}},v=function(e){function t(e){var i;return(0,c.default)(this,t),i=n.call(this,e),i.setInitialState(e),i.keyIsPressed=!1,i}(0,f.default)(t,e);var n=r(t);return(0,l.default)(t,[{key:"componentDidMount",value:function(){_.init(this.modalDialogElement,g(this.props))}},{key:"getStateFromGmi",value:function(e,t){return void 0!==e[t]?!0===e[t]:e.gameData&&void 0!==e.gameData[t]?!0===e.gameData[t]:void 0}},{key:"setInitialState",value:function(e){var t=this,n=e.gmi.getAllSettings();this.state={},this.initialState={},this.state.titleHasFocus=!0,e.gmiOptions.settingsConfig&&e.gmiOptions.settingsConfig.pages&&e.gmiOptions.settingsConfig.pages.length&&e.gmiOptions.settingsConfig.pages.forEach(function(e){e.settings.forEach(function(e){var i=e.key.toLowerCase(),r="setting-".concat(i),o=t.getStateFromGmi(n,i);t.state[r]=o,t.initialState[i]=o})})}},{key:"interactWithGmi",value:function(e,t,n){var i={muted:this.props.gmi.setMuted,audio:this.props.gmi.setAudio,subtitles:this.props.gmi.setSubtitles,motion:this.props.gmi.setMotion};t in i?i[t](n):this.props.gmi.setGameData(t,n),this.props.gmi.sendStatsEvent(t,n?"on":"off")}},{key:"handleToggle",value:function(e,t){var n="setting-".concat(t),i={},r=!this.state[n];i[n]=r,this.setState(i),this.interactWithGmi(e,t,r),e.onSettingChanged(t,r)}},{key:"handleKeyDown",value:function(e){var t=32===e.keyCode,n=13===e.keyCode;9===e.keyCode||e.preventDefault(),(t||n)&&!1===this.keyIsPressed&&(e.target.click(),this.keyIsPressed=!0)}},{key:"handleKeyUp",value:function(){this.keyIsPressed=!1}},{key:"renderToggle",value:function(e,t){var n=this,i=!0===this.state["setting-".concat(t)],r=i?"on":"off",o="cage-setting__toggle_button cage-setting__toggle_button--".concat(r),s=i?36:16,a={id:"".concat(t,"-button"),className:"cage-setting__toggle-container ".concat(o),role:"checkbox",tabIndex:"0","aria-checked":i,"aria-label":t,onClick:function(){n.handleToggle(e,t)},onKeyDown:this.handleKeyDown.bind(this),onKeyUp:this.handleKeyUp.bind(this)};return h.default.createElement("div",a,h.default.createElement("svg",{className:"cage-setting__toggle-icon",viewBox:"0 0 52 32",preserveAspectRatio:"xMaxYMin meet",width:"52",height:"32",focusable:"false"},h.default.createElement("svg",{width:"100%",height:"100%",focusable:"false"},h.default.createElement("rect",{className:"cage-setting__toggle-outline",fill:"#D8D8D8",x:"0",y:"0",width:"100%",height:"100%",rx:"16"}),h.default.createElement("ellipse",{className:"cage-setting__toggle-slider",fill:"#FFFFFF",cx:s,cy:"16.054902",rx:"14",ry:"14.054902"}))))}},{key:"renderCloseButton",value:function(){var e={"aria-label":"close settings",className:"cage-overlay__close-button",type:"button",tabIndex:"0",onKeyDown:this.handleKeyDown.bind(this),onKeyUp:this.handleKeyUp.bind(this)};return h.default.createElement("button",(0,u.default)({type:"button"},e),h.default.createElement("svg",{className:"cage-overlay__close-icon",viewBox:"0 0 48 48",preserveAspectRatio:"xMaxYMin meet",width:"48px",height:"48px",focusable:"false"},h.default.createElement("svg",{width:"100%",height:"100%",focusable:"false"},h.default.createElement("path",{className:"cage-overlay__close-icon-circle",d:"M24,48 L24,48 C10.7451429,48 0,37.2548571 0,24 L0,24 C0,10.7451429 10.7451429,0 24,0 L24,0 C37.2548571,0 48,10.7451429 48,24 L48,24 C48,37.2548571 37.2548571,48 24,48"}),h.default.createElement("polygon",{className:"cage-overlay__close-icon-cross",fill:"#50505D",points:"26.0225143 23.9948571 33.1390857 31.1182857 31.1196571 33.1377143 23.9962286 26.0211429 16.8796571 33.1377143 14.8533714 31.1182857 21.9768 23.9948571 14.8533714 16.8782857 16.8796571 14.852 23.9962286 21.9754286 31.1196571 14.852 33.1390857 16.8782857"}))))}},{key:"renderSetting",value:function(e,t,n,i){var r="".concat(i,"-").concat(n),o=t.key.toLowerCase(),s=h.default.createElement("label",null,h.default.createElement("div",{className:"cage-setting__info",htmlFor:"".concat(o,"-button")},h.default.createElement("div",{className:"cage-setting__title"},t.title),h.default.createElement("div",{className:"cage-setting__description"},t.description)),h.default.createElement("div",{className:"cage-setting__toggle"},this.renderToggle(e,o)));return h.default.createElement("li",{key:r,className:"cage-setting"},s)}},{key:"renderSettingsList",value:function(e){var t=this;return e.gmiOptions.settingsConfig.pages.map(function(n,i){var r=n.settings.map(function(n,r){return t.renderSetting(e,n,r,i)}),o="".concat(n,"-").concat(i);return h.default.createElement("li",{key:"".concat(n,"-").concat(o)},h.default.createElement("div",{className:"cage-overlay__subheading",key:"".concat(o,"-subheading")},n.title),h.default.createElement("ul",null,r))})}},{key:"render",value:function(){var e=this,t="".concat(this.props.isMobile?"cage-overlay__modal--mobile":"");return h.default.createElement("div",{className:"cage-overlay"},h.default.createElement("div",{className:t,"aria-labelledby":"settings-label",ref:function(t){e.modalDialogElement=t}},h.default.createElement("div",{className:"cage-overlay__title"},this.renderCloseButton(),h.default.createElement("div",{id:"settings-label",className:"cage-overlay__title-text"},"Settings")),h.default.createElement("div",{className:"cage-overlay__content"},h.default.createElement("form",null,h.default.createElement("ul",null,this.renderSettingsList(this.props))))))}}]),t}(h.default.Component);v.displayName="Childrens-Games-View__Settings-Screen",v.propTypes={isMobile:h.default.PropTypes.bool.isRequired,gmi:h.default.PropTypes.object.isRequired,gmiOptions:h.default.PropTypes.object.isRequired,closeSettingsView:h.default.PropTypes.func.isRequired,onSettingChanged:h.default.PropTypes.func.isRequired};var m=v;t.default=m},function(e,t,n){var i=n(5),r=n(34),o=n(53),s=n(121),a=n(16).f;e.exports=function(e){var t=r.Symbol||(r.Symbol=o?{}:i.Symbol||{});"_"==e.charAt(0)||e in t||a(t,e,{value:s.f(e)})}},function(e,t,n){var i=n(39),r=n(84),o=n(64);e.exports=function(e){var t=i(e),n=r.f;if(n)for(var s,a=n(e),u=o.f,c=0;a.length>c;)u.call(e,s=a[c++])&&t.push(s);return t}},function(e,t,n){var i=n(26),r=n(89).f,o={}.toString,s="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],a=function(e){try{return r(e)}catch(e){return s.slice()}};e.exports.f=function(e){return s&&"[object Window]"==o.call(e)?a(e):r(i(e))}},function(e,t,n){"use strict";var i=n(16),r=n(51);e.exports=function(e,t,n){t in e?i.f(e,t,r(0,n)):e[t]=n}},function(e,t,n){var i=n(90),r=n(41);e.exports=function(e,t,n){if(i(t))throw TypeError("String#"+n+" doesn't accept regex!");return String(r(e))}},function(e,t,n){var i=n(2)("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(n){try{return t[i]=!1,!"/./"[e](t)}catch(e){}}return!0}},function(e,t,n){"use strict";function i(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(i=function(e){return e?n:t})(e)}function r(e){var t=o();return function(){var n,i=(0,d.default)(e);if(t){var r=(0,d.default)(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return(0,f.default)(this,n)}}function o(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}n(0),n(20),n(13),n(6),n(10),n(14),n(21),n(11),n(12),n(11),n(20),n(13),n(6),n(10),n(14),n(0),n(21);var s=n(4),a=n(46);Object.defineProperty(t,"__esModule",{value:!0}),t.AchievementNotification=void 0,n(12);var u=s(n(42)),c=s(n(43)),l=s(n(44)),f=s(n(45)),d=s(n(47)),p=s(n(3)),h=s(n(91)),_=s(n(123)),g=n(124),v=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var n=i(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var u=o?Object.getOwnPropertyDescriptor(e,s):null;u&&(u.get||u.set)?Object.defineProperty(r,s,u):r[s]=e[s]}return r.default=e,n&&n.set(e,r),r}(n(204)),m=function(e){function t(e){var i;return(0,u.default)(this,t),i=n.call(this,e),i.toastQueue=[],i.notificationPlaying=!1,i.state={notificationKey:void 0,notificationName:void 0,notificationDescription:void 0,notificationPosition:void 0,gmi:e.gmi},i}(0,l.default)(t,e);var n=r(t);return(0,c.default)(t,[{key:"componentDidMount",value:function(){v.init(this.state.gmi.getAllSettings,window)}},{key:"componentWillReceiveProps",value:function(e){e.notificationKey!==this.props.notificationKey&&this.toastQueue.push(e),this.queueProceed()}},{key:"componentWillUnmount",value:function(){clearTimeout(this.clearNotification),this.clearState()}},{key:"setupNotification",value:function(){this.notificationPlaying=!0,this.configPath=this.state.gmi.embedVars.configPath,this.iconTitle=this.state.notificationKey.toLowerCase().replace(/_/g,"-"),this.notificationStyle={backgroundImage:"url(".concat((0,h.default)(),"/assets/achievements/achievementNotiBox.svg)")},this.notificationTrophyStyle={backgroundImage:"url(".concat((0,h.default)(),"/assets/achievements/achievementNotiTrophy.svg)")}}},{key:"clearState",value:function(){this.notificationPlaying=!1,this.setState({notificationKey:void 0,notificationName:void 0,notificationDescription:void 0})}},{key:"playAnimation",value:function(e){var t=this;e&&(this.setState({notificationKey:e.notificationKey,notificationName:e.notificationName,notificationDescription:e.notificationDescription,notificationPosition:e.notificationPosition,gmi:e.gmi}),clearTimeout(this.clearNotification),this.clearNotification=setTimeout(function(){t.clearState(),t.queueProceed()},7200))}},{key:"queueProceed",value:function(){if(!this.notificationPlaying){var e=this.toastQueue.shift();this.playAnimation(e)}}},{key:"renderNotification",value:function(){return this.setupNotification(),v.play("notification"),p.default.createElement("div",{className:"cage-achievement-toast__container",style:this.notificationStyle},p.default.createElement("img",{className:"cage-achievement-toast__icon",alt:this.state.notificationName,src:(0,g.getAchievementsPath)(this.state.gmi.gameDir,this.configPath,"".concat(this.iconTitle,".png"))}),p.default.createElement("div",{className:"cage-achievement-toast__inner"},p.default.createElement("div",{className:"cage-achievement-toast__trophy",style:this.notificationTrophyStyle}),p.default.createElement("div",{className:"cage-achievement-toast__title"},"Achievement Unlocked"),p.default.createElement("div",{className:"cage-achievement-toast__name"},p.default.createElement(_.default,null),this.state.notificationName),p.default.createElement("div",{className:"cage-achievement-toast__description"},this.state.notificationDescription)))}},{key:"render",value:function(){var e="cage-achievement-notification--".concat("top"===this.state.notificationPosition?"top":"bottom");return p.default.createElement("div",{className:"cage-achievement-notification ".concat(e)},this.state.notificationKey&&this.renderNotification())}}]),t}(p.default.Component);t.AchievementNotification=m,m.displayName="Childrens-Games-View__Achievements-Notification",m.propTypes={notificationKey:p.default.PropTypes.oneOfType([p.default.PropTypes.string,p.default.PropTypes.bool]),notificationName:p.default.PropTypes.oneOfType([p.default.PropTypes.string,p.default.PropTypes.bool]),notificationDescription:p.default.PropTypes.oneOfType([p.default.PropTypes.string,p.default.PropTypes.bool]),gmi:p.default.PropTypes.object.isRequired}},function(e,t,n){"use strict";n(0),n(0);var i=n(4);Object.defineProperty(t,"__esModule",{value:!0}),t.play=t.init=void 0;var r,o,s=i(n(91)),a={},u=function(e){return e.AudioContext||e.webkitAudioContext},c=function(e,t){var n=new XMLHttpRequest;n.open("GET",e,!0),n.responseType="arraybuffer",n.onload=function(){return r.decodeAudioData(n.response,t)},n.send()},l=function(e,t){o=e;var n=u(t);if(n){r=new n,c("".concat((0,s.default)(),"/assets/achievements/notification.mp4"),function(e){a.notification=e});var i=function e(){r.resume(),document.removeEventListener("touchstart",e,!0),document.removeEventListener("touchend",e,!0),document.removeEventListener("click",e,!0)};document.addEventListener("touchstart",i,!0),document.addEventListener("touchend",i,!0),document.addEventListener("click",i,!0)}};t.init=l;var f=function(e){var t=r.createBufferSource();return t.connect(r.destination),t.buffer=e,t.loop=!1,t.start=t.start||t.noteOn,t},d=function(e){r&&!o().muted&&f(a[e]).start(0)};t.play=d},function(e,t,n){"use strict";function i(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(i=function(e){return e?n:t})(e)}function r(e){var t=o();return function(){var n,i=(0,d.default)(e);if(t){var r=(0,d.default)(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return(0,f.default)(this,n)}}function o(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}n(0),n(20),n(13),n(6),n(10),n(14),n(21),n(11),n(12),n(33),n(125),n(15),n(19),n(11),n(20),n(13),n(6),n(10),n(14),n(0),n(21);var s=n(4),a=n(46);Object.defineProperty(t,"__esModule",{value:!0}),t.AchievementsScreen=void 0;var u=s(n(42)),c=s(n(43)),l=s(n(44)),f=s(n(45)),d=s(n(47)),p=s(n(119)),h=s(n(206));n(12),n(33),n(125),n(15),n(19);var _=s(n(3)),g=s(n(91)),v=s(n(123)),m=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var n=i(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var u=o?Object.getOwnPropertyDescriptor(e,s):null;u&&(u.get||u.set)?Object.defineProperty(r,s,u):r[s]=e[s]}return r.default=e,n&&n.set(e,r),r}(n(88)),E=n(124),y=function(e){return function(){return e.gmi.achievements.show(!1)}},b=function(e){var t=e.maxProgress,n=e.progress||0;return!(!t||n>=t)&&_.default.createElement("div",null,_.default.createElement("progress",{max:t,value:n,"aria-valuenow":n,"aria-valuemin":"0","aria-valuemax":t}),n," / ",t)},S=function(e){return _.default.createElement("span",{className:"cage-achievement__hintline"}," ",_.default.createElement("span",{className:"cage-achievement__hintline-prefix"},e.additional.prefix,":")," ",_.default.createElement("span",{className:"cage-achievement__hintline-text"},e.additional.text))},A=function(e,t){return function(n){var i="".concat((0,g.default)(),"/assets/achievements/lock.svg"),r=n.key.toLowerCase().replace(/_/g,"-"),o=(0,E.getAchievementsPath)(e,t,"".concat(r,".png")),s=["cage-achievement"].concat((0,h.default)(n.achieved?[]:["cage-achievement--locked"])),a={className:"cage-achievement__icon",src:n.achieved?o:i,"aria-label":"Achievement ".concat(n.achieved?"unlocked":"locked"),width:"74px",height:"74px"};return _.default.createElement("li",{className:s.join(" "),key:n.key},_.default.createElement("img",(0,p.default)({},a,{alt:n.name})),_.default.createElement("div",{className:"cage-achievement__inner"},_.default.createElement(v.default,null),_.default.createElement("h2",{className:"cage-achievement__title"},n.name),_.default.createElement("div",{className:"cage-achievement__description"},n.description,n.additional&&S(n)),b(n)))}},I=function(e,t){return t.achieved-e.achieved},T=function(e,t){var n=(e.progress?e.progress:0)/(e.maxProgress?e.maxProgress:1);return(t.progress?t.progress:0)/(t.maxProgress?t.maxProgress:1)-n},P=function(e,t){return I(e,t)||T(e,t)},C=function(e){var t=e.gmi.embedVars.configPath,n=e.gmi.gameDir,i=e.gmi.achievements.get();return i.sort(P),_.default.createElement("ul",null,i.map(A(n,t)))},O=function(e){function t(e){var i;return(0,u.default)(this,t),i=n.call(this,e),i.setInitialState(e),i.keyIsPressed=!1,i}(0,l.default)(t,e);var n=r(t);return(0,c.default)(t,[{key:"componentDidMount",value:function(){this.props.gmi.sendStatsEvent("achievements","open"),this.props.gmi.setStatsScreen("achievements"),m.init(this.modalDialogElement,y(this.props))}},{key:"setInitialState",value:function(){this.state={},this.initialState={}}},{key:"handleKeyDownOnCloseButton",value:function(e){var t=32===e.keyCode,n=13===e.keyCode;9===e.keyCode||e.preventDefault(),(t||n)&&!1===this.keyIsPressed&&e.target.click()}},{key:"renderCloseButton",value:function(){var e={"aria-label":"close achievements",className:"cage-overlay__close-button",type:"button",tabIndex:"0",onKeyDown:this.handleKeyDownOnCloseButton.bind(this)};return _.default.createElement("button",(0,p.default)({type:"button"},e),_.default.createElement("svg",{className:"cage-overlay__close-icon",viewBox:"0 0 48 48",preserveAspectRatio:"xMaxYMin meet",width:"44px",height:"44px",focusable:"false"},_.default.createElement("svg",{width:"100%",height:"100%",focusable:"false"},_.default.createElement("path",{className:"cage-overlay__close-icon-circle",d:"M24,48 L24,48 C10.7451429,48 0,37.2548571 0,24 L0,24 C0,10.7451429 10.7451429,0 24,0 L24,0 C37.2548571,0 48,10.7451429 48,24 L48,24 C48,37.2548571 37.2548571,48 24,48"}),_.default.createElement("polygon",{className:"cage-overlay__close-icon-cross",fill:"rgb( 42, 32, 92)",points:"26.0225143 23.9948571 33.1390857 31.1182857 31.1196571 33.1377143 23.9962286 26.0211429 16.8796571 33.1377143 14.8533714 31.1182857 21.9768 23.9948571 14.8533714 16.8782857 16.8796571 14.852 23.9962286 21.9754286 31.1196571 14.852 33.1390857 16.8782857"}))))}},{key:"render",value:function(){var e=this;return _.default.createElement("div",{className:"cage-overlay"},_.default.createElement("div",{className:"cage-achievements","aria-labelledby":"achievements-label",ref:function(t){e.modalDialogElement=t}},_.default.createElement("div",{className:"cage-overlay__title"},this.renderCloseButton(),_.default.createElement("div",{className:"cage-overlay__title-text",id:"achievements-label"},"Achievements")),_.default.createElement("div",{className:"cage-overlay__content"},C(this.props))))}}]),t}(_.default.Component);t.AchievementsScreen=O,O.displayName="Childrens-Games-View__Achievements-Screen",O.propTypes={gmi:_.default.PropTypes.shape({embedVars:_.default.PropTypes.shape({configPath:_.default.PropTypes.string}),achievements:_.default.PropTypes.shape({get:_.default.PropTypes.func}),gameDir:_.default.PropTypes.string,setStatsScreen:_.default.PropTypes.func,sendStatsEvent:_.default.PropTypes.func})}},function(e,t,n){function i(e){return r(e)||o(e)||s(e)||a()}var r=n(207),o=n(208),s=n(209),a=n(210);e.exports=i,e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,n){function i(e){if(Array.isArray(e))return r(e)}var r=n(126);e.exports=i,e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t){function n(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}e.exports=n,e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,n){function i(e,t){if(e){if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}}var r=n(126);e.exports=i,e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t){function n(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}e.exports=n,e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,n){"use strict";n(0),n(0),Object.defineProperty(t,"__esModule",{value:!0}),t.setUrlOrigin=void 0;var i=function(e,t,n){var i=n.Morph.config.pushEnv,r="https://www.bbc.co.uk";if(i){var o=n.location.port?":".concat(n.location.port):"";r="".concat(n.location.protocol,"//").concat(n.location.hostname).concat(o)}else"local"===t&&(r="http://localhost:8000");return r+e};t.setUrlOrigin=i},function(e,t,n){!function(t,n){e.exports=function(){return function(e){function t(i){if(n[i])return n[i].exports;var r=n[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,t),r.l=!0,r.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,i){t.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:i})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,n){if(1&n&&(e=t(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(t.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var r in e)t.d(i,r,function(t){return e[t]}.bind(null,r));return i},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=90)}({17:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var i=n(18),r=function(){function e(){}return e.getFirstMatch=function(e,t){var n=t.match(e);return n&&n.length>0&&n[1]||""},e.getSecondMatch=function(e,t){var n=t.match(e);return n&&n.length>1&&n[2]||""},e.matchAndReturnConst=function(e,t,n){if(e.test(t))return n},e.getWindowsVersionName=function(e){switch(e){case"NT":return"NT";case"XP":return"XP";case"NT 5.0":return"2000";case"NT 5.1":return"XP";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}},e.getMacOSVersionName=function(e){var t=e.split(".").splice(0,2).map(function(e){return parseInt(e,10)||0});if(t.push(0),10===t[0])switch(t[1]){case 5:return"Leopard";case 6:return"Snow Leopard";case 7:return"Lion";case 8:return"Mountain Lion";case 9:return"Mavericks";case 10:return"Yosemite";case 11:return"El Capitan";case 12:return"Sierra";case 13:return"High Sierra";case 14:return"Mojave";case 15:return"Catalina";default:return}},e.getAndroidVersionName=function(e){var t=e.split(".").splice(0,2).map(function(e){return parseInt(e,10)||0});if(t.push(0),!(1===t[0]&&t[1]<5))return 1===t[0]&&t[1]<6?"Cupcake":1===t[0]&&t[1]>=6?"Donut":2===t[0]&&t[1]<2?"Eclair":2===t[0]&&2===t[1]?"Froyo":2===t[0]&&t[1]>2?"Gingerbread":3===t[0]?"Honeycomb":4===t[0]&&t[1]<1?"Ice Cream Sandwich":4===t[0]&&t[1]<4?"Jelly Bean":4===t[0]&&t[1]>=4?"KitKat":5===t[0]?"Lollipop":6===t[0]?"Marshmallow":7===t[0]?"Nougat":8===t[0]?"Oreo":9===t[0]?"Pie":void 0},e.getVersionPrecision=function(e){return e.split(".").length},e.compareVersions=function(t,n,i){void 0===i&&(i=!1);var r=e.getVersionPrecision(t),o=e.getVersionPrecision(n),s=Math.max(r,o),a=0,u=e.map([t,n],function(t){var n=s-e.getVersionPrecision(t),i=t+new Array(n+1).join(".0");return e.map(i.split("."),function(e){return new Array(20-e.length).join("0")+e}).reverse()});for(i&&(a=s-Math.min(r,o)),s-=1;s>=a;){if(u[0][s]>u[1][s])return 1;if(u[0][s]===u[1][s]){if(s===a)return 0;s-=1}else if(u[0][s]<u[1][s])return-1}},e.map=function(e,t){var n,i=[];if(Array.prototype.map)return Array.prototype.map.call(e,t);for(n=0;n<e.length;n+=1)i.push(t(e[n]));return i},e.find=function(e,t){var n,i;if(Array.prototype.find)return Array.prototype.find.call(e,t);for(n=0,i=e.length;n<i;n+=1){var r=e[n];if(t(r,n))return r}},e.assign=function(e){for(var t,n,i=e,r=arguments.length,o=new Array(r>1?r-1:0),s=1;s<r;s++)o[s-1]=arguments[s];if(Object.assign)return Object.assign.apply(Object,[e].concat(o));for(t=0,n=o.length;t<n;t+=1)!function(){var e=o[t];"object"==typeof e&&null!==e&&Object.keys(e).forEach(function(t){i[t]=e[t]})}();return e},e.getBrowserAlias=function(e){return i.BROWSER_ALIASES_MAP[e]},e.getBrowserTypeByAlias=function(e){return i.BROWSER_MAP[e]||""},e}();t.default=r,e.exports=t.default},18:function(e,t,n){"use strict";t.__esModule=!0,t.ENGINE_MAP=t.OS_MAP=t.PLATFORMS_MAP=t.BROWSER_MAP=t.BROWSER_ALIASES_MAP=void 0,t.BROWSER_ALIASES_MAP={"Amazon Silk":"amazon_silk","Android Browser":"android",Bada:"bada",BlackBerry:"blackberry",Chrome:"chrome",Chromium:"chromium",Electron:"electron",Epiphany:"epiphany",Firefox:"firefox",Focus:"focus",Generic:"generic","Google Search":"google_search",Googlebot:"googlebot","Internet Explorer":"ie","K-Meleon":"k_meleon",Maxthon:"maxthon","Microsoft Edge":"edge","MZ Browser":"mz","NAVER Whale Browser":"naver",Opera:"opera","Opera Coast":"opera_coast",PhantomJS:"phantomjs",Puffin:"puffin",QupZilla:"qupzilla",QQ:"qq",QQLite:"qqlite",Safari:"safari",Sailfish:"sailfish","Samsung Internet for Android":"samsung_internet",SeaMonkey:"seamonkey",Sleipnir:"sleipnir",Swing:"swing",Tizen:"tizen","UC Browser":"uc",Vivaldi:"vivaldi","WebOS Browser":"webos",WeChat:"wechat","Yandex Browser":"yandex",Roku:"roku"},t.BROWSER_MAP={amazon_silk:"Amazon Silk",android:"Android Browser",bada:"Bada",blackberry:"BlackBerry",chrome:"Chrome",chromium:"Chromium",electron:"Electron",epiphany:"Epiphany",firefox:"Firefox",focus:"Focus",generic:"Generic",googlebot:"Googlebot",google_search:"Google Search",ie:"Internet Explorer",k_meleon:"K-Meleon",maxthon:"Maxthon",edge:"Microsoft Edge",mz:"MZ Browser",naver:"NAVER Whale Browser",opera:"Opera",opera_coast:"Opera Coast",phantomjs:"PhantomJS",puffin:"Puffin",qupzilla:"QupZilla",qq:"QQ Browser",qqlite:"QQ Browser Lite",safari:"Safari",sailfish:"Sailfish",samsung_internet:"Samsung Internet for Android",seamonkey:"SeaMonkey",sleipnir:"Sleipnir",swing:"Swing",tizen:"Tizen",uc:"UC Browser",vivaldi:"Vivaldi",webos:"WebOS Browser",wechat:"WeChat",yandex:"Yandex Browser"},t.PLATFORMS_MAP={tablet:"tablet",mobile:"mobile",desktop:"desktop",tv:"tv"},t.OS_MAP={WindowsPhone:"Windows Phone",Windows:"Windows",MacOS:"macOS",iOS:"iOS",Android:"Android",WebOS:"WebOS",BlackBerry:"BlackBerry",Bada:"Bada",Tizen:"Tizen",Linux:"Linux",ChromeOS:"Chrome OS",PlayStation4:"PlayStation 4",Roku:"Roku"},t.ENGINE_MAP={EdgeHTML:"EdgeHTML",Blink:"Blink",Trident:"Trident",Presto:"Presto",Gecko:"Gecko",WebKit:"WebKit"}},90:function(e,t,n){"use strict";function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}t.__esModule=!0,t.default=void 0;var r,o=(r=n(91))&&r.__esModule?r:{default:r},s=n(18),a=function(){function e(){}var t,n,r;return e.getParser=function(e,t){if(void 0===t&&(t=!1),"string"!=typeof e)throw new Error("UserAgent should be a string");return new o.default(e,t)},e.parse=function(e){return new o.default(e).getResult()},t=e,r=[{key:"BROWSER_MAP",get:function(){return s.BROWSER_MAP}},{key:"ENGINE_MAP",get:function(){return s.ENGINE_MAP}},{key:"OS_MAP",get:function(){return s.OS_MAP}},{key:"PLATFORMS_MAP",get:function(){return s.PLATFORMS_MAP}}],(n=null)&&i(t.prototype,n),r&&i(t,r),e}();t.default=a,e.exports=t.default},91:function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0,t.default=void 0;var r=i(n(92)),o=i(n(93)),s=i(n(94)),a=i(n(95)),u=i(n(17)),c=function(){function e(e,t){if(void 0===t&&(t=!1),null==e||""===e)throw new Error("UserAgent parameter can't be empty");this._ua=e,this.parsedResult={},!0!==t&&this.parse()}var t=e.prototype;return t.getUA=function(){return this._ua},t.test=function(e){return e.test(this._ua)},t.parseBrowser=function(){var e=this;this.parsedResult.browser={};var t=u.default.find(r.default,function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some(function(t){return e.test(t)});throw new Error("Browser's test function is not valid")});return t&&(this.parsedResult.browser=t.describe(this.getUA())),this.parsedResult.browser},t.getBrowser=function(){return this.parsedResult.browser?this.parsedResult.browser:this.parseBrowser()},t.getBrowserName=function(e){return e?String(this.getBrowser().name).toLowerCase()||"":this.getBrowser().name||""},t.getBrowserVersion=function(){return this.getBrowser().version},t.getOS=function(){return this.parsedResult.os?this.parsedResult.os:this.parseOS()},t.parseOS=function(){var e=this;this.parsedResult.os={};var t=u.default.find(o.default,function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some(function(t){return e.test(t)});throw new Error("Browser's test function is not valid")});return t&&(this.parsedResult.os=t.describe(this.getUA())),this.parsedResult.os},t.getOSName=function(e){var t=this.getOS().name;return e?String(t).toLowerCase()||"":t||""},t.getOSVersion=function(){return this.getOS().version},t.getPlatform=function(){return this.parsedResult.platform?this.parsedResult.platform:this.parsePlatform()},t.getPlatformType=function(e){void 0===e&&(e=!1);var t=this.getPlatform().type;return e?String(t).toLowerCase()||"":t||""},t.parsePlatform=function(){var e=this;this.parsedResult.platform={};var t=u.default.find(s.default,function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some(function(t){return e.test(t)});throw new Error("Browser's test function is not valid")});return t&&(this.parsedResult.platform=t.describe(this.getUA())),this.parsedResult.platform},t.getEngine=function(){return this.parsedResult.engine?this.parsedResult.engine:this.parseEngine()},t.getEngineName=function(e){return e?String(this.getEngine().name).toLowerCase()||"":this.getEngine().name||""},t.parseEngine=function(){var e=this;this.parsedResult.engine={};var t=u.default.find(a.default,function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some(function(t){return e.test(t)});throw new Error("Browser's test function is not valid")});return t&&(this.parsedResult.engine=t.describe(this.getUA())),this.parsedResult.engine},t.parse=function(){return this.parseBrowser(),this.parseOS(),this.parsePlatform(),this.parseEngine(),this},t.getResult=function(){return u.default.assign({},this.parsedResult)},t.satisfies=function(e){var t=this,n={},i=0,r={},o=0;if(Object.keys(e).forEach(function(t){var s=e[t];"string"==typeof s?(r[t]=s,o+=1):"object"==typeof s&&(n[t]=s,i+=1)}),i>0){var s=Object.keys(n),a=u.default.find(s,function(e){return t.isOS(e)});if(a){var c=this.satisfies(n[a]);if(void 0!==c)return c}var l=u.default.find(s,function(e){return t.isPlatform(e)});if(l){var f=this.satisfies(n[l]);if(void 0!==f)return f}}if(o>0){var d=Object.keys(r),p=u.default.find(d,function(e){return t.isBrowser(e,!0)});if(void 0!==p)return this.compareVersion(r[p])}},t.isBrowser=function(e,t){void 0===t&&(t=!1);var n=this.getBrowserName().toLowerCase(),i=e.toLowerCase(),r=u.default.getBrowserTypeByAlias(i);return t&&r&&(i=r.toLowerCase()),i===n},t.compareVersion=function(e){var t=[0],n=e,i=!1,r=this.getBrowserVersion();if("string"==typeof r)return">"===e[0]||"<"===e[0]?(n=e.substr(1),"="===e[1]?(i=!0,n=e.substr(2)):t=[],">"===e[0]?t.push(1):t.push(-1)):"="===e[0]?n=e.substr(1):"~"===e[0]&&(i=!0,n=e.substr(1)),t.indexOf(u.default.compareVersions(r,n,i))>-1},t.isOS=function(e){return this.getOSName(!0)===String(e).toLowerCase()},t.isPlatform=function(e){return this.getPlatformType(!0)===String(e).toLowerCase()},t.isEngine=function(e){return this.getEngineName(!0)===String(e).toLowerCase()},t.is=function(e,t){return void 0===t&&(t=!1),this.isBrowser(e,t)||this.isOS(e)||this.isPlatform(e)},t.some=function(e){var t=this;return void 0===e&&(e=[]),e.some(function(e){return t.is(e)})},e}();t.default=c,e.exports=t.default},92:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var i,r=(i=n(17))&&i.__esModule?i:{default:i},o=/version\/(\d+(\.?_?\d+)+)/i,s=[{test:[/googlebot/i],describe:function(e){var t={name:"Googlebot"},n=r.default.getFirstMatch(/googlebot\/(\d+(\.\d+))/i,e)||r.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/opera/i],describe:function(e){var t={name:"Opera"},n=r.default.getFirstMatch(o,e)||r.default.getFirstMatch(/(?:opera)[\s\/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/opr\/|opios/i],describe:function(e){var t={name:"Opera"},n=r.default.getFirstMatch(/(?:opr|opios)[\s\/](\S+)/i,e)||r.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/SamsungBrowser/i],describe:function(e){var t={name:"Samsung Internet for Android"},n=r.default.getFirstMatch(o,e)||r.default.getFirstMatch(/(?:SamsungBrowser)[\s\/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/Whale/i],describe:function(e){var t={name:"NAVER Whale Browser"},n=r.default.getFirstMatch(o,e)||r.default.getFirstMatch(/(?:whale)[\s\/](\d+(?:\.\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/MZBrowser/i],describe:function(e){var t={name:"MZ Browser"},n=r.default.getFirstMatch(/(?:MZBrowser)[\s\/](\d+(?:\.\d+)+)/i,e)||r.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/focus/i],describe:function(e){var t={name:"Focus"},n=r.default.getFirstMatch(/(?:focus)[\s\/](\d+(?:\.\d+)+)/i,e)||r.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/swing/i],describe:function(e){var t={name:"Swing"},n=r.default.getFirstMatch(/(?:swing)[\s\/](\d+(?:\.\d+)+)/i,e)||r.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/coast/i],describe:function(e){var t={name:"Opera Coast"},n=r.default.getFirstMatch(o,e)||r.default.getFirstMatch(/(?:coast)[\s\/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/opt\/\d+(?:.?_?\d+)+/i],describe:function(e){var t={name:"Opera Touch"},n=r.default.getFirstMatch(/(?:opt)[\s\/](\d+(\.?_?\d+)+)/i,e)||r.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/yabrowser/i],describe:function(e){var t={name:"Yandex Browser"},n=r.default.getFirstMatch(/(?:yabrowser)[\s\/](\d+(\.?_?\d+)+)/i,e)||r.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/ucbrowser/i],describe:function(e){var t={name:"UC Browser"},n=r.default.getFirstMatch(o,e)||r.default.getFirstMatch(/(?:ucbrowser)[\s\/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/Maxthon|mxios/i],describe:function(e){var t={name:"Maxthon"},n=r.default.getFirstMatch(o,e)||r.default.getFirstMatch(/(?:Maxthon|mxios)[\s\/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/epiphany/i],describe:function(e){var t={name:"Epiphany"},n=r.default.getFirstMatch(o,e)||r.default.getFirstMatch(/(?:epiphany)[\s\/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/puffin/i],describe:function(e){var t={name:"Puffin"},n=r.default.getFirstMatch(o,e)||r.default.getFirstMatch(/(?:puffin)[\s\/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/sleipnir/i],describe:function(e){var t={name:"Sleipnir"},n=r.default.getFirstMatch(o,e)||r.default.getFirstMatch(/(?:sleipnir)[\s\/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/k-meleon/i],describe:function(e){var t={name:"K-Meleon"},n=r.default.getFirstMatch(o,e)||r.default.getFirstMatch(/(?:k-meleon)[\s\/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/micromessenger/i],describe:function(e){var t={name:"WeChat"},n=r.default.getFirstMatch(/(?:micromessenger)[\s\/](\d+(\.?_?\d+)+)/i,e)||r.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/qqbrowser/i],describe:function(e){var t={name:/qqbrowserlite/i.test(e)?"QQ Browser Lite":"QQ Browser"},n=r.default.getFirstMatch(/(?:qqbrowserlite|qqbrowser)[\/](\d+(\.?_?\d+)+)/i,e)||r.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/msie|trident/i],describe:function(e){var t={name:"Internet Explorer"},n=r.default.getFirstMatch(/(?:msie |rv:)(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/\sedg\//i],describe:function(e){var t={name:"Microsoft Edge"},n=r.default.getFirstMatch(/\sedg\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/edg([ea]|ios)/i],describe:function(e){var t={name:"Microsoft Edge"},n=r.default.getSecondMatch(/edg([ea]|ios)\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/vivaldi/i],describe:function(e){var t={name:"Vivaldi"},n=r.default.getFirstMatch(/vivaldi\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/seamonkey/i],describe:function(e){var t={name:"SeaMonkey"},n=r.default.getFirstMatch(/seamonkey\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/sailfish/i],describe:function(e){var t={name:"Sailfish"},n=r.default.getFirstMatch(/sailfish\s?browser\/(\d+(\.\d+)?)/i,e);return n&&(t.version=n),t}},{test:[/silk/i],describe:function(e){var t={name:"Amazon Silk"},n=r.default.getFirstMatch(/silk\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/phantom/i],describe:function(e){var t={name:"PhantomJS"},n=r.default.getFirstMatch(/phantomjs\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/slimerjs/i],describe:function(e){var t={name:"SlimerJS"},n=r.default.getFirstMatch(/slimerjs\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe:function(e){var t={name:"BlackBerry"},n=r.default.getFirstMatch(o,e)||r.default.getFirstMatch(/blackberry[\d]+\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/(web|hpw)[o0]s/i],describe:function(e){var t={name:"WebOS Browser"},n=r.default.getFirstMatch(o,e)||r.default.getFirstMatch(/w(?:eb)?[o0]sbrowser\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/bada/i],describe:function(e){var t={name:"Bada"},n=r.default.getFirstMatch(/dolfin\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/tizen/i],describe:function(e){var t={name:"Tizen"},n=r.default.getFirstMatch(/(?:tizen\s?)?browser\/(\d+(\.?_?\d+)+)/i,e)||r.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/qupzilla/i],describe:function(e){var t={name:"QupZilla"},n=r.default.getFirstMatch(/(?:qupzilla)[\s\/](\d+(\.?_?\d+)+)/i,e)||r.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/firefox|iceweasel|fxios/i],describe:function(e){var t={name:"Firefox"},n=r.default.getFirstMatch(/(?:firefox|iceweasel|fxios)[\s\/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/electron/i],describe:function(e){var t={name:"Electron"},n=r.default.getFirstMatch(/(?:electron)\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/MiuiBrowser/i],describe:function(e){var t={name:"Miui"},n=r.default.getFirstMatch(/(?:MiuiBrowser)[\s\/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/chromium/i],describe:function(e){var t={name:"Chromium"},n=r.default.getFirstMatch(/(?:chromium)[\s\/](\d+(\.?_?\d+)+)/i,e)||r.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/chrome|crios|crmo/i],describe:function(e){var t={name:"Chrome"},n=r.default.getFirstMatch(/(?:chrome|crios|crmo)\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/GSA/i],describe:function(e){var t={name:"Google Search"},n=r.default.getFirstMatch(/(?:GSA)\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:function(e){var t=!e.test(/like android/i),n=e.test(/android/i);return t&&n},describe:function(e){var t={name:"Android Browser"},n=r.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/playstation 4/i],describe:function(e){var t={name:"PlayStation 4"},n=r.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/safari|applewebkit/i],describe:function(e){var t={name:"Safari"},n=r.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/.*/i],describe:function(e){var t=-1!==e.search("\\(")?/^(.*)\/(.*)[ \t]\((.*)/:/^(.*)\/(.*) /;return{name:r.default.getFirstMatch(t,e),version:r.default.getSecondMatch(t,e)}}}];t.default=s,e.exports=t.default},93:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var i,r=(i=n(17))&&i.__esModule?i:{default:i},o=n(18),s=[{test:[/Roku\/DVP/],describe:function(e){var t=r.default.getFirstMatch(/Roku\/DVP-(\d+\.\d+)/i,e);return{name:o.OS_MAP.Roku,version:t}}},{test:[/windows phone/i],describe:function(e){var t=r.default.getFirstMatch(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i,e);return{name:o.OS_MAP.WindowsPhone,version:t}}},{test:[/windows /i],describe:function(e){var t=r.default.getFirstMatch(/Windows ((NT|XP)( \d\d?.\d)?)/i,e),n=r.default.getWindowsVersionName(t);return{name:o.OS_MAP.Windows,version:t,versionName:n}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe:function(e){var t={name:o.OS_MAP.iOS},n=r.default.getSecondMatch(/(Version\/)(\d[\d.]+)/,e);return n&&(t.version=n),t}},{test:[/macintosh/i],describe:function(e){var t=r.default.getFirstMatch(/mac os x (\d+(\.?_?\d+)+)/i,e).replace(/[_\s]/g,"."),n=r.default.getMacOSVersionName(t),i={name:o.OS_MAP.MacOS,version:t};return n&&(i.versionName=n),i}},{test:[/(ipod|iphone|ipad)/i],describe:function(e){var t=r.default.getFirstMatch(/os (\d+([_\s]\d+)*) like mac os x/i,e).replace(/[_\s]/g,".");return{name:o.OS_MAP.iOS,version:t}}},{test:function(e){var t=!e.test(/like android/i),n=e.test(/android/i);return t&&n},describe:function(e){var t=r.default.getFirstMatch(/android[\s\/-](\d+(\.\d+)*)/i,e),n=r.default.getAndroidVersionName(t),i={name:o.OS_MAP.Android,version:t};return n&&(i.versionName=n),i}},{test:[/(web|hpw)[o0]s/i],describe:function(e){var t=r.default.getFirstMatch(/(?:web|hpw)[o0]s\/(\d+(\.\d+)*)/i,e),n={name:o.OS_MAP.WebOS};return t&&t.length&&(n.version=t),n}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe:function(e){var t=r.default.getFirstMatch(/rim\stablet\sos\s(\d+(\.\d+)*)/i,e)||r.default.getFirstMatch(/blackberry\d+\/(\d+([_\s]\d+)*)/i,e)||r.default.getFirstMatch(/\bbb(\d+)/i,e);return{name:o.OS_MAP.BlackBerry,version:t}}},{test:[/bada/i],describe:function(e){var t=r.default.getFirstMatch(/bada\/(\d+(\.\d+)*)/i,e);return{name:o.OS_MAP.Bada,version:t}}},{test:[/tizen/i],describe:function(e){var t=r.default.getFirstMatch(/tizen[\/\s](\d+(\.\d+)*)/i,e);return{name:o.OS_MAP.Tizen,version:t}}},{test:[/linux/i],describe:function(){return{name:o.OS_MAP.Linux}}},{test:[/CrOS/],describe:function(){return{name:o.OS_MAP.ChromeOS}}},{test:[/PlayStation 4/],describe:function(e){var t=r.default.getFirstMatch(/PlayStation 4[\/\s](\d+(\.\d+)*)/i,e);return{name:o.OS_MAP.PlayStation4,version:t}}}];t.default=s,e.exports=t.default},94:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var i,r=(i=n(17))&&i.__esModule?i:{default:i},o=n(18),s=[{test:[/googlebot/i],describe:function(){return{type:"bot",vendor:"Google"}}},{test:[/huawei/i],describe:function(e){var t=r.default.getFirstMatch(/(can-l01)/i,e)&&"Nova",n={type:o.PLATFORMS_MAP.mobile,vendor:"Huawei"};return t&&(n.model=t),n}},{test:[/nexus\s*(?:7|8|9|10).*/i],describe:function(){return{type:o.PLATFORMS_MAP.tablet,vendor:"Nexus"}}},{test:[/ipad/i],describe:function(){return{type:o.PLATFORMS_MAP.tablet,vendor:"Apple",model:"iPad"}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe:function(){return{type:o.PLATFORMS_MAP.tablet,vendor:"Apple",model:"iPad"}}},{test:[/kftt build/i],describe:function(){return{type:o.PLATFORMS_MAP.tablet,vendor:"Amazon",model:"Kindle Fire HD 7"}}},{test:[/silk/i],describe:function(){return{type:o.PLATFORMS_MAP.tablet,vendor:"Amazon"}}},{test:[/tablet(?! pc)/i],describe:function(){return{type:o.PLATFORMS_MAP.tablet}}},{test:function(e){var t=e.test(/ipod|iphone/i),n=e.test(/like (ipod|iphone)/i);return t&&!n},describe:function(e){var t=r.default.getFirstMatch(/(ipod|iphone)/i,e);return{type:o.PLATFORMS_MAP.mobile,vendor:"Apple",model:t}}},{test:[/nexus\s*[0-6].*/i,/galaxy nexus/i],describe:function(){return{type:o.PLATFORMS_MAP.mobile,vendor:"Nexus"}}},{test:[/[^-]mobi/i],describe:function(){return{type:o.PLATFORMS_MAP.mobile}}},{test:function(e){return"blackberry"===e.getBrowserName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.mobile,vendor:"BlackBerry"}}},{test:function(e){return"bada"===e.getBrowserName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.mobile}}},{test:function(e){return"windows phone"===e.getBrowserName()},describe:function(){return{type:o.PLATFORMS_MAP.mobile,vendor:"Microsoft"}}},{test:function(e){var t=Number(String(e.getOSVersion()).split(".")[0]);return"android"===e.getOSName(!0)&&t>=3},describe:function(){return{type:o.PLATFORMS_MAP.tablet}}},{test:function(e){return"android"===e.getOSName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.mobile}}},{test:function(e){return"macos"===e.getOSName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.desktop,vendor:"Apple"}}},{test:function(e){return"windows"===e.getOSName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.desktop}}},{test:function(e){return"linux"===e.getOSName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.desktop}}},{test:function(e){return"playstation 4"===e.getOSName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.tv}}},{test:function(e){return"roku"===e.getOSName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.tv}}}];t.default=s,e.exports=t.default},95:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var i,r=(i=n(17))&&i.__esModule?i:{default:i},o=n(18),s=[{test:function(e){return"microsoft edge"===e.getBrowserName(!0)},describe:function(e){if(/\sedg\//i.test(e))return{name:o.ENGINE_MAP.Blink};var t=r.default.getFirstMatch(/edge\/(\d+(\.?_?\d+)+)/i,e);return{name:o.ENGINE_MAP.EdgeHTML,version:t}}},{test:[/trident/i],describe:function(e){var t={name:o.ENGINE_MAP.Trident},n=r.default.getFirstMatch(/trident\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:function(e){return e.test(/presto/i)},describe:function(e){var t={name:o.ENGINE_MAP.Presto},n=r.default.getFirstMatch(/presto\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:function(e){var t=e.test(/gecko/i),n=e.test(/like gecko/i);return t&&!n},describe:function(e){var t={name:o.ENGINE_MAP.Gecko},n=r.default.getFirstMatch(/gecko\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/(apple)?webkit\/537\.36/i],describe:function(){return{name:o.ENGINE_MAP.Blink}}},{test:[/(apple)?webkit/i],describe:function(e){var t={name:o.ENGINE_MAP.WebKit},n=r.default.getFirstMatch(/webkit\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}}];t.default=s,e.exports=t.default}})}()}()},function(e,t,n){"use strict";n(0),n(65),n(22),n(19),n(0),Object.defineProperty(t,"__esModule",{value:!0}),t.listenForFullscreen=void 0,n(65),n(22),n(19);var i,r,o,s=["fullscreenchange","webkitfullscreenchange","mozfullscreenchange","msfullscreenchange"],a=function(e){["requestFullscreen","webkitRequestFullscreen","mozRequestFullscreen","msRequestFullscreen"].some(function(t){return!!e[t]&&(e[t](),!0)})},u=function(e){e.removeEventListener("pointerup",i,!0),s.forEach(function(t){e.removeEventListener(t,r,!0)})},c=function(e,t,n){i=n.bind(void 0,e,t),e.addEventListener("pointerup",i,!0),e.document.body.appendChild(o)},l=function(e,t,n){var i=e.document;i.fullscreenElement||i.webkitFullscreenElement||i.msFullscreenElement||i.mozFullScreenElement||(u(e),c(e,t,n))},f=function(e,t,n){r=l.bind(void 0,e,t,n),s.forEach(function(t){e.addEventListener(t,r,!0)})},d=function e(t,n){u(t),a(n),t.document.body.removeChild(o),f(t,n,e)},p=function(e,t){o=e.document.createElement("div"),o.setAttribute("class","cage-fullscreen-capture"),c(e,t,d)};t.listenForFullscreen=p},function(e,t,n){"use strict";n(0),n(128),n(0);var i=n(4);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n(128);var r=i(n(3)),o=r.default.createClass({displayName:"Childrens-Games-View__Data-Notice",hasClickedElementBelow:!1,hasPressedEnterKey:!1,getInitialState:function(){return{showDataNotice:!1}},componentDidMount:function(){this.setState({showDataNotice:this.shouldShowDataNotice(localStorage.getItem("bbc_childrens_user_seen_data_notice"))}),this.dataNoticeElement&&this.dataNoticeElement.focus(),document.body.addEventListener("pointerup",this.hideDataNotice,!0),document.body.addEventListener("touchstart",this.hideDataNotice,!0),document.body.addEventListener("click",this.hideDataNotice,!0)},componentDidUpdate:function(){this.props.userPressedEnter&&!this.hasPressedEnterKey&&(this.hasPressedEnterKey=!0,this.hideDataNotice())},removeEventListeners:function(){document.body.removeEventListener("pointerup",this.hideDataNotice,!0),document.body.removeEventListener("touchstart",this.hideDataNotice,!0),document.body.removeEventListener("click",this.hideDataNotice,!0)},componentWillUnmount:function(){this.removeEventListeners()},shouldShowDataNotice:function(e){return!e||(Date.now()-e)/864e5>=30},hideDataNotice:function(){this.state.showDataNotice&&localStorage.setItem("bbc_childrens_user_seen_data_notice",Date.now()),this.setState({showDataNotice:!1}),this.removeEventListeners()},renderDataNotice:function(){var e=this,t={className:"data-notice",role:"alert","aria-live":"assertive",ref:function(t){e.dataNoticeElement=t}};return r.default.createElement("div",t,"When you play a game we save your progress and choice of settings on your device")},render:function(){return this.state.showDataNotice&&this.renderDataNotice()}});o.propTypes={userPressedEnter:r.default.PropTypes.bool.isRequired};var s=o;t.default=s},function(e,t,n){"use strict";function i(e){return"msMaxTouchPoints"in e.navigator?e.navigator.msMaxTouchPoints>0:"ontouchstart"in e||"onmsgesturechange"in e}function r(e){return e.width+e.height<1160}n(0),n(0),Object.defineProperty(t,"__esModule",{value:!0}),t.isMobile=void 0;var o=function(e,t){return i(e)||r(t)};t.isMobile=o},function(e,t,n){"use strict";function i(e){return["versionOverride","viewNonPublished"].indexOf(e)>-1}function r(e,t){var n=Object.keys(t).filter(i).map(function(e){return"".concat(e,"=").concat(t[e])});return n.push("exitGameUrl=".concat(encodeURIComponent(e))),n.join("&")}function o(e,t){var n=t.game||t.gid,i=r(e.location.href,t);return"/games/embed/".concat(n,"?").concat(i)}n(0),n(50),n(15),n(32),n(31),n(0),Object.defineProperty(t,"__esModule",{value:!0}),t.generate=o,n(50),n(15),n(32),n(31)},function(e,t,n){"use strict";n(0),n(0);var i=n(4);Object.defineProperty(t,"__esModule",{value:!0}),t.init=void 0;var r=i(n(83)),o=function(e){var t="".concat(e,"/manifest.json"),n="".concat(e,"/service-worker.js");"serviceWorker"in navigator&&((0,r.default)(t,{method:"HEAD"}).then(function(e){200===e.status&&document.querySelector("#placeholder-manifest").setAttribute("href",t)}),window.addEventListener("load",function(){(0,r.default)(n,{method:"HEAD"}).then(function(e){200===e.status&&navigator.serviceWorker.register(n)})}))};t.init=o},function(e,t,n){"use strict";n(130),n(12),n(131),n(132),n(50),n(133),n(130),n(12),n(131),n(132),n(50),n(133),function(){function t(e,t,n){return"".concat(window.orb.partialCookieOvenUrl,".").concat(e,"/").concat(t,"/").concat(n)}function n(e,t){t&&t(new Error(e))}function i(e){var t=new XMLHttpRequest;return t.withCredentials=!0,t.onload=function(){e&&e(null,t.status)},t.onerror=function(i){n("Request to cross domain cookie service encountered an error with code".concat(t.status,". ").concat(i),e)},t.onabort=function(){n("Request to cross domain cookie service was aborted.",e)},t.ontimeout=function(){n("Request to cross domain cookie service timed out.",e)},t}function r(e){return{com:"co.uk","co.uk":"com"}[e.match(/(co.uk|com)/)[0]]}function o(e,t,n){t="".concat(t).replace(/[^!#$&-+\--:<-\[\]-~]/g,encodeURIComponent),n=n||{};var i="".concat(e,"=").concat(t);return i+=n.path?";path=".concat(n.path):"",i+=n.domain?";domain=".concat(n.domain):"",i+=n.expires?";expires=".concat(n.expires.toUTCString()):"",i+=n.secure?";secure":""}function s(e,t){if(void 0===e)return null;var n={};n.expires=new Date(0),t&&(n.domain=t.domain,n.path=t.path),document.cookie=o(e,"removed",n)}function a(e,t){var n=window.location.pathname.split("/");for(s(e,t);n.length;){var i=n.join("/");""===i&&(i="/"),s(e,{domain:t,path:i}),s(e,{domain:".".concat(t),path:i}),n.pop()}}function u(e){var t=window.location.hostname.split(".");for(s(e),a(e);t.length&&-1==="|co.uk|com|".indexOf("|".concat(t.join("."),"|"));){if(t.length){var n=t.join(".");s(e,{domain:n}),a(e,n)}t.shift()}}function c(e){var t=JSON.stringify(e);if(void 0!==E[t])return E[t];var n="";for(var i in e)e.hasOwnProperty(i)&&y[i]&&!0===e[i]&&(n+=(n?"|":"")+y[i]);return E[t]=new RegExp("^(".concat(n||".*",")$"),"i"),E[t]}function l(){var e=new RegExp("(?:^|; ?)".concat(v,"=(\\d)(\\d)(\\d)($|;)")),t=document.cookie.match(e);return t?{ads:"1"===t[1],personalisation:"1"===t[2],performance:"1"===t[3],necessary:!0}:m}function f(){var e=new Date;return e.setYear(e.getFullYear()+1),e}function d(e,t,n){var i=f(),r="".concat(e.ads?1:0).concat(e.personalisation?1:0).concat(e.performance?1:0),o=_._getCurrentDomain();_.set(v,r,{domain:o,path:"/",expires:i,crossDomainEnabled:t},n);var s=new Date(i.getTime());return s.setMonth(s.getMonth()+1),_.set(g,i.getTime(),{domain:o,path:"/",expires:s}),e}function p(e){var t="".concat(e).match(/^([^=]+)(?==)/);return t&&t.length?t[0]:""}function h(e){return e=e.replace(/[^#$&+\^`|]/g,encodeURIComponent),e=e.replace(/\(/g,"%28").replace(/\)/g,"%29")}var _=e.exports={};_.POLICY_REFRESH_DATE_MILLIS=new Date(2015,4,21,0,0,0,0).getTime();var g="ckns_policy_exp",v="ckns_policy",m={ads:!0,personalisation:!0,performance:!0,necessary:!0},E={},y={personalisation:"ckps_.+|X-AB-iplayer-.+|ACTVTYMKR|BBC_EXAMPLE_COOKIE|BBCIplayer|BBCiPlayerM|BBCIplayerSession|BBCMediaselector|BBCPostcoder|bbctravel|CGISESSID|ed|food-view|forceDesktop|h4|IMRID|locserv|MyLang|myloc|NTABS|ttduserPrefs|V5|WEATHER|BBCScienceDiscoveryPlaylist_.+|bitratePref|correctAnswerCount|genreCookie|highestQuestionScore|incorrectAnswerCount|longestStreak|MSCSProfile|programmes-oap-expanded|quickestAnswer|score|servicePanel|slowestAnswer|totalTimeForAllFormatted|v|BBCwords|score|correctAnswerCount|highestQuestionScore|hploc|BGUID|BBCWEACITY|mstouch|myway|BBCNewsCustomisation|cbbc_anim|cbeebies_snd|bbcsr_usersx|cbeebies_rd|BBC-Latest_Blogs|zh-enc|pref_loc|m|bbcEmp.+|recs-.+|_lvd2|_lvs2|tick|_fcap_CAM1|_rcc2",performance:"ckpf_.+|BBCLiveStatsClick|id|_em_.+|cookies_enabled|mbox|mbox-admin|mc_.+|omniture_unique|s_.+|sc_.+|adpolicyAdDisplayFrequency|ns_session|ns_cookietest|ns_ux|NO-SA|tr_pr1|gvsurvey|bbcsurvey|si_v|sa_labels|obuid|mm_.+|mmid|mmcore.+|mmpa.+",ads:"ckad_.+|rsi_segs|c",necessary:"optimizelyEndUserId|ckns_.+|BBC-UID|blq\\.dPref|idrxvr|s1|atidvisitor|atuserid|sa_labels|_cb_ls|_cb_svref|_chartbeat2|_chartbeat5|_chartbeat4|_cb|_cb_cp|SSO2-UID|BBC-H2-User|rmRpDetectReal|bbcComSurvey|IDENTITY_ENV|IDENTITY|IDENTITY-HTTPS|IDENTITY_SESSION|BBCCOMMENTSMODULESESSID|bbcBump.+|IVOTE_VOTE_HISTORY|pulse|BBCPG|BBCPGstat|ecos\\.dt|_sm_au_[c|d]|AMAuthCookie|AM_REDIRECT_BACK_SERVER_URL|AWSELB|(devN|uatN|n)ightfall(Session|Refresh)Token"};_.cookieOvenRequest=function(e,t,n){try{e.open("GET",t,!0),e.send()}catch(e){n&&n(e)}},_.cookieOvenClient=function(e,n,o,s){if("withCredentials"in new XMLHttpRequest){var a=[v];try{if(!o)throw new Error("Cannot make request to cross domain cookie service when domain is not set.");if(a.indexOf(e)<=-1)throw new Error("Cookie name is not in the whitelist accepted by the cross domain cookie service.");var u=r(o),c=i(s),l=t(u,e,n);_.cookieOvenRequest(c,l,s)}catch(e){s&&s(e)}}else s(new Error("Cannot make request to cross domain cookie service as this browser does not support XmlHttpRequest with credentials."))},_.set=function(e,t,n,i){var r,s;if(void 0!==t){r=h(e),s=o(r,t,n);var a=n&&n.crossDomainEnabled;_.isAllowed(r)&&a&&_.cookieOvenClient(e,t,n.domain,i)}else r=p(e),s=e;_.isAllowed(r)&&(document.cookie=s)},_.isAllowed=function(e){var t,n;return"ckpf_whatever"==e||(t=_.readPolicy(),n=c(t),n.test(e))},_.readPolicy=function(e){var t=l();return e?t[e]:t},_.analyticsPolicyString=function(){var e=l();return"ad".concat(e.ads,"ps").concat(e.personalisation,"pf").concat(e.performance)},_.get=function(e){return e?decodeURIComponent(document.cookie.replace(new RegExp("(?:(?:^|.*;)\\s*".concat(encodeURIComponent(e).replace(/[\-\.\+\*]/g,"\\$&"),"\\s*\\=\\s*([^;]*).*$)|^.*$")),"$1"))||null:document.cookie},_.isCookiePolicySet=function(){return null!==_.get(v)},_.setDefaultCookiesSingleDomain=function(){d(m,!1)},_._setPolicy=function(e,t,n,i){var r=_.readPolicy();r[e]=!!t,d(r,!n,i)},_.cookiesEnabled=function(){var e="ckns_cookietest".concat(Math.floor(1e5*Math.random()));return this.set(e,"1"),!!this.get(e)&&(this.delete(e),!0)},_.delete=function(e,t){e=h(e),s(e,t)},_.del=_.delete,_._crunch=function(){u("");for(var e=document.cookie.split(";"),t=0;t<e.length;t+=1){var n=e[t].split("="),i=n[0].trim();this.isAllowed(i)||u(i)}},_._getCurrentDomain=function(){try{return window.location.hostname.toLowerCase().match(/.*(bbc\.co\.uk|bbc\.com)\/*/)[1]}catch(e){return}},_._getPolicy=_.readPolicy,String.prototype.trim||function(){var e=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;String.prototype.trim=function(){return this.replace(e,"")}}(),_._crunch(),function(e,t){var n=!1,i=!0,r=e.document,o=r.documentElement,s=r.addEventListener,a=s?"addEventListener":"attachEvent",u=s?"removeEventListener":"detachEvent",c=s?"":"on",l=function i(o){"readystatechange"===o.type&&"complete"!==r.readyState||(("load"===o.type?e:r)[u](c+o.type,i,!1),!n&&(n=!0)&&t.call(e,o.type||o))};if("complete"===r.readyState)t.call(e,"lazy");else{if(!s&&o.doScroll){try{i=!e.frameElement}catch(e){}i&&function e(){try{o.doScroll("left")}catch(t){return void setTimeout(e,50)}l("poll")}()}r[a]("".concat(c,"DOMContentLoaded"),l,!1),r[a]("".concat(c,"readystatechange"),l,!1),e[a]("".concat(c,"load"),l,!1)}}(window,function(){_._crunch()}),window.addEventListener?window.addEventListener("beforeunload",function(){_._crunch()},!1):window.attachEvent?window.attachEvent("onbeforeunload",function(){_._crunch()}):window.onbeforeunload=function(){_._crunch()}}()},function(e,t,n){var i=n(1),r=n(41),o=n(9),s=n(220),a="["+s+"]",u="??",c=RegExp("^"+a+a+"*"),l=RegExp(a+a+"*$"),f=function(e,t,n){var r={},a=o(function(){return!!s[e]()||u[e]()!=u}),c=r[e]=a?t(d):s[e];n&&(r[n]=c),i(i.P+i.F*a,"String",r)},d=f.trim=function(e,t){return e=String(r(e)),1&t&&(e=e.replace(c,"")),2&t&&(e=e.replace(l,"")),e};e.exports=f},function(e,t){e.exports="\t\n\v\f\r ????????????????\u2028\u2029\ufeff"},function(e,t,n){"use strict";function i(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(i=function(e){return e?n:t})(e)}n(20),n(13),n(6),n(10),n(14),n(0),n(21),n(30),n(20),n(13),n(10),n(14),n(0),n(21);var r=n(4),o=n(46);n(6),n(30);var s,a=r(n(83)),u=n(112),c=r(n(134)),l=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!==o(e)&&"function"!=typeof e)return{default:e};var n=i(t);if(n&&n.has(e))return n.get(e);var r={},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var u=s?Object.getOwnPropertyDescriptor(e,a):null;u&&(u.get||u.set)?Object.defineProperty(r,a,u):r[a]=e[a]}return r.default=e,n&&n.set(e,r),r}(n(129)),f=r(n(222));e.exports=function(e,t){var n=e.idAvailabilityData.body.isAvailable,i=e.idConfigData.body?JSON.parse(e.idConfigData.body):{};s=f.default,t.then(function(e){s=e}).catch(function(){});var r=function(t){var n=e.data.body.embedVars,r=n.authUrl,o=n.clientId;if(!r||!o)return!1;var s=encodeURIComponent(r),a=(new Date).getTime();return"".concat(i.identityTokenExchangeUrl,"?clientId=").concat(o,"&nonce=").concat(a,"&redirectUri=").concat(s,"&state=").concat(t,"&responseMode=query")},o=function(e){return new Promise(function(t,i){if(n){var r=(0,u.getPageToReturnToQuery)(document.location.href);l.openUrlAtWindowTop(window,"".concat(e).concat(r)),t()}else i(c.default.systemUnavailable)})},d=function(){return new Promise(function(e){return e(s.hasCookie())})},p=function(e){return Boolean(200===e||401===e)},h=function(e,t,n){return(0,a.default)(n,{credentials:"include"}).then(function(n){return p(n.status)?e(n.json()):t(c.default.authorisationSystemUnavailable)}).catch(function(){return t(c.default.authorisationSystemUnavailable)})},_=function(e,t,n){return s.initiateTokenRefresh().then(function(){return h(e,t,n)}).catch(function(){return t(c.default.tokenRefreshFailed)})},g=function(e){return console.warn("clientId or AuthUrl have not been supplied"),e(c.default.clientIdOrAuthNotSupplied)};return{status:d,signIn:function(){return o(i.signin_url)},signOut:function(){return o(i.signout_url)},register:function(){return o(i.register_url)},authorise:function(e){return d().then(function(t){return t?new Promise(function(t,i){n||i(c.default.systemUnavailable);var o=r(e);return!1===o?g(i):_(t,i,o)}):(console.warn("User not signed in."),Promise.reject(c.default.notSignedIn))})}}}},function(e,t,n){"use strict";n(0),n(6),n(30),n(0);var i=n(4);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n(6),n(30);var r=i(n(134)),o={hasCookie:function(){return!1},policyCheck:function(){return!1},initiateTokenRefresh:function(){return Promise.reject(r.default.idctaNotReady)}};t.default=o},function(e,t,n){!function(t,n){e.exports=function(){return function(e){function t(i){if(n[i])return n[i].exports;var r=n[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,t),r.l=!0,r.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,i){t.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:i})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,n){if(1&n&&(e=t(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(t.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var r in e)t.d(i,r,function(t){return e[t]}.bind(null,r));return i},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=22)}([function(e,t,n){var i;void 0===(i=function(e){"use strict";function t(e){var n={};for(var i in e)try{e[i].constructor===Object?n[i]=t(e[i]):n[i]=e[i]}catch(t){n[i]=e[i]}return n}function i(e,n,r){var o=r?e:t(e);for(var s in n)try{n[s].constructor===Object?o[s]=i(o[s],n[s]):o[s]=n[s]}catch(e){o[s]=n[s]}return o}function r(e,t){for(var n in e)if(e.hasOwnProperty(n)&&e[n]===t)return!0;return!1}function o(e,n){for(var r=(n?t(e):e)||{},o=arguments,s=2,a=o.length;s<a;s++)"object"==typeof o[s]?i(r,o[s],!0):r[o[s]]=o[++s];return r}function s(e,t,n){return e||(n?a.warn("AssertionFailed: "+t):a.error("AssertionFailed: "+t)),e}var a=n(2);return{clone:t,combineObjects:i,addKV:function(e,t,n){return n?o(e,!0,t,n):o(e,!0,t)},containsValue:r,extend:o,assert:s,assertContainsValue:function(e,t,n){return s(r(e,t),n)},trim:function(e){if("string"==typeof e)return e=String.prototype.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}}}.call(t,n,t,e))||(e.exports=i)},function(e,t,n){var i;void 0===(i=function(e){"use strict";function t(e,t,n,i){var r={};return r[u.COMSCORE_CUSTOMER_ID]=e,r[u.COMSCORE_SITE]=t,r[u.COMSCORE_HOST]=n,r[u.SSC_HOSTNAME]=i,r}function i(e){return t(p,e,"sa.bbc.co.uk",".co.uk")}function r(e,n){return t(e,n,"scorecardresearch.com",".com")}var o=n(10),s=n(5),a=n(11),u=n(3),c=n(6),l={};Object.keys(o).map(function(e){l[e]=e});var f={};Object.keys(s).map(function(e){f[e]=e});var d={};Object.keys(a).map(function(e){d[e]=e});var p="16060501",h="18897612",_={};return _.PUBLIC_SERVICE=i("bbc"),_.PUBLIC_SERVICE_STAGE=i("stage"),_.PUBLIC_SERVICE_TEST=i("test"),_.PUBLIC_SERVICE_INT=i("int"),_.PUBLIC_SERVICE_INTRANET=i("intranet"),_.GNL=r("19293874","bbc"),_.GNL_ACCEPTANCE=r(h,"gnl-test"),_.WORLD_SERVICE=r("19999701","bbc"),_.WORLD_SERVICE_ACCEPTANCE=r(h,"ws-test"),_.WORLDWIDE_FEATURES=r("19774467","bbc"),_.WORLDWIDE_FEATURES_ACCEPTANCE=r(h,"features-test"),_.STORE_NONCOMMERCIAL=r("19774474","bbc"),_.STORE_COMMERCIAL=r("19774472","bbc"),_.BRITBOX_ACCEPTANCE=r("18897612","bbc-global-test"),_.BRITBOX=r("23239715","bbc"),{ApplicationType:{WEB:"web",MOBILE_WEB:"mobile-web",RESPONSIVE:"responsive",MOBILE_APP:"mobile-app",BIGSCREEN_HTML:"bigscreen-html",BIGSCREEN_FLASH:"bigscreen-flash",BIGSCREEN_APP:"bigscreen-app",BIGSCREEN_CAST:"bigscreen-cast",DESKTOP_APP:"desktop-app"},WindowState:{FULL:"full",NORMAL:"norm",MINIMISED:"min",MAXIMISED:"max",PICTUREINPICTURE:"picture-in-picture"},MediaIdType:{VERSION:"version",CLIP:"clip",EPISODE:"episode",SERVICE:"service",VPID:"vpid",NONPIPSCONTENTID:"nonpipscontentid",PRODUCER:"producer",BRAND:"brand",SERIES:"series"},MediaClipType:{UNDEFINED:void 0,CLIP:"clip",EPISODE:"episode"},MediaInitiationType:{UNDEFINED:void 0,USER:"user",AUTO:"auto"},AvType:{AUDIO:"audio",VIDEO:"video"},RetrievalType:{STREAM:"stream",DOWNLOAD:"download"},Form:{LONG:"long",SHORT:"short"},PIPsType:{CLIP:"clip",EPISODE:"ep"},MediaConsumptionMode:{ON_DEMAND:"ondemand",LIVE:"live",DOWNLOAD:"download"},EchoCacheMode:{OFFLINE:"offline",ALL:"all"},ManagedLabels:{EVENT_MASTER_BRAND:"event_master_brand",BBC_SITE:"bbc_site",IPLAYER_STATE:"iplayer_state",STORE_ED_TYPE:"store_ed_type",IPLAYER_AVAIL:"iplayer_avail",STORE_REFERRAL:"store_referral",BBC_HASHED_ID:"bbc_hid"},ReportingProfiles:_,EssError:{STATUS_CODE:"status_code",TIMEOUT:"timeout",JSON:"json",RUNTIME:"runtime_error"},Destinations:l,Producers:f,Masterbrands:d,EchoLabelKeys:c}}.call(t,n,t,e))||(e.exports=i)},function(e,t,n){var i;void 0===(i=function(e){"use strict";function t(e){var t,i;n&&(t="log",i=e,"object"==typeof console&&"function"==typeof console[t]&&console[t](i))}var n=!1;return{enable:function(){n=!0},disable:function(){n=!1},getState:function(){return n},info:t,warn:t,error:function(e){if(n)throw new Error("ECHO_DEBUG: "+e)}}}.call(t,n,t,e))||(e.exports=i)},function(e,t,n){var i;void 0===(i=function(){"use strict";return{ECHO_ENABLED:"enabled",ECHO_AUTO_START:"auto_start",ECHO_TRACE:"trace",ECHO_DEVICE_ID:"device_id",REPORTING_PROFILE:"reporting_profile",ECHO_CACHE_MODE:"cache_mode",DEBUG_MODE:"disabled",ECHO_NAME:"lib_name",ECHO_VERSION:"lib_version",USE_SSC:"use_ssc",SSC_HOSTNAME:"ssc_hostname",COMSCORE_ENABLED:"comscore.enabled",COMSCORE_HOST:"comscore.host",COMSCORE_SITE:"comscore.site",COMSCORE_CUSTOMER_ID:"comscore.customer_id",COMSCORE_PUBLISHER_SECRET:"comscore.publisher_secret",ATI_ENABLED:"ati.enabled",ATI_LOG:"ati.log",ATI_SSL_LOG:"ati.ssl_log",ATI_DOMAIN:"ati.domain",ATI_PIXEL_PATH:"ati.pixel_path",ATI_FORCE_HTTPS:"ati.force_https",ATI_CACHE_MODE_ALWAYS:"always",ATI_CACHE_MODE_REQUIRED:"required",APP_CATEGORY:"app_category",KEEPALIVE_DURATION:"keepalive_duration",DESTINATION:"bbc_destination",PRODUCER:"bbc_producer",TEST_SERVICE_ENABLED:"test.enabled",TEST_SERVICE_URL:"test.url",BARB_ENABLED:"barb.enabled",BARB_SITE_CODE:"barb.site_code",BARB_DEBUG:"barb.debug",USE_ESS:"use_ess",ESS_HOSTNAME:"ess.hostname"}}.call(t,n,t,e))||(e.exports=i)},function(e,t,n){var i;void 0===(i=function(e){"use strict";function t(e){return e&&e.toLowerCase().replace(/[^a-z0-9]+/g,"_").replace(/(^_+)|(_+$)/g,"")}function i(e){var n=t(e);return s.assert(e===n,'Label key can only contain: [a-z0-9_], and no consecutive "_"s or "_" at the begining or end, got "'+e+'". This will be sent as "'+n+'"',!0),n}function r(e){var t=e&&e.toLowerCase().replace(/[^a-z0-9\.]+/g,"_").replace(/\.+/g,".").replace(/(^_+)|(_+$)/g,"")||"no.name.page";return e!==t&&(null!==e&&"string"==typeof e&&0!==e.replace(/ */,"").length||a.error("Countername must be a non-empty string"),e&&-1!==e.search(/-/)?a.warn('Submitted countername ("'+e+'") contains at least one "-". Dashes are not permitted but, for legacy reasons, "-" and "_" are equivalent in DAx. Echo converts dashes to underscores, so the countername will be sent as "'+t+'"'):a.warn('countername may only contain: [a-z0-9._], got "'+e+'". This will be cleaned up and sent as "'+t+'"')),-1===t.search(/\.page$/)&&(t+=".page"),t}function o(e,n){var i,o="",u=n,l=(i=e,d.hasOwnProperty(i)?d[i]:c.CUSTOM);if(l===c.COUNTERNAME&&(n=r(n)),"number"==typeof n||"boolean"==typeof n)return n.toString();if("string"==typeof n){switch(l){case c.EVENT_MASTER_BRAND:o='Label value can only contain [0-9a-z], and no consecutive "_"s and no "_"s or whitespace at the start or end.',u=t(n);break;case c.STRICT:o='Strict Label values can only contain [ 0-9a-z-], and no consecutive "-"s and no "-"s or whitespace at the start or end.',u=(p=n)&&p.toLowerCase().replace(/(^\s+)|(\s+$)/g,"").replace(/[^a-z0-9]+/g,"-").replace(/(^-+)|(-+$)/g,"");break;case c.NO_CLEANSING:break;default:o="Custom Label value cannot contain whitespace at start or end or pipes (|).",u=(f=n)&&f.replace(/(^\s+)|(\s+$)/g,"").replace(/\|/g,"!")}var f,p;return o+='Got "'+n+'", will be replaced with "'+u+'"',s.assert(n===u,o,!0),u}a.error("Label must have number, boolean or string value")}var s=n(0),a=n(2),u=n(1),c=n(25),l=["player_name","ns_st_ws","bbc_site","app_type","app_name","bbc_store_pf","bbc_store_ed","bbc_store_fr","bbc_store_src"],f=["token","guardianToken","nonce","dateOfBirthDay","dateOfBirthMonth","dateOfBirthYear","dateOfBirth","permissionToken"],d={name:c.COUNTERNAME};d[u.ManagedLabels.EVENT_MASTER_BRAND]=c.EVENT_MASTER_BRAND;for(var p=0;p<l.length;p++)d[l[p]]=c.STRICT;return{cleanCounterName:r,cleanLabelKey:i,cleanLabelValue:o,cleanLanguage:function(e){if("number"==typeof e||"boolean"==typeof e)return e.toString();var t=e&&e.replace(/(^\s*)|(\s*$)/g,"").replace(/[^0-9a-zA-Z._]+/g,"-").replace(/(^-)|(-$)/g,"")||"";return s.assert(e===t,'Language label value can only contain [0-9a-zA-Z._-], and no consecutive "-"s and no - at the start or end. Got "'+e+'", will be replaced with "'+t+'"',!0),t},cleanLabels:function(e){var t,n={};for(var r in e)n[t=i(r)]=o(t,e[r]);return n},cleanCustomVariable:function(e){return e&&e.trim().replace(/\[|\]/g,"").replace(/&/g,"$").replace(/\s{1,}/g," ")},removeSensitiveInfo:function(e){if(e&&"string"==typeof e)for(p=0;p<f.length;p++){var t=new RegExp(f[p]+"=[^&]*","g");e=e.replace(t,f[p]+"=XXXX")}return e}}}.call(t,n,t,e))||(e.exports=i)},function(e,t,n){var i;void 0===(i=function(){"use strict";return{ACCOUNT:1,AFAAN_OROMOO:2,AFRIQUE:3,AMHARIC:4,ARABIC:5,AZERI:6,BBC:7,BBC_ALBA:8,BBC_ARTS:9,BBC_ASIAN_NETWORK:10,BBC_FOOD:11,BBC_FOUR:12,BBC_HD:13,BBC_MUSIC:14,BBC_NEWS_CHANNEL:15,BBC_ONE:16,BBC_PARLIAMENT_CHANNEL:17,BBC_RADIO:18,BBC_RADIO_1:19,BBC_RADIO_1XTRA:20,BBC_RADIO_2:21,BBC_RADIO_3:22,BBC_RADIO_4:23,BBC_RADIO_4_EXTRA:24,BBC_RADIO_5_LIVE:25,BBC_RADIO_6_MUSIC:26,BBC_SCOTLAND:120,BBC_SEND:121,BBC_SHOP:27,BBC_THREE:28,BBC_TWO:29,BBC_WORLD_NEWS:30,BENGALI:31,BITESIZE:32,BRASIL:33,BRITBOX:34,BURMESE:35,CBBC:36,CBEEBIES:37,CHINESE:38,ENGLISH_REGIONS:39,GAHUZA:40,GATEWAY:41,GNL_AUTOS:42,GNL_CAPITAL:43,GNL_CULTURE:44,GNL_EARTH:45,GNL_FUTURE:46,GNL_HOMEPAGE:47,GNL_STORYWORKS:48,GNL_TRAVEL:49,GUJARATI:50,HAUSA:51,HINDI:52,IGBO:53,INDONESIAN:54,IPLAYER:55,JAPANESE:56,KOREAN:57,KYRGYZ:58,MARATHI:59,MEDIA_ACTION:60,MONITORING:61,MUNDO:62,NEPALI:63,NEWS:64,NEWSROUND:65,NORTHERN_IRELAND:66,OTHER:67,OWN_IT:118,PASHTO:68,PERSIAN:69,PIDGIN:70,PROGRAMMES:71,PS_HOMEPAGE:72,PUNJABI:73,REEL:74,RUSSIAN:75,S4C:76,SCHOOL_RADIO:77,SCHOOL_REPORT:78,SCOTLAND:79,SEARCH:80,SERBIAN:81,SINHALA:82,SOMALI:83,SOUNDS:84,SPORT:85,SWAHILI:86,TAMIL:87,TASTER:88,TEACH:119,TELUGU:89,THAI:90,TIGRINYA:91,TURKISH:92,UK_CHINA:93,UKRAINIAN:94,URDU:95,UZBEK:96,VIETNAMESE:97,VOICE:98,VOICE_FIRST_FORMATS:99,WALES:100,WEATHER:101,WEATHER_WATCHERS:102,WORLD_SERVICE_ENGLISH:103,WORKLIFE:104,WS_LEARNING_ENGLISH:105,WS_PARTNERS_B2B:106,YORUBA:107,NEWS_ENGLISH_REGIONS:108,SPORT_ENGLISH_REGIONS:109,NEWS_SCOTLAND:110,SPORT_SCOTLAND:111,NEWS_WALES:112,SPORT_WALES:113,NEWS_NORTHERN_IRELAND:114,SPORT_NORTHERN_IRELAND:115,AUDIENCE_SERVICES:116,WORLD_NEWS_PROGRAMMES:117,getId:function(e){var t;return e&&(t=this[e.toUpperCase()]),t}}}.call(t,n,t,e))||(e.exports=i)},function(e,t,n){e.exports={BBC_COUNTER_NAME:"name",ECHO_EVENT_NAME:"echo_event",APP_VERSION:"apvr",HASHED_ID:"at",LEVEL_1_SITE:"site",LEVEL_2_SITE:"level2",SECTION:"section",CHAPTER_1:"chapter1",CONTENT_ID:"bbc_content_id",APP_TYPE:"bbc_app_type",APP_NAME:"bbc_app_name",APP_CATEGORY:"app_category",LANGUAGE:"language",URL:"bbc_url",REFERRER_URL:"bbc_referrer_url",CONTENT_TYPE:"bbc_content_type",LIBRARY_VERSION:"bbc_library_version",PAGE_TITLE:"page_title",CUSTOM_VAR_1:"custom_var_1",CUSTOM_VAR_2:"custom_var_2",CUSTOM_VAR_3:"custom_var_3",CUSTOM_VAR_4:"custom_var_4",CUSTOM_VAR_5:"custom_var_5",CUSTOM_VAR_6:"custom_var_6",CUSTOM_VAR_7:"custom_var_7",CUSTOM_VAR_8:"custom_var_8",CUSTOM_VAR_9:"custom_var_9",CUSTOM_VAR_10:"custom_var_10",MEDIA_PLAYER:"bbc_media_player",LOGGED_IN:"bbc_identity",BBC_HID:"bbc_hid",MEDIA_BRAND:"brand",MEDIA_SERIES:"series",IS_BACKGROUND:"is_background",SOURCE:"source",CONTAINER:"container",METADATA:"metadata",PERSONALISATION:"personalisation",RESULT:"result"}},function(e,t,n){e.exports={BBC_APPLICATION_NAME:"app_name",BBC_APPLICATION_TYPE:"app_type",BBC_APPLICATION_VERSION:"app_version",BBC_COUNTER_NAME:"name",DESTINATION:"bbc_destination",PRODUCER:"bbc_producer",BBC_LANGUAGE:"language",DEVICE_ID:"ns_alias",COMSCORE_C1:"c1",COMSCORE_C7:"c7",BBC_MEASUREMENT_LIB_NAME:"ml_name",BBC_MEASUREMENT_LIB_VERSION:"ml_version",ECHO_TRACE:"trace",ECHO_EVENT_NAME:"echo_event",EVENT_TRIGGERED_BY_USER:"ns_st_ui",STREAMSENSE_CUSTOM_EVENT_TYPE:"ns_st_ev",USER_ACTION_TYPE:"action_type",USER_ACTION_NAME:"action_name",PLAYLIST_END:"ns_st_pe",REWIND_FF_RATE:"ffrw_rate",COMSCORE_SITE:"ns_site",COMSCORE_CUSTOMER:"c2",COMSCORE_ENDPOINT:"comscore_endpoint",PLAYER_NAME:"ns_st_mp",PLAYER_VERSION:"ns_st_mv",PLAYER_WINDOW_STATE:"ns_st_ws",PLAYER_VOLUME:"ns_st_vo",PLAYER_POPPED:"bbc_st_pop",PLAYER_SUBTITLED:"bbc_st_sub",PLAYLIST_NAME:"ns_st_pl",PLAYLIST_CLIP_COUNT:"ns_st_cp",PLAYLIST_LENGTH:"ns_st_ca",MEDIA_PID:"ns_st_ci",MEDIA_LENGTH:"ns_st_cl",MEDIA_STREAM_TYPE:"ns_st_ty",MEDIA_IS_LIVE:"ns_st_li",MEDIA_EPISODE_ID:"episode_id",MEDIA_CLIP_ID:"clip_id",MEDIA_CLIP_NUMBER:"ns_st_cn",MEDIA_PART_NUMBER:"ns_st_pn",MEDIA_TOTAL_PARTS:"ns_st_tp",MEDIA_MEDIUM:"bbc_st_med",MEDIA_LIVE_OR_ONDEMAND:"bbc_st_lod",MEDIA_FORM:"bbc_st_mf",MEDIA_RETRIEVAL_TYPE:"bbc_st_ret",MEDIA_SCHEDULE_INDICATOR:"bbc_st_sch",MEDIA_VERSION_ID:"version_id",MEDIA_SERVICE_ID:"service_id",MEDIA_NON_PIPS_CONTENT_ID:"non_pips_content_id",MEDIA_AMBIGUOUS_ID:"ambig_ci",MEDIA_TIMESTAMP:"bbc_st_live_ts",ESS_SUCCESS:"ess_success",ESS_ERROR:"ess_error",ESS_STATUS_CODE:"ess_status_code",APP_PLATFORM_NAME:"ns_ap_pn",APP_PLATFORM_RUNTIME:"ns_ap_pfm",APP_OS_VERSION:"ns_ap_pfv",APP_DEVICE_NAME:"ns_ap_device",APP_SCREEN_RESOLUTION:"ns_ap_res",APP_LANGUAGE:"ns_ap_lang",ENV_CHAR_SET:"ns_c",ENV_TITLE:"c8",ENV_URL:"c7",ENV_REFERRER:"c9",APP_NAME:"ns_ap_an",APP_VERSION:"ns_ap_ver",NO_COOKIES:"ns_nc",COOKIE_POLICY:"bbc_mc",BBC_ID_LOGGED_IN:"bbc_identity",WEB_SCREEN_RES:"screen_resolution",ESS_ENABLED:"ess_enabled",ESS_ENRICHED:"ess_enriched"}},function(e,t,n){var i;void 0===(i=function(e){"use strict";function t(){var e=window.screen||{},t=window.navigator||{},n=window.document||{};this._platformRuntimeEnvironment="html",this._platformOSVersion="5",this._screenResolution=(e.width||"-")+"x"+(e.height||"-"),this._language=t.language||"",this._platformName=t.platform||"",this._charset=n.characterSet||n.defaultCharset||"",this._title=n.title||"",this._url=n.URL||"",this._referrer=n.referrer||"",this._deviceName=null,this._httpGet=null,this._executeCrossDomainGet=null,this._getCookie=null,this._setCookie=null,this._setLocalStorageItem=null,this._getLocalStorageItem=null}var i,r,o,s=n(4),a=n(9),u=n(26),c=!1,l=[];return t._defaultHttpGet=u.httpGet,t._defaultGetCookie=a.getCookieValueByName,t.prototype.getPlatformName=function(){return this._platformName},t.prototype.getPlatformRuntimeEnvironment=function(){return this._platformRuntimeEnvironment},t.prototype.getPlatformOSVersion=function(){return this._platformOSVersion},t.prototype.getDeviceName=function(){return this._deviceName},t.prototype.getScreenResolution=function(){return this._screenResolution},t.prototype.getLanguage=function(){return this._language},t.prototype.getHttpGet=function(){return this._httpGet},t.prototype.setExecuteCrossDomainGet=function(e){this._executeCrossDomainGet=e},t.prototype.getExecuteCrossDomainGet=function(){return this._executeCrossDomainGet?this._executeCrossDomainGet:u.executeCrossDomainGet},t.prototype.getCookieGetter=function(){return this._getCookie},t.prototype.getCookieSetter=function(){return this._setCookie},t.prototype.getCharSet=function(){return this._charset},t.prototype.getTitle=function(){return this._title},t.prototype.getURL=function(){return this._url},t.prototype.getProtocol=function(){return 0!==this.getURL().toLowerCase().indexOf("http:",0)?"https:":"http:"},t.prototype.getReferrer=function(){return this._referrer},t.prototype.setSetLocalStorageItem=function(e){this._setLocalStorageItem=e},t.prototype.getSetLocalStorageItem=function(){return this._setLocalStorageItem},t.prototype.setGetLocalStorageItem=function(e){this._getLocalStorageItem=e},t.prototype.getGetLocalStorageItem=function(){return this._getLocalStorageItem},t.prototype.setPlatformName=function(e){return this._platformName=e,this},t.prototype.setPlatform=function(e,t){return this._platformRuntimeEnvironment=e,this._platformOSVersion=t,this},t.prototype.setDeviceName=function(e){return this._deviceName=e,this},t.prototype.setScreenResolution=function(e){return this._screenResolution=e,this},t.prototype.setLanguage=function(e){return this._language=s.cleanLanguage(e),this},t.prototype.setHttpGet=function(e){return this._httpGet=e,this},t.prototype.setCookieGetter=function(e){return this._getCookie=e,this},t.prototype.setCookieSetter=function(e){return this._setCookie=e,this},t.prototype.setCharSet=function(e){return this._charset=e,this},t.prototype.setTitle=function(e){return this._title=e,this},t.prototype.setURL=function(e){return this._url=e,this},t.prototype.setReferrer=function(e){return this._referrer=e,this},t.setOrbCookies=function(e){return i=e,this},t.getOrbCookies=function(){return i},t.getOrbCookiesPolicy=function(){if(i&&"function"==typeof i.readPolicy)return i.readPolicy()},t.setOrbIdCta=function(e){return r=e,this},t.getOrbIdCta=function(e){var t=function(e,t){e&&"function"==typeof e&&e(t)};if(void 0===r)if(!1!==o){l.push(e);var n=window.require;void 0===o&&n?!(o="function"==typeof n.defined&&n.defined("idcta/idcta-1"))&&n.s&&n.s.contexts&&n.s.contexts._&&n.s.contexts._.config&&n.s.contexts._.config.paths&&n.s.contexts._.config.paths.idcta&&(o=!0):o=!1,o&&!c?(c=!0,window.require(["idcta/idcta-1"],function(e){for(r=e,0;0<l.length;l++)l[0]&&"function"==typeof l[0]&&t(l[0],r)})):!1===o&&t(e)}else t(e);else t(e,r)},t}.call(t,n,t,e))||(e.exports=i)},function(e,t,n){var i;void 0===(i=function(){"use strict";return{getCookieValueByName:function(e,t){var n=e+"=",i=(t||window).document,r={};if(void 0===i||"string"!=typeof i.cookie)return null;for(var o=0,s=(r=i.cookie.split(";")).length;o<s;o++){var a=r[o];if(" "===a.charAt(0)&&(a=a.substring(1,a.length)),0===a.indexOf(n))return a.substring(n.length,a.length)}return null}}}.call(t,n,t,e))||(e.exports=i)},function(e,t,n){var i;void 0===(i=function(){"use strict";var e=n(5);return{DEFAULT:{id:"596068",defaultProducer:e.BBC,isTest:!0},ACCOUNT:{id:"598250",defaultProducer:e.ACCOUNT,isTest:!1},ACCOUNT_TEST:{id:"598252",defaultProducer:e.ACCOUNT,isTest:!0},AUDIENCE_PORTAL:{id:"602136",defaultProducer:e.AUDIENCE_SERVICES,isTest:!1},AUDIENCE_PORTAL_TEST:{id:"602137",defaultProducer:e.AUDIENCE_SERVICES,isTest:!0},AUDIENCE_SERVICES_PS:{id:"602167",defaultProducer:e.AUDIENCE_SERVICES,isTest:!1},AUDIENCE_SERVICES_PS_TEST:{id:"602168",defaultProducer:e.AUDIENCE_SERVICES,isTest:!0},BBC_CORPORATE_PS:{id:"603550",defaultProducer:e.BBC,isTest:!1},BBC_CORPORATE_PS_TEST:{id:"603551",defaultProducer:e.BBC,isTest:!0},BBC_SHOP:{id:"598253",defaultProducer:e.BBC_SHOP,isTest:!1},BBC_SHOP_TEST:{id:"598254",defaultProducer:e.BBC_SHOP,isTest:!0},BBC_SYNDICATION:{id:"601718",defaultProducer:e.BBC,isTest:!1},BBC_SYNDICATION_TEST:{id:"601719",defaultProducer:e.BBC,isTest:!0},BBC_THREE:{id:"598255",defaultProducer:e.BBC_THREE,isTest:!1},BBC_THREE_TEST:{id:"598256",defaultProducer:e.BBC_THREE,isTest:!0},BITESIZE:{id:"598257",defaultProducer:e.BITESIZE,isTest:!1},BITESIZE_TEST:{id:"598258",defaultProducer:e.BITESIZE,isTest:!0},BLOGS_PS:{id:"603546",defaultProducer:e.BBC,isTest:!1},BLOGS_PS_TEST:{id:"603547",defaultProducer:e.BBC,isTest:!0},BRITBOX:{id:"598259",defaultProducer:e.BRITBOX,isTest:!1},BRITBOX_TEST:{id:"598260",defaultProducer:e.BRITBOX,isTest:!0},CBBC:{id:"598261",defaultProducer:e.CBBC,isTest:!1},CBBC_TEST:{id:"598262",defaultProducer:e.CBBC,isTest:!0},CBEEBIES:{id:"598263",defaultProducer:e.CBEEBIES,isTest:!1},CBEEBIES_TEST:{id:"598264",defaultProducer:e.CBEEBIES,isTest:!0},FEATURE_SITES_GNL:{id:"598265",defaultProducer:e.GNL_HOMEPAGE,isTest:!1},FEATURE_SITES_GNL_TEST:{id:"598266",defaultProducer:e.GNL_HOMEPAGE,isTest:!0},FOOD:{id:"598267",defaultProducer:e.BBC_FOOD,isTest:!1},FOOD_TEST:{id:"598268",defaultProducer:e.BBC_FOOD,isTest:!0},GAMES_PS:{id:"599452",defaultProducer:e.BBC,isTest:!1},GAMES_PS_TEST:{id:"599454",defaultProducer:e.BBC,isTest:!0},GATEWAY:{id:"598269",defaultProducer:e.GATEWAY,isTest:!1},GATEWAY_TEST:{id:"598270",defaultProducer:e.GATEWAY,isTest:!0},HOMEPAGE_GNL:{id:"598271",defaultProducer:e.GNL_HOMEPAGE,isTest:!1},HOMEPAGE_GNL_TEST:{id:"598272",defaultProducer:e.GNL_HOMEPAGE,isTest:!0},HOMEPAGE_PS:{id:"598273",defaultProducer:e.PS_HOMEPAGE,isTest:!1},HOMEPAGE_PS_TEST:{id:"598274",defaultProducer:e.PS_HOMEPAGE,isTest:!0},IDEAS:{id:"598275",defaultProducer:e.BBC,isTest:!1},IDEAS_TEST:{id:"598276",defaultProducer:e.BBC,isTest:!0},IPLAYER:{id:"598277",defaultProducer:e.IPLAYER,isTest:!1},IPLAYER_TEST:{id:"598278",defaultProducer:e.IPLAYER,isTest:!0},MEDIA_ACTION:{id:"598279",defaultProducer:e.MEDIA_ACTION,isTest:!1},MEDIA_ACTION_TEST:{id:"598280",defaultProducer:e.MEDIA_ACTION,isTest:!0},MONITORING:{id:"598281",defaultProducer:e.MONITORING,isTest:!1},MONITORING_TEST:{id:"598282",defaultProducer:e.MONITORING,isTest:!0},MUSIC:{id:"598283",defaultProducer:e.BBC_MUSIC,isTest:!1},MUSIC_TEST:{id:"598284",defaultProducer:e.BBC_MUSIC,isTest:!0},NEWS_PS:{id:"598285",defaultProducer:e.NEWS,isTest:!1},NEWS_PS_TEST:{id:"598286",defaultProducer:e.NEWS,isTest:!0},NEWS_GNL:{id:"598287",defaultProducer:e.NEWS,isTest:!1},NEWS_GNL_TEST:{id:"598288",defaultProducer:e.NEWS,isTest:!0},NEWS_LANGUAGES_GNL:{id:"598289",defaultProducer:e.NEWS,isTest:!1},NEWS_LANGUAGES_GNL_TEST:{id:"598290",defaultProducer:e.NEWS,isTest:!0},NEWS_LANGUAGES_PS:{id:"598291",defaultProducer:e.NEWS,isTest:!1},NEWS_LANGUAGES_PS_TEST:{id:"598292",defaultProducer:e.NEWS,isTest:!0},NEWSROUND:{id:"598293",defaultProducer:e.NEWSROUND,isTest:!1},NEWSROUND_TEST:{id:"598294",defaultProducer:e.NEWSROUND,isTest:!0},OTHER:{id:"598295",defaultProducer:e.OTHER,isTest:!1},OTHER_TEST:{id:"598297",defaultProducer:e.OTHER,isTest:!0},OWN_IT:{id:"598298",defaultProducer:e.CBBC,isTest:!1},OWN_IT_TEST:{id:"598299",defaultProducer:e.CBBC,isTest:!0},PROGRAMMES_PS:{id:"598300",defaultProducer:e.PROGRAMMES,isTest:!1},PROGRAMMES_PS_TEST:{id:"598301",defaultProducer:e.PROGRAMMES,isTest:!0},RED_BUTTON_PS:{id:"601192",defaultProducer:e.BBC,isTest:!1},RED_BUTTON_PS_TEST:{id:"601193",defaultProducer:e.BBC,isTest:!0},REWIND_PS:{id:"603552",defaultProducer:e.BBC,isTest:!1},REWIND_PS_TEST:{id:"603553",defaultProducer:e.BBC,isTest:!0},SEARCH_GNL:{id:"598302",defaultProducer:e.SEARCH,isTest:!1},SEARCH_GNL_TEST:{id:"598303",defaultProducer:e.SEARCH,isTest:!0},SEARCH_PS:{id:"598304",defaultProducer:e.SEARCH,isTest:!1},SEARCH_PS_TEST:{id:"598305",defaultProducer:e.SEARCH,isTest:!0},SOUNDS:{id:"598306",defaultProducer:e.SOUNDS,isTest:!1},SOUNDS_TEST:{id:"598307",defaultProducer:e.SOUNDS,isTest:!0},SPORT_GNL:{id:"598308",defaultProducer:e.SPORT,isTest:!1},SPORT_GNL_TEST:{id:"598309",defaultProducer:e.SPORT,isTest:!0},SPORT_PS:{id:"598310",defaultProducer:e.SPORT,isTest:!1},SPORT_PS_TEST:{id:"598311",defaultProducer:e.SPORT,isTest:!0},STORYWORKS_GNL:{id:"598312",defaultProducer:e.GNL_STORYWORKS,isTest:!1},STORYWORKS_GNL_TEST:{id:"598313",defaultProducer:e.GNL_STORYWORKS,isTest:!0},SUBTITLES_PS:{id:"603548",defaultProducer:e.PROGRAMMES,isTest:!1},SUBTITLES_PS_TEST:{id:"603549",defaultProducer:e.PROGRAMMES,isTest:!0},SYNDICATION_PARTNERS_GNL:{id:"598314",defaultProducer:e.WS_PARTNERS_B2B,isTest:!1},SYNDICATION_PARTNERS_GNL_TEST:{id:"598315",defaultProducer:e.WS_PARTNERS_B2B,isTest:!0},TASTER:{id:"598316",defaultProducer:e.TASTER,isTest:!1},TASTER_TEST:{id:"598317",defaultProducer:e.TASTER,isTest:!0},TEACH:{id:"598318",defaultProducer:e.BBC,isTest:!1},TEACH_TEST:{id:"598320",defaultProducer:e.BBC,isTest:!0},VOICE:{id:"598326",defaultProducer:e.VOICE,isTest:!1},VOICE_TEST:{id:"598328",defaultProducer:e.VOICE,isTest:!0},WEATHER_GNL:{id:"598330",defaultProducer:e.WEATHER,isTest:!1},WEATHER_GNL_TEST:{id:"598332",defaultProducer:e.WEATHER,isTest:!0},WEATHER_PS:{id:"598338",defaultProducer:e.WEATHER,isTest:!1},WEATHER_PS_TEST:{id:"598339",defaultProducer:e.WEATHER,isTest:!0},WS_LEARNING_ENGLISH:{id:"598340",defaultProducer:e.WS_LEARNING_ENGLISH,isTest:!1},WS_LEARNING_ENGLISH_TEST:{id:"598341",defaultProducer:e.WS_LEARNING_ENGLISH,isTest:!0},WS_NEWS_LANGUAGES:{id:"598342",defaultProducer:e.BBC_WORLD_NEWS,isTest:!1},WS_NEWS_LANGUAGES_TEST:{id:"598343",defaultProducer:e.BBC_WORLD_NEWS,isTest:!0},WS_PARTNERS_B2B:{id:"598820",defaultProducer:e.WS_PARTNERS_B2B,isTest:!1},WS_PARTNERS_B2B_TEST:{id:"598823",defaultProducer:e.WS_PARTNERS_B2B,isTest:!0},WS_PROGRAMMES:{id:"598344",defaultProducer:e.PROGRAMMES,isTest:!1},WS_PROGRAMMES_TEST:{id:"598345",defaultProducer:e.PROGRAMMES,isTest:!0},WS_SYNDICATION_PARTNERS:{id:"598346",defaultProducer:e.WS_PARTNERS_B2B,isTest:!1},WS_SYNDICATION_PARTNERS_TEST:{id:"598347",defaultProducer:e.WS_PARTNERS_B2B,isTest:!0},get:function(e){var t;return e&&(t=this[e.toUpperCase()]),t}}}.call(t,n,t,e))||(e.exports=i)},function(e,t,n){var i;void 0===(i=function(){"use strict";var e=n(5);return{BBC_NEWS:e.BBC_NEWS_CHANNEL,BBC_NEWS24:e.BBC_NEWS_CHANNEL,BBC_WORLD_NEWS:e.BBC_WORLD_NEWS,BBC_AFRIQUE_RADIO:e.AFRIQUE,BBC_AFRIQUE_TV:e.AFRIQUE,BBC_AMHARIC_RADIO:e.AMHARIC,BBC_ARABIC_RADIO:e.ARABIC,BBC_ARABIC_TV:e.ARABIC,BBC_BENGALI_RADIO:e.BENGALI,BBC_BRASIL:e.BRASIL,BBC_BURMESES_RADIO:e.BURMESE,BBC_BURMESES_TV:e.BURMESE,BBC_CANTONESE_RADIO:e.CHINESE,BBC_DARI_RADIO:e.PERSIAN,BBC_GAHUZA_RADIO:e.GAHUZA,BBC_GUJARATI_TV:e.GUJARATI,BBC_HAUSA_RADIO:e.HAUSA,BBC_HAUSA_TV:e.HAUSA,BBC_HINDI_RADIO:e.HINDI,BBC_HINDI_TV:e.HINDI,BBC_IGBO_RADIO:e.IGBO,BBC_IGBO_TV:e.IGBO,BBC_INDONESIAN_RADIO:e.INDONESIAN,BBC_KOREAN_RADIO:e.KOREAN,BBC_KOREAN_TV:e.KOREAN,BBC_KYRGYZ_RADIO:e.KYRGYZ,BBC_KYRGYZ_TV:e.KYRGYZ,BBC_LEARNING_ENGLISH:e.WS_LEARNING_ENGLISH,BBC_MARATHI_TV:e.MARATHI,BBC_MUNDO:e.MUNDO,BBC_NEPALI_RADIO:e.NEPALI,BBC_OROMO_RADIO:e.AFAAN_OROMOO,BBC_PARLIAMENT:e.BBC_PARLIAMENT_CHANNEL,BBC_PASHTO_RADIO:e.PASHTO,BBC_PASHTO_TV:e.PASHTO,BBC_PERSIAN_RADIO:e.PERSIAN,BBC_PERSIAN_TV:e.PERSIAN,BBC_PIDGIN_RADIO:e.PIDGIN,BBC_PIDGIN_TV:e.PIDGIN,BBC_PUNJABI_TV:e.PUNJABI,BBC_RUSSIAN_RADIO:e.RUSSIAN,BBC_RUSSIAN_TV:e.RUSSIAN,BBC_SINHALA_RADIO:e.SINHALA,BBC_SOMALI_RADIO:e.SOMALI,BBC_SOMALI_TV:e.SOMALI,BBC_SWAHILI_RADIO:e.SWAHILI,BBC_SWAHILI_TV:e.SWAHILI,BBC_TAMIL_RADIO:e.TAMIL,BBC_TAMIL_TV:e.TAMIL,BBC_TELUGU_TV:e.TELUGU,BBC_THAI:e.THAI,BBC_TIGRINYA_RADIO:e.TIGRINYA,BBC_UKRAINIAN_TV:e.UKRAINIAN,BBC_URDU_RADIO:e.URDU,BBC_URDU_TV:e.URDU,BBC_UZBEK_RADIO:e.UZBEK,BBC_UZBEK_TV:e.UZBEK,BBC_WEATHER:e.WEATHER,BBC_WORLD_SERVICE:e.WORLD_SERVICE_ENGLISH,BBC_WORLD_SERVICE_TV:e.WORLD_SERVICE_ENGLISH,BBC_YORUBA_RADIO:e.YORUBA,BBC_YORUBA_TV:e.YORUBA,PARLIAMENTS_ONLINE:e.BBC_PARLIAMENT_CHANNEL,BBC_ALBA:e.BBC_ALBA,BBC_CYMRU:e.WALES,BBC_FOUR:e.BBC_FOUR,BBC_HD:e.BBC_HD,BBC_LONDON:e.ENGLISH_REGIONS,BBC_MUSIC:e.BBC_MUSIC,BBC_MUSIC_JAZZ:e.BBC_MUSIC,BBC_ONE:e.BBC_ONE,BBC_ONE_EAST:e.ENGLISH_REGIONS,BBC_ONE_EAST_MIDLANDS:e.ENGLISH_REGIONS,BBC_ONE_EAST_YORKSHIRE:e.ENGLISH_REGIONS,BBC_ONE_LONDON:e.ENGLISH_REGIONS,BBC_ONE_NORTH_EAST:e.ENGLISH_REGIONS,BBC_ONE_NORTH_WEST:e.ENGLISH_REGIONS,BBC_ONE_NORTHERN_IRELAND:e.NORTHERN_IRELAND,BBC_ONE_SCOTLAND:e.SCOTLAND,BBC_ONE_SOUTH:e.ENGLISH_REGIONS,BBC_ONE_SOUTH_EAST:e.ENGLISH_REGIONS,BBC_ONE_SOUTH_WEST:e.ENGLISH_REGIONS,BBC_ONE_WALES:e.WALES,BBC_ONE_WEST:e.ENGLISH_REGIONS,BBC_ONE_WEST_MIDLANDS:e.ENGLISH_REGIONS,BBC_ONE_YORKS:e.ENGLISH_REGIONS,BBC_SCOTLAND:e.BBC_SCOTLAND,BBC_TEES:e.ENGLISH_REGIONS,BBC_THREE:e.BBC_THREE,BBC_TWO:e.BBC_TWO,BBC_TWO_ENGLAND:e.ENGLISH_REGIONS,BBC_TWO_NORTHERN_IRELAND:e.NORTHERN_IRELAND,BBC_TWO_NORTHERN_IRELAND_DIGITAL:e.NORTHERN_IRELAND,BBC_TWO_SCOTLAND:e.SCOTLAND,BBC_TWO_WALES:e.WALES,BBC_WALES:e.WALES,BBC_WM:e.ENGLISH_REGIONS,CBBC:e.CBBC,CBEEBIES:e.CBEEBIES,BBC_1XTRA:e.BBC_RADIO_1XTRA,BBC_6MUSIC:e.BBC_RADIO_6_MUSIC,BBC_7:e.BBC_RADIO_4_EXTRA,BBC_ASIAN_NETWORK:e.BBC_ASIAN_NETWORK,BBC_RADIO_BERKSHIRE:e.ENGLISH_REGIONS,BBC_RADIO_BRISTOL:e.ENGLISH_REGIONS,BBC_RADIO_CAMBRIDGE:e.ENGLISH_REGIONS,BBC_RADIO_CORNWALL:e.ENGLISH_REGIONS,BBC_RADIO_COVENTRY_WARWICKSHIRE:e.ENGLISH_REGIONS,BBC_RADIO_CUMBRIA:e.ENGLISH_REGIONS,BBC_RADIO_CYMRU:e.WALES,BBC_RADIO_CYMRU_2:e.WALES,BBC_RADIO_CYMRU_MWY:e.WALES,BBC_RADIO_DERBY:e.ENGLISH_REGIONS,BBC_RADIO_DEVON:e.ENGLISH_REGIONS,BBC_RADIO_ESSEX:e.ENGLISH_REGIONS,BBC_RADIO_FIVE_LIVE:e.BBC_RADIO_5_LIVE,BBC_RADIO_FIVE_LIVE_OLYMPICS_EXTRA:e.BBC_RADIO_5_LIVE,BBC_RADIO_FIVE_LIVE_SPORTS_EXTRA:e.BBC_RADIO_5_LIVE,BBC_RADIO_FOUR:e.BBC_RADIO_4,BBC_RADIO_FOUR_EXTRA:e.BBC_RADIO_4_EXTRA,BBC_RADIO_FOYLE:e.NORTHERN_IRELAND,BBC_RADIO_GLOUCESTERSHIRE:e.ENGLISH_REGIONS,BBC_RADIO_GUERNSEY:e.ENGLISH_REGIONS,BBC_RADIO_HEREFORD_WORCESTER:e.ENGLISH_REGIONS,BBC_RADIO_HUMBERSIDE:e.ENGLISH_REGIONS,BBC_RADIO_JERSEY:e.ENGLISH_REGIONS,BBC_RADIO_KENT:e.ENGLISH_REGIONS,BBC_RADIO_LANCASHIRE:e.ENGLISH_REGIONS,BBC_RADIO_LEEDS:e.ENGLISH_REGIONS,BBC_RADIO_LEICESTER:e.ENGLISH_REGIONS,BBC_RADIO_LINCOLNSHIRE:e.ENGLISH_REGIONS,BBC_RADIO_MANCHESTER:e.ENGLISH_REGIONS,BBC_RADIO_MERSEYSIDE:e.ENGLISH_REGIONS,BBC_RADIO_NAN_GAIDHEAL:e.SCOTLAND,BBC_RADIO_NEWCASTLE:e.ENGLISH_REGIONS,BBC_RADIO_NORFOLK:e.ENGLISH_REGIONS,BBC_RADIO_NORTHAMPTON:e.ENGLISH_REGIONS,BBC_RADIO_NOTTINGHAM:e.ENGLISH_REGIONS,BBC_RADIO_ONE:e.BBC_RADIO_1,BBC_RADIO_ONE_VINTAGE:e.BBC_RADIO_1,BBC_RADIO_OXFORD:e.ENGLISH_REGIONS,BBC_RADIO_SCOTLAND:e.SCOTLAND,BBC_RADIO_SCOTLAND_FM:e.SCOTLAND,BBC_RADIO_SCOTLAND_MUSIC_EXTRA:e.SCOTLAND,BBC_RADIO_SHEFFIELD:e.ENGLISH_REGIONS,BBC_RADIO_SHROPSHIRE:e.ENGLISH_REGIONS,BBC_RADIO_SOLENT:e.ENGLISH_REGIONS,BBC_RADIO_SOMERSET_SOUND:e.ENGLISH_REGIONS,BBC_RADIO_STOKE:e.ENGLISH_REGIONS,BBC_RADIO_SUFFOLK:e.ENGLISH_REGIONS,BBC_RADIO_SURREY:e.ENGLISH_REGIONS,BBC_RADIO_SUSSEX:e.ENGLISH_REGIONS,BBC_RADIO_SWINDON:e.ENGLISH_REGIONS,BBC_RADIO_THREE:e.BBC_RADIO_3,BBC_RADIO_TWO:e.BBC_RADIO_2,BBC_RADIO_TWO_COUNTRY:e.BBC_RADIO_2,BBC_RADIO_TWO_EUROVISION:e.BBC_RADIO_2,BBC_RADIO_TWO_FIFTIES:e.BBC_RADIO_2,BBC_RADIO_ULSTER:e.NORTHERN_IRELAND,BBC_RADIO_WALES:e.WALES,BBC_RADIO_WILTSHIRE:e.ENGLISH_REGIONS,BBC_RADIO_YORK:e.ENGLISH_REGIONS,BBC_SOUNDS_MIXES:e.SOUNDS,BBC_SOUNDS_PODCASTS:e.SOUNDS,BBC_SOUTHERN_COUNTIES_RADIO:e.ENGLISH_REGIONS,BBC_THREE_COUNTIES_RADIO:e.ENGLISH_REGIONS,CBEEBIES_RADIO:e.CBEEBIES,BBC_SPORT:e.SPORT,getProducerId:function(e){var t;return e&&(t=this[e.toUpperCase()]),t}}}.call(t,n,t,e))||(e.exports=i)},function(e,t,n){e.exports={NAME:"echo_js",VERSION:"12.4.0"}},function(e,t,n){var i;void 0===(i=function(){"use strict";function e(){this.reset()}return e.prototype.start=function(){!0!==this._isPlaying&&(this._isPlaying=!0,this._startTime=this._getCurrentTime())},e.prototype.reset=function(){this._isPlaying=!1,this._position=0,this._startTime=0},e.prototype.stop=function(){this._isPlaying&&(this._isPlaying=!1,this._position+=this._getCurrentTime()-this._startTime,this._startTime=0)},e.prototype.getPosition=function(){var e=this._position;return!0===this._isPlaying&&(e+=this._getCurrentTime()-this._startTime),e},e.prototype._getCurrentTime=function(){return Date.now||(Date.now=function(){return(new Date).getTime()}),Date.now()},e}.call(t,n,t,e))||(e.exports=i)},function(e,t,n){var i,r;i=[n(0),n(2),n(1)],void 0===(r=function(e,t,n){"use strict";function i(e,t,n){this._schedule=[],this.serviceId=null,this._media=e,this._environment=t,this._echoClient=n,this._fetchData()}return i.prototype.getBroadcast=function(e){var t,n;for(t=0;t<this._schedule.length;t++)if(e<(n=this._schedule[t].published_time).end&&e>=n.start)return this._schedule[t]},i.essHost="ess.api.bbci.co.uk",i.prototype._fetchData=function(){var e,n=this;e=this._environment.getExecuteCrossDomainGet();var r=this._environment.getProtocol()+i.essHost.replace(/^(\/+)?/,"//")+"/schedules";if(this._media){if(this._media.getServiceId())r+="?serviceId="+encodeURIComponent(this._media.getServiceId());else if(this._media.getVersionId())r+="?versionId="+encodeURIComponent(this._media.getVersionId());else{if(!this._media.getVpId())return void t.info("Unable to determine serviceId, versionId or VpId for schedule");r+="?vpid="+encodeURIComponent(this._media.getVpId())}e(r,{onSuccess:function(e){n._dataSuccessHandler(e)},onError:function(e,t){var i="error";"json"===e?i="json":"object"==typeof e&&"timeout"===e.type&&(i="timeout"),n._dataErrorHandler(i,t)}})}},i.prototype.hasData=function(){return 0<this._schedule.length},i.prototype._dataSuccessHandler=function(e){var n,i,r,o,s=[];if(t.info("Cross-domain schedule request success."),e){for(this._echoClient.setEssSuccess(!0),this.serviceId=e.service.id,e.items=e.items||[],n=0;n<e.items.length;n++)r=e.items[n].published_time.start,o=e.items[n].published_time.end,(i=e.items[n]).published_time.start=new Date(r).getTime(),i.published_time.end=new Date(o).getTime(),s.push(i);this._schedule=s}},i.prototype._dataErrorHandler=function(e,i){this._schedule=[],t.error("There was a problem requesting the schedule from ESS: "+e),this._echoClient.setEssSuccess(!1),"json"===e?this._echoClient.setEssError(n.EssError.JSON,i):"timeout"===e?this._echoClient.setEssError(n.EssError.TIMEOUT,i):"error"===e&&void 0!==i?this._echoClient.setEssError(n.EssError.STATUS_CODE,i):this._echoClient.setEssError(n.EssError.RUNTIME,"0")},i}.apply(t,i))||(e.exports=r)},function(e,t,n){var i;void 0===(i=function(e){"use strict";var t=n(5),i=n(11),r=n(16),o=n(1),s=n(0),a=n(6),u=n(7),c=n(4),l=n(2),f=o.MediaConsumptionMode,d=function(e,t){var n,i;this.avType=(n=e)===o.AvType.AUDIO||n===o.AvType.VIDEO?e:null,this.consumptionMode=(i=t)===f.ON_DEMAND||i===f.DOWNLOAD||i===f.LIVE?t:null,s.assert(this.avType,"Media: Invalid avType: "+this.avType,!0),s.assert(this.consumptionMode,"Media: Invalid consumptionMode: "+this.consumptionMode,!0),this.serviceIdObject=new r(o.MediaIdType.SERVICE,!0),this.versionIdObject=new r(o.MediaIdType.VERSION,!0),this.clipIdObject=new r(o.MediaIdType.CLIP,!0),this.episodeIdObject=new r(o.MediaIdType.EPISODE,!0),this.vpIdObject=new r(o.MediaIdType.VPID,!0),this.nonPipsContentIdObject=new r(o.MediaIdType.NONPIPSCONTENT,!1),this.producerObject=new r(o.MediaIdType.PRODUCER,!1),this.brandIdObject=new r(o.MediaIdType.BRAND,!1),this.seriesIdObject=new r(o.MediaIdType.SERIES,!1),this.length=0,this.bufferLength=0,this.supplier=null,this.mediaSet=null,this.transferFormat=null,this.essEnrichedData=!1,this._isPlaying=!1,this._isBuffering=!1,this._isEmbedded=!1,this.name="",this.type=o.MediaClipType.UNDEFINED,this.playlist="",this.initiationType=o.MediaInitiationType.UNDEFINED,this.adsEnabled=!1,this.mediaPlayerName="",this.mediaPlayerVersion="",this.transportMode=""};return d.prototype.isEssEnriched=function(){return!0===this.essEnrichedData},d.prototype.setEssEnriched=function(e){this.essEnrichedData=e},d.prototype.getAvType=function(){return this.avType},d.prototype.getMediaConsumptionMode=function(){return this.consumptionMode},d.prototype.getClone=function(){var e=new d(this.avType,this.consumptionMode);return e.brandIdObject=this.brandIdObject,e.seriesIdObject=this.seriesIdObject,e.serviceIdObject=this.serviceIdObject,e.versionIdObject=this.versionIdObject,e.clipIdObject=this.clipIdObject,e.episodeIdObject=this.episodeIdObject,e.vpIdObject=this.vpIdObject,e.name=this.name,e.type=this.type,e.playlist=this.playlist,e.initiationType=this.initiationType,e.adsEnabled=this.adsEnabled,e.mediaPlayerVersion=this.mediaPlayerVersion,e.mediaPlayerName=this.mediaPlayerName,e.transportMode=this.transportMode,e.nonPipsContentIdObject=this.nonPipsContentIdObject,e.producerObject=this.producerObject,e.bufferLength=this.bufferLength,e.mediaSet=this.mediaSet,e.supplier=this.supplier,e.transferFormat=this.transferFormat,e.length=this.length,e.essEnrichedData=this.essEnrichedData,e},d.prototype.isEmbedded=function(){return this._isEmbedded},d.prototype.setIsEmbedded=function(e){return this._isEmbedded=e,this},d.prototype.setVersionId=function(e){return this.versionIdObject.setValue(e),this},d.prototype.setBrandId=function(e){return this.brandIdObject.setValue(c.cleanLabelValue(a.MEDIA_BRAND,e)),this},d.prototype.setSeriesId=function(e){return this.seriesIdObject.setValue(c.cleanLabelValue(a.MEDIA_SERIES,e)),this},d.prototype.setClipId=function(e){return this.clipIdObject.setValue(e),this},d.prototype.setServiceId=function(e){return this.serviceIdObject.setValue(e),this},d.prototype.setEpisodeId=function(e){return this.episodeIdObject.setValue(e),this},d.prototype.setVpId=function(e){return this.vpIdObject.setValue(e),this},d.prototype.setNonPipsContentId=function(e){return this.nonPipsContentIdObject.setValue(c.cleanLabelValue(u.MEDIA_NON_PIPS_CONTENT_ID,e)),this},d.prototype.getSupplier=function(){return this.supplier},d.prototype.setSupplier=function(e){if(null!==e){var t=s.trim(e);0!==t.length&&(this.supplier=t)}return this},d.prototype.getMediaSet=function(){return this.mediaSet},d.prototype.setMediaSet=function(e){if(null!==e){var t=s.trim(e);0!==t.length&&(this.mediaSet=t)}return this},d.prototype.getTransferFormat=function(){return this.transferFormat},d.prototype.setTransferFormat=function(e){if(null!==e){var t=s.trim(e);0!==t.length&&(this.transferFormat=t)}return this},d.prototype.isAdsEnabled=function(){return this.adsEnabled},d.prototype.setAdsEnabled=function(e){return this.adsEnabled=e,this},d.prototype.getName=function(){return this.name},d.prototype.setName=function(e){return this.name=e,this},d.prototype.getType=function(){return this.type},d.prototype.setType=function(e){return this.type=e,this},d.prototype.getPlaylist=function(){return this.playlist},d.prototype.setPlaylist=function(e){return this.playlist=e,this},d.prototype.getInitiationType=function(){return this.initiationType},d.prototype.setInitiationType=function(e){return this.initiationType=e,this},d.prototype.getMediaPlayerName=function(){return this.mediaPlayerName},d.prototype.setMediaPlayerName=function(e){return this.mediaPlayerName=e,this},d.prototype.getMediaPlayerVersion=function(){return this.mediaPlayerVersion},d.prototype.setMediaPlayerVersion=function(e){return this.mediaPlayerVersion=e,this},d.prototype.getTransportMode=function(){return this.transportMode},d.prototype.setTransportMode=function(e){return this.transportMode=e,this},d.prototype.getLength=function(){return this.length},d.prototype.setLength=function(e){return null!=e&&(e=Math.floor(e)),(void 0===e||isNaN(e)||!isFinite(e)||e<0)&&(l.warn("Media: length must be an integer of 0 or greater. Echo will report as 0."),e=0),this.length=e,this},d.prototype.getProducer=function(){return this.producerObject.getValue()},d.prototype.setProducer=function(e){var n;return(n=e?t.getId(e):"0")&&this.producerObject.setValue(n),this},d.prototype.setProducerById=function(e){return e&&this.producerObject.setValue(e),this},d.prototype.setProducerByMasterbrand=function(e){e&&i.getProducerId(e)?this.producerObject.setValue(i.getProducerId(e)):(this.producerObject.setValue(0),null===e||e&&"NULL"===e.toUpperCase()||""===e||l.info("Masterbrand ["+e+"] not recognised, producer will be set to undefined (0)"))},d.prototype.getVersionIdObject=function(){return this.versionIdObject},d.prototype.getClipIdObject=function(){return this.clipIdObject},d.prototype.getServiceIdObject=function(){return this.serviceIdObject},d.prototype.getEpisodeIdObject=function(){return this.episodeIdObject},d.prototype.getVpIdObject=function(){return this.vpIdObject},d.prototype.getNonPipsContentIdObject=function(){return this.nonPipsContentIdObject},d.prototype.getBrandIdObject=function(){return this.brandIdObject},d.prototype.getBrandId=function(){return this.brandIdObject.getValue()},d.prototype.getSeriesIdObject=function(){return this.seriesIdObject},d.prototype.getSeriesId=function(){return this.seriesIdObject.getValue()},d.prototype.getVersionId=function(){return this.versionIdObject.getValue()},d.prototype.getClipId=function(){return this.clipIdObject.getValue()},d.prototype.getServiceId=function(){return this.serviceIdObject.getValue()},d.prototype.getEpisodeId=function(){return this.episodeIdObject.getValue()},d.prototype.getVpId=function(){return this.vpIdObject.getValue()},d.prototype.getNonPipsContentId=function(){return this.nonPipsContentIdObject.getValue()},d.prototype.getRetrievalType=function(){return null===this.consumptionMode?null:this.consumptionMode===f.DOWNLOAD?o.RetrievalType.DOWNLOAD:o.RetrievalType.STREAM},d.prototype.isOnDemand=function(){return this.consumptionMode===f.ON_DEMAND},d.prototype.isDownload=function(){return this.consumptionMode===f.DOWNLOAD},d.prototype.isLive=function(){return this.consumptionMode===f.LIVE},d.prototype.isVideo=function(){return this.avType===o.AvType.VIDEO},d.prototype.getPlayerId=function(){return"1"},d.prototype.setPlaying=function(e){return this._isPlaying=Boolean(e),this},d.prototype.getPlaying=function(){return this._isPlaying},d.prototype.setBuffering=function(e){return this._isBuffering=Boolean(e),this},d.prototype.getBuffering=function(){return this._isBuffering},d}.call(t,n,t,e))||(e.exports=i)},function(e,t,n){var i;void 0===(i=function(e){"use strict";var t=n(0),i=function(e,t){this.idType=e,this.validValueRegex=/^[a-z0-9A-Z_-]+$/,this.value=null,this.isSet=!1,this.isValid=!1,this.requiresValidation=t};return i.prototype.getIdType=function(){return this.idType},i.prototype.setValue=function(e){this.isSet=!0,null==e?this.isValid=!1:this.requiresValidation?this.isValid=this._validateValue(e):this.isValid=!0,t.assert(this.isValid,"MediaId: The value for "+this.idType+"Id is invalid",!0),this.value=e},i.prototype.getValue=function(){return this.value},i.prototype.isValueSet=function(){return this.isSet},i.prototype.isValueValid=function(){return this.isValid},i.prototype._validateValue=function(e){return"string"==typeof e&&this.validValueRegex.test(e)},i}.call(t,n,t,e))||(e.exports=i)},function(e,t,n){var i;void 0===(i=function(){"use strict";function e(){}var t=n(18).Promise;return e.get=function(){return window&&window.bbcpage?t.all(["getDestination","getProducer","getSection","getContentId","getContentType","getLanguage","getAdditionalProperties","getName"].map(function(e){return n=e,window.bbcpage[n]&&"function"==typeof window.bbcpage[n]?window.bbcpage[n]():t.resolve(null);var n})).then(function(t){return{destination:(t=e._decodeFromOrbit(t))[0],producer:t[1],section:t[2],contentId:t[3],contentType:t[4],language:t[5],additionalProperties:t[6],pageName:t[7]}}):t.resolve(void 0)},e._decodeFromOrbit=function(t){for(var n=Object.keys(t),i=0;i<n.length;i++)if(t[n[i]]&&"object"!=typeof t[n[i]]){var r=new RegExp("&#x2F;","g");t[n[i]]=t[n[i]].replace(r,"/")}else t[n[i]]&&"object"==typeof t[n[i]]&&(t[n[i]]=e._decodeFromOrbit(t[n[i]]));return t},e}.call(t,n,t,e))||(e.exports=i)},function(e,t,n){(function(t,n){e.exports=function(){"use strict";function e(e){return"function"==typeof e}function i(){var e=setTimeout;return function(){return e(r,1)}}function r(){for(var e=0;e<I;e+=2)(0,D[e])(D[e+1]),D[e]=void 0,D[e+1]=void 0;I=0}function o(e,t){var n=this,i=new this.constructor(a);void 0===i[B]&&m(i);var r=n._state;if(r){var o=arguments[r-1];C(function(){return v(r,i,o,n._result)})}else _(n,i,e,t);return i}function s(e){if(e&&"object"==typeof e&&e.constructor===this)return e;var t=new this(a);return f(t,e),t}function a(){}function u(e){try{return e.then}catch(e){return V.error=e,V}}function c(e,t,n,i){try{e.call(t,n,i)}catch(e){return e}}function l(t,n,i){var r,a,u,l;n.constructor===t.constructor&&i===o&&n.constructor.resolve===s?(u=t,(l=n)._state===k?p(u,l._result):l._state===U?h(u,l._result):_(l,void 0,function(e){return f(u,e)},function(e){return h(u,e)})):i===V?(h(t,V.error),V.error=null):void 0===i?p(t,n):e(i)?(r=n,a=i,C(function(e){var t=!1,n=c(a,r,function(n){t||(t=!0,r!==n?f(e,n):p(e,n))},function(n){t||(t=!0,h(e,n))},e._label);!t&&n&&(t=!0,h(e,n))},t)):p(t,n)}function f(e,t){var n,i;e===t?h(e,new TypeError("You cannot resolve a promise with itself")):(i=typeof(n=t),null===n||"object"!==i&&"function"!==i?p(e,t):l(e,t,u(t)))}function d(e){e._onerror&&e._onerror(e._result),g(e)}function p(e,t){e._state===x&&(e._result=t,e._state=k,0!==e._subscribers.length&&C(g,e))}function h(e,t){e._state===x&&(e._state=U,e._result=t,C(d,e))}function _(e,t,n,i){var r=e._subscribers,o=r.length;e._onerror=null,r[o]=t,r[o+k]=n,r[o+U]=i,0===o&&e._state&&C(g,e)}function g(e){var t=e._subscribers,n=e._state;if(0!==t.length){for(var i=void 0,r=void 0,o=e._result,s=0;s<t.length;s+=3)i=t[s],r=t[s+n],i?v(n,i,r,o):r(o);e._subscribers.length=0}}function v(t,n,i,r){var o=e(i),s=void 0,a=void 0,u=void 0,c=void 0;if(o){if((s=function(e,t){try{return e(t)}catch(e){return V.error=e,V}}(i,r))===V?(c=!0,a=s.error,s.error=null):u=!0,n===s)return void h(n,new TypeError("A promises callback cannot return that same promise."))}else s=r,u=!0;n._state!==x||(o&&u?f(n,s):c?h(n,a):t===k?p(n,s):t===U&&h(n,s))}function m(e){e[B]=G++,e._state=void 0,e._result=void 0,e._subscribers=[]}var E,y,b,S,A=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)},I=0,T=void 0,P=void 0,C=function(e,t){D[I]=e,D[I+1]=t,2===(I+=2)&&(P?P(r):M())},O="undefined"!=typeof window?window:void 0,w=O||{},N=w.MutationObserver||w.WebKitMutationObserver,R="undefined"==typeof self&&void 0!==t&&"[object process]"==={}.toString.call(t),L="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,D=new Array(1e3),M=void 0;M=R?function(){return t.nextTick(r)}:N?(y=0,b=new N(r),S=document.createTextNode(""),b.observe(S,{characterData:!0}),function(){S.data=y=++y%2}):L?((E=new MessageChannel).port1.onmessage=r,function(){return E.port2.postMessage(0)}):void 0===O?function(){try{var e=Function("return this")().require("vertx");return void 0===(T=e.runOnLoop||e.runOnContext)?i():function(){T(r)}}catch(e){return i()}}():i();var B=Math.random().toString(36).substring(2),x=void 0,k=1,U=2,V={error:null},G=0,F=function(){function e(e,t){this._instanceConstructor=e,this.promise=new e(a),this.promise[B]||m(this.promise),A(t)?(this.length=t.length,this._remaining=t.length,this._result=new Array(this.length),0===this.length?p(this.promise,this._result):(this.length=this.length||0,this._enumerate(t),0===this._remaining&&p(this.promise,this._result))):h(this.promise,new Error("Array Methods must be provided an Array"))}return e.prototype._enumerate=function(e){for(var t=0;this._state===x&&t<e.length;t++)this._eachEntry(e[t],t)},e.prototype._eachEntry=function(e,t){var n=this._instanceConstructor,i=n.resolve;if(i===s){var r=u(e);if(r===o&&e._state!==x)this._settledAt(e._state,t,e._result);else if("function"!=typeof r)this._remaining--,this._result[t]=e;else if(n===j){var c=new n(a);l(c,e,r),this._willSettleAt(c,t)}else this._willSettleAt(new n(function(t){return t(e)}),t)}else this._willSettleAt(i(e),t)},e.prototype._settledAt=function(e,t,n){var i=this.promise;i._state===x&&(this._remaining--,e===U?h(i,n):this._result[t]=n),0===this._remaining&&p(i,this._result)},e.prototype._willSettleAt=function(e,t){var n=this;_(e,void 0,function(e){return n._settledAt(k,t,e)},function(e){return n._settledAt(U,t,e)})},e}(),j=function(){function t(e){this[B]=G++,this._result=this._state=void 0,this._subscribers=[],a!==e&&("function"!=typeof e&&function(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}(),this instanceof t?function(e,t){try{t(function(t){f(e,t)},function(t){h(e,t)})}catch(t){h(e,t)}}(this,e):function(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}())}return t.prototype.catch=function(e){return this.then(null,e)},t.prototype.finally=function(t){var n=this.constructor;return e(t)?this.then(function(e){return n.resolve(t()).then(function(){return e})},function(e){return n.resolve(t()).then(function(){throw e})}):this.then(t,t)},t}();return j.prototype.then=o,j.all=function(e){return new F(this,e).promise},j.race=function(e){var t=this;return new t(A(e)?function(n,i){for(var r=e.length,o=0;o<r;o++)t.resolve(e[o]).then(n,i)}:function(e,t){return t(new TypeError("You must pass an array to race."))})},j.resolve=s,j.reject=function(e){var t=new this(a);return h(t,e),t},j._setScheduler=function(e){P=e},j._setAsap=function(e){C=e},j._asap=C,j.polyfill=function(){var e=void 0;if(void 0!==n)e=n;else if("undefined"!=typeof self)e=self;else try{e=Function("return this")()}catch(e){throw new Error("polyfill failed because global object is unavailable in this environment")}var t=e.Promise;if(t){var i=null;try{i=Object.prototype.toString.call(t.resolve())}catch(e){}if("[object Promise]"===i&&!t.cast)return}e.Promise=j},j.Promise=j}()}).call(this,n(19),n(20))},function(e,t){function n(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}function r(e){if(c===setTimeout)return setTimeout(e,0);if((c===n||!c)&&setTimeout)return c=setTimeout,setTimeout(e,0);try{return c(e,0)}catch(t){try{return c.call(null,e,0)}catch(t){return c.call(this,e,0)}}}function o(){h&&d&&(h=!1,d.length?p=d.concat(p):_=-1,p.length&&s())}function s(){if(!h){var e=r(o);h=!0;for(var t=p.length;t;){for(d=p,p=[];++_<t;)d&&d[_].run();_=-1,t=p.length}d=null,h=!1,function(e){if(l===clearTimeout)return clearTimeout(e);if((l===i||!l)&&clearTimeout)return l=clearTimeout,clearTimeout(e);try{l(e)}catch(t){try{return l.call(null,e)}catch(t){return l.call(this,e)}}}(e)}}function a(e,t){this.fun=e,this.array=t}function u(){}var c,l,f=e.exports={};!function(){try{c="function"==typeof setTimeout?setTimeout:n}catch(e){c=n}try{l="function"==typeof clearTimeout?clearTimeout:i}catch(e){l=i}}();var d,p=[],h=!1,_=-1;f.nextTick=function(e){var t=new Array(arguments.length-1);if(1<arguments.length)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];p.push(new a(e,t)),1!==p.length||h||r(s)},a.prototype.run=function(){this.fun.apply(null,this.array)},f.title="browser",f.browser=!0,f.env={},f.argv=[],f.version="",f.versions={},f.on=u,f.addListener=u,f.once=u,f.off=u,f.removeListener=u,f.removeAllListeners=u,f.emit=u,f.prependListener=u,f.prependOnceListener=u,f.listeners=function(e){return[]},f.binding=function(e){throw new Error("process.binding is not supported")},f.cwd=function(){return"/"},f.chdir=function(e){throw new Error("process.chdir is not supported")},f.umask=function(){return 0}},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){var i;void 0===(i=function(e){"use strict";var t=n(45).version;return{getLibraryName:function(){return"echo_js"},getLibraryVersion:function(){return t}}}.call(t,n,t,e))||(e.exports=i)},function(e,t,n){e.exports=n(23)},function(e,t,n){var i,r;i=[n(24)],void 0===(r=function(e){"use strict";return window&&window.bbccookies&&e.Environment.setOrbCookies(window.bbccookies),e}.apply(t,i))||(e.exports=r)},function(e,t,n){var i;void 0===(i=function(e){"use strict";var t=n(12),i=n(8);return{EchoClient:n(27),Media:n(15),MediaId:n(16),Environment:i,Enums:n(1),ConfigKeys:n(3),Debug:n(2),getImplementationVersion:function(){return t.VERSION}}}.call(t,n,t,e))||(e.exports=i)},function(e,t,n){e.exports={STRICT:"strict",COUNTERNAME:"countername",EVENT_MASTER_BRAND:"event_master_brand",NO_CLEANSING:"no_cleansing",CUSTOM:"custom"}},function(e,t,n){var i;void 0===(i=function(){"use strict";return{httpGet:function(e,t,n){var i=new Image;i.onload=t,i.onerror=n,i.src=e},executeCrossDomainGet:function(e,t){var n,i,r;r=i=!1;var o=function(e,n){t.onError&&t.onError(e,n)};if(window.JSON&&window.JSON.parse&&void 0!==window.XMLHttpRequest&&"withCredentials"in(n=new XMLHttpRequest)&&(r=!0),r){try{n.open("GET",e,!0),n.onload=function(){(void 0===n.status||n.status<400)&&null!==n.responseText?function(){var e;if(t.onSuccess){try{e=window.JSON.parse(n.responseText)}catch(e){o("json")}"object"==typeof e&&setTimeout(function(){t.onSuccess(e)})}}():o(n.responseText,n.status)},n.onerror=function(e){o(e)},n.timeout=1e4,n.ontimeout=function(e){o(e)}}catch(e){s=e,i||o(s)}var s;try{n.send(null)}catch(e){i=!0,n.onload=n.onerror=n.onreadystatechange=null,n.abort(),o(e)}}else o()}}}.call(t,n,t,e))||(e.exports=i)},function(e,t,n){var i;void 0===(i=function(e){"use strict";function t(e,n,s,a,u){var l=this;s=s||{},r.assertContainsValue(c.ApplicationType,n,'appType should be one of Enums.ApplicationType, got "'+n+'"'),this.state={counterNameSet:!1};var f,d=t.ConfigGenerator.generate(s);this._env=null!=a?a:new t.Environment,d&&"string"==typeof d[o.ECHO_DEVICE_ID]&&(0<(f=r.trim(d[o.ECHO_DEVICE_ID])).length?(d[o.ECHO_DEVICE_ID]=f,this._deviceId=f):d[o.ECHO_DEVICE_ID]=void 0),d&&d[o.COMSCORE_HOST]===_&&!d[o.ECHO_DEVICE_ID]&&((f=h.getCookieValueByName(v))||(f=h.getCookieValueByName(g)),f&&(this._deviceId=f,d[o.ECHO_DEVICE_ID]=f)),d&&!1===d[o.ECHO_AUTO_START]?this._autoStart=!1:this._autoStart=!0,this._setConsumers(e,n,d,this._env),d&&d[o.USE_ESS]?this._essEnabled=!0:this._essEnabled=!1,d&&d[o.ESS_HOSTNAME]&&(p.essHost=d[o.ESS_HOSTNAME]),d&&!1===d[o.ECHO_ENABLED]?this._isEnabled=!1:this._isEnabled=!0,d&&!0===d[o.DEBUG_MODE]?i.enable():i.disable(),this._liveBroker=null,this._onDemandBroker=null,this._suppressingPlayEvent=!1,this._suppressedPlayEventLabels=null,this.addLabel("bbc_id_wait","1"),t.Environment.getOrbIdCta(function(e){l.removeLabel("bbc_id_wait"),e&&"function"==typeof e.getIStatsLabels&&l.addLabels({bbc_identity:e.getIStatsLabels().bbc_identity,bbc_hid:encodeURIComponent(e.getIStatsLabels().bbc_hid||"unidentified-user")})}),d&&d[o.ECHO_CACHE_MODE]&&(this._cacheMode=d[o.ECHO_CACHE_MODE]),this._isEnabled&&this._autoStart&&("function"==typeof u?this.start().then(u):this.start())}var i=n(2),r=n(0),o=n(3),s=n(10),a=n(11),u=n(5),c=n(1),l=n(28),f=n(29),d=n(7),p=n(14),h=n(9),_="sa.bbc.co.uk",g="ckpf_echo_device_id",v="ckns_echo_device_id",m=n(17),E=n(18).Promise;return t.prototype.getDebugMode=function(){return i.getState()},t.prototype.start=function(){var e;return this._isEnabled&&!this._hasStarted?(this._hasStarted=!0,m.get().then(function(t){e=t,this._delegate("start",[t])}.bind(this)).then(function(){e&&e.pageName&&""!==e.pageName&&"orb.page"!==e.pageName&&this.setCounterName(e.pageName)}.bind(this),function(e){i.error("failed to start delegates: "+e)})):E.reject()},t.prototype.enable=function(){return this._isEnabled||(this._isEnabled=!0,this._delegate("enable"),this._autoStart&&!this._hasStarted&&this.start()),this},t.prototype.disable=function(){return this._isEnabled&&(this._clearMedia(),this._isEnabled=!1,this._delegate("disable")),this},t.prototype.isEnabled=function(){return this._isEnabled},t.prototype.getComScoreDeviceId=function(){var e;return this.consumers[t.Consumers.COMSCORE]&&(e=this.consumers[t.Consumers.COMSCORE])instanceof t.ComScoreDelegate&&"function"==typeof e.getDeviceId?e.getDeviceId():null},t.prototype.getAtiDeviceId=function(){var e;return this.consumers[t.Consumers.ATI]&&(e=this.consumers[t.Consumers.ATI])instanceof t.AtiDelegate&&"function"==typeof e.getDeviceId?e.getDeviceId():null},t.prototype.setTraceId=function(e){this._delegate("setTraceId",[e])},t.ConfigGenerator=n(30),t.LabelCleanser=n(4),t.Util=n(0),t.ComScoreDelegate=n(31),t.SpringDelegate=n(37),t.AtiDelegate=n(41),t.Environment=n(8),t.prototype._eventsEnabled=function(){return this._isEnabled&&this._hasStarted},t.prototype._setConsumers=function(e,n,i,r){this.consumers={};var s=t.LabelCleanser.cleanLabelValue("app_name",e);return i&&i[o.COMSCORE_ENABLED]&&(this.consumers[t.Consumers.COMSCORE]=new t.ComScoreDelegate(s,n,i,r)),i&&i[o.ATI_ENABLED]&&(this.consumers[t.Consumers.ATI]=new t.AtiDelegate(s,n,i,r)),i&&i[o.BARB_ENABLED]&&(this.consumers[t.Consumers.BARB]=new t.SpringDelegate(s,n,i,r)),this},t.prototype._delegate=function(e,t,n){var i,r,o=[];for(i in this.consumers)i&&(r=this.consumers[i],n&&r.requiresLabelCleansing()?o.push(r[e].apply(r,n)):o.push(r[e].apply(r,t)));return E.all(o)},t.prototype.addLabels=function(e){return this._delegate("addLabels",[t.LabelCleanser.cleanLabels(e)]),this},t.prototype.addLabel=function(e,t){if("string"==typeof e){if(null!=t){var n={};return n[e]=t,this.addLabels(n)}i.error("Label cannot be null/undefined")}else i.error("Label key must be a string")},t.prototype.addManagedLabel=function(e,n){return this._delegate("addManagedLabel",[t.LabelCleanser.cleanLabelKey(e),t.LabelCleanser.cleanLabelValue(e,n)]),this},t.prototype.removeLabels=function(e){for(var n=[],i=0,r=e.length;i<r;i++)n.push(t.LabelCleanser.cleanLabelKey(e[i]));return this._delegate("removeLabels",[n]),this},t.prototype.removeLabel=function(e){return this.removeLabels([e])},t.prototype.setLoggedInToBBCId=function(e){return this._delegate("setLoggedInToBBCId",[e]),this},t.prototype.setLoggedOutOfBBCId=function(){return this._delegate("setLoggedOutOfBBCId"),this},t.prototype.setAppVersion=function(e){return this._delegate("setAppVersion",[e]),this},t.prototype.setDestination=function(e){return this._delegate("setDestination",[s.get(e)]),this},t.prototype.setProducer=function(e){return this._setProducer(e,!1)},t.prototype.setProducerByMasterbrand=function(e){return this._setProducer(e,!0)},t.prototype._setProducer=function(e,t){var n;if(!(n=e&&"NULL"!==e.toUpperCase()?t?a.getProducerId(e):u.getId(e):"0")){var r=t?"Masterbrand":"Producer";i.info(r+" ["+e+"] not recognised")}return n&&this._delegate("setProducer",[n]),this},t.prototype.setCounterName=function(e){var n=t.LabelCleanser.cleanCounterName(e),i=this._delegate("setCounterName",[e],[n]);return this.state.counterNameSet=!0,i},t.prototype.setContentLanguage=function(e){return this._delegate("setContentLanguage",[e]),this},t.prototype.setCacheMode=function(e){return this._delegate("setCacheMode",[e]),this._cacheMode=e,this},t.prototype.getCacheMode=function(){return this._cacheMode},t.prototype.clearCache=function(){this._isEnabled&&this._delegate("clearCache")},t.prototype.flushCache=function(){this._isEnabled&&this._delegate("flushCache")},t.prototype.viewEvent=function(e,n){if(this._eventsEnabled()){var i=t.LabelCleanser.cleanCounterName(e),r=t.LabelCleanser.cleanLabels(n);this.consumers[t.Consumers.COMSCORE]&&(this.state.comscoreEventSent=!0);var o=this._delegate("viewEvent",[e,n],[i,r]);return this.state.counterNameSet=!0,this.consumers[t.Consumers.COMSCORE]&&(this.state.comscoreEventSent=!0),o}},t.prototype.userActionEvent=function(e,n,r){if(this._eventsEnabled())return this.state.counterNameSet?(this._delegate("userActionEvent",[e,n,t.LabelCleanser.cleanLabels(r)]),this.consumers[t.Consumers.COMSCORE]&&(this.state.comscoreEventSent=!0)):i.error("userActionEvent not available before a call to viewEvent (to set counter name)."),this},t.prototype.errorEvent=function(e,n){if(this._eventsEnabled())return this._delegate("errorEvent",[e,t.LabelCleanser.cleanLabels(n)]),this},t.prototype.setPlayerName=function(e){r.assert("string"==typeof e&&0<e.length,'setPlayerName: name must be string with length, got "'+e+'"');var n=t.LabelCleanser.cleanLabelValue("player_name",e);return this._delegate("setPlayerName",[e],[n])},t.prototype.setPlayerVersion=function(e){r.assert("string"==typeof e&&0<e.length,'setPlayerVersion: version must be string with length, got "'+e+'"');var n=t.LabelCleanser.cleanLabelValue("player_version",e);return this._delegate("setPlayerVersion",[e],[n])},t.prototype.setPlayerIsPopped=function(e){return r.assert("boolean"==typeof e,'setPlayerIsPopped: isPopped must be boolean, got "'+e+'"'),this._delegate("setPlayerIsPopped",[e]),this},t.prototype.setPlayerWindowState=function(e){return r.assertContainsValue(c.WindowState,e,'The window state must be set as a member of Enums.WindowState, got "'+e+'"'),this._delegate("setPlayerWindowState",[e]),this},t.prototype.setPlayerVolume=function(e){return r.assert(e<=100&&0<=e,"volume must be 0-100, got: "+e),e<=100&&0<=e&&this._delegate("setPlayerVolume",[e]),this},t.prototype.setPlayerIsSubtitled=function(e){return r.assert("boolean"==typeof e,'setPlayerIsSubtitled: isSubtitled must be a boolean, got "'+e+'"'),this._delegate("setPlayerIsSubtitled",[e]),this},t.prototype.setPlayerDelegate=function(e){e=e||{};var t,n,i,o=["getTimestamp","getPosition"],s=!1;for(n=0;n<o.length;n++)t=o[n],i=e.hasOwnProperty(t)&&"function"==typeof e[t],r.assert(i,'The player delegate must implement "'+t+'"'),i||(s=!0);return s||(this._playerDelegate=e),this},t.prototype.setMedia=function(e){if(this._eventsEnabled()){this._clearMedia();var t=e.getClone();if(this.state.counterNameSet){this.media=t,this.addLabel(d.ESS_ENABLED,this._essEnabled?"true":"false");var n=c.MediaConsumptionMode.LIVE;this.media.getMediaConsumptionMode()===n?this._initLiveBroker():this._initOnDemandBroker(),this._delegate("setMedia",[this.media])}else i.error("setMedia: Must have a countername set or view event sent first")}},t.prototype.liveMediaUpdate=function(e,t,n){this._eventsEnabled()&&this._avEventsEnabled()&&e&&(this._suppressingPlayEvent=!1,this.media=e,this._delegate("liveMediaUpdate",[e,t,n]))},t.prototype.setMediaLength=function(e){return this.media?this.media.isOnDemand()?"number"!=typeof(e=this._cleanPosition(e))?i.error("setMediaLength: Length must be a positive number"):(this._delegate("setMediaLength",[e]),this.media.setLength(e)):i.error("setMediaLength: Length should be set to zero prior to passing the media object to Echo for live media"):i.error("setMediaLength: Must call setMedia first"),this},t.prototype.setMediaBitrate=function(){},t.prototype.setMediaCodec=function(){},t.prototype.setMediaCDN=function(){},t.prototype.setEssSuccess=function(e){this.addLabel(d.ESS_SUCCESS,e?"true":"false")},t.prototype.setEssError=function(e,t){this.addLabel(d.ESS_ERROR,e.toString().toLowerCase()),e.toString()===c.EssError.STATUS_CODE.toString()&&this.addLabel(d.ESS_STATUS_CODE,t),this._delegate("liveEnrichmentFailed")},t.prototype._avEventsEnabled=function(){return r.assert(Boolean(this.media),"setMedia() must be called prior to this method",!0)&&r.assert(Boolean(this._playerDelegate),"setPlayerDelegate not called or not configured correctly",!0)},t.prototype.getLiveBroker=function(){return this._liveBroker},t.prototype._initLiveBroker=function(){this._avEventsEnabled()&&this.media.getMediaConsumptionMode()===c.MediaConsumptionMode.LIVE&&(this._liveBroker=new l(this._playerDelegate,this.media,this,this._env,this._essEnabled),this._delegate("setBroker",[this._liveBroker]))},t.prototype.getOnDemandBroker=function(){return this._onDemandBroker},t.prototype._initOnDemandBroker=function(){this._avEventsEnabled()&&this.media.getMediaConsumptionMode()!==c.MediaConsumptionMode.LIVE&&(this._onDemandBroker=new f(this._playerDelegate,this.media,this),this._delegate("setBroker",[this._onDemandBroker]))},t.prototype._cleanPosition=function(e){return null!=e&&(e=Math.floor(e)),(void 0===e||isNaN(e)||!isFinite(e)||e<0)&&(e=0),e},t.prototype.avPlayEvent=function(e,n){if(this._eventsEnabled()&&this._avEventsEnabled()){var i=this.media.isLive();if(this._isPlaying=!0,i&&this._liveBroker)e=this._liveBroker.getPosition(),this._liveBroker.start();else if(!i&&this._onDemandBroker){if(e=this._cleanPosition(e),this._previousPlayPosition=e,this._positionExceedsMediaLength(e))return;this._onDemandBroker.setPosition(e),this._onDemandBroker.start()}return i&&this.media.isEssEnriched()&&this._suppressingPlayEvent?this._suppressedPlayEventLabels=n:(this._delegate("avPlayEvent",[e,t.LabelCleanser.cleanLabels(n)]),this.media.setBuffering(!1),this.media.setPlaying(!0)),this.consumers[t.Consumers.COMSCORE]&&(this.state.comscoreEventSent=!0),this}},t.prototype._avNavigationEvent=function(e,n,i,r){this._avEventsEnabled()&&(this._isPlaying=!1,this.media.isLive()?(this._liveBroker&&(this._liveBroker.stop(),n=this._liveBroker.getPosition()),this.media.isEssEnriched()&&!this._suppressingPlayEvent&&(this._suppressingPlayEvent=!0)):this._onDemandBroker&&(n=this._cleanPosition(n),n=this._preventPositionExceedingMediaLength(n),this._onDemandBroker.stop()),"avRewindEvent"===e||"avFastForwardEvent"===e?this._delegate(e,[n,r,t.LabelCleanser.cleanLabels(i)]):this._delegate(e,[n,t.LabelCleanser.cleanLabels(i)]))},t.prototype.avPauseEvent=function(e,t){if(this._eventsEnabled()&&this._avEventsEnabled())return this.media.setPlaying(!1),this._avNavigationEvent("avPauseEvent",e,t),this},t.prototype.avBufferEvent=function(e,t){if(this._eventsEnabled()&&this._avEventsEnabled())return this.media.setPlaying(!1),this._avNavigationEvent("avBufferEvent",e,t),this.media.setBuffering(!0),this},t.prototype.avEndEvent=function(e,t){if(this._eventsEnabled()&&this._avEventsEnabled())return this.media.setPlaying(!1),this._avNavigationEvent("avEndEvent",e,t),this.media=null,this},t.prototype.avRewindEvent=function(e,t,n){if(this._eventsEnabled()&&this._avEventsEnabled())return this._avNavigationEvent("avRewindEvent",e,n,t),this},t.prototype.avFastForwardEvent=function(e,t,n){if(this._eventsEnabled()&&this._avEventsEnabled())return this._avNavigationEvent("avFastForwardEvent",e,n,t),this},t.prototype.avSeekEvent=function(e,t){if(this._eventsEnabled()&&this._avEventsEnabled())return this._avNavigationEvent("avSeekEvent",e,t),this},t.prototype.avUserActionEvent=function(e,n,i,r){if(this._eventsEnabled()&&this._avEventsEnabled()){i=this._liveBroker?this._liveBroker.getPosition():(i=this._cleanPosition(i),this._preventPositionExceedingMediaLength(i));var o=t.LabelCleanser.cleanLabels(r);return this._delegate("avUserActionEvent",[e,n,i,o]),this}},t.prototype.releaseSuppressedPlay=function(){if(this._eventsEnabled()&&this._avEventsEnabled())return this._suppressingPlayEvent&&(this._suppressingPlayEvent=!1,this.avPlayEvent(this._liveBroker.getPosition(),this._suppressedPlayEventLabels)),this},t.prototype._clearMedia=function(){this.removeLabel(d.MEDIA_TIMESTAMP),this.removeLabel(d.ESS_ENABLED),this.removeLabel(d.ESS_ENRICHED),this.removeLabel(d.ESS_SUCCESS),this.removeLabel(d.ESS_ERROR),this.removeLabel(d.ESS_STATUS_CODE),null!==this.media&&(this.media=null),this._liveBroker instanceof l&&(this._liveBroker.stop(),this._liveBroker=null),this._onDemandBroker instanceof f&&(this._onDemandBroker.stop(),this._onDemandBroker=null),this._isPlaying=void 0,this._previousPlayPosition=void 0},t.prototype._positionExceedsMediaLength=function(e){return!!(this.media&&0<this.media.length&&e>=this.media.length-1e3)},t.prototype._preventPositionExceedingMediaLength=function(e){return this._positionExceedsMediaLength(e)?this.media.length:e},t.Consumers={COMSCORE:1,BARB:2,ATI:4},t}.call(t,n,t,e))||(e.exports=i)},function(e,t,n){var i,r;i=[n(13),n(7),n(14),n(15)],void 0===(r=function(e,t,n,i){"use strict";function r(t,i,r,s,a){this._playerDelegate=t,this._playhead=new e,this._isStarted=!1,this._interval=null,this._echoClient=r,this._broadcast=o,this._playerDelegateTimestamp=0,this._previousPosition=0,this._playingTime=0,this._media=i,this._environment=s,this._essEnabled=a,this._hb3NotSentYet=!0,this._hb5NotSentYet=!0,this._isRecievingPlayerTimestamp=!1,this._updateTime=0,this._essEnabled&&(this._schedule=new n(i,s,r))}var o="no-broadcast";return r.prototype.start=function(){var e=this;this._isStarted||(this._interval=setInterval(function(){e._update()},1e3),this._isStarted=!0,this._isRecievingPlayerTimestamp||this._playhead.start())},r.prototype.stop=function(){clearInterval(this._interval),this._playhead.stop(),this._isStarted=!1},r.prototype._update=function(){var e,n=parseInt(this._playerDelegate.getTimestamp(),10),i=!1,r=!1,o=!1,s=this.getTimestamp(),a=new Date,u=(a=a.getTime())-this._updateTime;this._updateTime=a,"number"==typeof n&&0<n&&(r=!0,this._isRecievingPlayerTimestamp=!0,this._playerDelegateTimestamp!==n&&(i=!0,this._echoClient.addLabel(t.MEDIA_TIMESTAMP,n)),e=n-s,r&&(0===this._playerDelegateTimestamp||e<0-u-1500||u+1500<e)&&(o=!0,this._playerDelegateTimestamp=n,this._playingTime+=this._playhead.getPosition(),this._restartPlayhead(),s=this.getTimestamp())),o||(0!==this._playerDelegateTimestamp&&!i||this._isRecievingPlayerTimestamp&&!r?this._playhead.stop():this._playhead.start()),this._updateSchedule(s)?(this._playingTime=0,this._playerDelegateTimestamp=n,this._restartPlayhead(),this._hb3NotSentYet=!0,this._hb5NotSentYet=!0):i&&this._echoClient.releaseSuppressedPlay(),this._updateHeartbeats(),this._previousPosition=this.getPosition()},r.prototype._updateSchedule=function(e){var t,n,r,s,a=!1;return this._essEnabled&&this._schedule.hasData()&&0<e&&(t=this._schedule.getBroadcast(e),(s=new i(this._media.getAvType(),this._media.getMediaConsumptionMode())).setServiceId(this._schedule.serviceId),s.setTransportMode(this._media.getTransportMode()),s.setMediaPlayerName(this._media.getMediaPlayerName()),s.setMediaPlayerVersion(this._media.getMediaPlayerVersion()),t||this._broadcast===o?!t||this._broadcast!==o&&t.version.id===this._broadcast.version.id||(r=(n=(this._broadcast=t).published_time).end-n.start,s.setEssEnriched(!0),s.setVersionId(t.version.id),s.setLength(r),t.episode&&t.episode.id&&s.setEpisodeId(t.episode.id),this._updateMedia(s),a=!0):(this._broadcast=o,this._updateMedia(s),a=!0)),a},r.prototype._updateHeartbeats=function(){var e,t;this._broadcast!==o&&(this._hb3NotSentYet||this._hb5NotSentYet)&&(e=this._playingTime+this._playhead.getPosition(),t=this.getPosition(),3e3<=e&&this._hb3NotSentYet&&(this._echoClient.avUserActionEvent("echo_hb","echo_hb_3",t),this._hb3NotSentYet=!1),5e3<=e&&this._hb5NotSentYet&&(this._echoClient.avUserActionEvent("echo_hb","echo_hb_5",t),this._hb5NotSentYet=!1))},r.prototype._updateMedia=function(e){var t=this.getPosition();this._echoClient.liveMediaUpdate(e,t,this._previousPosition),this._previousPosition=t},r.prototype._restartPlayhead=function(){this._playhead.reset(),this._playhead.start()},r.prototype.getPosition=function(){return this._broadcast&&this._broadcast!==o?this._playerDelegateTimestamp-this._broadcast.published_time.start+this._playhead.getPosition():this._playhead.getPosition()},r.prototype.getTimestamp=function(){return this._playerDelegateTimestamp+this._playhead.getPosition()},r}.apply(t,i))||(e.exports=r)},function(e,t,n){var i,r;i=[n(13)],void 0===(r=function(e){"use strict";function t(t,n,i){this._playerDelegate=t,this._media=n,this._echoClient=i,this._playhead=new e,this._isStarted=!1,this._interval=null,this._playerDelegatePosition=0,this._playingTime=0,this._currentIntervalMaxPosition=0,this._hb3NotSentYet=!0,this._hb5NotSentYet=!0,this._previousPlayingTime=0}return t.prototype.setPlayhead=function(e){this._playhead=e},t.prototype.start=function(){var e=this;this._isStarted||(this._interval=setInterval(function(){e._update()},1e3),this._isStarted=!0,this._playhead.start())},t.prototype.stop=function(){clearInterval(this._interval),this._playhead.stop(),this._isStarted=!1},t.prototype.setPosition=function(e){"number"==typeof e&&0<=e&&!this.arePositionsWithinTolerance(this.getPosition(),e)&&(this._playerDelegatePosition=e,this._playingTime+=this._playhead.getPosition(),this._restartPlayhead(),this._currentIntervalMaxPosition=e)},t.prototype.getCurrentIntervalMaxPosition=function(){return this._currentIntervalMaxPosition},t.prototype._update=function(){var e=parseInt(this._playerDelegate.getPosition(),10),t=this.getPosition(),n=this._playingTime+this._playhead.getPosition(),i=Math.abs(n-(this._previousPlayingTime||n));this._previousPlayingTime=n,"number"==typeof e&&e!==this._playerDelegatePosition&&0<e&&(0!==this._playerDelegatePosition&&this.arePositionsWithinTolerance(e,t)||(this._playerDelegatePosition=e,t=this._playerDelegatePosition,this._restartPlayhead())),t>this._currentIntervalMaxPosition&&(this._currentIntervalMaxPosition=t),3e3<=n&&this._hb3NotSentYet&&i<1500&&(this._echoClient.avUserActionEvent("echo_hb","echo_hb_3",t),this._hb3NotSentYet=!1),5e3<=n&&this._hb5NotSentYet&&i<1500&&(this._echoClient.avUserActionEvent("echo_hb","echo_hb_5",t),this._hb5NotSentYet=!1),0<this._media.length&&t>=this._media.length&&this._echoClient.avPauseEvent(this._media.length,{echo_pause_at_media_length:1})},t.prototype._restartPlayhead=function(){this._playhead.reset(),this._playhead.start()},t.prototype.getPosition=function(){var e=this._playhead.getPosition();return this._playerDelegatePosition+e},t.prototype.getTimestamp=function(){return 0},t.prototype.arePositionsWithinTolerance=function(e,t){var n=e-t;return-1500<=n&&n<=1500},t}.apply(t,i))||(e.exports=r)},function(e,t,n){var i;void 0===(i=function(e){"use strict";function t(e){return"string"==typeof e&&0<e.length}function i(e){return"string"==typeof(t=e[f.ECHO_CACHE_MODE])&&(t=t.toUpperCase(),u.EchoCacheMode.hasOwnProperty(t))?c.assert("boolean"==typeof e[f.ECHO_ENABLED],'Config: "enabled" must be boolean, got '+e[f.ECHO_ENABLED])&&c.assert("boolean"==typeof e[f.ECHO_AUTO_START],'Config: "auto_start" must be boolean, got '+e[f.ECHO_AUTO_START])&&c.assert(null===e[f.ECHO_DEVICE_ID]||"string"==typeof e[f.ECHO_DEVICE_ID]&&e[f.ECHO_DEVICE_ID].length,"ECHO.DEVICE_ID must be an non-empty string"):(a.error("Config Error: KEYS.ECHO_CACHE_MODE Invalid cache mode specified"),!1);var t}function r(e){if(!1===e[f.COMSCORE_ENABLED])return!0;if(!t(e[f.REPORTING_PROFILE])){if(!t(e[f.COMSCORE_HOST]))return a.error("Config Error: Must have config value for COMSCORE_HOST or REPORTING_PROFILE"),!1;if("scorecardresearch.com"!==e[f.COMSCORE_HOST]&&"sa.bbc.co.uk"!==e[f.COMSCORE_HOST])return a.error("Config Error: KEYS.COMSCORE_HOST Should be one of scorecardresearch.com or sa.bbc.co.uk"),!1}return"string"==typeof(n=e[f.REPORTING_PROFILE])&&(n=n.toUpperCase(),u.ReportingProfiles.hasOwnProperty(n))?c.assert("boolean"==typeof e[f.COMSCORE_ENABLED],'ComScore config: "ENABLED" must be boolean'):(a.error("Config Error: KEYS.REPORTING_PROFILE Invalid reporting profile specified"),!1);var n}function o(e){return"string"==typeof e&&(e=e.toUpperCase(),u.ReportingProfiles.hasOwnProperty(e))?u.ReportingProfiles[e]:null}function s(e){return"string"==typeof e&&(e=e.toUpperCase(),u.EchoCacheMode.hasOwnProperty(e))?u.EchoCacheMode[e]:null}var a=n(2),u=n(1),c=n(0),l=n(12),f=n(3),d={};d[f.ECHO_ENABLED]=!0,d[f.ECHO_AUTO_START]=!0,d[f.ECHO_DEVICE_ID]=null,d[f.REPORTING_PROFILE]="PUBLIC_SERVICE",d[f.ECHO_CACHE_MODE]="OFFLINE",d[f.COMSCORE_ENABLED]=!1,d[f.ATI_ENABLED]=!0,d[f.BARB_ENABLED]=!1,d[f.BARB_DEBUG]=!1,d[f.BARB_SITE_CODE]="bbcdotcom",d[f.TEST_SERVICE_ENABLED]=!1,d[f.USE_ESS]=!1,d[f.ESS_HOSTNAME]="ess.api.bbci.co.uk",d[f.USE_SSC]=!1,d[f.SSC_HOSTNAME]=null;var p={};return p[f.ECHO_NAME]=l.NAME,p[f.ECHO_VERSION]=l.VERSION,{defaultConfig:d,fixedConfig:p,generate:function(e){var n,u;(e=e||{})[f.REPORTING_PROFILE]&&(n=o(e[f.REPORTING_PROFILE])),n||(n=o("PUBLIC_SERVICE")),e[f.ECHO_CACHE_MODE]&&(u=s(e[f.ECHO_CACHE_MODE])),u||(u=s("OFFLINE"));var l,h,_,g=c.extend(d,!0,n,e||{},p);return i(g)&&r(g)&&(!1===(_=g)[f.BARB_ENABLED]||(t(_[f.BARB_SITE_CODE])?_[f.BARB_SITE_CODE].match(/[a-zA-Z]+/)?"boolean"==typeof _[f.BARB_DEBUG]||(a.error("Config Error: KEYS.BARB_DEBUG must be a boolean"),0):(a.error("Config Error: KEYS.BARB_SITE_CODE must match [a-zA-Z]"),0):(a.error("Config Error: KEYS.BARB_SITE_CODE must have a value"),0)))&&(h=(l=g)[f.SSC_HOSTNAME],"boolean"!=typeof l[f.USE_SSC]?(a.error("Config Error: KEYS.USE_SSC must be boolean"),0):null===h||".com"===h||".co.uk"===h||(a.error("Config Error: SSC_HOSTNAME must be one of .com, .co.uk or null"),0))?g:null}}}.call(t,n,t,e))||(e.exports=i)},function(e,t,n){var i;void 0===(i=function(e){"use strict";function t(){return-1}function i(e,t,n){return e===y?(i=t)+"//"+("https:"===i?"s":"")+"b."+y+"/p?":t+"//"+E+"/"+n+"/s";var i}function r(e){return null===e?g:e}function o(e){return null!==e&&e.isValueValid()?e.getValue():g}function s(e){var t=e.getMediaConsumptionMode(),n=e.getServiceIdObject(),i=e.getVersionIdObject(),r=e.getClipIdObject(),o=e.getEpisodeIdObject(),s=e.getVpIdObject(),a=e.getNonPipsContentIdObject();return t===_.MediaConsumptionMode.LIVE&&!0===e.isEssEnriched()&&i.isValueValid()?i:t===_.MediaConsumptionMode.LIVE&&n.isValueValid()?n:a.isValueValid()?a:i.isValueValid()?i:r.isValueValid()?r:o.isValueValid()?o:s.isValueValid()?s:n.isValueValid()?n:null}function a(e){var t={},n=s(e),i=r(e.getAvType()),a=r(e.getLength()),u=r(e.getRetrievalType());t[c.MEDIA_PART_NUMBER]=1,t[c.MEDIA_TOTAL_PARTS]=1,t[c.MEDIA_LENGTH]=a,t[c.MEDIA_MEDIUM]=i,t[c.MEDIA_RETRIEVAL_TYPE]=u,null===e.getMediaConsumptionMode()?(t[c.MEDIA_STREAM_TYPE]=g,t[c.MEDIA_LIVE_OR_ONDEMAND]=g):e.isLive()||i!==g?e.isOnDemand()||e.isDownload()?(t[c.MEDIA_STREAM_TYPE]=e.isVideo()?"vod":"aod",t[c.MEDIA_LIVE_OR_ONDEMAND]="on-demand"):(e.isEssEnriched()?t[c.ESS_ENRICHED]="true":(t[c.ESS_ENRICHED]="false",t[c.MEDIA_IS_LIVE]="1"),t[c.MEDIA_STREAM_TYPE]="live",t[c.MEDIA_LIVE_OR_ONDEMAND]="live"):t[c.MEDIA_STREAM_TYPE]=g;var l=e.getVersionIdObject(),f=e.getServiceIdObject(),d=e.getClipIdObject(),p=e.getEpisodeIdObject(),h=e.getNonPipsContentIdObject();if(t[c.MEDIA_PID]=o(n),e.isLive()&&!e.getServiceId()&&!1===e.isEssEnriched()&&(e.getVersionId()||e.getVpId())){var v=e.getVersionId()||e.getVpId();t[c.MEDIA_PID]="unverified_"+v}return h.isValueSet()&&(t[c.MEDIA_NON_PIPS_CONTENT_ID]=o(h)),l.isValueSet()&&(t[c.MEDIA_VERSION_ID]=o(l)),f.isValueSet()&&(t[c.MEDIA_SERVICE_ID]=o(f)),d.isValueSet()&&(t[c.MEDIA_CLIP_ID]=o(d)),p.isValueSet()&&(t[c.MEDIA_EPISODE_ID]=o(p)),function(e){var t=s(e),n=e.getVersionIdObject(),i=e.getEpisodeIdObject(),r=e.getClipIdObject();if(null!==t){var o=t.getIdType();if(e.isLive()){if(o===_.MediaIdType.SERVICE||e.isEssEnriched())return!1}else{if(!(o!==_.MediaIdType.SERVICE||n.isValueSet()||i.isValueSet()||r.isValueSet()))return!0;if(o!==_.MediaIdType.VPID)return!1}}return!0}(e)&&(t[c.MEDIA_AMBIGUOUS_ID]="1"),t}function u(e,t,n,r){var o,s,a,f,h,v,E,S,A,I=n[l.COMSCORE_SITE];this._deviceId=null,this._broker=null,this.media=null,this.SSPlayerEvent=u.StreamSense.PlayerEvents,this.SSPlayerState=u.StreamSense.InternalStates,this._clips=[],this._isEnabled=!0,this._hasStartedAppTag=!1,this._hasCreatedAsset=!1,this._storedAssetLabels={},h=n[l.COMSCORE_HOST],I=n[l.COMSCORE_SITE],this.useSsc=!0===n[l.USE_SSC]&&"sa.bbc.co.uk"!==h,this._deviceId=n[l.ECHO_DEVICE_ID]||void 0,!0!==this.useSsc||this._deviceId||(E=u._createSscHelper({forceBBCHost:n[l.SSC_HOSTNAME]}),this._deviceId=E.getCookieId()),p.containsValue(_.ApplicationType,t)||(t=g),o=i(h,r.getProtocol(),I),!0!==this.useSsc||this._deviceId||(o=E.getLocation().protocol+"//"+E.getSSCHostname()),!0===n[l.TEST_SERVICE_ENABLED]&&(a=o,o=n[l.TEST_SERVICE_URL]+"/comscore",this._isUsingComscoreOTTLibrary&&(s=n[l.TEST_SERVICE_URL]+"/offline")),this._isApp=!p.containsValue(b,t),v=r.getHttpGet(),f=h===y,this._isUsingComscoreOTTLibrary=!(!u.AppTag||!u.AppTag.ns_),this._isUsingComscoreOTTLibrary?(this.appTag=u.AppTag.ns_.comScore,this.appTag.setPlatformAPI(u.AppTag.ns_.PlatformAPIs.html5),v&&(this.appTag.getPlatformAPI().httpGet=v),this.appTag.setPublisherSecret(n[l.COMSCORE_PUBLISHER_SECRET]),this.appTag.setAppContext()):this.appTag=new u.AppTag(v||d._defaultHttpGet,this._isApp,f),this.ss=new u.StreamSense.StreamingAnalytics({liveEndpointURL:o,systemClockJumpDetection:!0}),v&&(this.ss.getPlatformAPI().httpGet=v),f&&(this.appTag.setCustomerC2(n[l.COMSCORE_CUSTOMER_ID]),this.ss.setLabel(c.COMSCORE_CUSTOMER,n[l.COMSCORE_CUSTOMER_ID]),this.addLabel(c.COMSCORE_C1,"2"),this.addLabel(c.COMSCORE_SITE,I)),this.appTag.setPixelURL(o),this._deviceId?this.addLabel(c.DEVICE_ID,this._deviceId):this.useSsc||"sa.bbc.co.uk"!==h||(this._deviceId=m.getCookieValueByName("s1")),!0===n[l.TEST_SERVICE_ENABLED]&&(this.addLabel(c.COMSCORE_ENDPOINT,a),this._isUsingComscoreOTTLibrary&&this.appTag.setOfflineURL(s)),this.addLabel(c.BBC_APPLICATION_NAME,e),this.addLabel(c.BBC_APPLICATION_TYPE,t),this.setCacheMode(n[l.ECHO_CACHE_MODE]),this.addLabel(c.BBC_MEASUREMENT_LIB_NAME,n[l.ECHO_NAME]),this.addLabel(c.BBC_MEASUREMENT_LIB_VERSION,n[l.ECHO_VERSION]),this._isApp?(this._isUsingComscoreOTTLibrary?this.appTag.setAppName(e):this.addLabel(c.APP_NAME,e),this.addLabel(c.APP_PLATFORM_NAME,r.getPlatformName()),this.addLabel(c.APP_PLATFORM_RUNTIME,r.getPlatformRuntimeEnvironment()),this.addLabel(c.APP_OS_VERSION,r.getPlatformOSVersion()),this.addLabel(c.APP_DEVICE_NAME,r.getDeviceName()),this.addLabel(c.APP_SCREEN_RESOLUTION,r.getScreenResolution()),this.addLabel(c.APP_LANGUAGE,r.getLanguage())):this.addLabel(c.WEB_SCREEN_RES,r.getScreenResolution()),this.addLabel(c.ENV_CHAR_SET,r.getCharSet()),this.addLabel(c.ENV_TITLE,r.getTitle()),this.addLabel(c.ENV_REFERRER,r.getReferrer()),-1===r.getURL().indexOf("file:",0)&&this.addLabel(c.ENV_URL,r.getURL()),n[l.ECHO_TRACE]&&this.setTraceId(n[l.ECHO_TRACE]),(S=d.getOrbCookiesPolicy())&&(A="ad"+(S.ads?"1":"0")+"ps"+(S.personalisation?"1":"0")+"pf"+(S.performance?"1":"0"),this.addLabel(c.COOKIE_POLICY,A)),this.addLabel(_.ManagedLabels.BBC_SITE,g),this._mediaIsLive=null,n&&!1===n[l.ECHO_ENABLED]?this._isEnabled=!1:this._isEnabled=!0}var c=n(7),l=n(3),f=n(32),d=n(8),p=n(0),h=n(33),_=n(1),g="invalid-data",v=n(34),m=n(9),E="sa.bbc.co.uk/bbc",y="scorecardresearch.com",b=[_.ApplicationType.WEB,_.ApplicationType.MOBILE_WEB,_.ApplicationType.RESPONSIVE],S=[c.NO_COOKIES],A=["ns_st_pr","ns_st_sn","ns_st_en","ns_st_ep","ns_st_ty","ns_st_ct","ns_st_st","ns_st_pu"];u.prototype.start=function(){this._isEnabled&&!this._hasStartedAppTag&&(this.appTag.start(),this._hasStartedAppTag=!0)},u.prototype.enable=function(){this._isEnabled||(this._isEnabled=!0)},u.prototype.disable=function(){this._isEnabled&&(this.clearMedia(),this._isEnabled=!1)},u.prototype.getDeviceId=function(){return this._deviceId},u.prototype._buildStreamSenseClip=function(e){var t,n=a(e),i=n[c.MEDIA_PID];for(t=0;t<this._clips.length;t++)if(this._clips[t][c.MEDIA_PID]===i)return this._clips[t];return n[c.MEDIA_CLIP_NUMBER]=this._clips.length+1,this._clips.push(n),n},u.prototype.setTraceId=function(e){this.addLabel(l.ECHO_TRACE,e)},u._createSscHelper=function(e){return new v(e||{})},u.StreamSense=n(35),u.AppTag=n(36);var I="<"+S.join("><")+">";return u.prototype._isExcludedLabel=function(e){return!0===this.useSsc&&!!I.match(new RegExp("<"+e+">"))},u.prototype.addLabels=function(e){if("object"==typeof e)for(var t in e)e.hasOwnProperty(t)&&this.addLabel(t,e[t])},u.prototype.addLabel=function(e,t){!0!==this._isExcludedLabel(e)&&(this.appTag.setLabel(e,t),-1<A.indexOf(e)?this._hasCreatedAsset?this.ss.getPlaybackSession().getAsset().setLabel(e,t):this._storedAssetLabels[e]=t:this.ss.setLabel(e,t))},u.prototype.addManagedLabel=function(e,t){var n=h.isValidManagedLabel(e,t)?t:g;for(var i in _.ManagedLabels)_.ManagedLabels[i]===e&&this.addLabel(e,n)},u.prototype.removeLabels=function(e){for(var t=0,n=e.length;t<n;t++)this.removeLabel(e[t])},u.prototype.removeLabel=function(e){this.appTag.setLabel(e,null),-1<A.indexOf(e)?this._hasCreatedAsset?this.ss.getPlaybackSession().getAsset().setLabel(e,null):delete this._storedAssetLabels[e]:this.ss.setLabel(e,null)},u.prototype.setLoggedInToBBCId=function(e){this.addLabel(c.BBC_ID_LOGGED_IN,"1"),e&&0<e.length?this.addManagedLabel(_.ManagedLabels.BBC_HASHED_ID,e):this.removeLabel(_.ManagedLabels.BBC_HASHED_ID)},u.prototype.setLoggedOutOfBBCId=function(){this.removeLabels([c.BBC_ID_LOGGED_IN,_.ManagedLabels.BBC_HASHED_ID])},u.prototype.setAppVersion=function(e){"function"==typeof this.appTag.setAppVersion?this.appTag.setAppVersion(e):e&&this._isApp?this.addLabel(c.APP_VERSION,e.toString()):e&&this.addLabel(c.BBC_APPLICATION_VERSION,e.toString())},u.prototype.setCounterName=function(e){this._isEnabled&&this.addLabel(c.BBC_COUNTER_NAME,e)},u.prototype.setDestination=function(e){this.addLabel(c.DESTINATION,e)},u.prototype.setProducer=function(e){this.addLabel(c.PRODUCER,e)},u.prototype.setContentLanguage=function(e){this.addLabel(c.BBC_LANGUAGE,e)},u.prototype.setCacheMode=function(e){if(this._isUsingComscoreOTTLibrary&&e!==this._cacheMode){switch(e){case _.EchoCacheMode.ALL:this.appTag.allowLiveTransmission(this.appTag.TransmissionMode.NEVER),this.appTag.allowOfflineTransmission(this.appTag.TransmissionMode.NEVER);break;case _.EchoCacheMode.OFFLINE:this.appTag.allowLiveTransmission(this.appTag.TransmissionMode.DEFAULT),this.appTag.allowOfflineTransmission(this.appTag.TransmissionMode.DEFAULT)}this._cacheMode=e}},u.prototype.flushCache=function(){this._isUsingComscoreOTTLibrary&&this.appTag.flushCache()},u.prototype.clearCache=t,u.prototype.viewEvent=function(e,t){if(this._eventsEnabled()){this.addLabel(c.BBC_COUNTER_NAME,e);var n=p.extend(t,!0,c.ECHO_EVENT_NAME,"view");n.name=e,this.appTag.view(n)}},u.prototype.errorEvent=t,u.prototype.userActionEvent=function(e,t,n){if(this._eventsEnabled()){var i=p.extend(n,!0,c.USER_ACTION_TYPE,e,c.USER_ACTION_NAME,t,c.ECHO_EVENT_NAME,"userAct");this.appTag.hidden(i)}},u.prototype.setPlayerName=function(e){this.addLabel(c.PLAYER_NAME,e)},u.prototype.setPlayerVersion=function(e){this.addLabel(c.PLAYER_VERSION,e)},u.prototype.setPlayerIsPopped=function(e){this.ss.setLabel(c.PLAYER_POPPED,e?1:0)},u.prototype.setPlayerWindowState=function(e){this.ss.setLabel(c.PLAYER_WINDOW_STATE,e)},u.prototype.setPlayerVolume=function(e){this.ss.setLabel(c.PLAYER_VOLUME,e)},u.prototype.setPlayerIsSubtitled=function(e){this.ss.setLabel(c.PLAYER_SUBTITLED,e?1:0)},u.prototype.setBroker=function(e){return this._broker=e,this},u.prototype.setMedia=function(e){var t,n,i;if(this._eventsEnabled()&&(this.clearMedia(),e)){this.media=e;var r=this._buildStreamSenseClip(this.media),o=(t=this.media,n={},i=s(t),n[c.PLAYLIST_NAME]=null===i?g:i.getValue(),n);this._mediaIsLive=!e.isOnDemand(),this.ss.createPlaybackSession(o),this.ss.getPlaybackSession()&&(this.ss.getPlaybackSession().setAsset(r),this._hasCreatedAsset=!0,this.ss.getPlaybackSession().getAsset().setLabels(this._storedAssetLabels))}},u.prototype.liveMediaUpdate=function(e,t,n){p.assert("number"==typeof t,"newPosition must be a number"),p.assert("number"==typeof n,"oldPosition must be a number"),this.media=e;var i=this._buildStreamSenseClip(e);this.ss.notifyEnd(n),this.ss.getPlaybackSession().setAsset(i),this.ss.getPlaybackSession().getAsset().setLabels(this._storedAssetLabels),this.ss.notifyPlay(t)},u.prototype.liveEnrichmentFailed=t,u.prototype.setMediaLength=function(e){this._eventsEnabled()&&null!=this.media&&((!e||e<0)&&(e=0),this.ss.getPlaybackSession().getAsset().setLabel(c.MEDIA_LENGTH,e))},u.prototype.avPlayEvent=function(e,t){if(this._eventsEnabled()){var n=p.extend(t,!0,c.ECHO_EVENT_NAME,"avPlay");this.media.isLive()&&!1===this.media.isEssEnriched()&&(e=0),this.ss.notifyPlay(n,e)}},u.prototype.avPauseEvent=function(e,t){if(this._eventsEnabled()){var n=p.extend(t,!0,c.ECHO_EVENT_NAME,"avPause"),i=this.media.isLive();i&&!1===this.media.isEssEnriched()?e=0:!i&&this._broker&&0===e&&(e=this._broker.getCurrentIntervalMaxPosition()),this.ss.notifyPause(n,e)}},u.prototype.avBufferEvent=function(e,t){this._eventsEnabled()&&(this.media.isLive()&&!1===this.media.isEssEnriched()&&(e=0),this.ss.notifyBufferStart(e))},u.prototype.avEndEvent=function(e,t){if(this._eventsEnabled()){var n=p.extend(t,!0,c.ECHO_EVENT_NAME,"avEnd",c.PLAYLIST_END,1);this.media.isLive()&&!1===this.media.isEssEnriched()&&(e=0),this.ss.notifyEnd(e,n),this.clearMedia()}},u.prototype.avRewindEvent=function(e,t,n){if(this._eventsEnabled()){var i=p.extend(n,!0,c.ECHO_EVENT_NAME,"avRW",c.EVENT_TRIGGERED_BY_USER,"rewind",c.REWIND_FF_RATE,t);this.media.isLive()&&!1===this.media.isEssEnriched()&&(e=0),this.ss.notifyPause(e,i)}},u.prototype.avFastForwardEvent=function(e,t,n){if(this._eventsEnabled()){var i=p.extend(n,!0,c.ECHO_EVENT_NAME,"avFF",c.EVENT_TRIGGERED_BY_USER,"fastforward",c.REWIND_FF_RATE,t);this.media.isLive()&&!1===this.media.isEssEnriched()&&(e=0),this.ss.notifyPause(i,e)}},u.prototype.avSeekEvent=function(e,t){if(this._eventsEnabled()){var n=p.extend(t,!0,c.ECHO_EVENT_NAME,"avSeek",c.EVENT_TRIGGERED_BY_USER,"seek");this.media.isLive()&&!1===this.media.isEssEnriched()&&(e=0),this.ss.notifyPause(e,n)}},u.prototype.avUserActionEvent=function(e,t,n,i){if(this._eventsEnabled()){var r=p.extend(i,!0,c.ECHO_EVENT_NAME,"avUserAct",c.STREAMSENSE_CUSTOM_EVENT_TYPE,e,c.USER_ACTION_TYPE,e,c.USER_ACTION_NAME,t);this.media.isLive()&&!1===this.media.isEssEnriched()&&(n=0),this.ss.notifyCustomEvent(n,r)}},u.prototype.clearMedia=function(){this._eventsEnabled()&&(this._clips=[],this._hasCreatedAsset=!1,null!==this.media&&(this.ss.getState()===f.PLAYING&&this.avEndEvent(0),this.media=null))},u.prototype.requiresLabelCleansing=function(){return!0},u.prototype._eventsEnabled=function(){return this._isEnabled&&this._hasStartedAppTag},u}.call(t,n,t,e))||(e.exports=i)},function(e,t,n){e.exports={IDLE:0,PLAYBACK_NOT_STARTED:1,PLAYING:2,PAUSED:3,BUFFERING_BEFORE_PLAYBACK:4,BUFFERING_DURING_PLAYBACK:5,BUFFERING_DURING_SEEKING:6,BUFFERING_DURING_PAUSE:7,SEEKING_BEFORE_PLAYBACK:8,SEEKING_DURING_PLAYBACK:9,SEEKING_DURING_BUFFERING:10,SEEKING_DURING_PAUSE:11,PAUSED_DURING_BUFFERING:12}},function(e,t,n){var i;void 0===(i=function(e){"use strict";var t=n(1),i=n(0);return{isValidManagedLabel:function(e,n){switch(e){case t.ManagedLabels.IPLAYER_STATE:if("purchased"!==n&&"free"!==n)return!1;break;case t.ManagedLabels.STORE_ED_TYPE:if("archive"!==n&&"standard"!==n)return!1;break;case t.ManagedLabels.IPLAYER_AVAIL:if("avail"!==n&&"unavail"!==n&&"soon"!==n)return!1;break;case t.ManagedLabels.STORE_REFERRAL:if("iplayer"!==n&&"store"!==n)return!1;break;case t.ManagedLabels.BBC_HASHED_ID:if("string"!=typeof n||0===i.trim(n).length)return!1}return!0}}}.call(t,n,t,e))||(e.exports=i)},function(e,t,n){var i,r;void 0===(r="function"==typeof(i=function(){function e(e){e=e||{},this.alwaysUseHttps=!0===e.alwaysUseHttps||!1,this.forceBBCHost=!1,this._sscCookieId=void 0,this._s1CookieId=void 0,this._uidCookieId=void 0,".co.uk"===e.forceBBCHost?this.forceBBCHost=".co.uk":".com"===e.forceBBCHost&&(this.forceBBCHost=".com")}var t,n;return t="ssc.api.bbc.co.uk",n="ssc.api.bbc.com",e.prototype.getCookie=function(e){return decodeURIComponent(document.cookie.replace(new RegExp("(?:(?:^|.*;)\\s*"+encodeURIComponent(e).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*([^;]*).*$)|^.*$"),"$1"))||null},e.prototype.getLocation=function(){return window.location},e.prototype.getCookieId=function(){var e,i,r,o,s;return i=this.getSSCHostname(),r=this.getLocation(),o=i===t&&-1!==r.hostname.search(/bbc.co.uk$/),s=i===n&&-1!==r.hostname.search(/bbc.com$/),(o||s)&&null==(e=this.getSSCCookieId())&&(o?e=this.getS1CookieId():s&&(e=this.getUidCookieId())),e},e.prototype.getS1CookieId=function(){return void 0===this._s1CookieValue&&(this._s1CookieValue=this.getCookie("s1")),this._s1CookieValue},e.prototype.getUidCookieId=function(){return void 0===this._uidCookieValue&&(this._uidCookieValue=this.getCookie("ckns_uid"),null===this._uidCookieValue&&(this._uidCookieValue=this.getCookie("ckpf_uid"))),this._uidCookieValue},e.prototype.getSSCCookieId=function(){return void 0===this._sscCookieValue&&(this._sscCookieValue=this.getCookie("ckns_sscid"),null===this._sscCookieValue&&(this._sscCookieValue=this.getCookie("ckpf_sscid"))),this._sscCookieValue},e.prototype.isValidId=function(e){var t;return t=!1,"string"==typeof e&&-1!==e.search(/^[^(?!<>\s)]+$/)&&(t=!0),t},e.prototype.getAnalyticsLocation=function(e,t){var n,i,r,o,s;return this.getSSCHostname(),i=this.getLocation(),n={sscId:void 0},"string"!=typeof e&&(e=""),void 0!==t&&!1!==this.isValidId(t)||(t=this.getCookieId()),this.alwaysUseHttps||"https:"===i.protocol?n.protocol="https:":n.protocol="http:",o=-1!==e.search(/ns_alias=/),s=this.isValidId(t),n.hostname=o||s?this.getScorecardresearchHostname():this.getSSCHostname(),s&&(e=""===e?"?ns_alias="+t:(r=e.search(/\?/)+1,[e.slice(0,r),"ns_alias="+t+"&",e.slice(r)].join("")),n.sscId=t),n.search=e,-1!==n.hostname.search(/scorecardresearch.com$/)?n.pathname="/p":n.pathname="/",n.href=n.protocol+"//"+n.hostname+n.pathname+n.search,n},e.prototype.getSSCHostname=function(){var e;return e=this.getLocation(),".com"===this.forceBBCHost||".co.uk"!==this.forceBBCHost&&-1===e.hostname.search(/bbc\.co\.uk$/)?n:t},e.prototype.getScorecardresearchHostname=function(){return"https:"===this.getLocation().protocol?"sb.scorecardresearch.com":"b.scorecardresearch.com"},e})?i.call(t,n,t,e):i)||(e.exports=r)},function(e,t,n){(function(t,n){e.exports=function e(t,n,i){function r(s,a){if(!n[s]){if(!t[s]){if(o)return o(s,!0);var u=new Error("Cannot find module '"+s+"'");throw u.code="MODULE_NOT_FOUND",u}var c=n[s]={exports:{}};t[s][0].call(c.exports,function(e){return r(t[s][1][e]||e)},c,c.exports,e,t,n,i)}return n[s].exports}for(var o=!1,s=0;s<i.length;s++)r(i[s]);return r}({1:[function(e,t,n){var i=e(24),r=e(26),o=e(36);t.exports=function(e){function t(t){c=t,e.t().set("plannedFlushTime",t+"")}function n(){e.flush(),t(-1),a.i()}function s(){l&&(o.clearTimeout(l),l=null)}var a=this,u=!1,c=-1,l=null;i.extend(a,{start:function(){u=!0,!l&&0<e.getCacheFlushingInterval()&&null!=e.getCustomerC2()&&(e.t().has("plannedFlushTime")&&(c=r.o(e.t().get("plannedFlushTime"),-1)),a.i())},stop:function(){u=!1,s()},update:function(){0<e.getCacheFlushingInterval()&&null!=e.getCustomerC2()?!l&&u?(t(-1),a.start()):null!=l&&(t(0<e.getCacheFlushingInterval()?+new Date+1e3*e.getCacheFlushingInterval():-1),l&&(o.clearTimeout(l),a.i())):(t(-1),s())},i:function(){c<0&&t(+new Date+1e3*e.getCacheFlushingInterval()),l=o.setTimeout(n,c-+new Date)}})}},{24:24,26:26,36:36}],2:[function(e,t,n){var i=e(5),r=e(8).TransmissionMode,o=e(8).u,s=new i,a={TransmissionMode:r,getCore:function(){return s},setAppContext:function(e){s.setAppContext(e)},setEnabled:function(e){s.setEnabled(e)},getEnabled:function(){return s.getEnabled()},onUxActive:function(){s.onUxActive()},onUxInactive:function(){s.onUxInactive()},onEnterForeground:function(){s.onEnterForeground()},onExitForeground:function(){s.onExitForeground()},onUserInteraction:function(){s.onUserInteraction()},update:function(){s.update()},enableAutoUpdate:function(e,t){s.enableAutoUpdate(e,void 0===t||t)},disableAutoUpdate:function(){s.disableAutoUpdate()},isAutoUpdateEnabled:function(){return s.isAutoUpdateEnabled()},start:function(e){s.s(o.l,e||{})},view:function(e){s.s(o.v,e||{})},hidden:function(e){s.s(o.HIDDEN,e||{})},close:function(e){s.s(o.h,e)},aggregate:function(e){s.s(o._,e)},getPixelURL:function(){return s.getPixelURL()},setPixelURL:function(e){s.setPixelURL(e)},getCustomerC2:function(){return s.getCustomerC2()},setCustomerC2:function(e){s.setCustomerC2(e)},getAppName:function(){return s.getAppName()},setAppName:function(e){s.setAppName(e)},getAppVersion:function(){return s.getAppVersion()},setAppVersion:function(e){s.setAppVersion(e)},getGenesis:function(){return s.getGenesis()},getVisitorID:function(){return s.getVisitorId()},setVisitorId:function(e,t){s.setVisitorId(e,t)},getCrossPublisherId:function(){return s.getCrossPublisherId()},getOfflineTransmissionMode:function(){return s.getOfflineTransmissionMode()},allowOfflineTransmission:function(e){s.allowOfflineTransmission(e)},getLiveTransmissionMode:function(){return s.getLiveTransmissionMode()},allowLiveTransmission:function(e){s.allowLiveTransmission(e)},getPublisherSecret:function(){return s.g()},setPublisherSecret:function(e){s.m(e)},flushCache:function(){s.flush()},clearOfflineCache:function(){s.I().clear()},setLabel:function(e,t){s.setLabel(e,t)},getLabel:function(e){return s.getLabel(e)},setLabels:function(e){s.setLabels(e)},getLabels:function(){return s.getLabels()},setAutoStartLabels:function(e){s.setAutoStartLabels(e)},getAutoStartLabel:function(e){return s.getAutoStartLabel(e)},getAutoStartLabels:function(){return s.getAutoStartLabels()},setAutoStartLabel:function(e,t){s.setAutoStartLabel(e,t)},isKeepAliveEnabled:function(){return s.S().isEnabled()},setKeepAliveEnabled:function(e){s.setKeepAliveEnabled(!!e)},setCacheMaxMeasurements:function(e){s.setCacheMaxMeasurements(e)},getCacheMaxMeasurements:function(){return s.getCacheMaxMeasurements()},setCacheMaxBatchFiles:function(e){s.setCacheMaxBatchFiles(e)},getCacheMaxBatchFiles:function(){return s.getCacheMaxBatchFiles()},setCacheMaxFlushesInARow:function(e){s.setCacheMaxFlushesInARow(e)},getCacheMaxFlushesInARow:function(){return s.getCacheMaxFlushesInARow()},setCacheMinutesToRetry:function(e){s.setCacheMinutesToRetry(e)},getCacheMinutesToRetry:function(){return s.getCacheMinutesToRetry()},setCacheMeasurementExpiry:function(e){s.setCacheMeasurementExpiry(e)},getCacheMeasurementExpiry:function(){return s.getCacheMeasurementExpiry()},getCacheFlushingInterval:function(){return s.getCacheFlushingInterval()},setCacheFlushingInterval:function(e){s.setCacheFlushingInterval(e)},setSecure:function(e){s.setSecure(e)},isSecure:function(){return s.isSecure()},getMeasurementLabelOrder:function(){return s.getMeasurementLabelOrder()},setMeasurementLabelOrder:function(e){s.setMeasurementLabelOrder(e)},setAutoStartEnabled:function(e){s.setAutoStartEnabled(e)},isAutoStartEnabled:function(){return s.isAutoStartEnabled()},getVersion:function(){return s.getVersion()},getPlatformAPI:function(){return s.getPlatformAPI()},setPlatformAPI:function(e){s.setPlatformAPI(e)},setOfflineURL:function(e){s.setOfflineURL(e)},clearInternalData:function(){s.clearInternalData()},cacheHttpRedirects:function(){s.cacheHttpRedirects()}};t.exports=a},{5:5,8:8}],3:[function(e,t,n){var i=e(24),r=e(36),o=e(8).TransmissionMode;t.exports=function(e){function t(){e.flush(),p=-1,f=null}function n(){f&&(r.clearTimeout(f),f=null)}function s(e){var i=+new Date;l?(n(),(p<i||p<0||!e)&&(p=i+3e4),f=r.setTimeout(t,p-i)):p<0&&(p=i+3e4)}function a(){var t=r.isConnectionAvailable();t!=u&&((u=t)?e.getOfflineTransmissionMode()!=o.NEVER&&e.getOfflineTransmissionMode()!=o.DISABLED&&s(!1):(n(),p=-1)),l&&(d=r.setTimeout(a,c))}var u,c=1e3,l=!1,f=null,d=null,p=-1;i.extend(this,{start:function(){l=!0,u&&0<p&&s(!0),d=r.setTimeout(a,c)},stop:function(){r.clearTimeout(d),d=null,l=!1,n()}})}},{24:24,36:36,8:8}],4:[function(e,t,n){t.exports={PAGE_NAME_LABEL:"name",P:2048,A:4096,C:"previousVersion",k:["c1","c2","ca2","cb2","cc2","cd2","ns_site","ca_ns_site","cb_ns_site","cc_ns_site","cd_ns_site","ns_vsite","ca_ns_vsite","cb_ns_vsite","cc_ns_vsite","cd_ns_vsite","ns_alias","ca_ns_alias","cb_ns_alias","cc_ns_alias","cd_ns_alias","ns_ap_an","ca_ns_ap_an","cb_ns_ap_an","cc_ns_ap_an","cd_ns_ap_an","ns_ap_pn","ns_ap_pv","c12","ca12","cb12","cc12","cd12","ns_ak","ns_ap_hw","name","ns_ap_ni","ns_ap_ec","ns_ap_ev","ns_ap_device","ns_ap_id","ns_ap_csf","ns_ap_bi","ns_ap_pfm","ns_ap_pfv","ns_ap_ver","ca_ns_ap_ver","cb_ns_ap_ver","cc_ns_ap_ver","cd_ns_ap_ver","ns_ap_sv","ns_ap_bv","ns_ap_cv","ns_ap_smv","ns_type","ca_ns_type","cb_ns_type","cc_ns_type","cd_ns_type","ns_radio","ns_nc","cs_partner","cs_xcid","cs_impid","ns_ap_ui","ca_ns_ap_ui","cb_ns_ap_ui","cc_ns_ap_ui","cd_ns_ap_ui","ns_ap_gs","ns_ap_ie","ns_st_sv","ns_st_pv","ns_st_smv","ns_st_it","ns_st_id","ns_st_ec","ns_st_sp","ns_st_sc","ns_st_psq","ns_st_asq","ns_st_sq","ns_st_ppc","ns_st_apc","ns_st_spc","ns_st_atpc","ns_st_cn","ns_st_ev","ns_st_po","ns_st_cl","ns_st_el","ns_st_sl","ns_st_pb","ns_st_hc","ns_st_mp","ca_ns_st_mp","cb_ns_st_mp","cc_ns_st_mp","cd_ns_st_mp","ns_st_mv","ca_ns_st_mv","cb_ns_st_mv","cc_ns_st_mv","cd_ns_st_mv","ns_st_pn","ns_st_tp","ns_st_ad","ns_st_li","ns_st_ci","ns_st_si","ns_st_pt","ns_st_dpt","ns_st_ipt","ns_st_ap","ns_st_dap","ns_st_et","ns_st_det","ns_st_upc","ns_st_dupc","ns_st_iupc","ns_st_upa","ns_st_dupa","ns_st_iupa","ns_st_lpc","ns_st_dlpc","ns_st_lpa","ns_st_dlpa","ns_st_pa","ns_st_ldw","ns_st_ldo","ns_st_ie","ns_ap_jb","ns_ap_et","ns_ap_res","ns_ap_sd","ns_ap_po","ns_ap_ot","ns_ap_c12m","cs_c12u","ca_cs_c12u","cb_cs_c12u","cc_cs_c12u","cd_cs_c12u","ns_ap_install","ns_ap_updated","ns_ap_lastrun","ns_ap_cs","ns_ap_runs","ns_ap_usage","ns_ap_fg","ns_ap_ft","ns_ap_dft","ns_ap_bt","ns_ap_dbt","ns_ap_dit","ns_ap_as","ns_ap_das","ns_ap_it","ns_ap_uc","ns_ap_aus","ns_ap_daus","ns_ap_us","ns_ap_dus","ns_ap_ut","ns_ap_oc","ns_ap_uxc","ns_ap_uxs","ns_ap_lang","ns_ap_ar","ns_ap_miss","ns_ts","ns_ap_cfg","ns_ap_env","ns_ap_ais","ns_st_ca","ns_st_cp","ns_st_er","ca_ns_st_er","cb_ns_st_er","cc_ns_st_er","cd_ns_st_er","ns_st_pe","ns_st_ui","ca_ns_st_ui","cb_ns_st_ui","cc_ns_st_ui","cd_ns_st_ui","ns_st_bc","ns_st_dbc","ns_st_bt","ns_st_dbt","ns_st_bp","ns_st_lt","ns_st_skc","ns_st_dskc","ns_st_ska","ns_st_dska","ns_st_skd","ns_st_skt","ns_st_dskt","ns_st_pc","ns_st_dpc","ns_st_pp","ns_st_br","ns_st_pbr","ns_st_rt","ns_st_prt","ns_st_ub","ns_st_vo","ns_st_pvo","ns_st_ws","ns_st_pws","ns_st_ki","ns_st_rp","ns_st_bn","ns_st_tb","ns_st_an","ns_st_ta","ns_st_pl","ns_st_pr","ns_st_tpr","ns_st_sn","ns_st_en","ns_st_ep","ns_st_tep","ns_st_sr","ns_st_ty","ns_st_ct","ns_st_cs","ns_st_ge","ns_st_st","ns_st_stc","ns_st_ce","ns_st_ia","ns_st_dt","ns_st_ddt","ns_st_tdt","ns_st_tm","ns_st_dtm","ns_st_ttm","ns_st_de","ns_st_pu","ns_st_ti","ns_st_cu","ns_st_fee","ns_st_ft","ns_st_at","ns_st_pat","ns_st_vt","ns_st_pvt","ns_st_tt","ns_st_ptt","ns_st_cdn","ns_st_pcdn","ns_st_amg","ns_st_ami","ns_st_amp","ns_st_amt","ns_st_ams","ns_ap_i1","ns_ap_i2","ns_ap_i3","ns_ap_i4","ns_ap_i5","ns_ap_i6","ns_ap_referrer","ns_clid","ns_campaign","ns_source","ns_mchannel","ns_linkname","ns_fee","gclid","utm_campaign","utm_source","utm_medium","utm_term","utm_content","ns_ecommerce","ns_ec_sv","ns_client_id","ns_order_id","ns_ec_cur","ns_orderline_id","ns_orderlines","ns_prod_id","ns_qty","ns_prod_price","ns_prod_grp","ns_brand","ns_shop","ns_category","category","ns_c","ns_search_term","ns_search_result","ns_m_exp","ns_m_chs","c3","ca3","cb3","cc3","cd3","c4","ca4","cb4","cc4","cd4","c5","ca5","cb5","cc5","cd5","c6","ca6","cb6","cc6","cd6","c10","c11","c13","c14","c15","c16","c7","c8","c9","ns_ap_er","ns_st_amc"]}},{}],5:[function(e,t,n){var i=e(8).T,r=e(8).N,o=e(4),s=e(26),a=e(17),u=e(8).u,c=e(36),l=e(21),f=e(24),d=e(22),p=e(25),h=e(6),_=e(11),g=e(7),v=e(9),m=e(12).L,E=e(1),y=e(3),b="undefined",S=a.D,A="http://b.scorecardresearch.com/p2?",I="https://sb.scorecardresearch.com/p2?",T="exitCode",P="lastApplicationAccumulationTimestamp",C="lastSessionAccumulationTimestamp",O="lastApplicationSessionTimestamp",w="lastUserSessionTimestamp",N="lastActiveUserSessionTimestamp",R="foregroundTransitionsCount",L="accumulatedForegroundTime",D="accumulatedBackgroundTime",M="accumulatedInactiveTime",B="totalForegroundTime",x="totalBackgroundTime",k="totalInactiveTime",U="accumulatedApplicationSessionTime",V="accumulatedActiveUserSessionTime",G="accumulatedUserSessionTime",F="activeUserSessionCount",j="userSessionCount",H="lastUserInteractionTimestamp",W="userInteractionCount",Y="applicationSessionCountKey",K="genesis",z="previousGenesis",q="installId",Q="firstInstallId",$="currentVersion",X="runs",J="coldStartCount",Z="crossPublisherIdHashed",ee="crossPublisherId";t.exports=function(){function e(e){return ae.has(e)?ae.get(e)+"":null}function t(){var e=+new Date,t=!1;return 18e5<e-je&&(Me=De,De=e,Ve++,t=!0),je=e,t}function n(e){if(rt){e=typeof e===b||e;var t=+new Date,n=t-Be;switch(lt){case i.H:Re+=n,Ce+=n;break;case i.Y:Ne+=n,Oe+=n;break;case i.R:Le+=n,we+=n}Be=t,e&&(ae.set(P,Be+""),ae.set(R,Pe+""),ae.set(L,Re+""),ae.set(D,Ne+""),ae.set(M,Le+""),ae.set(B,Ce+""),ae.set(x,Oe+""),ae.set(k,we+""))}}function a(e){if(rt){e=typeof e===b||e;var t=+new Date,n=t-ze;switch(ft){case r.F:Ue+=n,We=t;case r.G:ke+=n,He=t;case r.K:xe+=n,je=t;break;case r.R:}ze=t,e&&(ae.set(C,ze+""),ae.set(O,je+""),ae.set(w,He+""),ae.set(N,We+""),ae.set(U,xe+""),ae.set(V,Ue+""),ae.set(G,ke+""),ae.set(F,Fe+""),ae.set(j,Ge+""),ae.set(H,Ke+""),ae.set(W,Ye+""),ae.set(z,Me+""),ae.set(K,De+""),ae.set(Y,Ve+""))}}function te(){if(rt){var e,o,s=+new Date;e=0<Ie?i.H:0<Te?i.Y:i.R,o=s-Ke<3e5?r.F:0<Te?r.G:0<Ie?r.K:r.R;var l,f=lt,d=ft;if(e!=f||o!=d){var p=!1;f!=e&&(function(e){if(rt)switch(e){case i.R:le.J(!1),ue.X(),ue.Z(),fe.start(),ce.start();break;case i.Y:re();break;case i.H:st.nn(null),re()}}(lt),function(e){if(rt)switch(e){case i.R:fe.stop(),ue.pause(),ce.stop(),re(),le.J(!0);break;case i.Y:at||ie();break;case i.H:ie(),Pe++}}(e),n(),lt=e,p=!0),d!=o&&(function(e){if(rt){var n=+new Date;switch(e){case r.F:null!=qe&&(c.clearTimeout(qe),qe=null),We=n;case r.G:He=n;case r.K:je=n;break;case r.R:t()||(xe+=n-ze)}}}(ft),function(e){if(rt)switch(e){case r.F:3e5<=(i=+new Date)-We&&Fe++,We=i,st.j();case r.G:3e5<=(n=+new Date)-He&&Ge++,He=n;case r.K:t();break;case r.R:}var n,i}(o),a(),ft=o),p&&(l=lt,rt&&l!=i.R&&st.isAutoStartEnabled()&&!ut&&st.s(u.l,it))}}}function ne(e,t){rt&&(l.tn(e)?(t=l.tn(t)?"-cs"+t:"",$e=e+t):null==$e&&gt&&($e=d(c.getVisitorId()+st.g()),"function"==typeof c.getVisitorIdSuffix&&null!=c.getVisitorIdSuffix()&&($e=$e+"-cs"+c.getVisitorIdSuffix())),ae.set("vid",$e+""))}function ie(){if(rt){re();var e=function(){st.update(),null!=pe&&c.setTimeout(e,_e)};pe=c.setTimeout(e,_e)}}function re(){rt&&null!=pe&&(c.clearTimeout(_e),pe=null)}function oe(){return!gt||null==Ze||0===Ze.length||null==Qe||0===Qe.length}var se,ae,ue,ce,le,fe,de,pe,he,_e,ge,ve,me,Ee,ye,be,Se,Ae,Ie,Te,Pe,Ce,Oe,we,Ne,Re,Le,De,Me,Be,xe,ke,Ue,Ve,Ge,Fe,je,He,We,Ye,Ke,ze,qe,Qe,$e,Xe,Je,Ze,et,tt,nt,it,rt,ot,st=this,at=!0,ut=!1,ct=!0,lt=i.R,ft=r.R,dt=!1,pt=!1,ht=!1,_t=!0,gt=!1,vt=0;f.extend(st,{isProperlyInitialized:function(){return!oe()},reset:function(){rt&&(de.reset(),lt=i.R,ft=r.R,ut=!1,Se=be=null,tt=Ye=Me=ke=Ue=xe=Le=Re=Ne=we=Oe=Ce=Te=Ie=me=ge=0,pt=dt=!(ye=Ee=We=He=je=ze=Be=Ke=Ge=Fe=De=Ee=ye=ve=-1),st.disableAutoUpdate(),null!=qe&&(c.clearTimeout(qe),qe=null),null!=ue&&ue.cancel(),null!=ce&&ce.stop(),null!=le&&(le.en(),le=new g(st)))},M:function(e){ae=e||new c.Storage},O:function(e){se=e||new m(st)},W:function(e){ce=e||new E(st)},V:function(e){fe=new y(st)},in:function(){var t=e("AppName");null!=t&&st.setAppName(t);var n=e("AppVersion");null!=n&&st.setAppVersion(n)},rn:function(){rt&&ae.has("vid")&&($e=ae.get("vid"))},un:function(){rt&&(ge++,ae.set(X,ge+""))},sn:function(){return!ut&&(ut=!0,me++,ae.set(J,me+""),ve=+new Date,!0)},j:function(){rt&&(null!=qe&&(c.clearTimeout(qe),qe=null),qe=c.setTimeout(function(){null!=qe&&(c.clearTimeout(qe),qe=null),te()},3e5))},I:function(){return se},an:function(){return fe},t:function(){return ae},fn:function(){return le},S:function(){return ue},cn:function(){return ce},ln:function(){return de},onUxActive:function(){rt&&(oe()||(Ge<0&&(Ge=0),Te++,te()))},onUxInactive:function(){rt&&(oe()||0<Te&&(Te--,te()))},onEnterForeground:function(){rt&&(oe()||(Ie++,te()))},onExitForeground:function(){rt&&(oe()||0<Ie&&(Ie--,te()))},onUserInteraction:function(){rt&&(oe()||(Ge<0&&(Ge=0),Fe<0&&(Fe=0),Ke=+new Date,Ye++,ft!=r.F?te():st.j()))},pn:function(){return lt},vn:function(){return ft},dn:function(){return ge},hn:function(){return Ee},_n:function(){return ye},gn:function(){return ve},mn:function(){return me},wn:function(){return Se},yn:function(e){Se=e},bn:function(e){var t=Pe;return(e=typeof e===b||e)&&(Pe=0,ae.set(R,Pe+"")),t},In:function(e){var t=Ce;return(e=typeof e===b||e)&&(Ce=0,ae.set(B,Ce+"")),t},Sn:function(e){var t=Re;return(e=typeof e===b||e)&&(Re=0,ae.set(L,Re+"")),t},Pn:function(e){var t=Oe;return(e=typeof e===b||e)&&(Oe=0,ae.set(x,Oe+"")),t},An:function(e){var t=Ne;return(e=typeof e===b||e)&&(Ne=0,ae.set(D,Ne+"")),t},Cn:function(e){var t=we;return(e=typeof e===b||e)&&(we=0,ae.set(k,we+"")),t},kn:function(e){var t=Le;return(e=typeof e===b||e)&&(Le=0,ae.set(M,Le+"")),t},En:function(e){var t=xe;return(e=typeof e===b||e)&&(xe=0,ae.set(U,xe+"")),t},Tn:function(e){var t=Ue;return(e=typeof e===b||e)&&(Ue=0,ae.set(V,Ue+"")),t},Nn:function(e){var t=ke;return(e=typeof e===b||e)&&(ke=0,ae.set(G,ke+"")),t},Ln:function(){return _e},Dn:function(e){var t=Ve;return(e=typeof e===b||e)&&(Ve=0,ae.set(Y,Ve+"")),t},Rn:function(e){e=typeof e===b||e;var t=-1;return 0<=Fe&&(t=Fe,e&&(Fe=0,ae.set(F,Fe+""))),t},Mn:function(e){e=typeof e===b||e;var t=-1;return 0<=Ge&&(t=Ge,e&&(Ge=0,ae.set(j,Ge+""))),t},On:function(e){var t=Ye;return(e=typeof e===b||e)&&(Ye=0,ae.set(W,Ye+"")),t},setAppContext:function(){gt||(c.autoDetect(),st.M(),le=new g(st),ue=new v(st),st.O(),st.W(),st.V(),he=new _(st),de=new h,function(){Be=s.o(ae.get(P),-1),ze=s.o(ae.get(C),-1),je=s.o(ae.get(O),-1),He=s.o(ae.get(w),-1),We=s.o(ae.get(N),-1),Pe=s.U(ae.get(R)),Re=s.o(ae.get(L)),Ne=s.o(ae.get(D)),Le=s.o(ae.get(M)),Ce=s.o(ae.get(B)),Oe=s.o(ae.get(x)),we=s.o(ae.get(k)),xe=s.o(ae.get(U)),Ue=s.o(ae.get(V)),ke=s.o(ae.get(G)),Fe=s.U(ae.get(F),-1),Ge=s.U(ae.get(j),-1),Ke=s.o(ae.get(H),-1),Ye=s.U(ae.get(W),0),Ve=s.U(ae.get(Y),0),tt=ae.get(T)?parseInt(ae.get(T)):0,be=c.getAppVersion(),Me=s.o(ae.get(z),0),(De=s.o(ae.get(K),-1))<0?(De=+new Date,Me=0,je=De,Ve++):(t()||(xe+=+new Date-ze,ae.set(U,xe+"")),je=De),(ye=s.o(ae.get(Q),-1))<0?(Ee=ye=De,be&&be!=S&&ae.set($,be+""),ae.set(Q,ye+""),ae.set(q,Ee+"")):st.setAppVersion(be),ae.set(K,De+""),ae.set(z,Me+""),st.B(De);var e=+new Date;if(0<=Be){var n=e-Be;Le+=n,ae.set(M,Le+""),we+=n,ae.set(k,we+"")}ze=Be=e,ae.set(P,Be+""),ae.set(C,ze+""),ae.set(O,je+""),ae.has(X)||ae.set(X,"0"),ge=s.U(ae.get(X)),me=s.U(ae.get(J))}(),st.in(),st.rn(),gt=!0)},setEnabled:function(e){rt&&null!=e&&!e&&(rt=!1,ce.stop(),fe.stop(),ue.pause())},getEnabled:function(){return rt},Wn:function(){return{}},Vn:function(){return Ae},nn:function(e){Ae=e},setPixelURL:function(e){if(rt){if(null==e||0===e.length)return null;dt=!0;var t=e.indexOf("?");if(0<=t){if(t<e.length-1){for(var n=e.substring(t+1).split("&"),i=0,r=n.length;i<r;i++){var s=n[i].split("=");2==s.length?st.setLabel(s[0],s[1]):1==s.length&&st.setLabel(o.PAGE_NAME_LABEL,s[0])}e=e.substring(0,t+1)}}else e+="?";return Qe=e}},setKeepAliveEnabled:function(e){rt&&ue.xn(e)},getPixelURL:function(){return Qe},getCrossPublisherId:function(){return Xe},isCrossPublisherIdChanged:function(){return c.isCrossPublisherIdChanged()||ht},getVisitorId:function(){return null==$e&&ne(),$e},setVisitorId:ne,Un:function(){var e=(c.getCrossPublisherId()||"null").split(" "),t=e[0]&&"null"!=e[0]?e[0]:null,n="true"==e[1];if(null!=t){Xe||(Je=ae.get(Z),Xe=ae.get(ee));var i=null;Xe?"none"==t&&"none"==Xe||!_t&&"none"==Xe||"none"!=t&&(i=d(t))==Je||(Xe=n?"none"==t?(Je=null,"none"):(Je=i,p(t)):(ht=!0,_t&&"none"!=t?(Je=d(t),p(t)):(Je=null,"none")),ae.set(ee,Xe),null==Je?ae.remove(Z):ae.set(Z,Je)):(Xe="none"==t?(Je=null,"none"):(Je=d(t),p(t)),ae.set(ee,Xe),null==Je?ae.remove(Z):ae.set(Z,Je)),_t=!1}else Xe=Je=null},m:function(e){return null==e||0===e.length||(Ze=e),st},g:function(){return null==Ze&&(Ze=""),Ze},setAppName:function(e){rt&&(et=e)},getAppName:function(){return null!=et&&0!==et.length||st.setAppName(c.getAppName()),et},setAppVersion:function(e){var t;ae&&(e&&e!=S?(ae.has(o.C)&&(Se=ae.get(o.C)+""),ae.has($)&&(t=ae.get($)+""),t&&t!==e?(Se=t,ae.set(o.C,Se+""),Ee=De,ae.set(q,Ee+"")):Ee=s.o(ae.get(q),-1),ae.set($,e+"")):Ee=s.o(ae.get(q),-1)),be=e},getAppVersion:function(){return be},getVersion:function(){return"6.2.3.180328"},getGenesis:function(){return De},Bn:function(){return Me},B:function(e){ae.set(T,e.toString(10))},Fn:function(){return tt},getLabels:function(){return nt},setLabels:function(e){if(rt)for(var t in e)e.hasOwnProperty(t)&&st.setLabel(t,e[t])},getLabel:function(e){return nt[e]},setLabel:function(e,t){rt&&(!e||t?nt[e]=t:delete nt[e])},setAutoStartLabels:function(e){rt&&null!=e&&f.extend(it,e)},getAutoStartLabel:function(e){return it[e]},getAutoStartLabels:function(){return it},setAutoStartLabel:function(e,t){rt&&(it[e]=t)},getCustomerC2:function(){return nt.c2},setCustomerC2:function(e){if(rt&&null!=e&&0!==e.length){var t=de.isSecure()?I:A;st.setPixelURL(t),dt=!1,st.setLabel("c2",e)}},getLiveTransmissionMode:function(){return de.getLiveTransmissionMode()},allowLiveTransmission:function(e){rt&&de.getLiveTransmissionMode()!=e&&de.allowLiveTransmission(e)},getOfflineTransmissionMode:function(){return de.getOfflineTransmissionMode()},allowOfflineTransmission:function(e){rt&&de.getOfflineTransmissionMode()!=e&&de.allowOfflineTransmission(e)},setSecure:function(e){rt&&(this.getCustomerC2()||(pt=!0,de.isSecure()!=e&&de.setSecure(e)))},jn:function(e){if(!pt&&(de.setSecure(!!e),null!=le&&le.Gn(h.Kn,!!e),st.getCustomerC2()&&!dt)){var t=de.isSecure()?I:A;st.setPixelURL(t),dt=!1}},setAutoStartEnabled:function(e){rt&&(ct=e)},isAutoStartEnabled:function(){return ct},isSecure:function(){return de.isSecure()},setCacheMaxMeasurements:function(e){null!=se&&se.setCacheMaxMeasurements(e)},getCacheMaxMeasurements:function(){return null!=se?se.getCacheMaxMeasurements():m.qn},setCacheMaxBatchFiles:function(e){null!=se&&se.setCacheMaxBatchFiles(e)},getCacheMaxBatchFiles:function(){return null!=se?se.getCacheMaxBatchFiles():m.Hn},setCacheMaxFlushesInARow:function(e){null!=se&&se.Yn(e)},getCacheMaxFlushesInARow:function(){return null!=se?se.Jn():m.zn},setCacheMinutesToRetry:function(e){null!=se&&se.Qn(e)},getCacheMinutesToRetry:function(){return null!=se?se.Xn():m.Zn},setCacheMeasurementExpiry:function(e){null!=se&&se.setCacheMeasurementExpiry(e)},getCacheMeasurementExpiry:function(){return null!=se?se.getCacheMeasurementExpiry():m.$n},getCacheFlushingInterval:function(){return vt},setCacheFlushingInterval:function(e){rt&&vt!=e&&(vt=e,null!=ce&&ce.update())},getMeasurementLabelOrder:function(){return de.getMeasurementLabelOrder()},setMeasurementLabelOrder:function(e){rt&&e!=de.getMeasurementLabelOrder()&&de.setMeasurementLabelOrder(e)},flush:function(){se.flush(de,function(){})},update:function(e){rt&&(n(e=typeof e===b||e),a(e))},enableAutoUpdate:function(e,t){rt&&(e=e||60,re(),e<60&&(e=60),at=t,_e=1e3*e,lt==i.H?ie():lt!=i.Y||at||ie())},disableAutoUpdate:function(){rt&&(re(),at=!0,_e=-1)},isAutoUpdateEnabled:function(){return 0<_e},s:function(e,t){rt&&(oe()||(ut||e==u.l||he.send(u.l,{},dt?Qe:null),e==u.h?(st.B(0),st.update(!0)):he.send(e,t,dt?Qe:null)))},nt:function(e,t){he.send(u.HIDDEN,e,t)},setOfflineURL:function(e){rt&&se.tt(e)},getPlatformAPI:function(){return c},setPlatformAPI:function(e){c.setPlatformAPI(e)},et:function(){return he},clearInternalData:function(){ae&&ae.clear()},cacheHttpRedirects:function(e){ot=e},it:function(){return ot}}),de=new h,nt={},it={},ot=rt=!0,st.reset()}},{1:1,11:11,12:12,17:17,21:21,22:22,24:24,25:25,26:26,3:3,36:36,4:4,6:6,7:7,8:8,9:9}],6:[function(e,t,n){function i(){var e,t,n,i;r.extend(this,{reset:function(){e=o.DEFAULT,t=o.DEFAULT,n=s.isConnectionSecure(),i=a.k},rt:function(r){e=r.getLiveTransmissionMode(),t=r.getOfflineTransmissionMode(),i=r.getMeasurementLabelOrder(),n=r.isSecure()},ot:function(e,t){switch(e){case 0:this.allowLiveTransmission(t);break;case 1:this.allowOfflineTransmission(t);break;case 2:this.setSecure(t);break;case 3:this.setMeasurementLabelOrder(t)}},getLiveTransmissionMode:function(){return e},allowLiveTransmission:function(t){null!=t&&(e=t)},getOfflineTransmissionMode:function(){return t},allowOfflineTransmission:function(e){null!=e&&(t=e)},isSecure:function(){return n},setSecure:function(e){n=e},getMeasurementLabelOrder:function(){return i},setMeasurementLabelOrder:function(e){null!=e&&0<e.length&&(i=e)}}),this.reset()}var r=e(24),o=e(8).TransmissionMode,s=e(36),a=e(4);i.ut=0,i.st=1,i.Kn=2,i.at=3,t.exports=i},{24:24,36:36,4:4,8:8}],7:[function(e,t,n){var i=e(24),r=e(13),o="q_dcf",s="q_dcc";t.exports=function(e){function t(e){return e-l<1e3&&20<=c}function n(e){return e-d<864e5&&6e3<=f}function a(t){864e5<t-d&&(f=0,d=t),1e3<t-l&&(c=0,l=t),f++,c++;var n=e.t();n.set(s,f+""),n.set(o,d+"")}function u(){var i,o=+new Date;if(g)for(;_.length;){var s=_.shift();c=s,e.I().ft(c)}else{for(var c,f,h;_.length&&!t(h=o)&&!n(h);)a(o),s=_.shift(),f=s,new r(e,e.ln(),f).send();i=o,_.length&&(p||(t(i)?p=e.getPlatformAPI().setTimeout(function(){p=null,u()},l+1e3-i):n(i)&&(p=e.getPlatformAPI().setTimeout(function(){p=null,u()},d+864e5-i))))}}var c,l,f,d,p,h,_=[],g=!1;i.extend(this,{ct:function(t){e.getEnabled()&&(_.push(t),u())},en:function(){e.getPlatformAPI().clearTimeout(p),_.length=0},J:function(t){g=t,e.getPlatformAPI().clearTimeout(p),u()}}),d=(h=e.t()).has(s)&&h.has(o)?(f=parseInt(h.get(s)),parseInt(h.get(o))):(f=0,+new Date),c=0,l=+new Date}},{13:13,24:24}],8:[function(e,t,n){var i={DEFAULT:0,NEVER:1,WIFIONLY:2,PIGGYBACK:3,DISABLED:4,valueOf:function(e){return null==e||"DEFAULT"==e?i.DEFAULT:"NEVER"==e?i.NEVER:"WIFIONLY"==e?i.WIFIONLY:"PIGGYBACK"==e?i.PIGGYBACK:"DISABLED"==e?i.DISABLED:void 0}};n.TransmissionMode=i,n.N={R:0,K:1,G:2,F:3},n.T={R:0,Y:1,H:2},n.u={l:"start",v:"view",h:"close",_:"aggregate",HIDDEN:"hidden",KEEPALIVE:"keep-alive"}},{}],9:[function(e,t,n){var i=e(36),r=e(8).u,o=e(24);t.exports=function(e){function t(){u=+new Date+l,n()}function n(){e.et().send(r.KEEPALIVE)}var s=this,a=null,u=NaN,c=!0,l=864e5;o.extend(s,{xn:function(e){(c=e)?(s.X(),s.Z()):s.cancel()},isEnabled:function(){return c},Z:function(){c&&(s.cancel(),u=+new Date+l,a=i.setInterval(t,l))},X:function(){if(c){var e=+new Date;u&&u<=e&&n()}},pause:function(){s.cancel()},cancel:function(){a&&(i.clearInterval(a),a=null)}})}},{24:24,36:36,8:8}],10:[function(e,t,n){function i(e){var t,n={};s.extend(this,{pt:function(e){delete n[e]},vt:function(e){if(null!=e)for(var t in e)e.hasOwnProperty(t)&&this.setLabel(t,e[t])},setLabel:function(e,t){n[e]=t},getLabel:function(e){return n[e]},getLabels:function(){return n},dt:function(e){return n.hasOwnProperty(e)},ht:function(e){for(var t=[],i=s.extend({},n),r=0,o=e.length;r<o;r++){var a=e[r],u=i[a];null!=u&&""!==u&&(t.push("&",h(a),"=",h(u)),delete i[a])}for(var c in i)if(i.hasOwnProperty(c)){var l=i[c];null!=l&&""!==l&&t.push("&",h(c),"=",h(i[c]))}return 0<(t=t.join("")).length&&"&"==t.charAt(0)?t.substring(1):t},setPixelURL:function(e){t=e},getPixelURL:function(){return t}}),e&&this.setPixelURL(e.getPixelURL())}function r(e,t,n,r){if(i.call(this,e),e){null!=n&&this.setPixelURL(n),this.setLabel("c1","19"),this.setLabel("ns_ap_an",_(e.getAppName())),this.setLabel("ns_ap_pn",_(l.getPlatformName())),this.setLabel("ns_ap_pv",_(l.getRuntimeVersion())),this.setLabel("c12",e.getVisitorId()),e.Un();var o=e.getCrossPublisherId();o&&(this.setLabel("ns_ak",o),e.isCrossPublisherIdChanged()&&this.setLabel("ns_ap_ni","1")),this.setLabel("ns_ap_device",_(l.getDeviceModel())),this.setLabel("ns_ap_ar",_(l.getDeviceArchitecture())),this.setLabel("ns_radio",_(l.getConnectionType())),this.setLabel("ns_type",g(t)),this.setLabel("ns_nc","1"),this.setLabel("ns_ap_pfv",_(l.getPlatformVersion())),this.setLabel("ns_ap_pfm",_(l.getRuntimeName())),this.setLabel("ns_ap_ev",t),this.setLabel("ns_ap_ver",_(e.getAppVersion())),this.setLabel("ns_ap_sd",l.getDisplayResolution()),this.setLabel("ns_ap_res",l.getApplicationResolution()),this.setLabel("ns_ap_lang",l.getLanguage()),this.setLabel("ns_ap_sv",e.getVersion()),t==u.KEEPALIVE&&this.setLabel("ns_ap_oc",e.I()._t()+"");var s=e.gn(),a=e.mn();this.setLabel("ns_ap_id",s+""),this.setLabel("ns_ap_cs",a+""),this.setLabel("ns_ap_bi",l.getPackageName()),this.setLabel("ns_ap_jb",_(l.getDeviceJailBrokenFlag()))}}function o(e,t,n,i){r.call(this,e,t,n,i),this.setLabel("ns_ap_gs",e._n()+""),this.setLabel("ns_ap_install",e.hn()+""),this.setLabel("ns_ap_runs",e.dn()+""),i&&this.setLabel("ns_ap_csf","1"),this.setLabel("ns_ap_lastrun",e.Bn()+"");var o=e.Fn();0<o&&this.setLabel("ns_ap_miss",o.toString());var s=e.wn();s&&(this.setLabel("ns_ap_updated",s+""),e.t().remove(f.C),e.yn(null)),this.setLabel("ns_ap_jb",_(l.getDeviceJailBrokenFlag()))}var s=e(24),a=e(21),u=e(8).u,c=e(17),l=e(36),f=e(4),d="undefined",p=c.D,h=typeof encodeURIComponent!=d?encodeURIComponent:escape,_=function(e){return a.lt(e)?e:p},g=function(e){return e==u.l||e==u.h||e==u.v?u.v:u.HIDDEN};r.gt=function(e,t){var n=t.wt,i=t.yt,r=t.bt;if(i=typeof i===d||i,r=typeof r===d||r,e.update(r),r){var o=e.bn(),s=e.In(n),a=e.Sn(i),u=e.Pn(n),c=e.An(i),l=e.Cn(n),f=e.kn(i),p=e.En(i),h=e.Tn(i),_=e.Nn(i),g=e.Ln(),v=e.Dn(i),m=e.Rn(i),E=e.Mn(i),y=e.On(i);t.labels.ns_ap_fg=o+"",t.labels.ns_ap_ft=s+"",t.labels.ns_ap_dft=a+"",t.labels.ns_ap_bt=u+"",t.labels.ns_ap_dbt=c+"",t.labels.ns_ap_it=l+"",t.labels.ns_ap_dit=f+"",t.labels.ns_ap_ut=g+"",t.labels.ns_ap_as=v+"",t.labels.ns_ap_das=p+"",0<=m&&(t.labels.ns_ap_aus=m+"",t.labels.ns_ap_daus=h+"",t.labels.ns_ap_uc=y+""),0<=E&&(t.labels.ns_ap_us=E+"",t.labels.ns_ap_dus=_+""),t.labels.ns_ap_usage=t.It-e.getGenesis()+""}t.labels.ns_ts=t.It+""},r.prototype=new i,r.St=function(e,t,n,i){var r=e.et(),o=r.Pt(t,n,i);return r.At(o)},o.prototype=new r,t.exports.Ct=i,t.exports.kt=r,t.exports.Et=o},{17:17,21:21,24:24,36:36,4:4,8:8}],11:[function(e,t,n){var i=e(10).kt,r=e(10).Et,o=e(36),s=e(8).u,a=e(8).T,u=e(4),c=e(14).Tt;t.exports=function(e){var t=this,n=0,l=[],f=!1,d=0,p={};t.Nt=function(){n++;var e=!1;return function(i){e||(e=!0,n--,i&&t.Lt())}},t.Dt=function(){if(!f){var e=t.Nt();f=!0,o.onDataFetch(function(){e(!(f=!1))},function(){e(f=!1)})}},t.Lt=function(){if(!(0<n)){for(var e=0;e<l.length;++e){var i=l[e],r=t.At(i);t.Rt(i,r)}l.length=0}},t.Mt=function(e){l.push(e),t.Dt()},t.Rt=function(t,n){e.fn().ct(n),e.S().Z()},t.send=function(e,n,i){if(e!=s._){var r=t.Pt(e,n,i);t.Mt(r)}else t.Ot(n)},t.Pt=function(t,n,r){var o={It:+new Date,Wt:t,Vt:r,wt:!1,yt:void 0,bt:void 0,labels:{}};return d++,o.labels.ns_ap_ec=d+"",t==s.l?(e.un(),o.wt=e.sn()):(o.yt=!(null!=n&&n.hasOwnProperty("ns_st_ev")&&"hb"==n.ns_st_ev),o.bt=!(null!=n&&n.hasOwnProperty("ns_st_ev"))),o.xt=e.getLabels(),o.Ut=n,null!=e.Vn()?o.Bt=e.Vn():t==s.l?o.Bt="start":e.pn()==a.H?o.Bt="foreground":o.Bt="background",i.gt(e,o),o},t.At=function(t){var n=null,a=t.Wt,c=t.Vt,l=t.wt;return(n=a===s.l?new r(e,a,c,l):new i(e,a,c,l)).vt(t.labels),n.vt(t.xt),n.vt(t.Ut),n.dt(u.PAGE_NAME_LABEL)||n.setLabel(u.PAGE_NAME_LABEL,t.Bt),o.processMeasurementLabels(n),n.vt(p),p={},n},t.Ot=function(e){c(p,e)}}},{10:10,14:14,36:36,4:4,8:8}],12:[function(e,t,n){function i(e,t){function n(){L=0,null!=C&&(C=null)}function i(){for(var e,n=h(),i=!1,r=n.length;0<r;r--){var o=(e=n[r-1],Number(e.substring(t.length)));i?g(n[r-1],!0):i=E(o)}}function p(t){if(e.getEnabled()){var n=e.t();n.has(d)&&(t+=Number(n.get(d))),n.set(d,t+"")}}function h(){return null==P&&(P=f.Gt()),P}function _(i){var r=t+l.Kt(i,"ns_ts");f.qt(e,r,i),null==P&&(P=[]),P.push(r),n()}function g(t,n){if(null!=t){n&&(r=t,(o=e.t()).has(r)&&p(Number(o.get(r)))),f.deleteFile(e,t);var i=a.indexOf(t,P);0<=i&&P.splice(i,1)}var r,o}function v(){return null!=P&&0<P.length?P[P.length-1]:null}function m(t){var n=e.t(),i=0;return null!=t&&(i=n.has(t)?Number(n.get(t)):f.Ht(e,t).length),i}function E(e){var t=+new Date;return 24*T*60*60*1e3-(t-e)<=0}function y(t,i){var o=e.t();if(function(){if(e.getEnabled()&&r.isConnectionAvailable()&&!R.jt()&&null!=e.getCustomerC2()){if(!(A<=O))return!0;if(1e3*I*60-(+new Date-w)<=0)return!(w=O=0)}return!1}()){var a=null,c=null;if(null==C&&null!=(a=function(t){for(var n=0,i=f.Ht(e,t),r=!1;n<i.length&&!(r=!E(Number(l.Kt(i[n],"ns_ts"))));n++);return i=r?(p(n),i.slice(n,i.length)):(g(t,!0),null)}(c=v()))&&0<a.length){var h=o.has(d)?o.get(d):"0";C=l.Yt(a,h)}if(null!=C&&0<C.length)return void r.httpPost(function(t){var n,i=!0;-1==(n=s.tn(N)&&s.lt(N)?N:t.isSecure()?"https://udm.scorecardresearch.com/offline":"http://udm.scorecardresearch.com/offline").indexOf("?")&&(n+="?",i=!1);var r=e.getCustomerC2();s.lt(r)&&(i&&(n+="&"),n+="c2="+r,i=!0);var o="JetportGotAMaskOfThe"+e.g()+"S.D_K-";return o=u(o),s.lt(o)&&(i&&(n+="&"),n+="s="+o),n.toLowerCase()}(t),C,function(e){if(200==e)return O++,g(c,!1),n(),w=+new Date,o.remove(d),void r.setTimeout(function(){y(t,i)},0);i()})}i()}var b,S,A,I,T,P,C,O,w,N,R=this,L=0;t=t||"cs_cache_",o.extend(this,{flush:function(t,n){e.getEnabled()&&(i(),1e3*I*60-(+new Date-L)<=0?(L=0,y(t,n)):n())},setCacheMaxMeasurements:function(e){b=e},getCacheMaxMeasurements:function(){return b},setCacheMaxBatchFiles:function(e){e<=0||(S=e)},getCacheMaxBatchFiles:function(){return S},Yn:function(e){A=e},Jn:function(){return A},Qn:function(e){I=e},Xn:function(){return I},setCacheMeasurementExpiry:function(e){T=e},getCacheMeasurementExpiry:function(){return T},ft:function(t){if(e.getEnabled()){var i=e.ln();if("string"!=typeof t&&(t=t.ht(i.getMeasurementLabelOrder())),i.getOfflineTransmissionMode()!=c.DISABLED&&null!=e.getCustomerC2()&&s.lt(l.Kt(t,"ns_ts"))){var r=v();null!=r?m(r)<this.getCacheMaxBatchFiles()?(t="\n"+t,f.qt(e,r,t),n()):(h().length>=this.getCacheMaxMeasurements()/this.getCacheMaxBatchFiles()&&g(null!=P&&0<P.length?P[0]:null,!0),_(t)):_(t)}}},_t:function(){var e=m(v());return 0<h().length&&(e+=(h().length-1)*this.getCacheMaxBatchFiles()),e},jt:function(){return 0==this._t()},clear:function(){for(var t=h(),n=t.length;0<n;n--)g(t[n-1],!0);e.t().remove(d)},tt:function(e){N=e}}),this.setCacheMaxMeasurements(2e3),this.setCacheMaxBatchFiles(100),this.Yn(10),this.Qn(30),this.setCacheMeasurementExpiry(31),i()}var r=e(36),o=e(24),s=e(21),a=e(19),u=e(22),c=e(8).TransmissionMode,l=e(15),f=e(14).Ft,d="CACHE_DROPPED_MEASUREMENTS";i.qn=2e3,i.Hn=100,i.zn=10,i.Zn=30,i.$n=31,n.L=i},{14:14,15:15,19:19,21:21,22:22,24:24,36:36,8:8}],13:[function(e,t,n){var i=e(24),r=e(20),o=e(36),s=e(4),a=e(8).TransmissionMode;t.exports=function(e,t,n,u){function c(t){200!=t&&(302!=t&&301!=t||e.it())&&e.I().ft(p.ht(d.getMeasurementLabelOrder()),d),u&&u()}function l(){var e=f.process(p.getPixelURL());o.httpGet(e,c)}var f=this,d=t,p=n;i.extend(f,{process:function(e){e+=p.ht(d.getMeasurementLabelOrder());var t=r.Jt()?s.A:s.P;if(e.length>t&&0<e.indexOf("&")){var n=e.substring(0,t-8).lastIndexOf("&"),i=encodeURIComponent(e.substring(n+1));e=e.substring(0,n)+"&ns_cut="+i}return e.length>t&&(e=e.substring(0,t)),e},send:function(){var t=d.getLiveTransmissionMode();return t==a.NEVER||t==a.DISABLED?(e.I().ft(p.ht(d.getMeasurementLabelOrder()),d),u&&u()):d.getOfflineTransmissionMode()!=a.NEVER&&0<e.I()._t()?e.I().flush(d,l):l(),!0}})}},{20:20,24:24,36:36,4:4,8:8}],14:[function(e,t,n){function i(e){return!((e+="").indexOf(",")<0)&&e.indexOf(" ")<0}function r(e){return!isNaN(parseInt(e))&&isFinite(e)}function o(e,t){for(var n=t,i=e.split(","),r=0,o=i.length;r<o;r++){var s=i[r];if(0<s.length)if(n.indexOf(s)<0)0==n.length?n+=s+":1":n+=";"+s+":1";else for(var a=n.split(";"),u=0,c=a.length;u<c;u++)if(0<=a[u].indexOf(s)){var l=a[u].split(":"),f=Number(l[1]);f++;var d=l[0]+":"+f,p=n.indexOf(a[u]);n=n.substring(0,p)+d+n.substring(p+a[u].length)}}return n}var s=e(36),a="cache_dir",u={Gt:function(){return s.IO.dir(a)||[]},qt:function(e,t,n){var i=e.t(),r=Number(i.get(t))||0;s.IO.append(a,t,n),r++,i.set(t,r+"")},deleteFile:function(e,t){s.IO.deleteFile(a,t),e.t().remove(t)},Ht:function(e,t){var n=s.IO.read(a,t);return n?n.split("\n"):[]}};n.Tt=function(e,t){for(var n in t)if(t.hasOwnProperty(n)){var s=e[n],a=t[n];null==s?i(a)?e[n]=o(a,""):e[n]=a:r(s)&&r(a)?e[n]=parseInt(s)+parseInt(a)+"":i(a)?e[n]=o(a,s):(u=a,0<=s.indexOf(u)||(e[n]=s+","+a))}var u},n.Ft=u},{36:36}],15:[function(e,t,n){function i(e,t){u=c=-1;var n=0;do{if(0<=(n=e.indexOf(t,n))){var i=n+t.length;if((0==n||"&"==e.charAt(n-1))&&i<e.length&&"="==e.charAt(i))return u=i+1,void(-1==(c=e.indexOf("&",u))&&(c=e.length));n=i+1}}while(0<=n&&n<e.length)}function r(e,t){var n=0;if(i(e,"ns_ts"),-1!=u&&u<c){t.push('<event t="',e.substring(u,c),'">');for(var r,o,l=0,p=0;l<e.length;){if(-1==(r=e.indexOf("&",l))&&(r=e.length),l<r&&l<(o=e.indexOf("=",l))){var h=!0;if(n!=d)for(var _=0,g=f.length;_<g;_++){var v=1<<_;if(0==(n&v)&&f[_].length==o-l&&s.zt(f[_],0,e,l,f[_].length)){h=!1,n|=v;break}}h&&(0<p&&(a.push("&"),t.push("&")),a.push(e.substring(l,r)),t.push(e.substring(l,r)),p++)}l=r+1}t.push("</event>")}}var o=e(22),s=e(21),a=[],u=-1,c=-1,l=["c12","c1","ns_ap_an","ns_ap_pn","ns_ap_pv","ns_ap_device","ns_ak"],f=["c12","c1","ns_ap_an","ns_ap_pn","ns_ap_pv","ns_ap_device","ns_ts","ns_ak"],d=(1<<f.length)-1,p=-1,h={Yt:function(e,t){var n,f,d=['<?xml version="1.0" encoding="UTF-8" ?>'];return function(e,t,n){var r,o,s,a=+new Date+"";e.push('<events t="',a,'" ');for(var f=0,d=l.length;f<d;f++)r=e,i(o=t,s=l[f]),-1!=u&&u<c&&r.push(s,'="',o.substring(u,c),'" ');e.push('dropped="',n,'" md5="','">'),p=e.length-1}(d,e[0],t),function(e,t){a=[];for(var n=0,i=e.length;n<i;n++)s.lt(e[n])&&r(e[n],t)}(e,d),n=d,f=o(a.join("")).toLowerCase(),n.splice(p,0,f),d.push("</events>"),d.join("")},Kt:function(e,t){return i(e,t),-1!=u&&u<c?e.substring(u,c):null}};t.exports=h},{21:21,22:22}],16:[function(e,n,i){(function(t){var i=e(24),r=n.exports=t.ns_||{};"undefined"!=typeof window&&(window.ns_=r),r.comScore=e(2),r.loadModule=r.loadModule||function(e){for(var t in e)"ns_"!==t&&i.extend(r,e);return e.ns_=r},r.PlatformAPIs=e(32),e(39),r.StreamingAnalytics=e(67),r.ReducedRequirementsStreamingAnalytics=e(64)}).call(this,void 0!==t?t:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{2:2,24:24,32:32,39:39,64:64,67:67}],17:[function(e,t,n){t.exports={D:"unknown",Qt:"0x0",Xt:"-----BEGIN PUBLIC KEY-----\nMIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQD0+fCVxGq3Bk24jUKO1PzsiUs3\nvqww6zR4n2e3AweVLUAgsrDRbAWJ/EjZm1WBLBVNMiTLpSAkV6sjOIrUs03xdUEj\nQZJHwOGK+MfzFaZukoo0qAsEMPwQ5posv0JdkBdUGhKchPk6+NYmD6Hb44Lkp7/a\nQnVeWzvfAPQyTJR5wQIDAQAB\n-----END PUBLIC KEY-----"}},{}],18:[function(e,t,n){var i="undefined",r="function";t.exports=function(e,t){function n(t){t=t||[];var n=["comScore",+new Date];return e&&n.push(e),t=Array.prototype.slice.call(t),n=n.concat(t)}function o(e){var n,i,r;if("boolean"==typeof t||!t)return!!t;if(r=e.join(" "),t instanceof Array&&0<t.length){for(n=0;n<t.length;++n)if((i=t[n])instanceof RegExp&&i.test(r))return!0;return!1}if("object"!=typeof t)return!0;var o=!1;if(t.hide instanceof Array)for(n=0;n<t.hide.length;++n)if((i=t.hide[n])instanceof RegExp&&i.test(r)){o=!0;break}if(t.show instanceof Array)for(n=0;n<t.show.length;++n)if((i=t.show[n])instanceof RegExp&&i.test(r))return!0;return!o&&!t.show}function s(e){var n=u.length;if(1e4<n||"object"==typeof t&&t.max&&n>t.max){var i="object"==typeof t&&t.max||1e4;u.splice(0,u.length-i+1)}u.push(e)}var a=this,u=[];a.log=function(){var e=n(arguments);s(e),typeof console!=i&&typeof console.log==r&&o(e)&&console.log.apply(console,e)},a.warn=function(){var e=n(arguments);s(e),typeof console!=i&&typeof console.warn==r&&o(e)&&console.warn.apply(console,e)},a.error=function(){var e=n(arguments);s(e),typeof console!=i&&typeof console.error==r&&o(e)&&console.error.apply(console,e)},a.Zt=function(e){for(var t=["API call to:",e],n=1;n<arguments.length;++n)t.push("arg"+n+":",arguments[n]);this.log.apply(this,t)},a.$t=function(){var e=["Trace log:"];e.push.apply(e,Array.prototype.slice.call(arguments)),this.log.apply(this,e)},a.ne=function(e,t){var n=["Deprecated API:",e,"is deprecated and will be eventually removed."];t&&n.push("Use",t,"instead."),this.warn.apply(this,n)},a.te=function(){return u}}},{}],19:[function(e,t,n){var i={},r="undefined";i.indexOf=function(e,t){var n=-1;return i.forEach(t,function(t,i){t==e&&(n=i)}),n},i.forEach=function(e,t,n){try{if("function"==typeof t)if(n=typeof n!=r?n:null,"number"!=typeof e.length||typeof e[0]==r){var i=typeof e.__proto__!=r;for(var o in e)e.hasOwnProperty(o)&&(!i||i&&typeof e.__proto__[o]==r)&&"function"!=typeof e[o]&&t.call(n,e[o],o)}else for(var s=0,a=e.length;s<a;s++)t.call(n,e[s],s)}catch(e){}},n.indexOf=i.indexOf,n.forEach=i.forEach},{}],20:[function(e,t,n){var i={},r="undefined",o=typeof document!=r&&document||void 0;i.ee=function(){if(!o)return!1;var e=!1;return typeof o.hidden!==r?e=!0:typeof o.mozHidden!==r?e=!0:typeof o.msHidden!==r?e=!0:typeof o.webkitHidden!==r&&(e=!0),function(){return e}}(),i.ie=function(){if(!o)return null;var e,t,n;typeof o.hidden!==r?(e="hidden",t="visibilitychange",n="visibilityState"):typeof o.mozHidden!==r?(e="mozHidden",t="mozvisibilitychange",n="mozVisibilityState"):typeof o.msHidden!==r?(e="msHidden",t="msvisibilitychange",n="msVisibilityState"):typeof o.webkitHidden!==r&&(e="webkitHidden",t="webkitvisibilitychange",n="webkitVisibilityState");var i={hidden:e,re:t,state:n};return function(){return i}}(),i.oe=function(){if(!o)return null;var e=i.ie();return function(){return o[e.hidden]}}(),i.ue=function(){if(!navigator)return"";var e,t,n=navigator.userAgent||"",i=navigator.appName||"";return-1!=(t=n.indexOf("Opera"))||-1!=(t=n.indexOf("OPR/"))?i="Opera":-1!=(t=n.indexOf("Android"))?i="Android":-1!=(t=n.indexOf("Chrome"))?i="Chrome":-1!=(t=n.indexOf("Safari"))?i="Safari":-1!=(t=n.indexOf("Firefox"))?i="Firefox":-1!=(t=n.indexOf("IEMobile"))?i="Internet Explorer Mobile":"Microsoft Internet Explorer"==i||"Netscape"==i?i="Internet Explorer":(e=n.lastIndexOf(" ")+1)<(t=n.lastIndexOf("/"))?(i=n.substring(e,t)).toLowerCase()==i.toUpperCase()&&(i=navigator.appName):i="unknown",i},i.se=function(){if(!navigator)return"";var e,t,n,i=navigator.userAgent||"",r=navigator.appName||"",o=navigator.appVersion?""+parseFloat(navigator.appVersion):"";return-1!=(t=i.indexOf("Opera"))?(o=i.substring(t+6),-1!=(t=i.indexOf("Version"))&&(o=i.substring(t+8))):-1!=(t=i.indexOf("OPR/"))?o=i.substring(t+4):-1!=(t=i.indexOf("Android"))?o=i.substring(t+11):-1!=(t=i.indexOf("Chrome"))?o=i.substring(t+7):-1!=(t=i.indexOf("Safari"))?(o=i.substring(t+7),-1!=(t=i.indexOf("Version"))&&(o=i.substring(t+8))):-1!=(t=i.indexOf("Firefox"))?o=i.substring(t+8):"Microsoft Internet Explorer"==r?null!=new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})").exec(i)&&(o=parseFloat(RegExp.$1)):"Netscape"==r?null!=new RegExp("Trident/.*rv:([0-9]{1,}[.0-9]{0,})").exec(i)&&(o=parseFloat(RegExp.$1)):o=i.lastIndexOf(" ")+1<(t=i.lastIndexOf("/"))?i.substring(t+1):"unknown",-1!=(n=(o=o.toString()).indexOf(";"))&&(o=o.substring(0,n)),-1!=(n=o.indexOf(" "))&&(o=o.substring(0,n)),-1!=(n=o.indexOf(")"))&&(o=o.substring(0,n)),e=parseInt(""+o,10),isNaN(e)&&(o=""+parseFloat(navigator.appVersion)),o},i.Jt=function(){return typeof window!=r&&window.ae,!0},i.fe=function(){return typeof window!=r&&o},i.ce=function(){return!!o&&"s"===o.location.href.charAt(4)},t.exports.ee=i.ee,t.exports.ie=i.ie,t.exports.oe=i.oe,t.exports.ue=i.ue,t.exports.se=i.se,t.exports.Jt=i.Jt,t.exports.fe=i.fe,t.exports.ce=i.ce},{}],21:[function(e,t,n){var i,r=r||{},o="undefined";r.le=(i=1,function(){return+new Date+"_"+i++}),r.jt=function(e){return null==e||""===e||e instanceof Array&&0===e.length},r.lt=function(e){return!this.jt(e)},r.pe=function(e,t){return t=this.tn(t)?t:"",this.tn(e)?e:t},r.ve=function(e){return typeof e!=o&&("string"==typeof e?"true"===(e=e.toLowerCase())||"1"===e||"on"===e:!!e)},r.zt=function(e,t,n,i,r){if(t<0||i<0||t+r>e.length||i+r>n.length)return!1;for(;0<=--r;)if(e.charAt(t++)!=n.charAt(i++))return!1;return!0},r.tn=function(e){return typeof e!=o&&null!=e},t.exports.tn=r.tn,t.exports.zt=r.zt,t.exports.ve=r.ve,t.exports.pe=r.pe,t.exports.lt=r.lt,t.exports.jt=r.jt,t.exports.le=r.le},{}],22:[function(e,t,n){var i={};i.de=function(){function e(e,t){var s=e[0],a=e[1],u=e[2],l=e[3];a=o(a=o(a=o(a=o(a=r(a=r(a=r(a=r(a=i(a=i(a=i(a=i(a=n(a=n(a=n(a=n(a,u=n(u,l=n(l,s=n(s,a,u,l,t[0],7,-680876936),a,u,t[1],12,-389564586),s,a,t[2],17,606105819),l,s,t[3],22,-1044525330),u=n(u,l=n(l,s=n(s,a,u,l,t[4],7,-176418897),a,u,t[5],12,1200080426),s,a,t[6],17,-1473231341),l,s,t[7],22,-45705983),u=n(u,l=n(l,s=n(s,a,u,l,t[8],7,1770035416),a,u,t[9],12,-1958414417),s,a,t[10],17,-42063),l,s,t[11],22,-1990404162),u=n(u,l=n(l,s=n(s,a,u,l,t[12],7,1804603682),a,u,t[13],12,-40341101),s,a,t[14],17,-1502002290),l,s,t[15],22,1236535329),u=i(u,l=i(l,s=i(s,a,u,l,t[1],5,-165796510),a,u,t[6],9,-1069501632),s,a,t[11],14,643717713),l,s,t[0],20,-373897302),u=i(u,l=i(l,s=i(s,a,u,l,t[5],5,-701558691),a,u,t[10],9,38016083),s,a,t[15],14,-660478335),l,s,t[4],20,-405537848),u=i(u,l=i(l,s=i(s,a,u,l,t[9],5,568446438),a,u,t[14],9,-1019803690),s,a,t[3],14,-187363961),l,s,t[8],20,1163531501),u=i(u,l=i(l,s=i(s,a,u,l,t[13],5,-1444681467),a,u,t[2],9,-51403784),s,a,t[7],14,1735328473),l,s,t[12],20,-1926607734),u=r(u,l=r(l,s=r(s,a,u,l,t[5],4,-378558),a,u,t[8],11,-2022574463),s,a,t[11],16,1839030562),l,s,t[14],23,-35309556),u=r(u,l=r(l,s=r(s,a,u,l,t[1],4,-1530992060),a,u,t[4],11,1272893353),s,a,t[7],16,-155497632),l,s,t[10],23,-1094730640),u=r(u,l=r(l,s=r(s,a,u,l,t[13],4,681279174),a,u,t[0],11,-358537222),s,a,t[3],16,-722521979),l,s,t[6],23,76029189),u=r(u,l=r(l,s=r(s,a,u,l,t[9],4,-640364487),a,u,t[12],11,-421815835),s,a,t[15],16,530742520),l,s,t[2],23,-995338651),u=o(u,l=o(l,s=o(s,a,u,l,t[0],6,-198630844),a,u,t[7],10,1126891415),s,a,t[14],15,-1416354905),l,s,t[5],21,-57434055),u=o(u,l=o(l,s=o(s,a,u,l,t[12],6,1700485571),a,u,t[3],10,-1894986606),s,a,t[10],15,-1051523),l,s,t[1],21,-2054922799),u=o(u,l=o(l,s=o(s,a,u,l,t[8],6,1873313359),a,u,t[15],10,-30611744),s,a,t[6],15,-1560198380),l,s,t[13],21,1309151649),u=o(u,l=o(l,s=o(s,a,u,l,t[4],6,-145523070),a,u,t[11],10,-1120210379),s,a,t[2],15,718787259),l,s,t[9],21,-343485551),e[0]=c(s,e[0]),e[1]=c(a,e[1]),e[2]=c(u,e[2]),e[3]=c(l,e[3])}function t(e,t,n,i,r,o){return t=c(c(t,e),c(i,o)),c(t<<r|t>>>32-r,n)}function n(e,n,i,r,o,s,a){return t(n&i|~n&r,e,n,o,s,a)}function i(e,n,i,r,o,s,a){return t(n&r|i&~r,e,n,o,s,a)}function r(e,n,i,r,o,s,a){return t(n^i^r,e,n,o,s,a)}function o(e,n,i,r,o,s,a){return t(i^(n|~r),e,n,o,s,a)}function s(e){var t,n=[];for(t=0;t<64;t+=4)n[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return n}function a(e){for(var t="",n=0;n<4;n++)t+=l[e>>8*n+4&15]+l[e>>8*n&15];return t}function u(t){return function(e){for(var t=0;t<e.length;t++)e[t]=a(e[t]);return e.join("")}(function(t){var n,i=t.length,r=[1732584193,-271733879,-1732584194,271733878];for(n=64;n<=t.length;n+=64)e(r,s(t.substring(n-64,n)));t=t.substring(n-64);var o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(n=0;n<t.length;n++)o[n>>2]|=t.charCodeAt(n)<<(n%4<<3);if(o[n>>2]|=128<<(n%4<<3),55<n)for(e(r,o),n=0;n<16;n++)o[n]=0;return o[14]=8*i,e(r,o),r}(t))}function c(e,t){return e+t&4294967295}function c(e,t){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}var l="0123456789abcdef".split("");return u("hello"),u}(),t.exports=i.de},{}],23:[function(e,t,n){var i=function(e){if("object"!=typeof e)return e;var t;if(e instanceof Array){t=[];for(var n=0,r=e.length;n<r;n++)t[n]=i(e[n]);return t}for(var o in t={},e)e.hasOwnProperty(o)&&(t[o]=e[o]);return t};t.exports=i},{}],24:[function(e,t,n){var i=i||{};i.filter=function(e,t){var n={};for(var i in t)t.hasOwnProperty(i)&&e(t[i])&&(n[i]=t[i]);return n},i.extend=function(e){var t,n=arguments.length;e=e||{};for(var i=1;i<n;i++)if(t=arguments[i])for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);return e},t.exports.filter=i.filter,t.exports.extend=i.extend},{}],25:[function(e,t,n){var i=e(17),r={};r.encrypt=function(){function e(e,t,n){null!=e&&("number"==typeof e?this.he(e,t,n):null==t&&"string"!=typeof e?this._e(e,256):this._e(e,t))}function t(){return new e(null)}function n(e){return O.charAt(e)}function r(e,t){var n=w[e.charCodeAt(t)];return null==n?-1:n}function o(e){var n=t();return n.Pe(e),n}function s(e){var t,n=1;return 0!=(t=e>>>16)&&(e=t,n+=16),0!=(t=e>>8)&&(e=t,n+=8),0!=(t=e>>4)&&(e=t,n+=4),0!=(t=e>>2)&&(e=t,n+=2),0!=(t=e>>1)&&(e=t,n+=1),n}function a(e){this.Ae=e}function u(e){this.Ae=e,this.Ce=e.ke(),this.Ee=32767&this.Ce,this.Te=this.Ce>>15,this.Ne=(1<<e.me-15)-1,this.Le=2*e.De}function c(e,t){return e&t}function l(e,t){return e|t}function f(e,t){return e^t}function d(e,t){return e&~t}function p(e){if(0==e)return-1;var t=0;return 0==(65535&e)&&(e>>=16,t+=16),0==(255&e)&&(e>>=8,t+=8),0==(15&e)&&(e>>=4,t+=4),0==(3&e)&&(e>>=2,t+=2),0==(1&e)&&++t,t}function h(e){for(var t=0;0!=e;)e&=e-1,++t;return t}function _(){}function g(e){return e}function v(n){this.r2=t(),this.Re=t(),e.ONE.Me(2*n.De,this.r2),this.Oe=this.r2.We(n),this.Ae=n}function m(){this.ai=0,this.fi=0,this.ci=[]}function E(){var e;e=(new Date).getTime(),D[M++]^=255&e,D[M++]^=e>>8&255,D[M++]^=e>>16&255,D[M++]^=e>>24&255,B<=M&&(M-=B)}function y(){if(null==L){for(E(),(L=new m).init(D),M=0;M<D.length;++M)D[M]=0;M=0}return L.next()}function b(){}function S(t,n){return new e(t,n)}function A(){this.n=null,this.e=0,this.d=null,this.p=null,this.q=null,this.dmp1=null,this.dmq1=null,this.coeff=null}function I(e){var t,n,i="";for(t=0;t+3<=e.length;t+=3)n=parseInt(e.substring(t,t+3),16),i+=k.charAt(n>>6)+k.charAt(63&n);for(t+1==e.length?(n=parseInt(e.substring(t,t+1),16),i+=k.charAt(n<<2)):t+2==e.length&&(n=parseInt(e.substring(t,t+2),16),i+=k.charAt(n>>2)+k.charAt((3&n)<<4));0<(3&i.length);)i+="=";return i}var T=function(e,t){var n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(e.charAt(t));if(-1===n)throw new Error;return n};e.prototype.ge=function(e,t,n,i,r,o){for(var s=16383&t,a=t>>14;0<=--o;){var u=16383&this[e],c=this[e++]>>14,l=a*u+c*s;r=((u=s*u+((16383&l)<<14)+n[i]+r)>>28)+(l>>14)+a*c,n[i++]=268435455&u}return r},e.prototype.me=28,e.prototype.we=268435455,e.prototype.ye=1<<28,e.prototype.be=Math.pow(2,52),e.prototype.Ie=24,e.prototype.Se=4;var P,C,O="0123456789abcdefghijklmnopqrstuvwxyz",w=[];for(P="0".charCodeAt(0),C=0;C<=9;++C)w[P++]=C;for(P="a".charCodeAt(0),C=10;C<36;++C)w[P++]=C;for(P="A".charCodeAt(0),C=10;C<36;++C)w[P++]=C;a.prototype.Ve=function(e){return e.xe<0||0<=e.Ue(this.Ae)?e.Be(this.Ae):e},a.prototype.Fe=function(e){return e},a.prototype.reduce=function(e){e.je(this.Ae,null,e)},a.prototype.Ge=function(e,t,n){e.Ke(t,n),this.reduce(n)},a.prototype.qe=function(e,t){e.He(t),this.reduce(t)},u.prototype.Ve=function(n){var i=t();return n.abs().Me(this.Ae.De,i),i.je(this.Ae,null,i),n.xe<0&&0<i.Ue(e.ZERO)&&this.Ae.Ye(i,i),i},u.prototype.Fe=function(e){var n=t();return e.Je(n),this.reduce(n),n},u.prototype.reduce=function(e){for(;e.De<=this.Le;)e[e.De++]=0;for(var t=0;t<this.Ae.De;++t){var n=32767&e[t],i=n*this.Ee+((n*this.Te+(e[t]>>15)*this.Ee&this.Ne)<<15)&e.we;for(e[n=t+this.Ae.De]+=this.Ae.ge(0,i,e,t,0,this.Ae.De);e[n]>=e.ye;)e[n]-=e.ye,e[++n]++}e.ze(),e.Qe(this.Ae.De,e),0<=e.Ue(this.Ae)&&e.Ye(this.Ae,e)},u.prototype.Ge=function(e,t,n){e.Ke(t,n),this.reduce(n)},u.prototype.qe=function(e,t){e.He(t),this.reduce(t)},e.prototype.Je=function(e){for(var t=this.De-1;0<=t;--t)e[t]=this[t];e.De=this.De,e.xe=this.xe},e.prototype.Pe=function(e){this.De=1,this.xe=e<0?-1:0,0<e?this[0]=e:e<-1?this[0]=e+DV:this.De=0},e.prototype._e=function(t,n){var i;if(16==n)i=4;else if(8==n)i=3;else if(256==n)i=8;else if(2==n)i=1;else if(32==n)i=5;else{if(4!=n)return void this.Xe(t,n);i=2}this.De=0,this.xe=0;for(var o=t.length,s=!1,a=0;0<=--o;){var u=8==i?255&t[o]:r(t,o);u<0?"-"==t.charAt(o)&&(s=!0):(s=!1,0==a?this[this.De++]=u:a+i>this.me?(this[this.De-1]|=(u&(1<<this.me-a)-1)<<a,this[this.De++]=u>>this.me-a):this[this.De-1]|=u<<a,(a+=i)>=this.me&&(a-=this.me))}8==i&&0!=(128&t[0])&&(this.xe=-1,0<a&&(this[this.De-1]|=(1<<this.me-a)-1<<a)),this.ze(),s&&e.ZERO.Ye(this,this)},e.prototype.ze=function(){for(var e=this.xe&this.we;0<this.De&&this[this.De-1]==e;)--this.De},e.prototype.Me=function(e,t){var n;for(n=this.De-1;0<=n;--n)t[n+e]=this[n];for(n=e-1;0<=n;--n)t[n]=0;t.De=this.De+e,t.xe=this.xe},e.prototype.Qe=function(e,t){for(var n=e;n<this.De;++n)t[n-e]=this[n];t.De=Math.max(this.De-e,0),t.xe=this.xe},e.prototype.Ze=function(e,t){var n,i=e%this.me,r=this.me-i,o=(1<<r)-1,s=Math.floor(e/this.me),a=this.xe<<i&this.we;for(n=this.De-1;0<=n;--n)t[n+s+1]=this[n]>>r|a,a=(this[n]&o)<<i;for(n=s-1;0<=n;--n)t[n]=0;t[s]=a,t.De=this.De+s+1,t.xe=this.xe,t.ze()},e.prototype.$e=function(e,t){t.xe=this.xe;var n=Math.floor(e/this.me);if(n>=this.De)t.De=0;else{var i=e%this.me,r=this.me-i,o=(1<<i)-1;t[0]=this[n]>>i;for(var s=n+1;s<this.De;++s)t[s-n-1]|=(this[s]&o)<<r,t[s-n]=this[s]>>i;0<i&&(t[this.De-n-1]|=(this.xe&o)<<r),t.De=this.De-n,t.ze()}},e.prototype.Ye=function(e,t){for(var n=0,i=0,r=Math.min(e.De,this.De);n<r;)i+=this[n]-e[n],t[n++]=i&this.we,i>>=this.me;if(e.De<this.De){for(i-=e.xe;n<this.De;)i+=this[n],t[n++]=i&this.we,i>>=this.me;i+=this.xe}else{for(i+=this.xe;n<e.De;)i-=e[n],t[n++]=i&this.we,i>>=this.me;i-=e.xe}t.xe=i<0?-1:0,i<-1?t[n++]=this.ye+i:0<i&&(t[n++]=i),t.De=n,t.ze()},e.prototype.Ke=function(t,n){var i=this.abs(),r=t.abs(),o=i.De;for(n.De=o+r.De;0<=--o;)n[o]=0;for(o=0;o<r.De;++o)n[o+i.De]=i.ge(0,r[o],n,o,0,i.De);n.xe=0,n.ze(),this.xe!=t.xe&&e.ZERO.Ye(n,n)},e.prototype.He=function(e){for(var t=this.abs(),n=e.De=2*t.De;0<=--n;)e[n]=0;for(n=0;n<t.De-1;++n){var i=t.ge(n,t[n],e,2*n,0,1);(e[n+t.De]+=t.ge(n+1,2*t[n],e,2*n+1,i,t.De-n-1))>=t.ye&&(e[n+t.De]-=t.ye,e[n+t.De+1]=1)}0<e.De&&(e[e.De-1]+=t.ge(n,t[n],e,2*n,0,1)),e.xe=0,e.ze()},e.prototype.je=function(n,i,r){var o=n.abs();if(!(o.De<=0)){var a=this.abs();if(a.De<o.De)return null!=i&&i.Pe(0),void(null!=r&&this.Je(r));null==r&&(r=t());var u=t(),c=this.xe,l=n.xe,f=this.me-s(o[o.De-1]);0<f?(o.Ze(f,u),a.Ze(f,r)):(o.Je(u),a.Je(r));var d=u.De,p=u[d-1];if(0!=p){var h=p*(1<<this.Ie)+(1<d?u[d-2]>>this.Se:0),_=this.be/h,g=(1<<this.Ie)/h,v=1<<this.Se,m=r.De,E=m-d,y=null==i?t():i;for(u.Me(E,y),0<=r.Ue(y)&&(r[r.De++]=1,r.Ye(y,r)),e.ONE.Me(d,y),y.Ye(u,u);u.De<d;)u[u.De++]=0;for(;0<=--E;){var b=r[--m]==p?this.we:Math.floor(r[m]*_+(r[m-1]+v)*g);if((r[m]+=u.ge(0,b,r,E,0,d))<b)for(u.Me(E,y),r.Ye(y,r);r[m]<--b;)r.Ye(y,r)}null!=i&&(r.Qe(d,i),c!=l&&e.ZERO.Ye(i,i)),r.De=d,r.ze(),0<f&&r.$e(f,r),c<0&&e.ZERO.Ye(r,r)}}},e.prototype.ke=function(){if(this.De<1)return 0;var e=this[0];if(0==(1&e))return 0;var t=3&e;return 0<(t=(t=(t=(t=t*(2-(15&e)*t)&15)*(2-(255&e)*t)&255)*(2-((65535&e)*t&65535))&65535)*(2-e*t%this.ye)%this.ye)?this.ye-t:-t},e.prototype.ni=function(){return 0==(0<this.De?1&this[0]:this.xe)},e.prototype.exp=function(n,i){if(4294967295<n||n<1)return e.ONE;var r=t(),o=t(),a=i.Ve(this),u=s(n)-1;for(a.Je(r);0<=--u;)if(i.qe(r,o),0<(n&1<<u))i.Ge(o,a,r);else{var c=r;r=o,o=c}return i.Fe(r)},e.prototype.toString=function(e){if(this.xe<0)return"-"+this.ti().toString(e);var t;if(16==e)t=4;else if(8==e)t=3;else if(2==e)t=1;else if(32==e)t=5;else{if(4!=e)return this.ei(e);t=2}var i,r=(1<<t)-1,o=!1,s="",a=this.De,u=this.me-a*this.me%t;if(0<a--)for(u<this.me&&0<(i=this[a]>>u)&&(o=!0,s=n(i));0<=a;)u<t?(i=(this[a]&(1<<u)-1)<<t-u,i|=this[--a]>>(u+=this.me-t)):(i=this[a]>>(u-=t)&r,u<=0&&(u+=this.me,--a)),0<i&&(o=!0),o&&(s+=n(i));return o?s:"0"},e.prototype.ti=function(){var n=t();return e.ZERO.Ye(this,n),n},e.prototype.abs=function(){return this.xe<0?this.ti():this},e.prototype.Ue=function(e){var t=this.xe-e.xe;if(0!=t)return t;var n=this.De;if(0!=(t=n-e.De))return this.xe<0?-t:t;for(;0<=--n;)if(0!=(t=this[n]-e[n]))return t;return 0},e.prototype.ii=function(){return this.De<=0?0:this.me*(this.De-1)+s(this[this.De-1]^this.xe&this.we)},e.prototype.Be=function(n){var i=t();return this.abs().je(n,null,i),this.xe<0&&0<i.Ue(e.ZERO)&&n.Ye(i,i),i},e.prototype.ri=function(e,t){var n;return n=e<256||t.ni()?new a(t):new u(t),this.exp(e,n)},e.ZERO=o(0),e.ONE=o(1),_.prototype.Ve=g,_.prototype.Fe=g,_.prototype.Ge=function(e,t,n){e.Ke(t,n)},_.prototype.qe=function(e,t){e.He(t)},v.prototype.Ve=function(e){if(e.xe<0||e.De>2*this.Ae.De)return e.Be(this.Ae);if(e.Ue(this.Ae)<0)return e;var n=t();return e.Je(n),this.reduce(n),n},v.prototype.Fe=function(e){return e},v.prototype.reduce=function(e){for(e.Qe(this.Ae.De-1,this.r2),e.De>this.Ae.De+1&&(e.De=this.Ae.De+1,e.ze()),this.Oe.oi(this.r2,this.Ae.De+1,this.Re),this.Ae.ui(this.Re,this.Ae.De+1,this.r2);e.Ue(this.r2)<0;)e.si(1,this.Ae.De+1);for(e.Ye(this.r2,e);0<=e.Ue(this.Ae);)e.Ye(this.Ae,e)},v.prototype.Ge=function(e,t,n){e.Ke(t,n),this.reduce(n)},v.prototype.qe=function(e,t){e.He(t),this.reduce(t)};var N=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997],R=(1<<26)/N[N.length-1];e.prototype.li=function(e){return Math.floor(Math.LN2*this.me/Math.log(e))},e.prototype.ei=function(e){if(null==e&&(e=10),0==this.pi()||e<2||36<e)return"0";var n=this.li(e),i=Math.pow(e,n),r=o(i),s=t(),a=t(),u="";for(this.je(r,s,a);0<s.pi();)u=(i+a.vi()).toString(e).substr(1)+u,s.je(r,s,a);return a.vi().toString(e)+u},e.prototype.Xe=function(t,n){this.Pe(0),null==n&&(n=10);for(var i=this.li(n),o=Math.pow(n,i),s=!1,a=0,u=0,c=0;c<t.length;++c){var l=r(t,c);l<0?"-"==t.charAt(c)&&0==this.pi()&&(s=!0):(u=n*u+l,++a>=i&&(this.di(o),this.si(u,0),u=a=0))}0<a&&(this.di(Math.pow(n,a)),this.si(u,0)),s&&e.ZERO.Ye(this,this)},e.prototype.he=function(t,n,i){if("number"==typeof n)if(t<2)this.Pe(1);else for(this.he(t,i),this.hi(t-1)||this._i(e.ONE.shiftLeft(t-1),l,this),this.ni()&&this.si(1,0);!this.gi(n);)this.si(2,0),this.ii()>t&&this.Ye(e.ONE.shiftLeft(t-1),this);else{var r=[],o=7&t;r.length=1+(t>>3),n.mi(r),0<o?r[0]&=(1<<o)-1:r[0]=0,this._e(r,256)}},e.prototype._i=function(e,t,n){var i,r,o=Math.min(e.De,this.De);for(i=0;i<o;++i)n[i]=t(this[i],e[i]);if(e.De<this.De){for(r=e.xe&this.we,i=o;i<this.De;++i)n[i]=t(this[i],r);n.De=this.De}else{for(r=this.xe&this.we,i=o;i<e.De;++i)n[i]=t(r,e[i]);n.De=e.De}n.xe=t(this.xe,e.xe),n.ze()},e.prototype.wi=function(t,n){var i=e.ONE.shiftLeft(t);return this._i(i,n,i),i},e.prototype.yi=function(e,t){for(var n=0,i=0,r=Math.min(e.De,this.De);n<r;)i+=this[n]+e[n],t[n++]=i&this.we,i>>=this.me;if(e.De<this.De){for(i+=e.xe;n<this.De;)i+=this[n],t[n++]=i&this.we,i>>=this.me;i+=this.xe}else{for(i+=this.xe;n<e.De;)i+=e[n],t[n++]=i&this.we,i>>=this.me;i+=e.xe}t.xe=i<0?-1:0,0<i?t[n++]=i:i<-1&&(t[n++]=this.ye+i),t.De=n,t.ze()},e.prototype.di=function(e){this[this.De]=this.ge(0,e-1,this,0,0,this.De),++this.De,this.ze()},e.prototype.si=function(e,t){if(0!=e){for(;this.De<=t;)this[this.De++]=0;for(this[t]+=e;this[t]>=this.ye;)this[t]-=this.ye,++t>=this.De&&(this[this.De++]=0),++this[t]}},e.prototype.ui=function(e,t,n){var i,r=Math.min(this.De+e.De,t);for(n.xe=0,n.De=r;0<r;)n[--r]=0;for(i=n.De-this.De;r<i;++r)n[r+this.De]=this.ge(0,e[r],n,r,0,this.De);for(i=Math.min(e.De,t);r<i;++r)this.ge(0,e[r],n,r,0,t-r);n.ze()},e.prototype.oi=function(e,t,n){--t;var i=n.De=this.De+e.De-t;for(n.xe=0;0<=--i;)n[i]=0;for(i=Math.max(t-this.De,0);i<e.De;++i)n[this.De+i-t]=this.ge(t-i,e[i],n,0,0,this.De+i-t);n.ze(),n.Qe(1,n)},e.prototype.bi=function(e){if(e<=0)return 0;var t=this.ye%e,n=this.xe<0?e-1:0;if(0<this.De)if(0==t)n=this[0]%e;else for(var i=this.De-1;0<=i;--i)n=(t*n+this[i])%e;return n},e.prototype.Ii=function(n){var i=this.Si(e.ONE),r=i.Pi();if(r<=0)return!1;var o=i.Ai(r);(n=n+1>>1)>N.length&&(n=N.length);for(var s=t(),a=0;a<n;++a){s.Pe(N[Math.floor(Math.random()*N.length)]);var u=s.Ci(o,this);if(0!=u.Ue(e.ONE)&&0!=u.Ue(i)){for(var c=1;c++<r&&0!=u.Ue(i);)if(0==(u=u.ri(2,this)).Ue(e.ONE))return!1;if(0!=u.Ue(i))return!1}}return!0},e.prototype.clone=function(){var e=t();return this.Je(e),e},e.prototype.vi=function(){if(this.xe<0){if(1==this.De)return this[0]-this.ye;if(0==this.De)return-1}else{if(1==this.De)return this[0];if(0==this.De)return 0}return(this[1]&(1<<32-this.me)-1)<<this.me|this[0]},e.prototype.ki=function(){return 0==this.De?this.xe:this[0]<<24>>24},e.prototype.Ei=function(){return 0==this.De?this.xe:this[0]<<16>>16},e.prototype.pi=function(){return this.xe<0?-1:this.De<=0||1==this.De&&this[0]<=0?0:1},e.prototype.Ti=function(){var e=this.De,t=[];t[0]=this.xe;var n,i=this.me-e*this.me%8,r=0;if(0<e--)for(i<this.me&&(n=this[e]>>i)!=(this.xe&this.we)>>i&&(t[r++]=n|this.xe<<this.me-i);0<=e;)i<8?(n=(this[e]&(1<<i)-1)<<8-i,n|=this[--e]>>(i+=this.me-8)):(n=this[e]>>(i-=8)&255,i<=0&&(i+=this.me,--e)),0!=(128&n)&&(n|=-256),0==r&&(128&this.xe)!=(128&n)&&++r,(0<r||n!=this.xe)&&(t[r++]=n);return t},e.prototype.Ni=function(e){return 0==this.Ue(e)},e.prototype.min=function(e){return this.Ue(e)<0?this:e},e.prototype.max=function(e){return 0<this.Ue(e)?this:e},e.prototype.Li=function(e){var n=t();return this._i(e,c,n),n},e.prototype.Di=function(e){var n=t();return this._i(e,l,n),n},e.prototype.Ri=function(e){var n=t();return this._i(e,f,n),n},e.prototype.Mi=function(e){var n=t();return this._i(e,d,n),n},e.prototype.Oi=function(){for(var e=t(),n=0;n<this.De;++n)e[n]=this.we&~this[n];return e.De=this.De,e.xe=~this.xe,e},e.prototype.shiftLeft=function(e){var n=t();return e<0?this.$e(-e,n):this.Ze(e,n),n},e.prototype.Ai=function(e){var n=t();return e<0?this.Ze(-e,n):this.$e(e,n),n},e.prototype.Pi=function(){for(var e=0;e<this.De;++e)if(0!=this[e])return e*this.me+p(this[e]);return this.xe<0?this.De*this.me:-1},e.prototype.Wi=function(){for(var e=0,t=this.xe&this.we,n=0;n<this.De;++n)e+=h(this[n]^t);return e},e.prototype.hi=function(e){var t=Math.floor(e/this.me);return t>=this.De?0!=this.xe:0!=(this[t]&1<<e%this.me)},e.prototype.Vi=function(e){return this.wi(e,l)},e.prototype.xi=function(e){return this.wi(e,d)},e.prototype.Ui=function(e){return this.wi(e,f)},e.prototype.add=function(e){var n=t();return this.yi(e,n),n},e.prototype.Si=function(e){var n=t();return this.Ye(e,n),n},e.prototype.multiply=function(e){var n=t();return this.Ke(e,n),n},e.prototype.We=function(e){var n=t();return this.je(e,n,null),n},e.prototype.Bi=function(e){var n=t();return this.je(e,null,n),n},e.prototype.Fi=function(e){var n=t(),i=t();return this.je(e,n,i),[n,i]},e.prototype.Ci=function(e,n){var i,r,c=e.ii(),l=o(1);if(c<=0)return l;i=c<18?1:c<48?3:c<144?4:c<768?5:6,r=c<8?new a(n):n.ni()?new v(n):new u(n);var f=[],d=3,p=i-1,h=(1<<i)-1;if(f[1]=r.Ve(this),1<i){var _=t();for(r.qe(f[1],_);d<=h;)f[d]=t(),r.Ge(_,f[d-2],f[d]),d+=2}var g,m,E=e.De-1,y=!0,b=t();for(c=s(e[E])-1;0<=E;){for(p<=c?g=e[E]>>c-p&h:(g=(e[E]&(1<<c+1)-1)<<p-c,0<E&&(g|=e[E-1]>>this.me+c-p)),d=i;0==(1&g);)g>>=1,--d;if((c-=d)<0&&(c+=this.me,--E),y)f[g].Je(l),y=!1;else{for(;1<d;)r.qe(l,b),r.qe(b,l),d-=2;0<d?r.qe(l,b):(m=l,l=b,b=m),r.Ge(b,f[g],l)}for(;0<=E&&0==(e[E]&1<<c);)r.qe(l,b),m=l,l=b,b=m,--c<0&&(c=this.me-1,--E)}return r.Fe(l)},e.prototype.ji=function(t){var n=t.ni();if(this.ni()&&n||0==t.pi())return e.ZERO;for(var i=t.clone(),r=this.clone(),s=o(1),a=o(0),u=o(0),c=o(1);0!=i.pi();){for(;i.ni();)i.$e(1,i),n?(s.ni()&&a.ni()||(s.yi(this,s),a.Ye(t,a)),s.$e(1,s)):a.ni()||a.Ye(t,a),a.$e(1,a);for(;r.ni();)r.$e(1,r),n?(u.ni()&&c.ni()||(u.yi(this,u),c.Ye(t,c)),u.$e(1,u)):c.ni()||c.Ye(t,c),c.$e(1,c);0<=i.Ue(r)?(i.Ye(r,i),n&&s.Ye(u,s),a.Ye(c,a)):(r.Ye(i,r),n&&u.Ye(s,u),c.Ye(a,c))}return 0!=r.Ue(e.ONE)?e.ZERO:0<=c.Ue(t)?c.Si(t):c.pi()<0?(c.yi(t,c),c.pi()<0?c.add(t):c):c},e.prototype.pow=function(e){return this.exp(e,new _)},e.prototype.Gi=function(e){var t=this.xe<0?this.ti():this.clone(),n=e.xe<0?e.ti():e.clone();if(t.Ue(n)<0){var i=t;t=n,n=i}var r=t.Pi(),o=n.Pi();if(o<0)return t;for(r<o&&(o=r),0<o&&(t.$e(o,t),n.$e(o,n));0<t.pi();)0<(r=t.Pi())&&t.$e(r,t),0<(r=n.Pi())&&n.$e(r,n),0<=t.Ue(n)?(t.Ye(n,t),t.$e(1,t)):(n.Ye(t,n),n.$e(1,n));return 0<o&&n.Ze(o,n),n},e.prototype.gi=function(e){var t,n=this.abs();if(1==n.De&&n[0]<=N[N.length-1]){for(t=0;t<N.length;++t)if(n[0]==N[t])return!0;return!1}if(n.ni())return!1;for(t=1;t<N.length;){for(var i=N[t],r=t+1;r<N.length&&i<R;)i*=N[r++];for(i=n.bi(i);t<r;)if(i%N[t++]==0)return!1}return n.Ii(e)},e.prototype.Ki=function(){var e=t();return this.He(e),e},m.prototype.init=function(e){var t,n,i;for(t=0;t<256;++t)this.ci[t]=t;for(t=n=0;t<256;++t)n=n+this.ci[t]+e[t%e.length]&255,i=this.ci[t],this.ci[t]=this.ci[n],this.ci[n]=i;this.ai=0,this.fi=0},m.prototype.next=function(){var e;return this.ai=this.ai+1&255,this.fi=this.fi+this.ci[this.ai]&255,e=this.ci[this.ai],this.ci[this.ai]=this.ci[this.fi],this.ci[this.fi]=e,this.ci[e+this.ci[this.ai]&255]};var L,D,M,B=256;if(null==D){var x;for(D=[],M=0;M<B;)x=Math.floor(65536*Math.random()),D[M++]=x>>>8,D[M++]=255&x;M=0,E()}b.prototype.mi=function(e){var t;for(t=0;t<e.length;++t)e[t]=y()},A.prototype.qi=function(e){return e.ri(this.e,this.n)},A.prototype.Hi=function(e,t){null!=e&&null!=t&&0<e.length&&0<t.length?(this.n=S(e,16),this.e=parseInt(t,16)):alert("Invalid RSA public key")},A.prototype.encrypt=function(t){var n=function(t,n){if(n<t.length+11)return alert("Message too long for RSA"),null;for(var i=[],r=t.length-1;0<=r&&0<n;){var o=t.charCodeAt(r--);i[--n]=o<128?o:127<o&&o<2048?(i[--n]=63&o|128,o>>6|192):(i[--n]=63&o|128,i[--n]=o>>6&63|128,o>>12|224)}i[--n]=0;for(var s=new b,a=[];2<n;){for(a[0]=0;0==a[0];)s.mi(a);i[--n]=a[0]}return i[--n]=2,i[--n]=0,new e(i)}(t,this.n.ii()+7>>3);if(null==n)return null;var i=this.qi(n);if(null==i)return null;var r=i.toString(16);return 0==(1&r.length)?r:"0"+r},A.prototype.Yi=function(e){if(null==this.p||null==this.q)return e.Ci(this.d,this.n);for(var t=e.Be(this.p).Ci(this.dmp1,this.p),n=e.Be(this.q).Ci(this.dmq1,this.q);t.Ue(n)<0;)t=t.add(this.p);return t.Si(n).multiply(this.coeff).Be(this.p).multiply(this.q).add(n)},A.prototype.Ji=function(e,t,n){null!=e&&null!=t&&0<e.length&&0<t.length?(this.n=S(e,16),this.e=parseInt(t,16),this.d=S(n,16)):alert("Invalid RSA private key")},A.prototype.zi=function(e,t,n,i,r,o,s,a){null!=e&&null!=t&&0<e.length&&0<t.length?(this.n=S(e,16),this.e=parseInt(t,16),this.d=S(n,16),this.p=S(i,16),this.q=S(r,16),this.dmp1=S(o,16),this.dmq1=S(s,16),this.coeff=S(a,16)):alert("Invalid RSA private key")},A.prototype.Qi=function(t,n){var i=new b,r=t>>1;this.e=parseInt(n,16);for(var o=new e(n,16);;){for(;this.p=new e(t-r,1,i),0!=this.p.Si(e.ONE).Gi(o).Ue(e.ONE)||!this.p.gi(10););for(;this.q=new e(r,1,i),0!=this.q.Si(e.ONE).Gi(o).Ue(e.ONE)||!this.q.gi(10););if(this.p.Ue(this.q)<=0){var s=this.p;this.p=this.q,this.q=s}var a=this.p.Si(e.ONE),u=this.q.Si(e.ONE),c=a.multiply(u);if(0==c.Gi(o).Ue(e.ONE)){this.n=this.p.multiply(this.q),this.d=o.ji(c),this.dmp1=this.d.Be(a),this.dmq1=this.d.Be(u),this.coeff=this.q.ji(this.p);break}}},A.prototype.decrypt=function(e){var t=S(e,16),n=this.Yi(t);return null==n?null:function(e,t){for(var n=e.Ti(),i=0;i<n.length&&0==n[i];)++i;if(n.length-i!=t-1||2!=n[i])return null;for(++i;0!=n[i];)if(++i>=n.length)return null;for(var r="";++i<n.length;){var o=255&n[i];o<128?r+=String.fromCharCode(o):191<o&&o<224?(r+=String.fromCharCode((31&o)<<6|63&n[i+1]),++i):(r+=String.fromCharCode((15&o)<<12|(63&n[i+1])<<6|63&n[i+2]),i+=2)}return r}(n,this.n.ii()+7>>3)};var k="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";A.prototype.Xi=function(e){e=this.Zi(e);var t=this.$i(),n=0,i=null,r=null,o=0;for(var s in t)t.hasOwnProperty(s)&&((i=t[s]).hasOwnProperty("offset")&&(n+=2*i.offset),o="string"==typeof i.length?this[i.length]:i.length,o*=2,r=e.substr(n,o),i.hasOwnProperty("type")&&("int"==i.type?r=parseInt(r,16):"bigint"==i.type&&(r=S(r,16))),n+=o,this[s]=r)},A.prototype.nr=function(e){var t="";e=function(e){var t,n,i,r=(e=""+e).length;if(0===r)return e;if(r%4!=0)throw new Error;t=0,"="===e.charAt(r-1)&&(t=1,"="===e.charAt(r-2)&&(t=2),r-=4);var o=[];for(n=0;n<r;n+=4)i=T(e,n)<<18|T(e,n+1)<<12|T(e,n+2)<<6|T(e,n+3),o.push(String.fromCharCode(i>>16,i>>8&255,255&i));switch(t){case 1:i=T(e,n)<<18|T(e,n+1)<<12|T(e,n+2)<<6,o.push(String.fromCharCode(i>>16,i>>8&255));break;case 2:i=T(e,n)<<18|T(e,n+1)<<12,o.push(String.fromCharCode(i>>16))}return o.join("")}(e);for(var n=0;n<e.length;++n){var i=e.charCodeAt(n).toString(16);1===i.length&&(i="0"+i),t+=i}return t},A.prototype.Zi=function(e){var t=(e=e.replace(/^\s+|\s+$/g,"")).split(/\r?\n/);return"-----BEGIN"==t[0].substring(0,10)&&(t=t.slice(1,t.length-1)),e=t.join(""),this.nr(e)},A.prototype.tr=function(){var e="",t=this.$i(),n=null,i=null,r=0;for(var o in t)t.hasOwnProperty(o)&&(n=t[o]).er&&((i=this[o].toString(16)).length%2&&(i="0"+i),n.hasOwnProperty("padded")&&n.ir&&(i="00"+i),(r=(r=i.length/2).toString(16)).length%2&&(r="0"+r),n.hasOwnProperty("extraspace")&&(e+=r),e+=r,e+=i,e+="02");return e.slice(0,-2)},A.prototype.rr=function(e,t){if(!e)return e;var n="(.{1,"+(t=t||64)+"})( +|$\n?)|(.{1,"+t+"})";return e.match(new RegExp(n,"g")).join("\n")},A.prototype.or=function(){var e="-----BEGIN RSA PRIVATE KEY-----\n",t="3082025e02010002";return t+=this.tr(),e+=this.rr(I(t))+"\n",e+="-----END RSA PRIVATE KEY-----"},A.prototype.ur=function(){var e="-----BEGIN PUBLIC KEY-----\n",t="30819f300d06092a864886f70d010101050003818d0030818902";return t+=this.tr(),e+=this.rr(I(t))+"\n",e+="-----END PUBLIC KEY-----"};var U=function(e){A.call(this),e&&this.Xi(e)};((U.prototype=new A).constructor=U).prototype.$i=function(){return{header:{length:4},versionlength:{length:1,offset:1,type:"int"},version:{length:"versionlength",type:"int"},n_length:{length:1,offset:2,type:"int"},n:{length:"n_length",type:"bigint",er:!0,ir:!0,sr:!0},e_length:{length:1,offset:1,type:"int"},e:{length:"e_length",type:"int",er:!0},d_length:{length:1,offset:2,type:"int"},d:{length:"d_length",type:"bigint",er:!0,ir:!0,sr:!0},p_length:{length:1,offset:1,type:"int"},p:{length:"p_length",type:"bigint",er:!0,ir:!0},q_length:{length:1,offset:1,type:"int"},q:{length:"q_length",type:"bigint",er:!0,ir:!0},dmp1_length:{length:1,offset:1,type:"int"},dmp1:{length:"dmp1_length",type:"bigint",er:!0},dmq1_length:{length:1,offset:1,type:"int"},dmq1:{length:"dmq1_length",type:"bigint",er:!0,ir:!0},coeff_length:{length:1,offset:1,type:"int"},coeff:{length:"coeff_length",type:"bigint",er:!0,ir:!0}}};var V=function(e){A.call(this),e&&("string"==typeof e?this.Xi(e):e.hasOwnProperty("n")&&e.hasOwnProperty("e")&&(this.n=e.n,this.e=e.e))};((V.prototype=new A).constructor=V).prototype.$i=function(){return{header:{length:25},n_length:{length:1,offset:2,type:"int"},n:{length:"n_length",type:"bigint",er:!0,ir:!0,sr:!0},e_length:{length:1,offset:1,type:"int"},e:{length:"e_length",type:"int",er:!0}}};var G=function(){this.ar=null,this.cr=null};return G.prototype.lr=function(e){this.ar=new U(e),this.cr=new V(this.ar)},G.prototype.pr=function(e){this.cr=new V(e)},G.prototype.decrypt=function(e){return!!this.ar&&this.ar.decrypt(function(e){var t,i,r="",o=0;for(t=0;t<e.length&&"="!=e.charAt(t);++t){var s=k.indexOf(e.charAt(t));s<0||(o=0==o?(r+=n(s>>2),i=3&s,1):1==o?(r+=n(i<<2|s>>4),i=15&s,2):2==o?(r+=n(i),r+=n(s>>2),i=3&s,3):(r+=n(i<<2|s>>4),r+=n(15&s),0))}return 1==o&&(r+=n(i<<2)),r}(e))},G.prototype.encrypt=function(e){var t=this.cr||this.ar;return!!t&&I(t.encrypt(e))},G.prototype.or=function(){return this.ar||(this.ar=new U,this.ar.Qi(1024,"010001"),this.cr=new V(this.ar)),this.ar.or()},G.prototype.ur=function(){return this.cr||(this.cr=new V,this.cr.Qi(1024,"010001")),this.cr.ur()},function(e){var t=new G;return t.pr(i.Xt),t.encrypt(e)}}(),t.exports=r.encrypt},{17:17}],26:[function(e,t,n){var i=i||{},r="undefined";i.vr=function(e,t){return t=t||!1,e?"0"!=e:t},i.U=function(e,t){return null==e||isNaN(e)?t||0:parseInt(e)},i.o=function(e,t){var n=Number(e);return null==e||isNaN(n)?t||0:n},i.toString=function(e){if(typeof e==r)return r;if("string"==typeof e)return e;if(e instanceof Array)return e.join(",");var t="";for(var n in e)e.hasOwnProperty(n)&&(t+=n+":"+e[n]+";");return t||e.toString()},t.exports.vr=i.vr,t.exports.U=i.U,t.exports.o=i.o,t.exports.toString=i.toString},{}],27:[function(e,t,n){var i=e(19),r="undefined",o=typeof encodeURIComponent!==r?encodeURIComponent:escape,s=typeof decodeURIComponent!==r?decodeURIComponent:unescape,a="cs_dir_",u="cs_file_",c=typeof localStorage!==r?localStorage:null,l={},f=c&&o&&s,d={dir:function(e){if(!f)return null;var t=a+e,n=l[t];if(n)return n.slice();var i=c.getItem(t);if(i){n=[];for(var r=0,o=(i=i.split("|")).length;r<o;r++)0<i[r].length&&n.push(s(i[r]));return(l[t]=n).slice()}return null},append:function(e,t,n){if(f){var i=d.read(e,t);i?i+=n:i=n,d.write(e,t,i)}},write:function(e,t,n){if(f){var r,s=d.dir(e);s||(r=a+e,"function"==typeof c.setItem?c.setItem(r,""):c[r]="",l[r]=[],s=[]),-1==i.indexOf(t,s)&&function(e,t){var n=a+e;try{"function"==typeof c.setItem?c.setItem(n,c.getItem(n)+"|"+o(t)):c[n]=c.getItem(n)+"|"+o(t)}catch(e){}l[n].push(t)}(e,t),function(e,t,n){try{"function"==typeof c.setItem?c.setItem(u+e+t,n):c[u+e+t]=n}catch(e){}}(e,t,n)}},deleteFile:function(e,t){if(!f)return!1;var n=d.dir(e);return!!n&&-1!=i.indexOf(t,n)&&(function(e,t){var n=a+e,r=l[n];r.splice(i.indexOf(t,r),1);for(var s=[],f=0,d=r.length;f<d;f++)s.push(o(r[f]));try{"function"==typeof c.setItem?c.setItem(n,s.join("|")):c[n]=s.join("|"),"function"==typeof c.removeItem?c.removeItem(u+e+t):delete c[u+e+t]}catch(e){}}(e,t),!0)},read:function(e,t){if(!f)return null;var n=d.dir(e);return n?-1==i.indexOf(t,n)?null:function(e,t){try{return"function"==typeof c.getItem?c.getItem(u+e+t):c[u+e+t]}catch(e){}}(e,t):null}};t.exports=d},{19:19}],28:[function(e,t,n){function i(){f=typeof FileSystem!=l?new FileSystem:null,d=typeof curWidget!=l?curWidget.id:null,typeof sf!==l&&(u=a=function(e,t){sf.core.localData(e,t)}),null==f||typeof f.isValidCommonPath==l||f.isValidCommonPath(d)||f.createCommonDir(d),g=!0}function r(e){return e.replace(/^\s+|\s+$/g,"")}function o(e,t){var n=_[e];n?n.push(t):n=_[e]=[t],u(p+e,n.join(h))}function s(e,t){var n=_[e],i=c.indexOf(t,n);0<=i&&(n.splice(i,1),u(p+e,0===n.length?null:n.join(h)))}var a,u,c=e(19),l="undefined",f=null,d=null,p="cs_dir_",h="|",_={},g=!1,v={dir:function(e){if(g||i(),f.isValidCommonPath(d+"/"+e)){var t=_[e];if(!t){if(!(t=a(p+e)))return null;t=_[e]=t.split(h)}for(var n=t.slice(),r=0,o=n.length;r<o;r++){var u=t[r];f.isValidCommonPath(d+"/"+e+"/"+u)||s(e,u)}return n}return null},append:function(e,t,n){g||i();var s=d+"/"+e;f.isValidCommonPath(s)||f.createCommonDir(s),f.isValidCommonPath(s+"/"+t)||o(e,t);var a=f.openCommonFile(s+"/"+t,"a");a.writeLine(r(n)),f.closeCommonFile(a)},write:function(e,t,n){g||i();var s=d+"/"+e;f.isValidCommonPath(s)||f.createCommonDir(s),f.isValidCommonPath(s+"/"+t)||o(e,t);var a=f.openCommonFile(s+"/"+t,"w");a.writeLine(r(n)),f.closeCommonFile(a)},deleteFile:function(e,t){g||i();var n=d+"/"+e;return!!f.isValidCommonPath(n)&&(s(e,t),f.deleteCommonFile(n+"/"+t))},read:function(e,t){g||i();var n=d+"/"+e;if(!f.isValidCommonPath(n))return null;var r=f.openCommonFile(n+"/"+t,"r");if(r){for(var o,a=[];o=r.readLine();)a.push(o);return f.closeCommonFile(r),a.join("\n")}return s(e,t),""}};t.exports=v},{19:19}],29:[function(e,t,n){t.exports={dir:function(){return null},append:function(e,t,n){},write:function(e,t,n){},deleteFile:function(){return!1},read:function(){return null}}},{}],30:[function(e,t,n){function i(){null==p&&(h=typeof atv!=l&&typeof atv.device!=l&&atv.device.idForVendor?(p=r.pe(atv.device.idForVendor,""),"62"):(p=+new Date+~~(1e3*Math.random()),"72"),_=null)}var r=e(21),o=e(17),s=e(49).dr,a=e(49).hr(),u=e(45),c=e(29),l="undefined",f=o.D,d=o.Qt,p=null,h=null,_=null,g={PLATFORM:"atv",httpGet:s,httpPost:a,Storage:u,IO:c,getCrossPublisherId:function(){return i(),_},getAppName:function(){return f},getAppVersion:function(){return f},getVisitorId:function(){return i(),p},getVisitorIdSuffix:function(){return h},getDeviceModel:function(){return"Apple TV"},getPlatformVersion:function(){return typeof atv!=l&&typeof atv.device!=l&&r.pe(atv.device.softwareVersion,f)},getPlatformName:function(){return"js"},getRuntimeName:function(){return"atv"},getRuntimeVersion:function(){return typeof atv!=l&&typeof atv.device!=l&&r.pe(atv.device.softwareVersion,f)},getDisplayResolution:function(){return typeof atv.device!=l&&typeof atv.device.screenFrame!=l&&typeof atv.device.screenFrame.height!=l&&typeof atv.device.screenFrame.width!=l?atv.device.screenFrame.height+"x"+atv.device.screenFrame.width:d},getLanguage:function(){return typeof atv!=l&&typeof atv.device!=l&&r.pe(atv.device.language,"")},getPackageName:function(){return""},isConnectionAvailable:function(){return!0},setTimeout:function(e,t){return typeof atv!=l&&typeof atv.setTimeout!=l&&atv.setTimeout(e,t)},setInterval:function(e,t){return typeof atv!=l&&typeof atv.setInterval!=l&&atv.setInterval(e,t)},clearTimeout:function(e){return typeof atv!=l&&typeof atv.clearTimeout!=l&&atv.clearTimeout(e)},clearInterval:function(e){return typeof atv!=l&&typeof atv.clearInterval!=l&&atv.clearInterval(e)},isCompatible:function(){return typeof window==l&&typeof atv!=l},isConnectionSecure:function(){return typeof document!=l&&null!=document&&"s"===document.location.href.charAt(4)}};t.exports=g},{17:17,21:21,29:29,45:45,49:49}],31:[function(e,t,n){var i=e(21),r=e(20),o=e(17),s=e(50),a=e(48)._r,u=e(46),c=e(27),l="undefined",f=o.D,d=o.Qt,p={PLATFORM:"chromecast",httpGet:s,httpPost:a,Storage:u,IO:c,getCrossPublisherId:function(){return null},getAppName:function(){return typeof ns_.crm===l?f:ns_.crm.getApplicationData().name},getAppVersion:function(){return f},getVisitorId:function(){return+new Date+~~(1e3*Math.random())},getVisitorIdSuffix:function(){return"72"},getDeviceModel:function(){return"chromecast"},getPlatformVersion:function(){return cast.receiver.VERSION+"-"+i.pe(r.ue()+" "+r.se(),f)},getPlatformName:function(){return"js"},getRuntimeName:function(){return"html"},getRuntimeVersion:function(){return"5"},getDisplayResolution:function(){var e=typeof window!=l&&i.tn(window.screen)&&i.tn(window.screen.availWidth)?window.screen.availWidth:0,t=typeof window!=l&&i.tn(window.screen)&&i.tn(window.screen.availHeight)?window.screen.availHeight:0;return 0<e&&0<t?e+"x"+t:d},getLanguage:function(){return typeof window!=l&&i.tn(window.navigator)&&i.pe(window.navigator.language,"")||f},getPackageName:function(){return f},isConnectionAvailable:function(){return!0},isCompatible:function(){return typeof window!==l&&!i.jt(window.cast)&&!i.jt(cast.receiver)},isConnectionSecure:function(){return typeof document!=l&&null!=document&&"s"===document.location.href.charAt(4)}};t.exports=p},{17:17,20:20,21:21,27:27,46:46,48:48,50:50}],32:[function(e,t,n){t.exports={SmartTV:0,Netcast:1,Cordova:2,Trilithium:3,AppleTV:4,Chromecast:5,Xbox:6,webOS:7,tvOS:8,nodejs:9,html5:10,JSMAF:11,Skeleton:12}},{}],33:[function(e,t,n){function i(){return typeof device!=d&&typeof device.available!=d&&device.available&&typeof window!=d&&typeof window.navigator!=d}function r(){if(null==_){var e=i()&&typeof device!=d&&o.tn(device.uuid)&&0<device.uuid.length?device.uuid:null;v=null!=e?(g="31",_=e):(_=+new Date+~~(1e3*Math.random()),g="72",null)}}var o=e(21),s=e(17),a=e(50),u=e(48).gr,c=e(48)._r,l=e(46),f=e(27),d="undefined",p=s.D,h=s.Qt,_=null,g=null,v=null,m={PLATFORM:"cordova",httpGet:function(){return typeof Image!=d?a.apply(this,arguments):u.apply(this,arguments)},httpPost:c,Storage:l,IO:f,getCrossPublisherId:function(){return r(),v},getAppName:function(){return p},getAppVersion:function(){return p},getVisitorId:function(){return r(),_},getVisitorIdSuffix:function(){return g},getDeviceModel:function(){return typeof device!=d&&o.tn(device.model)||p},getPlatformVersion:function(){return typeof device!=d&&o.tn(device.cordova)&&device.cordova||p},getPlatformName:function(){return"js"},getRuntimeName:function(){return typeof device!=d&&o.tn(device.platform)&&"cordova"+device.platform||"cordova"},getRuntimeVersion:function(){return typeof device!=d&&o.tn(device.version)||p},getDisplayResolution:function(){var e=typeof window!=d&&o.tn(window.screen)&&o.tn(window.screen.availWidth)&&window.screen.availWidth||0,t=typeof window!=d&&o.tn(window.screen)&&o.tn(window.screen.availHeight)&&window.screen.availHeight||0;return 0<e&&0<t?e+"x"+t:h},getLanguage:function(){return typeof window!=d&&o.tn(window.navigator)&&o.tn(window.navigator.language)&&window.navigator.language||p},getPackageName:function(){return""},isConnectionAvailable:function(){return typeof window==d||!o.tn(window.navigator)||!o.tn(window.navigator.onLine)||window.navigator.onLine},isCompatible:i,isConnectionSecure:function(){return typeof document!=d&&null!=document&&"s"===document.location.href.charAt(4)}};t.exports=m},{17:17,21:21,27:27,46:46,48:48,50:50}],34:[function(e,t,n){var i=e(21),r=e(20),o=e(17),s=e(50),a=e(48).gr,u=e(48)._r,c=e(46),l=e(27),f="undefined",d=typeof document!=f&&document||void 0,p=o.D,h=o.Qt,_={PLATFORM:"html5",httpGet:function(){return typeof Image!=f?s.apply(this,arguments):a.apply(this,arguments)},httpPost:u,Storage:c,IO:l,getCrossPublisherId:function(){return null},getAppName:function(){return d&&i.tn(d.title)&&d.title||p},getAppVersion:function(){return p},getVisitorId:function(){return this.getDeviceModel()+ +new Date+~~(1e3*Math.random())},getVisitorIdSuffix:function(){return"72"},getDeviceModel:function(){return typeof window!=f&&i.tn(window.navigator)&&i.pe(window.navigator.platform,"")||""},getPlatformVersion:function(){return i.pe(r.ue()+" "+r.se(),"")},getPlatformName:function(){return"js"},getRuntimeName:function(){return"html"},getRuntimeVersion:function(){return"5"},getDisplayResolution:function(){var e,t;typeof window!=f&&window.screen&&window.screen.width&&(e=window.screen.width),typeof window!=f&&window.screen&&window.screen.width&&(t=window.screen.height);var n=1;return typeof window!=f&&window.devicePixelRatio&&(n=window.devicePixelRatio),0<e&&0<t?(e*=n)+"x"+(t*=n):h},getApplicationResolution:function(){var e,t;typeof window!=f&&window.innerWidth&&(e=window.innerWidth),typeof window!=f&&window.innerHeight&&(t=window.innerHeight);var n=1;return typeof window!=f&&window.devicePixelRatio&&(n=window.devicePixelRatio),0<e&&0<t?(e*=n)+"x"+(t*=n):h},getLanguage:function(){return typeof window!=f&&i.tn(window.navigator)&&i.pe(window.navigator.language,"")||p},getPackageName:function(){return""},isConnectionAvailable:function(){return typeof window==f||!i.tn(window.navigator)||!i.tn(window.navigator.onLine)||window.navigator.onLine},isCompatible:function(){return typeof window!==f&&i.tn(window.navigator)&&i.tn(window.localStorage)&&i.tn(d)&&!!d.createElement("canvas").getContext},isConnectionSecure:function(){return!!d&&"s"===d.location.href.charAt(4)}};t.exports=_},{17:17,20:20,21:21,27:27,46:46,48:48,50:50}],35:[function(e,t,n){function i(){if(null==h)if(typeof jsmaf!=f&&o.tn(jsmaf.hardwareId)){var e=jsmaf.hardwareId;_="31",g=h=e}else h=+new Date+~~(1e3*Math.random()),_="72",g=null}function r(){return typeof jsmaf==f||!o.tn(jsmaf.networkStatus)||"connected"==jsmaf.networkStatus}var o=e(21),s=e(17),a=e(48).gr,u=e(48)._r,c=e(46),l=e(27),f="undefined",d=s.D,p=s.Qt,h=null,_=null,g=null,v={PLATFORM:"jsmaf",httpGet:a,httpPost:u,Storage:c,IO:l,getCrossPublisherId:function(){return i(),g},getAppName:function(){return d},getAppVersion:function(){return d},getVisitorId:function(){return i(),h},getVisitorIdSuffix:function(){return i(),_},getDeviceModel:function(){return typeof jsmaf!=f&&o.tn(jsmaf.platform)?jsmaf.platform:d},getPlatformName:function(){return"js"},getPlatformVersion:function(){return d},getRuntimeName:function(){return"jsmaf"},getRuntimeVersion:function(){return typeof jsmaf!=f&&o.tn(jsmaf.version)?jsmaf.version:d},getDisplayResolution:function(){return typeof jsmaf!=f&&o.tn(jsmaf.screenWidth)&&o.tn(jsmaf.screenHeight)?jsmaf.screenWidth+"x"+jsmaf.screenHeight:p},getLanguage:function(){return typeof jsmaf!=f&&o.tn(jsmaf.locale)?jsmaf.locale:d},getPackageName:function(){return null},isConnectionAvailable:r,isCompatible:function(){return typeof jsmaf!=f},setTimeout:function(e,t){return jsmaf.setTimeout(e,t)},setInterval:function(e,t){return jsmaf.setInterval(e,t)},clearTimeout:function(e){return jsmaf.clearTimeout(e)},clearInterval:function(e){return jsmaf.clearInterval(e)},getDeviceArchitecture:function(){if(typeof jsmaf==f||!o.tn(jsmaf.platform))var e=d;return"ps3"==jsmaf.platform?e="cell":"ps4"==jsmaf.platform?e="ps4":"vita"==jsmaf.platform&&(e="vita"),e},getConnectionType:function(){return r()&&typeof jsmaf!=f&&o.tn(jsmaf.connectionType)?"wired"==jsmaf.connectionType?"eth":"wireless"==jsmaf.connectionType?"wifi":"phone"==jsmaf.connectionType?"wwan":d:d},getDeviceJailBrokenFlag:function(){return d},isConnectionSecure:function(){return typeof document!=f&&null!=document&&"s"===document.location.href.charAt(4)}};t.exports=v},{17:17,21:21,27:27,46:46,48:48}],36:[function(e,t,n){var i=e(50),r=e(52).mr,o=e(46),s=e(29),a=e(17),u=a.D,c=a.Qt,l={PLATFORM:"generic",httpGet:i,httpPost:r,Storage:o,IO:s,onDataFetch:function(e){e()},getCrossPublisherId:function(){return null},getAppName:function(){return u},getAppVersion:function(){return u},getVisitorId:function(){return+new Date+~~(1e3*Math.random())},getVisitorIdSuffix:function(){return"72"},getDeviceModel:function(){return u},getPlatformVersion:function(){return u},getPlatformName:function(){return"js"},getRuntimeName:function(){return u},getRuntimeVersion:function(){return u},getDisplayResolution:function(){return c},getApplicationResolution:function(){return c},getLanguage:function(){return u},getPackageName:function(){return null},isConnectionAvailable:function(){return!0},isCompatible:function(){return!0},autoSelect:function(){},autoDetect:function(){},setPlatformAPI:function(){},isCrossPublisherIdChanged:function(){return!1},setTimeout:function(e,t){return setTimeout(e,t)},setInterval:function(e,t){return setInterval(e,t)},clearTimeout:function(e){return clearTimeout(e)},clearInterval:function(e){return clearInterval(e)},getDeviceArchitecture:function(){return u},getConnectionType:function(){return u},getDeviceJailBrokenFlag:function(){return u},isConnectionSecure:function(){return!1},processMeasurementLabels:function(){}};t.exports=l},{17:17,29:29,46:46,50:50,52:52}],37:[function(e,t,n){function i(){if(null==h){var e=function(){if(typeof ns_!=f&&r.tn(ns_.netcastDevice)){if(r.tn(ns_.netcastDevice.net_macAddress)&&r.lt(ns_.netcastDevice.net_macAddress))return ns_.netcastDevice.net_macAddress;if(r.tn(ns_.netcastDevice.serialNumber)&&r.lt(ns_.netcastDevice.serialNumber))return ns_.netcastDevice.serialNumber}return null}();g=null!=e?(_="31",h=e):(h=+new Date+~~(1e3*Math.random()),_="72",null)}}var r=e(21),o=e(17),s=e(50),a=e(48).gr,u=e(52).mr,c=e(46),l=e(29),f="undefined",d=o.D,p=o.Qt,h=null,_=null,g=null,v={PLATFORM:"netcast",httpGet:function(){return typeof Image!=f?s.apply(this,arguments):a.apply(this,arguments)},httpPost:u,Storage:c,IO:l,getCrossPublisherId:function(){return i(),g},getAppName:function(){return d},getAppVersion:function(){return d},getVisitorId:function(){return i(),h},getVisitorIdSuffix:function(){return _},getDeviceModel:function(){return typeof ns_!=f&&r.tn(ns_.netcastDevice)&&r.tn(ns_.netcastDevice.modelName)&&ns_.netcastDevice.modelName||d},getPlatformVersion:function(){return typeof ns_!=f&&r.tn(ns_.netcastDevice)&&r.pe(ns_.netcastDevice.version,d)||d},getPlatformName:function(){return"js"},getRuntimeName:function(){return typeof ns_!=f&&r.tn(ns_.netcastDevice)?"lg-ott"+r.pe(ns_.netcastDevice.platform,d):d},getRuntimeVersion:function(){if(typeof ns_!=f&&r.tn(ns_.netcastDevice)){if(r.tn(ns_.netcastDevice.version))return ns_.netcastDevice.version;if(r.tn(ns_.netcastDevice.hwVersion))return ns_.netcastDevice.hwVersion;if(r.tn(ns_.netcastDevice.swVersion))return ns_.netcastDevice.swVersion}return d},getDisplayResolution:function(){if(typeof ns_!=f&&r.tn(ns_.netcastDevice)&&r.tn(ns_.netcastDevice.osdResolution))switch(ns_.netcastDevice.osdResolution){case 0:return"640x480";case 1:return"720x576";case 2:return"1280x720";case 3:return"1920x1080";case 4:return"1366x768"}return p},getLanguage:function(){return typeof ns_!=f&&r.tn(ns_.netcastDevice)&&r.pe(ns_.netcastDevice.tvLanguage2,r.pe(window.navigator.language))||d},getPackageName:function(){return null},isConnectionAvailable:function(){return typeof ns_.netcastDevice===f||!!ns_.netcastDevice.net_isConnected},getConnectionType:function(){if(typeof ns_.netcastDevice!==f){if(0===ns_.netcastDevice.networkType)return"eth";if(1===ns_.netcastDevice.networkType)return"wifi"}return d},isCompatible:function(){return typeof ns_!=f&&typeof ns_.netcastDevice!=f&&typeof ns_.netcastDevice.version!=f&&typeof window!=f&&typeof window.navigator!=f},isConnectionSecure:function(){return typeof document!=f&&null!=document&&"s"===document.location.href.charAt(4)}};t.exports=v},{17:17,21:21,29:29,46:46,48:48,50:50,52:52}],38:[function(e,i,r){(function(t){function o(){null==h&&(h=+new Date+~~(1e3*Math.random()),_="72",g=null)}var s=e(21),a=e(17),u=e(52).mr,c=e(46),l=e(29),f="undefined",d=a.D,p=a.Qt,h=null,_=null,g=null,v={PLATFORM:"nodejs",httpGet:function(t,n){new function(t){var n=this,i=0;n.send=function(r){e("http").get(r,function(e){var r=e.statusCode;if((302==r||301==r)&&i<20&&e.headers&&e.headers.location)return i++,void n.send(e.headers.location);t(r)}).on("error",function(){t()})}}(n).send(t)},httpPost:u,Storage:c,IO:l,getCrossPublisherId:function(){return o(),g},getVisitorId:function(){return o(),h},getVisitorIdSuffix:function(){return _},getPlatformVersion:function(){var t=e("os");return[t.type(),t.platform(),t.release()].join(";")},getPlatformName:function(){return"js"},getRuntimeName:function(){return"nodejs"},getRuntimeVersion:function(){return typeof n===f||s.jt(n.version)?d:n.version},getDisplayResolution:function(){return p},isCompatible:function(){return typeof window===f&&typeof i!==f&&typeof r!==f&&typeof t!==f&&typeof n!==f&&s.tn(n.version)},isConnectionSecure:function(){return!1}};i.exports=v}).call(this,void 0!==t?t:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{17:17,21:21,29:29,46:46,52:52,undefined:void 0}],39:[function(e,t,n){var i=e(24),r=e(32),o=e(36),s=e(40),a=e(37),u=e(43),c=e(33),l=e(41),f=e(30),d=e(44),p=e(31),h=e(42),_=e(35),g=e(38),v=e(34),m=!1;o.autoDetect=function(){m||(m=!0,s.isCompatible()?i.extend(o,s):a.isCompatible()?i.extend(o,a):u.isCompatible()?i.extend(o,u):c.isCompatible()?i.extend(o,c):l.isCompatible()?i.extend(o,l):f.isCompatible()?i.extend(o,f):d.isCompatible()?i.extend(o,d):p.isCompatible()?i.extend(o,p):h.isCompatible()?i.extend(o,h):_.isCompatible()?i.extend(o,_):g.isCompatible()?i.extend(o,g):v.isCompatible()&&i.extend(o,v))},o.autoSelect=o.autoDetect,o.setPlatformAPI=function(e){switch(m=!0,e){case r.SmartTV:i.extend(o,s);break;case r.Netcast:i.extend(o,a);break;case r.Cordova:i.extend(o,c);break;case r.Trilithium:i.extend(o,l);break;case r.AppleTV:i.extend(o,f);break;case r.Chromecast:i.extend(o,p);break;case r.Xbox:i.extend(o,d);break;case r.webOS:i.extend(o,u);break;case r.tvOS:i.extend(o,h);break;case r.JSMAF:i.extend(o,_);break;case r.nodejs:i.extend(o,g);break;case r.html5:i.extend(o,v);break;case r.Skeleton:break;default:m=!1}}},{24:24,30:30,31:31,32:32,33:33,34:34,35:35,36:36,37:37,38:38,40:40,41:41,42:42,43:43,44:44}],40:[function(e,t,n){function i(){if(null==p){var e=function(){if("object"!=typeof sf||"object"!=typeof sf.core||"function"!=typeof sf.core.sefplugin)return null;var e=sf.core.sefplugin("NNAVI");if("function"!=typeof e.Open||"function"!=typeof e.Execute)return null;e.Open("Network","1.001","Network");var t=e.Execute("GetMAC","0");if(!r.jt(t))return t;if(t=e.Execute("GetMAC","1"),!r.jt(t))return t;var n=e.Execute("GetDeviceID");return r.jt(n)?null:n}();_=null!=e?(h="31",p=e):(p=+new Date+~~(1e3*Math.random()),h="72",null)}}var r=e(21),o=e(17),s=e(48).gr,a=e(52).mr,u=e(47),c=e(28),l="undefined",f=o.D,d=o.Qt,p=null,h=null,_=null,g={PLATFORM:"smarttv",httpGet:s,httpPost:a,Storage:u,IO:c,getCrossPublisherId:function(){return i(),_},getAppName:function(){return f},getAppVersion:function(){return typeof sf!=l&&r.tn(sf.env)&&r.tn(sf.env.getAppVersion)&&sf.env.getAppVersion()||f},getVisitorId:function(){return i(),p},getVisitorIdSuffix:function(){return h},getDeviceModel:function(){return typeof sf!=l&&r.tn(sf.core)&&r.tn(sf.core.getEnvValue)&&sf.core.getEnvValue("modelid")||f},getPlatformVersion:function(){return"2.0.0"},getPlatformName:function(){return"js"},getRuntimeName:function(){if(typeof sf!==l&&r.tn(sf.env)&&r.tn(sf.env.getProductType)&&r.tn(sf.env.PRODUCTTYPE_TV)&&r.tn(sf.env.PRODUCTTYPE_MONITOR)&&r.tn(sf.env.PRODUCTTYPE_BD)){var e=[];return e[sf.env.PRODUCTTYPE_TV]="samsung-smarttv-tv",e[sf.env.PRODUCTTYPE_MONITOR]="samsung-smarttv-monitor",e[sf.env.PRODUCTTYPE_BD]="samsung-smarttv-bd",e[sf.env.getProductType()]}},getRuntimeVersion:function(){return typeof sf!=l&&r.tn(sf.env)&&r.tn(sf.env.getFirmwareVer)&&sf.env.getFirmwareVer().version},getDisplayResolution:function(){if(typeof sf===l||!r.tn(sf.env)||!r.tn(sf.env.getScreenSize))return d;var e=sf.env.getScreenSize();return e.width+"x"+e.height},getLanguage:function(){if(typeof sf!==l&&r.tn(sf.env)&&r.tn(sf.env.getLanguageCode))return sf.env.getLanguageCode()},getPackageName:function(){return null},isConnectionAvailable:function(){return!0},isCompatible:function(){return typeof window!=l&&typeof window.navigator!=l&&typeof sf!=l&&typeof sf.env!=l},getConnectionType:function(){if("object"!=typeof sf||"object"!=typeof sf.core||"function"!=typeof sf.core.sefplugin)return f;var e=sf.core.sefplugin("NETWORK");if("function"!=typeof e.Open||"function"!=typeof e.Execute)return f;e.Open("Network","1.001","Network");var t=e.Execute("GetActiveType");return 0===t?"wired":1===t?"wireless":f},isConnectionSecure:function(){return typeof document!=l&&null!=document&&"s"===document.location.href.charAt(4)}};t.exports=g},{17:17,21:21,28:28,47:47,48:48,52:52}],41:[function(e,t,n){function i(){if(null==p){var e=r.lt(engine.stats.device.id)?engine.stats.device.id:r.lt(engine.stats.network.mac)?engine.stats.network.mac:null;_=null!=e?(h="31",p=e):(p=+new Date+~~(1e3*Math.random()),h="72",null)}}var r=e(21),o=e(17),s=e(51),a=e(52),u=e(46),c=e(29),l="undefined",f=o.D,d=o.Qt,p=null,h=null,_=null,g={PLATFORM:"trilithium",httpGet:s,httpPost:a,Storage:u,IO:c,getCrossPublisherId:function(){return i(),_},getAppName:function(){return r.lt(engine.stats.application.name)?engine.stats.application.name:f},getAppVersion:function(){return r.lt(engine.stats.application.version)?engine.stats.application.version:f},getVisitorId:function(){return i(),p},getVisitorIdSuffix:function(){return h},getDeviceModel:function(){return r.pe(engine.stats.device.platform,f)},getPlatformVersion:function(){return""},getPlatformName:function(){return"js"},getRuntimeName:function(){return"trilithium"},getRuntimeVersion:function(){return r.pe(engine.stats.device.version,f)},getDisplayResolution:function(){return typeof screen!=l&&typeof screen.height!=l&&typeof screen.width!=l?screen.height+"x"+screen.width:d},getLanguage:function(){return f},getPackageName:function(){return null},isConnectionAvailable:function(){return!0},isCompatible:function(){return typeof engine!=l&&typeof engine.stats!=l},isConnectionSecure:function(){return typeof document!=l&&null!=document&&"s"===document.location.href.charAt(4)}};t.exports=g},{17:17,21:21,29:29,46:46,51:51,52:52}],42:[function(e,t,n){function i(){null==p&&(h=r.jt(Device.vendorIdentifier)?(p=+new Date+~~(1e3*Math.random()),"72"):(p=Device.vendorIdentifier,"62"),_=p)}var r=e(21),o=e(17),s=e(48).gr,a=e(48)._r,u=e(46),c=e(27),l="undefined",f=o.D,d=o.Qt,p=null,h=null,_=null,g={PLATFORM:"tvos",httpGet:s,httpPost:a,Storage:u,IO:c,getCrossPublisherId:function(){return i(),_},getAppName:function(){return Device.appIdentifier},getAppVersion:function(){return Device.appVersion},getVisitorId:function(){return i(),p},getVisitorIdSuffix:function(){return h},getDeviceModel:function(){return Device.productType},getPlatformVersion:function(){return Device.systemVersion},getPlatformName:function(){return"js"},getRuntimeName:function(){return"tvos"},getRuntimeVersion:function(){return Device.systemVersion},getDisplayResolution:function(){return d},getLanguage:function(){return Settings.language},getPackageName:function(){return f},isConnectionAvailable:function(){return!0},isCompatible:function(){return typeof window===l&&typeof Device!==l&&"Apple TV"===Device.model},isConnectionSecure:function(){return!0}};t.exports=g},{17:17,21:21,27:27,46:46,48:48}],43:[function(e,t,n){var i,r,o,s=e(21),a=e(17),u=e(50),c=e(48)._r,l=e(46),f=e(27),d="undefined",p=a.D,h=a.Qt,_={PLATFORM:"webos",httpGet:u,httpPost:c,Storage:l,IO:f,onDataFetch:function(e,t){var n,s,a,u=3,c=function(){0==--u&&e()};n=c,webOS.service.request("luna://com.webos.service.tv.systemproperty",{method:"getSystemInfo",parameters:{keys:["modelName","firmwareVersion","UHD","sdkVersion"]},onSuccess:function(e){e.returnValue&&(i=e),n()},onFailure:function(){n()}}),s=c,webOS.service.request("luna://com.webos.settingsservice",{method:"getSystemSettings",parameters:{category:"option"},onSuccess:function(e){e.returnValue&&(r=e),s()},onFailure:function(){s()}}),a=c,webOS.service.request("luna://com.webos.service.connectionmanager",{method:"getStatus",onSuccess:function(e){e.returnValue&&(o=e),a()},onFailure:function(){a()}})},getCrossPublisherId:function(){return typeof webOS!==d&&webOS.device&&webOS.device.serialNumber&&"Unknown"!=webOS.device.serialNumber?webOS.device.serialNumber:null},getAppName:function(){return p},getAppVersion:function(){return p},getVisitorId:function(){return+new Date+~~(1e3*Math.random())},getVisitorIdSuffix:function(){return"72"},getDeviceModel:function(){return i&&i.modelName?i.modelName:p},getPlatformVersion:function(){return i&&i.sdkVersion?i.sdkVersion:p},getPlatformName:function(){return"js"},getRuntimeName:function(){return"webOS"},getRuntimeVersion:function(){return typeof webOS!==d&&webOS.device?webOS.device.platformVersion:p},getDisplayResolution:function(){var e=0;typeof webOS!==d&&webOS.device?e=webOS.device.screenWidth:typeof window!=d&&window.screen&&(e=window.screen.availWidth);var t=0;return typeof webOS!==d&&typeof webOS.device!==d?t=webOS.device.screenHeight:typeof window!=d&&window.screen&&(t=window.screen.availHeight),0<e&&0<t?e+"x"+t:h},getLanguage:function(){return r&&r.locales&&(r.locales.UI||r.locales.TV)||p},getPackageName:function(){return p},isConnectionAvailable:function(){return!o||!o.isInternetConnectionAvailable||o.isInternetConnectionAvailable},isCompatible:function(){return typeof window!==d&&!s.jt(window.webOS)&&!s.jt(webOS.service)&&!s.jt(webOS.service.request)},getConnectionType:function(){if(o&&(o.wired||o.wifi)){if("connected"===o.wired.state&&"yes"===o.wired.onInternet)return"eth";if("connected"===o.wifi.state&&"yes"===o.wifi.onInternet)return"wifi"}return p},isConnectionSecure:function(){return typeof document!=d&&null!=document&&"s"===document.location.href.charAt(4)}};t.exports=_},{17:17,21:21,27:27,46:46,48:48,50:50}],44:[function(e,t,n){function i(){typeof Windows!=l&&Windows&&Windows.Xbox&&Windows.Xbox.ApplicationModel&&Windows.Xbox.ApplicationModel.Core&&Windows.Xbox.ApplicationModel.Core.CoreApplicationContext&&Windows.Xbox.ApplicationModel.Core.CoreApplicationContext.addEventListener("currentuserchanged",function(){v=!0}),r(),m=!0}function r(){var e=null;if(typeof Windows!=l&&Windows&&Windows.Xbox&&Windows.Xbox.ApplicationModel&&Windows.Xbox.ApplicationModel.Core&&Windows.Xbox.ApplicationModel.Core.CoreApplicationContext&&Windows.Xbox.ApplicationModel.Core.CoreApplicationContext.currentUser){var t=Windows.Xbox.ApplicationModel.Core.CoreApplicationContext.currentUser;null!=t&&!t.br&&t.Ir&&(e=Windows.Xbox.ApplicationModel.Core.CoreApplicationContext.currentUser.xboxUserId)}_=e}var o=e(17),s=e(53).wr,a=e(53).yr,u=e(46),c=e(27),l="undefined",f=o.D,d=o.Qt,p=null,h=null,_=null,g=!1,v=!1,m=!1,E={PLATFORM:"xbox",httpGet:s,httpPost:a,Storage:u,IO:c,getCrossPublisherId:function(){return m||i(),v&&r(),_},getAppName:function(){var e=f;return typeof Windows!=l&&Windows&&Windows.ApplicationModel&&Windows.ApplicationModel.Package&&Windows.ApplicationModel.Package.current&&Windows.ApplicationModel.Package.current.id&&Windows.ApplicationModel.Package.current.id.name&&(e=Windows.ApplicationModel.Package.current.id.name),e},getAppVersion:function(){var e=f;if(typeof Windows!=l&&Windows&&Windows.ApplicationModel&&Windows.ApplicationModel.Package&&Windows.ApplicationModel.Package.current&&Windows.ApplicationModel.Package.current.id&&Windows.ApplicationModel.Package.current.id.version){var t=Windows.ApplicationModel.Package.current.id.version;e=t.major+"."+t.minor+"."+t.build+"."+t.revision}return e},getVisitorId:function(){return g||function(){p=typeof Windows!=l&&Windows&&Windows.Xbox&&Windows.Xbox.System&&Windows.Xbox.System.Console&&Windows.Xbox.System.Console.applicationSpecificDeviceId?Windows.Xbox.System.Console.applicationSpecificDeviceId:this.getDeviceModel()+ +new Date+~~(1e3*Math.random()),h="72",g=!0}(),p},getVisitorIdSuffix:function(){return h},getDeviceModel:function(){return"xbox one"},getPlatformVersion:function(){var e=f;return typeof navigator!=l&&navigator&&navigator.userAgent&&navigator.userAgent.split(";").filter(function(e){return-1!=e.indexOf("Windows NT")}).forEach(function(t){e=t.substr(t.indexOf("Windows NT")+11,t.length-1)}),e},getPlatformName:function(){return"xbox"},getRuntimeName:function(){return"winjs"},getRuntimeVersion:function(){var e=f;return typeof Windows!=l&&Windows&&Windows.ApplicationModel&&Windows.ApplicationModel.Package&&Windows.ApplicationModel.Package.current&&Windows.ApplicationModel.Package.current.dependencies&&Windows.ApplicationModel.Package.current.dependencies.filter(function(e){return e&&e.id&&e.id.name&&-1!=e.id.name.indexOf("WinJS")&&e.id.version}).forEach(function(t){e=t.id.version.major+"."+t.id.version.minor+"."+t.id.version.build+"."+t.id.version.revision}),e},getDisplayResolution:function(){var e=d;if(typeof Windows!=l&&Windows&&Windows.Xbox&&Windows.Xbox.Graphics&&Windows.Xbox.Graphics.Display&&Windows.Xbox.Graphics.Display.DisplayConfiguration&&Windows.Xbox.Graphics.Display.DisplayConfiguration.getForCurrentView&&Windows.Xbox.Graphics.Display.DisplayConfiguration.getForCurrentView()&&Windows.Xbox.Graphics.Display.DisplayConfiguration.getForCurrentView().currentDisplayMode&&Windows.Xbox.Graphics.Display.DisplayConfiguration.getForCurrentView().currentDisplayMode.rawWidth&&Windows.Xbox.Graphics.Display.DisplayConfiguration.getForCurrentView().currentDisplayMode.rawHeight){var t=Windows.Xbox.Graphics.Display.DisplayConfiguration.getForCurrentView().currentDisplayMode;e=t.rawWidth+"x"+t.rawHeight}return e},getApplicationResolution:function(){var e=d;return typeof window!=l&&window.innerWidth&&window.innerHeight&&(e=window.innerWidth+"x"+window.innerHeight),e},getLanguage:function(){var e=f;return typeof Windows!=l&&Windows&&Windows.System&&Windows.System.UserProfile&&Windows.System.UserProfile.GlobalizationPreferences&&Windows.System.UserProfile.GlobalizationPreferences.languages&&(e=Windows.System.UserProfile.GlobalizationPreferences.languages.getAt(0)),e},getPackageName:function(){var e=f;return typeof Windows!=l&&Windows&&Windows.ApplicationModel&&Windows.ApplicationModel.Package&&Windows.ApplicationModel.Package.current&&Windows.ApplicationModel.Package.current.id&&Windows.ApplicationModel.Package.current.id.name&&(e=Windows.ApplicationModel.Package.current.id.name),e},isConnectionAvailable:function(){return!(typeof Windows!=l&&Windows&&Windows.Networking&&Windows.Networking.Connectivity&&Windows.Networking.Connectivity.NetworkInformation&&Windows.Networking.Connectivity.NetworkInformation.getInternetConnectionProfile&&Windows.Networking.Connectivity.NetworkInformation.getInternetConnectionProfile()&&Windows.Networking.Connectivity.NetworkInformation.getInternetConnectionProfile().getNetworkConnectivityLevel&&Windows.Networking.Connectivity.NetworkInformation.getInternetConnectionProfile().getNetworkConnectivityLevel())||4==Windows.Networking.Connectivity.NetworkInformation.getInternetConnectionProfile().getNetworkConnectivityLevel()},isCompatible:function(){return typeof WinJS!=l&&WinJS&&typeof Windows!=l&&Windows&&Windows.Xbox},setPlatformAPI:function(){},isCrossPublisherIdChanged:function(){return m||i(),v},getDeviceArchitecture:function(){var e="unknown";if(typeof Windows!=l&&Windows&&Windows.ApplicationModel&&Windows.ApplicationModel.Package&&Windows.ApplicationModel.Package.current&&Windows.ApplicationModel.Package.current.id&&Windows.ApplicationModel.Package.current.id.architecture)switch(Windows.ApplicationModel.Package.current.id.architecture){case 5:e="arm";break;case 11:e="neutral";break;case 9:e="x64";break;case 0:e="x86"}return e},getConnectionType:function(){var e=f;if(typeof Windows!=l&&Windows&&Windows.Networking&&Windows.Networking.Connectivity&&Windows.Networking.Connectivity.NetworkInformation&&Windows.Networking.Connectivity.NetworkInformation.getInternetConnectionProfile&&Windows.Networking.Connectivity.NetworkInformation.getInternetConnectionProfile()&&Windows.Networking.Connectivity.NetworkInformation.getInternetConnectionProfile().networkAdapter&&Windows.Networking.Connectivity.NetworkInformation.getInternetConnectionProfile().networkAdapter.ianaInterfaceType)switch(Windows.Networking.Connectivity.NetworkInformation.getInternetConnectionProfile().networkAdapter.ianaInterfaceType){case 6:e="eth";break;case 71:e="wifi"}return e},getDeviceJailBrokenFlag:function(){return f},isConnectionSecure:function(){return typeof document!=l&&null!=document&&"s"===document.location.href.charAt(4)}};t.exports=E},{17:17,27:27,46:46,53:53}],45:[function(e,t,n){var i=e(24),r="undefined",o="cs_";t.exports=function(){var e=typeof atv!=r&&typeof atv.localStorage!=r&&atv.localStorage||null;i.extend(this,{get:function(t){return e&&t&&e.getItem(o+t)||null},set:function(t,n){e&&t&&(e[o+t]=n)},has:function(t){return e&&t&&null!=e.getItem(o+t)||!1},remove:function(t){e&&t&&e.removeItem(o+t)},clear:function(){}})}},{24:24}],46:[function(e,t,n){var i=e(24),r="cs_";t.exports=function(){var e="undefined"!=typeof localStorage?localStorage:null;i.extend(this,{get:function(t){try{return e&&"function"==typeof e.getItem?e.getItem(r+t):e?e[r+t]:e}catch(t){}},set:function(t,n){try{e&&"function"==typeof e.setItem?e.setItem(r+t,n):e&&(e[r+t]=n)}catch(t){}},has:function(t){try{return e&&"function"==typeof e.getItem?e.getItem(r+t):e?e[r+t]:e}catch(t){}},remove:function(t){try{e&&"function"==typeof e.removeItem?e.removeItem(r+t):e&&delete e[r+t]}catch(t){}},clear:function(){try{for(var t=0;e&&t<e.length;++t){var n=e.key(t);n.substr(0,r.length)===r&&("function"==typeof e.removeItem?e.removeItem(n):delete e[n])}}catch(t){}}})}},{24:24}],47:[function(e,t,n){var i,r,o=e(24),s="cs_";"undefined"!=typeof sf?r=i=function(e,t){sf.core.localData(e,t)}:(r=function(e,t){$.sf.setData(e,void 0===t?null:t)},i=function(e){return $.sf.getData(e)}),t.exports=function(){o.extend(this,{get:function(e){return i(s+e)},set:function(e,t){r(s+e,t)},has:function(e){return void 0!==i(s+e)},remove:function(e){r(s+e,null)}})}},{24:24}],48:[function(e,t,n){var i="undefined";n.gr=function(e,t){if(typeof XMLHttpRequest!=i){var n=new XMLHttpRequest;n.open("GET",e,!0),n.onreadystatechange=function(){4===n.readyState&&(t&&t(n.status),n=null)},n.send()}else"function"==typeof setTimeout?t&&setTimeout(t,0):t&&t()},n._r=function(e,t,n){if(typeof XMLHttpRequest!=i){var r=new XMLHttpRequest;r.open("POST",e,!0),r.onreadystatechange=function(){4===r.readyState&&(n&&n(r.status),r=null)},r.send(t)}else"function"==typeof setTimeout?n&&setTimeout(n,0):n&&n()}},{}],49:[function(e,t,n){var i="undefined";n.dr=function(e,t){if(typeof atv!=i&&typeof XMLHttpRequest!=i){var n=new XMLHttpRequest;n.open("GET",e,!0),n.onreadystatechange=function(){4==n.readyState&&(t&&t(n.status),n=null)},n.send()}else typeof atv!=i&&"function"==typeof atv.setTimeout?t&&atv.setTimeout(t,0):t&&t()},n.hr=function(e,t,n){if(typeof atv!=i&&typeof XMLHttpRequest!=i){var r=new XMLHttpRequest;r.open("POST",e,!0),r.onreadystatechange=function(){4===r.readyState&&(n&&n(r.status),r=null)},r.send(t)}else typeof atv!=i&&"function"==typeof atv.setTimeout?n&&atv.setTimeout(n,0):n&&n()}},{}],50:[function(e,t,n){t.exports=function(e,t){if("undefined"!=typeof Image){var n=new Image;n.onload=function(){t&&t(200),n=null},n.onerror=function(){t&&t(),n=null},n.src=e}else"function"==typeof setTimeout?t&&setTimeout(t,0):t&&t()}},{}],51:[function(e,t,n){t.exports=function(e,t){"undefined"!=typeof engine?(engine.createHttpClient().createRequest("GET",e,null).start(),t&&setTimeout(t,0)):"function"==typeof setTimeout?t&&setTimeout(t,0):t&&t()}},{}],52:[function(e,t,n){t.exports.Sr=function(e,t){"function"==typeof setTimeout?t&&setTimeout(function(){t(200)},0):t&&t(200)},t.exports.mr=function(e,t,n){"function"==typeof setTimeout?n&&setTimeout(function(){n(200)},0):n&&n(200)}},{}],53:[function(e,t,n){var i="undefined";n.wr=function(e,t){typeof WinJS!=i&&typeof WinJS.xhr!=i?WinJS.xhr({url:e}).then(function(e){t&&t(e.status)},function(){t&&t()}):"function"==typeof setTimeout?t&&setTimeout(t,0):t&&t()},n.yr=function(e,t,n){typeof WinJS!=i&&typeof WinJS.xhr!=i?WinJS.xhr({type:"post",url:e,data:t,headers:{"Content-type":"application/xml"}}).then(function(e){n&&n(e.status)},function(){n&&n()}):"function"==typeof setTimeout?n&&setTimeout(n,0):n&&n()}},{}],54:[function(e,t,n){function i(){var e,t,n,i,c,l,f,d,p,h,_,g,v,m,E,y,b,S,A,I,T,P,C,O,w,N,R,L,D,M,B,x,k,U,V,G,F,j,H,W,Y,K,z,q,Q,$,X,J,Z,ee,te,ne,ie,re,oe,se,ae=this,ue=500;r.extend(ae,{Pr:function(){return e},Ar:function(t){e=t},setPlaybackIntervalMergeTolerance:function(e){ue=e},getPlaybackIntervalMergeTolerance:function(){return ue},Cr:function(e,t){i[e]=t},kr:function(e){return i[e]},Er:function(e){return null!=i[e]},setLabels:function(e){e&&r.extend(c,e)},getLabels:function(){return c},setLabel:function(e,t){c[e]=t},getLabel:function(e){return c[e]},dt:function(e){return e in c},Tr:function(){return parseInt(ae.kr("ns_st_cn"))},Nr:function(e){ae.Cr("ns_st_cn",e+"")},Lr:function(){return ae.dt("ns_st_pn")?parseInt(ae.getLabel("ns_st_pn")):parseInt(ae.kr("ns_st_pn"))},Dr:function(e,t,o){var c=e,l=parseInt(c.ns_st_po),f=s.jt(c.ns_st_ap)?T:parseInt(c.ns_st_ap);c.ns_st_dap=o&&se<0&&0<g-l?(c.ns_st_ap=f+g-l,f+g-l-P):o&&0<se&&0<l-g?(c.ns_st_ap=f+l-g,f+l-g-P):(c.ns_st_ap=f)-P;var d=s.jt(c.ns_st_pt)?ae.Rr():parseInt(c.ns_st_pt);c.ns_st_pt=d+(isNaN(p)?0:t-p)+"",c.ns_st_dpt=d+(isNaN(p)?0:t-p)-h+"",c.ns_st_ipt=d+(isNaN(p)?0:t-p)-_+"";var v=s.jt(c.ns_st_et)?ae.Mr():parseInt(c.ns_st_et);c.ns_st_et=v+(isNaN(E)?0:t-E)+"",c.ns_st_det=v+(isNaN(E)?0:t-E)-y+"";var m=s.jt(c.ns_st_bt)?ae.Or():parseInt(c.ns_st_bt);c.ns_st_bt=m+"",c.ns_st_dbt=m+(isNaN(k)?0:t-k)-U+"";var b=C,I=O;o&&(b=a.Wr(u(C),se<0?l:w,se<0?w:l,ue),I=a.Wr(u(O),se<0?l:w,se<0?w:l,ue));for(var x,V=0,F=0,j=0;j<b.length;j++)V+=x=Math.abs(b[j].end-b[j].start),F<x&&(F=x);var H=0,Y=0;for(j=0;j<I.length;j++)H+=x=Math.abs(I[j].end-I[j].start),Y<x&&(Y=x);c.ns_st_upc=V+"",c.ns_st_dupc=V-N+"",c.ns_st_iupc=V-R+"",c.ns_st_iupc=R<V?V-R+"":"0",c.ns_st_lpc=F+"",c.ns_st_dlpc=F-L+"",c.ns_st_upa=H+"",c.ns_st_dupa=H-D+"",c.ns_st_iupa=M<H?H-M+"":"0",c.ns_st_lpa=Y+"",c.ns_st_dlpa=Y-B+"";var K=s.jt(c.ns_st_pc)?ae.Vr():parseInt(c.ns_st_pc);c.ns_st_pc=K+"",c.ns_st_dpc=K-X+"";var z=s.jt(c.ns_st_skc)?ae.xr():parseInt(c.ns_st_skc);c.ns_st_skc=z+"",c.ns_st_dskc=z-Z+"";var Q=s.jt(c.ns_st_bc)?ae.Ur():parseInt(c.ns_st_bc);c.ns_st_bc=Q+"",c.ns_st_dbc=Q-G+"";var $=s.jt(c.ns_st_skt)?ae.Br():parseInt(c.ns_st_skt);c.ns_st_skt=$+"",c.ns_st_dskt=$-W+"";var J=s.jt(c.ns_st_ska)?ae.Fr():parseInt(c.ns_st_ska);c.ns_st_ska=J+"",c.ns_st_dska=J-q+"",n&&(c.ns_st_spc=ee+"",c.ns_st_apc=te+"",c.ns_st_sq=ne+"",c.ns_st_asq=ie+""),c.ns_st_sc=n||0!=re?re+"":"1",c.ns_st_rt=se+"",c.ns_st_ldw=S,c.ns_st_ldo=A,r.extend(c,i)},jr:function(e){h=parseInt(e.ns_st_pt),P=parseInt(e.ns_st_ap),y=parseInt(e.ns_st_et),U=parseInt(e.ns_st_bt),N=parseInt(e.ns_st_upc),L=parseInt(e.ns_st_lpc),D=parseInt(e.ns_st_upa),B=parseInt(e.ns_st_lpa),X=parseInt(e.ns_st_pc),Z=parseInt(e.ns_st_skc),G=parseInt(e.ns_st_bc),W=parseInt(e.ns_st_skt),q=parseInt(e.ns_st_ska),ae.Gr(0)},Kr:function(e){_=parseInt(e.ns_st_pt),R=parseInt(e.ns_st_upc),M=parseInt(e.ns_st_upa)},qr:function(){return ae.kr("ns_st_vt")},Hr:function(e){ae.Cr("ns_st_vt",e+"")},Yr:function(){return ae.kr("ns_st_at")},Jr:function(e){ae.Cr("ns_st_at",e+"")},zr:function(){return ae.kr("ns_st_tt")},Qr:function(e){ae.Cr("ns_st_tt",e+"")},Xr:function(){return ae.kr("ns_st_cdn")},Zr:function(e){ae.Cr("ns_st_cdn",e+"")},$r:function(){return C},no:function(e){C=e},to:function(){return O},eo:function(){$++},io:function(){J++},ro:function(){ne++},oo:function(){return ne},Or:function(){return x},uo:function(e){x=e},so:function(e){if(!isNaN(k)){var t=ae.Or();t+=e-k,ae.uo(t),k=NaN}},ao:function(e){w=parseInt(e)},fo:function(){return w},co:function(e){isNaN(w)||isNaN(e)||(C=a.Wr(C,se<0?e:w,se<0?w:e,ue),O=a.Wr(O,se<0?e:w,se<0?w:e,ue),w=NaN)},Mr:function(){return m},lo:function(e){m=e},po:function(e){if(!isNaN(E)){var t=ae.Mr();t+=e-E,ae.lo(t),E=NaN}},vo:function(){return E},do:function(e){E=e},ho:function(e){isNaN(p)||(d+=e-p,p=NaN)},Rr:function(){return d},_o:function(e){var t=g+I-A;return!f&&isNaN(p)||(t+=Math.floor((e-v)*se/100)),t},mo:function(e,t){return f?g-e+Math.floor((t-v)*se/100)+I:0},wo:function(e,t){g=e,v=t},yo:function(){return p},bo:function(e){p=e},Io:function(e){h=e},So:function(){return k},Po:function(e){k=e},Vr:function(){return $},Ao:function(e){$=e},xr:function(){return J},Co:function(e){J=e},ko:function(e){F=e},Eo:function(){return F},To:function(e){K=e},No:function(){return K},Lo:function(e){t=e},Do:function(){return t},Ro:function(e){n=e},Mo:function(){return n},Oo:function(e){j=e},Wo:function(){return j},Vo:function(e){if(!isNaN(j)){var t=ae.Br();t+=e-j,ae.xo(t),j=NaN}},Br:function(){return H},xo:function(e){H=e},Uo:function(e){Q=e},Bo:function(){return Q},Fo:function(e){Y=e},jo:function(){return Y},Go:function(e){z=e},Fr:function(){return z},Ko:function(e){var t,n=ae.Fr();n+=Math.abs(e-Y),ae.Go(n),Y==e?t=0:e<Y?t=-1:Y<e&&(t=1),ae.Gr(t),Y=0},qo:function(){return parseInt(ae.kr("ns_st_skd"))},Gr:function(e){ae.Cr("ns_st_skd",e+"")},Ho:function(){O=[],Z=J=q=z=W=H=y=m=B=M=D=ne=X=$=G=V=U=x=_=h=d=P=T=0},Yo:function(){ee++},Jo:function(){re++},zo:function(){te++},Qo:function(){return N},Xo:function(e){N=e},Zo:function(){return R},$o:function(e){R=e},nu:function(e){L=e},tu:function(){return L},eu:function(){O=[],B=M=D=0},iu:function(e){ee=e},ru:function(e){re=e},ou:function(e){te=e},uu:function(e){b=e},su:function(){return ee},au:function(){return re},fu:function(){return te},cu:function(){return b},Ur:function(){return V},lu:function(){V++},pu:function(){return U},vu:function(e){ie=e},du:function(){ie++},hu:function(){return ie},_u:function(){return oe},gu:function(e){oe=e},mu:function(e){l=!!e},wu:function(){return l},yu:function(){return se},bu:function(e){se=e},Iu:function(e){se<0&&0<g-e?T+=g-e:0<se&&0<e-g&&(T+=e-g)},Su:function(e){S=e},Pu:function(){return S},Au:function(e){A=e},Cu:function(){return A},ku:function(e){I=e},Eu:function(e){f=e}}),(i={}).ns_st_cl="0",i.ns_st_pn="1",i.ns_st_tp="0",i.ns_st_cn="1",i.ns_st_skd="0",i.ns_st_ci="0",i.c3="*null",i.c4="*null",i.c6="*null",i.ns_st_st="*null",i.ns_st_pu="*null",i.ns_st_pr="*null",i.ns_st_ep="*null",i.ns_st_sn="*null",i.ns_st_en="*null",i.ns_st_ct="*null",t=n=!(c={}),e=o.D,f=!(l=!0),C=[],j=k=w=E=p=NaN,re=ie=ne=te=ee=Z=J=X=$=q=z=W=H=Q=Y=G=V=U=x=B=M=D=L=R=N=P=T=I=A=S=_=y=b=m=h=g=d=0,oe=K=F=!(O=[]),se=100}var r=e(24),o=e(17),s=e(21),a=e(68),u=e(23);i.Tu=function(e,t,n){for(var i=e.getLabels(),r={},o=0;n&&o<n.length;++o)i.hasOwnProperty(n[o])&&(r[n[o]]=i[n[o]]);t.setLabels(r),t.setPlaybackIntervalMergeTolerance(e.getPlaybackIntervalMergeTolerance())},t.exports=i},{17:17,21:21,23:23,24:24,68:68}],55:[function(e,t,n){t.exports={PAGE_NAME_LABEL:"name",HASH_LABELS:["ns_st_st","ns_st_ci","ns_st_pr","ns_st_sn","ns_st_en","ns_st_ep","ns_st_ty","ns_st_ct","ns_st_li","ns_st_ad","ns_st_bn","ns_st_tb","ns_st_an","ns_st_ta","ns_st_pu","c3","c4","c6"]}},{}],56:[function(e,t,n){var i=e(73),r=e(74),o=e(76),s=e(77),a=e(69),u=e(71),c=e(72),l=e(70),f=e(75),d=e(78),p=e(79),h=e(80),_=e(81),g=e(55),v=e(68),m=e(65),E=e(20),y=e(24),b=e(19),S=e(82),A=e(62),I=e(63),T=e(58).Nu,P=e(58).Lu,C=e(58).Du,O=e(61),w=e(60),N=e(59),R=e(18),L=e(66),D=e(17),M=e(2),B="undefined",x="6.2.3.180328";t.exports=function(e){function t(e){var t=V.Mu().Ru();if(t==T.IDLE||t==T.PLAYBACK_NOT_STARTED||t==T.BUFFERING_BEFORE_PLAYBACK||t==T.SEEKING_BEFORE_PLAYBACK){if(e==P.PLAY)return!0}else if(t==T.PLAYING){if(e==P.END||e==P.AD_SKIP||e==P.SEEK_START||e==P.PAUSE)return!0}else if(t==T.PAUSED||t==T.BUFFERING_DURING_PAUSE||t==T.SEEKING_DURING_PLAYBACK||t==T.SEEKING_DURING_BUFFERING||t==T.SEEKING_DURING_PAUSE){if(e==P.END||e==P.AD_SKIP||e==P.PLAY)return!0}else if(t==T.BUFFERING_DURING_PLAYBACK){if(e==P.PAUSE_ON_BUFFERING||e==P.END||e==P.AD_SKIP||e==P.SEEK_START||e==P.PAUSE||e==P.PLAY)return!0}else if(t==T.BUFFERING_DURING_SEEKING){if(e==P.END||e==P.AD_SKIP||e==P.PAUSE||e==P.PLAY)return!0}else if(t==T.PAUSED_DURING_BUFFERING&&(e==P.END||e==P.AD_SKIP||e==P.BUFFER_STOP||e==P.PLAY))return!0;return!1}function n(){Ee||(Ee=!0,S.Ou(k))}function k(e){fe=e,ye=!0}function U(){var e={},t=v.Wu(e);de.Vu(P.END,t,e)}var V,G,F,j,H,W,Y,K,z,q,Q,$,X,J,Z,ee,te,ne,ie,re,oe,se,ae,ue,ce,le,fe,de=this,pe={},he=500,_e=500,ge={},ve=!1,me=!0,Ee=!1,ye=!1;y.extend(de,{getConfiguration:function(){return e||{}},Dr:function(e,t,n){var i=V.getPlaybackSession(),r=i.getAsset(),o=!1;if(e==P.HEARTBEAT){var s=isNaN(ne)?te:ne;((ne=n)<s||ye)&&(ye=!(o=!0),n<s?(i.xu("1"),V.Uu().$t("System clock jump detected","to the far past")):fe?(i.xu("3"),V.Uu().$t("System clock jump detected","to the future")):(i.xu("2"),V.Uu().$t("System clock jump detected","to the near past")),n=s)}var a={};if(ve&&(a.c2=ce),typeof document!=B){var u=document;a.c7=u.URL,a.c8=u.title,a.c9=u.referrer}a.ns_ts=+new Date+"",a.ns_st_ev=P.toString(e),a.ns_st_mp="js_api",a.ns_st_mv=x,a.ns_st_ub="0",a.ns_st_br="0",a.ns_st_pn="1",a.ns_st_tp="0",a.ns_st_it=C.toString(C.Bu),a.ns_st_sv=x,a.ns_st_smv="5.10",a.ns_type="hidden",a.ns_st_ec=V.ju().Fu()+"",a.ns_st_ki=V.S().Gu()+"",t.ns_st_po?a.ns_st_po=t.ns_st_po+"":r.wu()?a.ns_st_po=r._o(n)+"":a.ns_st_po=le+"",le=parseInt(a.ns_st_po),i.Dr(a,n),i.getAsset().Dr(a,n,e==P.HEARTBEAT);var c={};return y.extend(c,ge),y.extend(c,i.getLabels()),y.extend(c,i.getAsset().getLabels()),y.extend(c,t),o&&(r.wo(le,ne),i.bo(ne-parseInt(a.ns_st_dpt)),r.bo(ne-parseInt(a.ns_st_dpt)),r.do(ne-parseInt(a.ns_st_det))),{Wt:e,Ut:a,Ku:c}},Vu:function(i,r,o,s){de.qu();var a=V.Mu().Ru(),u=V.Mu().Hu(i);if(null!=u&&u!=a)if(!de.isThrottlingEnabled()||a!=T.PLAYING&&a!=T.PAUSED||u!=T.PLAYING&&u!=T.PAUSED||s){var c,l;e.systemClockJumpDetection&&(u==T.IDLE?(S.Yu(k),Ee=!1):a==T.IDLE&&n()),me&&v.Ju(a)&&!v.Ju(u)?A.zu(U):me&&!v.Ju(a)&&v.Ju(u)&&A.Qu(U);var f=V.getPlaybackSession(),d=f.getAsset(),p=isNaN(ne)?te:ne,h=!1;((ne=r)<p||ye)&&(ye=!(h=!0),r<p?(f.xu("1"),V.Uu().$t("System clock jump detected","to the far past")):fe?(f.xu("3"),V.Uu().$t("System clock jump detected","to the future")):(f.xu("2"),V.Uu().$t("System clock jump detected","to the near past")),r=p),o.ns_st_po?V.Mu().Ru()==T.IDLE?d.Au(d.Pu()-parseInt(o.ns_st_po)):d.Au(d.mo(parseInt(o.ns_st_po),r)):d.wu()?V.Mu().Ru()==T.IDLE?o.ns_st_po=d.Pu()-d.Cu()+"":o.ns_st_po=d._o(r)+"":o.ns_st_po=le+"";var _,g,m,E,y=parseInt(o.ns_st_po);le=y,_=i,g=r,m=o,E=V.Mu().Ru(),_==P.AD_SKIP&&!m.hasOwnProperty("ns_st_ui")&&t(_)?m.ns_st_ui="skip":_==P.SEEK_START&&!m.hasOwnProperty("ns_st_ui")&&t(_)&&(m.ns_st_ui="seek"),E==T.IDLE?_==P.BUFFER?G.Xu(g,m):_==P.SEEK_START?G.Zu(g,m):_==P.PLAY&&G.$u(g,m):E==T.PLAYBACK_NOT_STARTED?_==P.END||_==P.AD_SKIP?j.ns(g,m):_==P.SEEK_START?j.Zu(g,m):_==P.PLAY?j.$u(g,m):_==P.BUFFER&&j.Xu(g,m):E==T.PLAYING?_==P.END||_==P.AD_SKIP?H.ns(g,m):_==P.BUFFER?H.Xu(g,m):_==P.SEEK_START?H.Zu(g,m):_==P.PAUSE&&H.ts(g,m):E==T.PAUSED?_==P.END||_==P.AD_SKIP?F.ns(g,m):_==P.PLAY?F.$u(g,m):_==P.BUFFER?J.es(g,m):_==P.SEEK_START&&J.rs(g,m):E==T.BUFFERING_BEFORE_PLAYBACK?_==P.END||_==P.AD_SKIP?W.ns(g,m):_==P.BUFFER_STOP?W.os(g,m):_==P.SEEK_START?W.Zu(g,m):_==P.PAUSE?W.ts(g,m):_==P.PLAY&&W.$u(g,m):E==T.BUFFERING_DURING_PLAYBACK?_==P.PAUSE_ON_BUFFERING?Y.us(g,m):_==P.BUFFER_STOP?J.ss(g,m):_==P.END||_==P.AD_SKIP?Y.ns(g,m):_==P.SEEK_START?Y.Zu(g,m):_==P.PAUSE?Y.ts(g,m):_==P.PLAY&&J.ss(g,m):E==T.BUFFERING_DURING_SEEKING?_==P.END||_==P.AD_SKIP?K.ns(g,m):_==P.PAUSE?K.ts(g,m):_==P.PLAY?K.$u(g,m):_==P.BUFFER_STOP&&J.as(g,m):E==T.BUFFERING_DURING_PAUSE?_==P.END||_==P.AD_SKIP?z.fs(g,m):_==P.PAUSE?z.ts(g,m):_==P.PLAY?z.$u(g,m):_==P.SEEK_START?J.rs(g,m):_==P.BUFFER_STOP&&J.as(g,m):E==T.SEEKING_BEFORE_PLAYBACK?_==P.END||_==P.AD_SKIP?Q.ns(g,m):_==P.PAUSE?Q.ts(g,m):_==P.PLAY?Q.$u(g,m):_==P.BUFFER&&J.es(g,m):E==T.SEEKING_DURING_PLAYBACK?_==P.END||_==P.AD_SKIP?X.ns(g,m):_==P.PLAY?X.$u(g,m):_==P.BUFFER?J.es(g,m):_==P.PAUSE&&J.cs(g,m):E==T.SEEKING_DURING_BUFFERING?_==P.PAUSE?$.ts(g,m):_==P.BUFFER?J.es(g,m):_==P.PLAY?J.ls(g,m):_==P.END||_==P.AD_SKIP?J.ps(g,m):_==P.BUFFER_STOP&&J.vs(g,m):E==T.PAUSED_DURING_BUFFERING?_==P.END||_==P.AD_SKIP?q.ns(g,m):_==P.BUFFER_STOP?q.ds(g,m):_==P.SEEK_START?q.Zu(g,m):_==P.PAUSE?q.ts(g,m):_==P.PLAY&&q.ds(g,m):E==T.SEEKING_DURING_PAUSE&&(_==P.BUFFER?J.es(g,m):_==P.PLAY?J.ls(g,m):_==P.PAUSE?J.cs(g,m):_==P.END||_==P.AD_SKIP?J.ps(g,m):_==P.BUFFER_STOP&&J.vs(g,m)),t(_)&&V.getPlaybackSession().hs(!0),d.wo(y,r),d.ku(d.Cu());var b=0;isNaN(V.Mu()._s())||(b=r-V.Mu()._s()),V.Mu().Vu(i,r),h&&(d.wo(y,ne),u!=T.IDLE&&u!=T.PLAYBACK_NOT_STARTED&&u!=T.SEEKING_BEFORE_PLAYBACK&&u!=T.BUFFERING_BEFORE_PLAYBACK&&d.do(ne),u!=T.BUFFERING_BEFORE_PLAYBACK&&u!=T.BUFFERING_DURING_PAUSE&&u!=T.BUFFERING_DURING_PLAYBACK&&u!=T.BUFFERING_DURING_SEEKING&&u!=T.PAUSED_DURING_BUFFERING||(f.Po(ne),d.Po(ne)),u==T.PLAYING&&(f.bo(ne),d.bo(ne)),u!=T.SEEKING_BEFORE_PLAYBACK&&u!=T.SEEKING_DURING_BUFFERING&&u!=T.SEEKING_DURING_PAUSE&&u!=T.SEEKING_DURING_PLAYBACK&&u!=T.BUFFERING_DURING_SEEKING||d.Oo(ne)),V.Uu().log("Transition from",v.gs(a),"to",v.gs(u),"due to event:",P.toString(i));for(var I=0,C=ae.length;I<C;I++)ae[I](a,u,o,b)}else{V.Uu().$t("Throttled event:",P.toString(i),"during state",v.gs(a),o,de.getThrottlingDelay(),"ms");var O=(c=i,l=o,function(){de.Vu(c,r,l,!0)});se=de.getPlatformAPI().setTimeout(O,de.getThrottlingDelay())}else V.Uu().$t("Ignored event:",P.toString(i),"during state",v.gs(a),o)},ms:function(e,t,n){var i=V.Mu().Ru();if(e!=P.LOAD&&e!=P.ENGAGE||i==T.IDLE){e==P.ERROR&&null==n.ns_st_er&&(n.ns_st_er=D.D),e==P.TRANSFER&&null==n.ns_st_rp&&(n.ns_st_rp=D.D);var r,o,s,a,u=!0,c=!1;switch(e){case P.BIT_RATE:r="ns_st_br",o="ns_st_pbr";break;case P.PLAYBACK_RATE:r="ns_st_rt",o="ns_st_prt";break;case P.VOLUME:r="ns_st_vo",o="ns_st_pvo";break;case P.WINDOW_STATE:r="ns_st_ws",o="ns_st_pws";break;case P.AUDIO:r="ns_st_at",o="ns_st_pat";break;case P.VIDEO:r="ns_st_vt",o="ns_st_pvt";break;case P.SUBS:r="ns_st_tt",o="ns_st_ptt";break;case P.CDN:r="ns_st_cdn",o="ns_st_pcdn";break;default:u=!1}var l=V.getPlaybackSession(),f=l.getAsset();if(u&&r in n)switch(a=n[r],e){case P.BIT_RATE:case P.VOLUME:case P.WINDOW_STATE:r in ge&&(s=ge[r],c=a==(n[o]=s)+""),ge[r]=n[r];break;case P.AUDIO:case P.VIDEO:case P.SUBS:case P.CDN:f.Er(r)&&(s=f.kr(r),c=a==(n[o]=s)+""),f.Cr(r,n[r]);break;case P.PLAYBACK_RATE:s=f.yu(),n[o]=s+""}if(u&&i!=T.PLAYING&&i!=T.BUFFERING_DURING_PLAYBACK||u&&c)return e==P.PLAYBACK_RATE&&f.bu(parseInt(n.ns_st_rt)),void V.Uu().$t("No measurement send for the pseudo-event:",P.toString(e),"during state",v.gs(i),n);var d=isNaN(ne)?te:ne,p=!1;((ne=t)<d||ye)&&(ye=!(p=!0),t<d?(l.xu("1"),V.Uu().$t("System clock jump detected","to the far past")):fe?(l.xu("3"),V.Uu().$t("System clock jump detected","to the future")):(l.xu("2"),V.Uu().$t("System clock jump detected","to the near past")),t=d),n.ns_st_po?f.Au(f.mo(parseInt(n.ns_st_po),t)):f.wu()?n.ns_st_po=f._o(t)+"":n.ns_st_po=le+"";var h=parseInt(n.ns_st_po);le=h,V.getPlaybackSession().getAsset().wo(h,t),f.ku(f.Cu()),i!=T.IDLE&&i!=T.PLAYBACK_NOT_STARTED&&i!=T.SEEKING_BEFORE_PLAYBACK&&i!=T.BUFFERING_BEFORE_PLAYBACK&&(f.po(t),f.do(t)),i==T.PLAYING&&(l.ho(t),l.bo(t),f.ho(t),f.bo(t),f.Iu(h),f.co(parseInt(n.ns_st_po)),f.ao(parseInt(n.ns_st_po))),i!=T.BUFFERING_BEFORE_PLAYBACK&&i!=T.BUFFERING_DURING_PAUSE&&i!=T.BUFFERING_DURING_PLAYBACK&&i!=T.BUFFERING_DURING_SEEKING||(l.so(t),l.Po(t),f.so(t),f.Po(t));var _=de.Dr(e,n,t);f.jr(_.Ut),f.Kr(_.Ut),V.ju().Vu(_),e==P.PLAYBACK_RATE&&f.bu(parseInt(n.ns_st_rt)),p&&(f.wo(h,ne),i==T.PLAYING&&(l.bo(ne),f.bo(ne)),i!=T.IDLE&&i!=T.PLAYBACK_NOT_STARTED&&i!=T.SEEKING_BEFORE_PLAYBACK&&i!=T.BUFFERING_BEFORE_PLAYBACK&&f.do(ne),i!=T.BUFFERING_BEFORE_PLAYBACK&&i!=T.BUFFERING_DURING_PAUSE&&i!=T.BUFFERING_DURING_PLAYBACK&&i!=T.BUFFERING_DURING_SEEKING&&i!=T.PAUSED_DURING_BUFFERING||(l.Po(ne),f.Po(ne)),i!=T.SEEKING_BEFORE_PLAYBACK&&i!=T.SEEKING_DURING_BUFFERING&&i!=T.SEEKING_DURING_PAUSE&&i!=T.SEEKING_DURING_PLAYBACK&&i!=T.BUFFERING_DURING_SEEKING||f.Oo(ne))}else V.Uu().$t("Ignored pseudo-event:",P.toString(e),"during state",v.gs(i),n)},getState:function(){return V.Mu().Ru()},addListener:function(e){ae.push(e)},removeListener:function(e){ae.splice(b.indexOf(e,ae),1)},getLabel:function(e){return ge[e]},getLabels:function(){return ge},setLabel:function(e,t){null==t?delete ge[e]:ge[e]=t},setLabels:function(e){for(var t in e)e.hasOwnProperty(t)&&de.setLabel(t,e[t])},getPlatformAPI:function(){return V.ws().getPlatformAPI()},ys:function(){return pe},isProperlyInitialized:function(){var e=V.ws().Wn(),t=V.ws().g(),n=V.ws().getPixelURL();return e&&n&&t},setThrottlingDelay:function(e){_e=e},getThrottlingDelay:function(){return _e},isThrottlingEnabled:function(){return oe},setThrottlingEnabled:function(e){oe=e},bs:function(){return Z},Is:function(e){Z=e},getLoadTimeOffset:function(){return ee},setLoadTimeOffset:function(e){ee=e},Ss:function(){return te},setPauseOnBufferingInterval:function(e){he=e},getPauseOnBufferingInterval:function(){return he},isPauseOnBufferingEnabled:function(){return ie},setPauseOnBufferingEnabled:function(e){ie=e},setExitEndEventEnabled:function(e){if(me!=e){var t=V.Mu().Ru();e||v.Ju(t)?e&&!v.Ju(t)&&A.zu(U):A.Qu(U)}me=e},isExitEndEventEnabled:function(){return me},Ps:function(e,t){de.As(),re=de.getPlatformAPI().setTimeout(function(){var e={},n=v.Wu(e),i=parseInt(t.ns_st_po);e.ns_st_po=i+"",de.Vu(P.PAUSE_ON_BUFFERING,n,e)},he)},As:function(){null!=re&&(de.getPlatformAPI().clearTimeout(re),re=null)},qu:function(){se&&(de.getPlatformAPI().clearTimeout(se),se=null)},setLiveEndpointURL:function(e){if(null==e||0==e.length)return null;var t=decodeURIComponent||unescape,n=e.indexOf("?");if(0<=n){if(n<e.length-1){for(var i=e.substring(n+1).split("&"),r=0,o=i.length;r<o;r++){var s=i[r].split("=");2==s.length?de.setLabel(s[0],t(s[1])):1==s.length&&de.setLabel(g.PAGE_NAME_LABEL,t(s[0]))}e=e.substring(0,n+1)}}else e+="?";return ue=e},getLiveEndpointURL:function(){return ue||(typeof ns_p!==B&&"string"==typeof ns_p.src?ue=ns_p.src.replace(/&amp;/,"&").replace(/&ns__t=\d+/,""):"string"==typeof ns_pixelUrl?ue=ns_pixelUrl.replace(/&amp;/,"&").replace(/&ns__t=\d+/,""):null)},Cs:function(){return V},ks:function(e){var t=V.getPlaybackSession();V.Es(new I(V)),I.ks(V,t,e)},Ts:function(){V.Ns().pause();var e=V.Ns().Ls();V.Ds(new w(V)),V.Ns().Rs(e)},getVersion:function(){return x}}),function(){if((V=new m(de)).Ms(M.getCore()),V.Os(new O(V)),V.Ds(new w(V)),V.Ws(new N(V)),V.Vs(new L),V.xs(new R("STA",e.debug)),V.Es(new I(V)),G=new i(V),F=new r(V),j=new o(V),H=new s(V),W=new a(V),Y=new u(V),K=new c(V),z=new l(V),q=new f(V),Q=new d(V),$=new p(V),X=new h(V),J=new _(V),Z=!1,ee=0,te=+new Date,oe=!(ie=!0),ae=[],e.publisherId){ve=!0,ce=e.publisherId+"";var t=(("secure"in e?e.secure:V.ws()&&V.ws().isProperlyInitialized()?V.ws().isSecure():v.fe()&&E.ce())?"https://sb":"http://b")+".scorecardresearch.com/p?c1=2";de.setLiveEndpointURL(t)}e.liveEndpointURL&&de.setLiveEndpointURL(e.liveEndpointURL),e.systemClockJumpDetection&&(S.setPlatformAPI(de.getPlatformAPI()),e.systemClockJumpDetectionInterval?S.Us(parseInt(e.systemClockJumpDetectionInterval),!0):S.Us(),e.systemClockJumpDetectionPrecision?S.Bs(parseInt(e.systemClockJumpDetectionPrecision),!0):S.Bs(),n())}()}},{17:17,18:18,19:19,2:2,20:20,24:24,55:55,58:58,59:59,60:60,61:61,62:62,63:63,65:65,66:66,68:68,69:69,70:70,71:71,72:72,73:73,74:74,75:75,76:76,77:77,78:78,79:79,80:80,81:81,82:82}],57:[function(e,t,n){var i,r,o=e(20),s=e(4),a="undefined";r=o.fe()?(i=window,document):(i={},{location:{href:""},title:"",URL:"",referrer:"",cookie:""}),t.exports=function(e,t){for(var n,u=i.encodeURIComponent||escape,c=[],l=s.k,f=e.split("?"),d=f[0],p=f[1].split("&"),h=0,_=p.length;h<_;h++){var g=p[h].split("="),v=unescape(g[0]),m=unescape(g[1]);v&&(t[v]=m)}for(var E={},y=0,b=l.length;y<b;y++){var S=l[y];if(t.hasOwnProperty(S)){var A=t[S];typeof A!==a&&null!=A&&(E[S]=!0,c.push(u(S)+"="+u(t[S])))}}for(var I in t)if(t.hasOwnProperty(I)){if(E[I])continue;var T=t[I];typeof T!==a&&null!=T&&c.push(u(I)+"="+u(t[I]))}n=(n=d+"?"+c.join("&"))+(n.indexOf("&c8=")<0?"&c8="+u(r.title):"")+(n.indexOf("&c7=")<0?"&c7="+u(r.URL):"")+(n.indexOf("&c9=")<0?"&c9="+u(r.referrer):"");var P=o.Jt()?s.A:s.P;if(n.length>P&&0<n.indexOf("&")){var C=n.substr(0,P-8).lastIndexOf("&");n=(n.substring(0,C)+"&ns_cut="+u(n.substring(C+1))).substr(0,P)}return n}},{20:20,4:4}],58:[function(e,t,n){var i,r,o=(i=["play","pause","pause-on-buffering","end","buffer","buffer-stop","keep-alive","hb","custom","load","start","skstart","adskip","cta","error","trans","drmfa","drmap","drmde","bitrt","playrt","volume","window","audio","video","subs","cdn"],{PLAY:0,PAUSE:1,PAUSE_ON_BUFFERING:2,END:3,BUFFER:4,BUFFER_STOP:5,KEEPALIVE:6,HEARTBEAT:7,CUSTOM:8,LOAD:9,ENGAGE:10,SEEK_START:11,AD_SKIP:12,CTA:13,ERROR:14,TRANSFER:15,DRM_FAILED:16,DRM_APPROVED:17,DRM_DENIED:18,BIT_RATE:19,PLAYBACK_RATE:20,VOLUME:21,WINDOW_STATE:22,AUDIO:23,VIDEO:24,SUBS:25,CDN:26,toString:function(e){return i[e]}}),s=(r=["c","s","r"],{Bu:0,Fs:1,js:2,toString:function(e){return r[e]}});t.exports.Lu=o,t.exports.Nu={IDLE:0,PLAYBACK_NOT_STARTED:1,PLAYING:2,PAUSED:3,BUFFERING_BEFORE_PLAYBACK:4,BUFFERING_DURING_PLAYBACK:5,BUFFERING_DURING_SEEKING:6,BUFFERING_DURING_PAUSE:7,SEEKING_BEFORE_PLAYBACK:8,SEEKING_DURING_PLAYBACK:9,SEEKING_DURING_BUFFERING:10,SEEKING_DURING_PAUSE:11,PAUSED_DURING_BUFFERING:12},t.exports.Du=s},{}],59:[function(e,t,n){var i=e(24),r=e(57),o=e(58).Lu;t.exports=function(e){var t,n,s=this,a=[];i.extend(this,{Vu:function(t){for(var u=i.extend({},t.Ut,t.Ku),c=0;c<a.length;++c)a[c](u);!function(t){n=i.extend({},t);var o=e.Gs().getLiveEndpointURL();e.Gs().isProperlyInitialized()?e.ws().nt(t,o):o&&e.Gs().getPlatformAPI().httpGet(r(o,t))}(u),t.Wt!=o.HEARTBEAT&&s.Ks()},addMeasurementListener:function(e){"function"==typeof e&&a.push(e)},removeMeasurementListener:function(e){for(var t=NaN,n=0;n<a.length;++n)if(a[n]==e){t=n;break}isNaN(t)||a.splice(t,1)},Fu:function(){return t},Ks:function(){t++},qs:function(e){t=e},Hs:function(){return n}}),t=1}},{24:24,57:57,58:58}],60:[function(e,t,n){var i=e(58).Lu,r=e(68),o=e(24),s=[{Ys:6e4,interval:1e4},{Ys:null,interval:6e4}];t.exports=function(e){function t(){c++;var t={},n=r.Wu(t);t.ns_st_hc=e.Ns().Js()+"";var o=e.Gs().Dr(i.HEARTBEAT,t,n);e.getPlaybackSession().getAsset().Kr(o.Ut),e.ju().Vu(o),u=0,l.resume()}function n(){null!=a&&(e.Gs().getPlatformAPI().clearTimeout(a),a=null)}var a,u,c,l=this,f=s;o.extend(this,{Js:function(){return c},Rs:function(e){f=e},Gu:function(e){var t=0;if(null!=f)for(var n=0;n<f.length;n++){var i=f[n],r=i.Ys;if(!r||e<r){t=i.interval;break}}return t},Ls:function(){return f},resume:function(){n();var i=l.Gu(e.getPlaybackSession().getAsset().Rr()+(+new Date-e.getPlaybackSession().getAsset().yo()));if(0<i){var r=0<u?u:i;a=e.Gs().getPlatformAPI().setTimeout(t,r)}u=0},pause:function(){n();var t=l.Gu(e.getPlaybackSession().getAsset().Rr()+(+new Date-e.getPlaybackSession().getAsset().yo()));u=t-(e.getPlaybackSession().getAsset().Rr()+(+new Date-e.getPlaybackSession().getAsset().yo()))%t}}),c=u=0}},{24:24,58:58,68:68}],61:[function(e,t,n){var i=e(58).Lu,r=e(24),o=e(68);t.exports=function(e){function t(){var t={},n=o.Wu(t);e.Gs().ms(i.KEEPALIVE,n,t),a.start()}function n(){null!=s&&(e.Gs().getPlatformAPI().clearTimeout(s),s=null)}var s,a=this,u=12e5;r.extend(a,{start:function(){n(),s=e.Gs().getPlatformAPI().setTimeout(t,u)},stop:n,setInterval:function(e){u=e},Gu:function(){return u}})}},{24:24,58:58,68:68}],62:[function(e,t,n){function i(){for(var e=0;e<o.length;++e)o[e]()}var r=e(20),o=[],s=!1;t.exports={zu:function(e){o.push(e),s||r.fe()&&(window.addEventListener?(window.addEventListener("unload",i,!1),s=!0):window.attachEvent&&(window.attachEvent("onunload",i),s=!0))},Qu:function(e){for(var t=0;t<o.length;++t)if(o[t]==e){o.splice(t,1);break}0==o.length&&r.fe()&&(window.removeEventListener?(window.removeEventListener("unload",i,!1),s=!1):window.detachEvent&&(window.detachEvent("onunload",i),s=!1))}}},{20:20}],63:[function(e,t,n){function i(e){var t,n,i,f,d,p,h,_,g,v,m,E,y,b,S,A,I=this;r.extend(this,{Tu:function(){var e=t;t=new o,o.Tu(e,t)},zs:function(e){return null!=_[e]},Qs:function(e){_[e]={}},Xs:function(e){delete _[e]},Zs:function(){for(var e in _)if(_.hasOwnProperty(e)&&_[e].$s===t.Tr()){r.extend(_[e],{na:t.su(),ta:t.au(),ea:t.fu(),ia:t.cu(),seeking:t.Eo(),ra:t.Bo(),oa:t.jo(),ua:t.$r(),sa:t.qr(),aa:t.Yr(),fa:t.zr(),ca:t.Xr(),la:t.hu(),pa:t.Qo(),va:t.Zo(),da:t.tu()});break}},ha:function(e){return _[e]},Tr:function(e){return _[e].$s},_a:function(){return g},ga:function(e,t){_[e].$s=t,g<t&&(g=t)},setLabels:function(e){null!=e&&r.extend(p,e)},getLabels:function(){return p},setLabel:function(e,t){var n={};n[e]=t,I.setLabels(n)},getLabel:function(e){return p[e]},getAsset:function(){return t},xu:function(e){for(var t=0;t<A.length;++t)if(A[t]==e)return;A.push(e)},Dr:function(e,n){var i=e,o=a.jt(i.ns_st_pa)?I.Rr():parseInt(i.ns_st_pa);i.ns_st_pa=o+(isNaN(f)?0:n-f)+"",i.ns_st_pp=y+"",i.ns_st_sp=b+"",i.ns_st_bp=S+"",v||(i.ns_st_pb=null!=i.ns_st_pb?i.ns_st_pb:"1"),t.Mo()&&(i.ns_st_ppc=m+"",i.ns_st_psq=E+""),0<A.length&&(i.ns_st_ie=(i.ns_st_ie?i.ns_st_ie+";":"")+A.join(";")),r.extend(i,d)},ro:function(){b++},eo:function(){y++},ho:function(e){if(!isNaN(f)){var t=I.Rr();t+=e-f,I.ma(t),f=NaN}},so:function(e){if(!isNaN(n)){var t=I.Or();t+=e-n,I.uo(t),n=NaN}},Or:function(){return S},uo:function(e){S=e},Rr:function(){return i},Po:function(e){n=e},So:function(){return n},ma:function(e){i=e},bo:function(e){f=e},yo:function(){return f},Vr:function(){return y},Ao:function(e){y=e},wa:function(){return h},ya:function(e){h=e},ba:function(){return m},Ia:function(){m++},hs:function(e){v=e},vu:function(e){E=e},du:function(){E++},Sa:function(){return d.ns_st_id},setAsset:function(t,n){e.Uu().Zt("setAsset",t,n),t=s.Pa(t);var i=e.Mu().Ru();if(i!=c.IDLE){e.Uu().$t("Ending the current Clip. It was in state:",s.gs(i));var r={};e.Gs().Vu(l.END,s.Wu(r),r)}var o="",f=0;if(null!=t.ns_st_cn)o=t.ns_st_cn;else for(var d=0;d<u.length;d++)t[u[d]]&&(o+=u[d]+":"+t[u[d]]+";");var p=I,h=p.getAsset();f=h.Do()?(p.zs(h.Pr())||(p.Qs(h.Pr()),p.ga(h.Pr(),h.Tr())),p.Zs(),p.zs(o)?p.Tr(o):a.tn(t.ns_st_cn)?parseInt(t.ns_st_cn):p._a()+1):p.zs(o)?p.Tr(o):h.Tr(),p.Tu(),(h=p.getAsset()).Ar(o),h.Nr(f),h.setLabels(t);var _=p.ha(o);_&&(h.Lo(!0),h.iu(_.na),h.ru(_.ta),h.ou(_.ea),h.uu(_.ia),h.ko(_.seeking),h.Uo(_.ra),h.Fo(_.oa),h.no(_.ua),_.sa&&h.Hr(_.sa),_.aa&&h.Jr(_.aa),_.fa&&h.Qr(_.fa),_.ca&&h.Zr(_.ca),h.vu(_.la),h.Xo(_.pa),h.$o(_.va),h.nu(_.da)),h.Jo(),h.Do()&&n&&p.ro(),n&&(p.vu(0),h.gu(!0)),!a.tn(t.ns_st_tp)&&a.tn(t.ns_st_ad)&&a.lt(t.ns_st_ad)&&"0"!==t.ns_st_ad&&h.Cr("ns_st_tp","1")}}),t=new o,(d={}).ns_st_id=+new Date+"",p={},f=n=NaN,v=h=!(_={}),b=1,S=E=y=m=g=i=0,A=[]}var r=e(24),o=e(54),s=e(68),a=e(21),u=e(55).HASH_LABELS,c=e(58).Nu,l=e(58).Lu;i.ks=function(e,t,n){for(var i=t.getAsset(),r=t.getLabels(),s={},a=0;n&&a<n.length;a++)r.hasOwnProperty(n[a])&&(s[n[a]]=r[n[a]]);e.getPlaybackSession().setLabels(s),o.Tu(i,e.getPlaybackSession().getAsset(),n)},t.exports=i},{21:21,24:24,54:54,55:55,58:58,68:68}],64:[function(e,t,n){var i={LongFormOnDemand:"12",ShortFormOnDemand:"11",Live:"13",UserGeneratedLongFormOnDemand:"22",UserGeneratedShortFormOnDemand:"21",UserGeneratedLive:"23",Bumper:"99",Other:"00"},r={LinearOnDemandPreRoll:"11",LinearOnDemandMidRoll:"12",LinearOnDemandPostRoll:"13",LinearLive:"21",BrandedOnDemandPreRoll:"31",BrandedOnDemandMidRoll:"32",BrandedOnDemandPostRoll:"33",BrandedOnDemandContent:"34",BrandedOnDemandLive:"35",Other:"00"},o=e(67),s=e(58).Nu,a=e(58).Du,u=e(55).HASH_LABELS,c=e(21),l=e(24),f=e(18),d=function(e){function t(e){g.getPlaybackSession().setAsset(e),p=e,g.notifyPlay()}function n(e){var t=e||{};t.ns_st_ad="1",t.ns_st_an=++h+"",g.getPlaybackSession().setAsset(t),g.notifyPlay(),_=!1}function d(e,n){m==v.Aa&&(m=n),_&&m==n&&function(e){for(var t in u)if(u.hasOwnProperty(t)&&(n=u[t],i=p,r=e,!(c.tn(n)&&c.tn(i)&&c.tn(r)&&(i.hasOwnProperty(n)&&r.hasOwnProperty(n)&&i[n]===r[n]||!i.hasOwnProperty(n)&&!r.hasOwnProperty(n)))))return!1;var n,i,r;return!0}(e)?(g.getPlaybackSession().getAsset().setLabels(e),g.getState()!=s.PLAYING&&g.notifyPlay()):t(e),_=!0,m=n}var p=null,h=0,_=!1,g=null,v={Aa:0,Ca:1,ka:2},m=v.Aa,E=new f("TTSTA",(e||{}).debug);l.extend(this,{playVideoAdvertisement:function(e,t){E.Zt("playVideoAdvertisement",e,t);var i={ns_st_ct:"va"};t?i.ns_st_ct="va"+t:E.warn("Calling 'playVideoAdvertisement' without specifying the media type as a second parameter."),t!=r.LinearLive&&t!=r.BrandedOnDemandLive||(i.ns_st_li="1"),e&&l.extend(i,e),n(i)},playAudioAdvertisement:function(e,t){E.Zt("playAudioAdvertisement",e,t);var i={ns_st_ct:"aa"};t?i.ns_st_ct="aa"+t:E.warn("Calling 'playAudioAdvertisement' without specifying the media type as a second parameter."),t!=r.LinearLive&&t!=r.BrandedOnDemandLive||(i.ns_st_li="1"),e&&l.extend(i,e),n(i)},playVideoContentPart:function(e,t){E.Zt("playVideoContentPart",e,t);var n={ns_st_ct:"vc"};t?n.ns_st_ct="vc"+t:E.warn("Calling 'playVideoContentPart' without specifying the media type as a second parameter."),t!=i.Live&&t!=i.UserGeneratedLive||(n.ns_st_li="1"),e&&l.extend(n,e),d(n,v.ka)},playAudioContentPart:function(e,t){E.Zt("playAudioContentPart",e,t);var n={ns_st_ct:"ac"};t?n.ns_st_ct="ac"+t:E.warn("Calling 'playAudioContentPart' without specifying the media type as a second parameter."),t!=i.Live&&t!=i.UserGeneratedLive||(n.ns_st_li="1"),e&&l.extend(n,e),d(n,v.Ca)},stop:function(){E.Zt("stop"),g.notifyPause()}}),(g=new o(e)).setLabel("ns_st_it",a.toString(a.js))};d.ContentType=i,d.AdType=r,t.exports=d},{18:18,21:21,24:24,55:55,58:58,67:67}],65:[function(e,t,n){var i=e(24);t.exports=function(e){var t,n,r,o,s,a,u;i.extend(this,{ws:function(){return t},Gs:function(){return e},ju:function(){return n},Mu:function(){return r},Ns:function(){return o},S:function(){return s},getPlaybackSession:function(){return a},Uu:function(){return u},Ms:function(e){t=e},Os:function(e){s=e},Ds:function(e){o=e},Ws:function(e){n=e},Vs:function(e){r=e},Es:function(e){a=e},xs:function(e){u=e}})}},{24:24}],66:[function(e,t,n){var i=e(58).Nu,r=e(24),o=e(58).Lu;t.exports=function(e){var t,n,s,a=this;r.extend(a,{Hu:function(e){if(s==i.IDLE){if(e==o.PLAY)return i.PLAYING;if(e==o.SEEK_START)return i.SEEKING_BEFORE_PLAYBACK;if(e==o.BUFFER)return i.BUFFERING_BEFORE_PLAYBACK}else if(s==i.PLAYBACK_NOT_STARTED){if(e==o.PLAY)return i.PLAYING;if(e==o.SEEK_START)return i.SEEKING_BEFORE_PLAYBACK;if(e==o.BUFFER)return i.BUFFERING_BEFORE_PLAYBACK;if(e==o.END||e==o.AD_SKIP)return i.IDLE}else if(s==i.PLAYING){if(e==o.END||e==o.AD_SKIP)return i.IDLE;if(e==o.BUFFER)return i.BUFFERING_DURING_PLAYBACK;if(e==o.PAUSE)return i.PAUSED;if(e==o.SEEK_START)return i.SEEKING_DURING_PLAYBACK}else if(s==i.PAUSED){if(e==o.END||e==o.AD_SKIP)return i.IDLE;if(e==o.BUFFER)return i.BUFFERING_DURING_PAUSE;if(e==o.PLAY)return i.PLAYING;if(e==o.SEEK_START)return i.SEEKING_DURING_PAUSE}else if(s==i.BUFFERING_BEFORE_PLAYBACK){if(e==o.END||e==o.AD_SKIP)return i.IDLE;if(e==o.PAUSE||e==o.BUFFER_STOP)return i.PLAYBACK_NOT_STARTED;if(e==o.PLAY)return i.PLAYING;if(e==o.SEEK_START)return i.SEEKING_BEFORE_PLAYBACK}else if(s==i.BUFFERING_DURING_PLAYBACK){if(e==o.END||e==o.AD_SKIP)return i.IDLE;if(e==o.PLAY||e==o.BUFFER_STOP)return i.PLAYING;if(e==o.PAUSE_ON_BUFFERING)return i.PAUSED_DURING_BUFFERING;if(e==o.SEEK_START)return i.SEEKING_DURING_BUFFERING;if(e==o.PAUSE)return i.PAUSED}else if(s==i.BUFFERING_DURING_SEEKING){if(e==o.END||e==o.AD_SKIP)return i.IDLE;if(e==o.PLAY)return i.PLAYING;if(e==o.BUFFER_STOP)return i.SEEKING_DURING_PLAYBACK;if(e==o.PAUSE)return i.PAUSED}else if(s==i.BUFFERING_DURING_PAUSE){if(e==o.END||e==o.AD_SKIP)return i.IDLE;if(e==o.PLAY)return i.PLAYING;if(e==o.SEEK_START)return i.SEEKING_DURING_PAUSE;if(e==o.BUFFER_STOP||e==o.PAUSE)return i.PAUSED}else if(s==i.SEEKING_BEFORE_PLAYBACK){if(e==o.END||e==o.AD_SKIP)return i.IDLE;if(e==o.PAUSE)return i.PLAYBACK_NOT_STARTED;if(e==o.PLAY)return i.PLAYING;if(e==o.BUFFER)return i.BUFFERING_BEFORE_PLAYBACK}else if(s==i.SEEKING_DURING_PLAYBACK){if(e==o.END||e==o.AD_SKIP)return i.IDLE;if(e==o.PLAY)return i.PLAYING;if(e==o.PAUSE)return i.PAUSED;if(e==o.BUFFER)return i.BUFFERING_DURING_SEEKING}else if(s==i.SEEKING_DURING_BUFFERING){if(e==o.END||e==o.AD_SKIP)return i.IDLE;if(e==o.PLAY)return i.PLAYING;if(e==o.PAUSE||e==o.BUFFER_STOP)return i.PAUSED;if(e==o.BUFFER)return i.BUFFERING_DURING_SEEKING}else if(s==i.SEEKING_DURING_PAUSE){if(e==o.END||e==o.AD_SKIP)return i.IDLE;if(e==o.PLAY)return i.PLAYING;if(e==o.PAUSE||e==o.BUFFER_STOP)return i.PAUSED;if(e==o.BUFFER)return i.BUFFERING_DURING_PAUSE}else if(s==i.PAUSED_DURING_BUFFERING){if(e==o.END||e==o.AD_SKIP)return i.IDLE;if(e==o.SEEK_START)return i.SEEKING_DURING_BUFFERING;if(e==o.PAUSE)return i.PAUSED;if(e==o.PLAY||e==o.BUFFER_STOP)return i.PLAYING}return null},Ru:function(){return s},Vu:function(e,i){var r=a.Hu(e);s!=r&&(n=s,s=r,t=i)},Ea:function(){return n},_s:function(){return t}}),s=i.IDLE,n=null,t=NaN}},{24:24,58:58}],67:[function(e,t,n){function i(e){function t(e,t,i){if(a.toString(e)){i=o.Pa(i);var r=o.Wu(i);i.ns_st_po||isNaN(t)||(i.ns_st_po=parseInt(t)+""),e==a.PLAY||e==a.PAUSE||e==a.BUFFER||e==a.END||e==a.SEEK_START||e==a.AD_SKIP||e==a.BUFFER_STOP?n.Vu(e,r,i):n.ms(e,r,i)}}var n,i=this;for(var l in r.extend(i,{isProperlyInitialized:function(){return n.isProperlyInitialized()},reset:function(e){t(a.END);var i=n;i.Cs().S().stop(),i.Cs().Ns().pause(),n=new s(i.getConfiguration()),c.ks(n.Cs(),i.Cs().getPlaybackSession(),e)},setPauseOnBufferingInterval:function(e){n.setPauseOnBufferingInterval(e)},getPauseOnBufferingInterval:function(){return n.getPauseOnBufferingInterval()},setKeepAliveInterval:function(e){n.Cs().S().setInterval(e)},getKeepAliveInterval:function(){return n.Cs().S().Gu()},setHeartbeatIntervals:function(e){n.Cs().Ns().Rs(e)},getLabels:function(){return n.getLabels()},getState:function(){return n.Cs().Mu().Ru()},setLabels:function(e){n.setLabels(e)},getLabel:function(e){return n.getLabel(e)},setLabel:function(e,t){n.setLabel(e,t)},getLoadTimeOffset:function(){return n.getLoadTimeOffset()},setLoadTimeOffset:function(e){n.setLoadTimeOffset(e)},setLiveEndpointURL:function(e){return n.setLiveEndpointURL(e)},getLiveEndpointURL:function(){return n.getLiveEndpointURL()},isPauseOnBufferingEnabled:function(){return n.isPauseOnBufferingEnabled()},setPauseOnBufferingEnabled:function(e){n.setPauseOnBufferingEnabled(e)},isThrottlingEnabled:function(){return n.isThrottlingEnabled()},setThrottlingEnabled:function(e){n.setThrottlingEnabled(e)},setThrottlingDelay:function(e){n.setThrottlingDelay(e)},getThrottlingDelay:function(){return n.getThrottlingDelay()},setPlaybackIntervalMergeTolerance:function(e){n.Cs().getPlaybackSession().getAsset().setPlaybackIntervalMergeTolerance(e)},getPlaybackIntervalMergeTolerance:function(){return n.Cs().getPlaybackSession().getAsset().getPlaybackIntervalMergeTolerance()},createPlaybackSession:function(e){n.Cs().Uu().Zt("createPlaybackSession",e),e=o.Pa(e);var t=n.Cs().Mu().Ru();t!=u.IDLE&&(n.Cs().Uu().$t("Ending the current Clip. It was in state:",o.gs(t)),i.notifyEnd()),n.Cs().getPlaybackSession().wa()&&n.ks(),n.Cs().getPlaybackSession().setLabels(e)},getVersion:function(){return n.getVersion()},addListener:function(e){n.addListener(e)},removeListener:function(e){n.removeListener(e)},addMeasurementListener:function(e){n.Cs().ju().addMeasurementListener(e)},removeMeasurementListener:function(e){n.Cs().ju().removeMeasurementListener(e)},getPlaybackSession:function(){return n.Cs().getPlaybackSession()},setExitEndEventEnabled:function(e){n.setExitEndEventEnabled(!!e)},isExitEndEventEnabled:function(){return n.isExitEndEventEnabled()},setDvrWindowLength:function(e){n.Cs().getPlaybackSession().getAsset().Su(e),n.Cs().getPlaybackSession().getAsset().Eu(!0)},setDvrWindowOffset:function(e){n.Cs().getPlaybackSession().getAsset().Au(e),n.Cs().getPlaybackSession().getAsset().Eu(!0)},getPlatformAPI:function(){return n.getPlatformAPI()},_getLogHistory:function(){return n.Cs().Uu().te()}}),f)!function(e,r){i[e]=function(i,o){n.Cs().Uu().Zt(e,i,o);var s={},a=NaN;"object"==typeof i?s=i:"object"==typeof o&&(s=o),"number"==typeof i?a=i:"number"==typeof o&&(a=o),t(r,a,s)}}(l,f[l]);for(var p in d)!function(e,r,o){i[e]=function(i,s,a){if(n.Cs().Uu().Zt(e,i,s,a),null!=i){var u={},c=NaN;"object"==typeof s?u=s:"object"==typeof a&&(u=a),"number"==typeof s?c=s:"number"==typeof a&&(c=a),u[o]=i+"",t(r,c,u)}}}(p,d[p][0],d[p][1]);e=r.extend({},e),(n=new s(e)).Cs().Uu().log("New StreamingAnalytics instance with configuration",e)}var r=e(24),o=e(68),s=e(56),a=e(58).Lu,u=e(58).Nu,c=e(63),l=e(55),f={notifyPlay:a.PLAY,notifyPause:a.PAUSE,notifyEnd:a.END,notifyBufferStart:a.BUFFER,notifyBufferStop:a.BUFFER_STOP,notifyLoad:a.LOAD,notifyEngage:a.ENGAGE,notifySeekStart:a.SEEK_START,notifySkipAd:a.AD_SKIP,notifyCallToAction:a.CTA,notifyError:a.ERROR,notifyTransferPlayback:a.TRANSFER,notifyDrmFail:a.DRM_FAILED,notifyDrmApprove:a.DRM_APPROVED,notifyDrmDeny:a.DRM_DENIED,notifyCustomEvent:a.CUSTOM},d={notifyChangeBitrate:[a.BIT_RATE,"ns_st_br"],notifyChangePlaybackRate:[a.PLAYBACK_RATE,"ns_st_rt"],notifyChangeVolume:[a.VOLUME,"ns_st_vo"],notifyChangeWindowState:[a.WINDOW_STATE,"ns_st_ws"],notifyChangeAudioTrack:[a.AUDIO,"ns_st_at"],notifyChangeVideoTrack:[a.VIDEO,"ns_st_vt"],notifyChangeSubtitleTrack:[a.SUBS,"ns_st_tt"],notifyChangeCdn:[a.CDN,"ns_st_cdn"]};i.PlayerEvents=a,i.InternalStates=u,i.Constants=l,t.exports=i},{24:24,55:55,56:56,58:58,63:63,68:68}],68:[function(e,t,n){var i=e(23),r=e(58).Nu;n.Pa=function(e){var t={};for(var n in e){var i=e[n];t[n]=null==i?i:e[n]+""}return t},n.Ta=function(e,t){var n,i=[];for(n in e)t&&!t.test(n)||!e.hasOwnProperty(n)||(i[i.length]=n);return i},n.Wu=function(e){if(e.ns_ts)return parseInt(e.ns_ts);var t=+new Date;return e.ns_ts=t+"",t},n.fe=function(){return"undefined"!=typeof window&&"undefined"!=typeof document},n.Wr=function(e,t,n,r){var o,s,a={};if(!(t<=n))return i(e);if(a.start=t,a.end=n,0==e.length)return e.push(a),i(e);for(o=0;o<e.length;o++)if(a.start>=e[o].start&&a.end<=e[o].end)return i(e);var u=!1;for(s=0;s<e.length;s++)if(s+1===e.length&&a.start>=e[s].start||a.start>=e[s].start&&a.start<e[s+1].start){e.splice(s+1,0,a),u=!0;break}u||e.splice(0,0,a);var c=[e[0]];for(o=1;o<e.length;o++)c[c.length-1].end+r<e[o].start?c.push(e[o]):c[c.length-1].end<e[o].end&&(c[c.length-1].end=e[o].end);return i(c)},n.gs=function(e){for(var t in r)if(r.hasOwnProperty(t)&&r[t]==e)return t},n.Ju=function(e){return e==r.IDLE||e==r.BUFFERING_BEFORE_PLAYBACK||e==r.SEEKING_BEFORE_PLAYBACK||e==r.PLAYBACK_NOT_STARTED}},{23:23,58:58}],69:[function(e,t,n){var i=e(24),r=e(26),o=e(58).Lu;t.exports=function(e){i.extend(this,{ns:function(t,n){var i=e.getPlaybackSession(),o=i.getAsset();i.so(t),o.so(t),o.Eo()&&o.No()&&o.Uo(t-o.Wo()),o.Ho(),o.Ro(!1),n.hasOwnProperty("ns_st_pe")&&r.vr(n.ns_st_pe,!1)&&e.Gs().ks()},os:function(t,n){var i=e.getPlaybackSession(),r=i.getAsset();i.so(t),r.so(t),r.Eo()&&r.No()&&(r.Vo(t),r.To(!1))},Zu:function(t,n){var i=e.getPlaybackSession(),r=i.getAsset(),o=parseInt(n.ns_st_po);i.so(t),r.so(t),r.Eo()?r.No()||(r.Oo(t),r.To(!0)):r.io(),r.Eo()||(r.ko(!0),r.To(!0),r.Fo(o),r.Oo(t))},ts:function(t,n){var i=e.getPlaybackSession(),r=i.getAsset();i.so(t),r.so(t),r.Eo()&&r.No()&&(r.Vo(t),r.To(!1))},$u:function(t,n){var i=e.getPlaybackSession(),r=i.getAsset(),s=parseInt(n.ns_st_po);i.so(t),r.so(t),r.Eo()&&(r.No()&&(r.Vo(t),r.To(!1)),r.Ko(s),r.ko(!1)),r.Ro(!0),(r._u()||0==i.ba())&&(i.Ia(),r.gu(!1)),i.du(),r.Ro(!0),r.Yo(),r.ro(),i.bo(t),r.bo(t),r.do(t),r.ao(s),(0==r.cu()||r.Lr()<=r.cu())&&(r.uu(r.Lr()),r.zo(),r.vu(0),r.eu()),r.du(),e.Gs().bs()||(n.ns_st_lt=e.Gs().getLoadTimeOffset()+t-e.Gs().Ss()+"",e.Gs().Is(!0)),e.Ns().resume(),e.S().start();var a=e.Gs().Dr(o.PLAY,n,t);r.jr(a.Ut),r.Kr(a.Ut),e.ju().Vu(a)}})}},{24:24,26:26,58:58}],70:[function(e,t,n){var i=e(24),r=e(26),o=e(58).Lu;t.exports=function(e){i.extend(this,{fs:function(t,n){var i=e.getPlaybackSession(),s=i.getAsset();e.Gs().Ts(),e.S().stop(),i.so(t),s.so(t),s.po(t);var a=e.Gs().Dr(o.END,n,t);s.jr(a.Ut),s.Kr(a.Ut),e.ju().Vu(a),s.Eo()&&s.No()&&(s.Uo(t-s.Wo()),s.To(!1)),i.Zs(),s.Ho(),s.Ro(!1),n.hasOwnProperty("ns_st_pe")&&r.vr(n.ns_st_pe,!1)&&e.Gs().ks()},ts:function(t,n){var i=e.getPlaybackSession(),r=i.getAsset();i.so(t),r.so(t),r.po(t),r.do(t)},$u:function(t,n){var i=e.getPlaybackSession(),r=i.getAsset(),s=parseInt(n.ns_st_po);i.du(),r.du(),r.ro(),i.so(t),r.so(t),r.Eo()&&(r.No()&&(r.Vo(t),r.To(!1)),r.Ko(s),r.ko(!1)),r.po(t),r.do(t),i.bo(t),r.bo(t),r.ao(s),e.Ns().resume(),e.S().start();var a=e.Gs().Dr(o.PLAY,n,t);r.jr(a.Ut),r.Kr(a.Ut),e.ju().Vu(a)}})}},{24:24,26:26,58:58}],71:[function(e,t,n){var i=e(24),r=e(26),o=e(58).Lu;t.exports=function(e){i.extend(this,{us:function(t,n){var i=e.getPlaybackSession(),r=i.getAsset();e.Gs().As(),r.po(t),r.do(t),i.so(t),r.so(t),i.eo(),r.eo();var s=e.Gs().Dr(o.PAUSE,n,t);r.jr(s.Ut),r.Kr(s.Ut),e.ju().Vu(s),i.Po(t),r.Po(t)},ns:function(t,n){var i=e.getPlaybackSession(),s=i.getAsset();e.Gs().As(),e.Gs().Ts(),e.S().stop(),i.so(t),s.so(t),s.po(t);var a=e.Gs().Dr(o.END,n,t);s.jr(a.Ut),s.Kr(a.Ut),e.ju().Vu(a),s.Ho(),s.Ro(!1),n.hasOwnProperty("ns_st_pe")&&r.vr(n.ns_st_pe,!1)&&e.Gs().ks()},Zu:function(t,n){var i=e.getPlaybackSession(),r=i.getAsset(),s=parseInt(n.ns_st_po);e.Gs().As(),e.Ns().pause(),e.S().stop(),r.po(t),r.do(t),i.so(t),r.so(t),r.io(),r.ko(!0),r.To(!0),r.Fo(s),r.Oo(t),i.eo(),r.eo();var a=e.Gs().Dr(o.PAUSE,n,t);r.jr(a.Ut),r.Kr(a.Ut),e.ju().Vu(a)},ts:function(t,n){var i=e.getPlaybackSession(),r=i.getAsset();e.Gs().As(),r.po(t),r.do(t),i.so(t),r.so(t),i.eo(),r.eo();var s=e.Gs().Dr(o.PAUSE,n,t);r.jr(s.Ut),r.Kr(s.Ut),e.ju().Vu(s)}})}},{24:24,26:26,58:58}],72:[function(e,t,n){var i=e(24),r=e(26),o=e(58).Lu;t.exports=function(e){i.extend(this,{ns:function(t,n){var i=e.getPlaybackSession(),s=i.getAsset();e.Gs().Ts(),e.S().stop(),e.Gs().As(),i.so(t),s.so(t),s.po(t);var a=e.Gs().Dr(o.END,n,t);s.jr(a.Ut),s.Kr(a.Ut),e.ju().Vu(a),s.Eo()&&s.No()&&(s.Uo(t-s.Wo()),s.To(!1)),i.Zs(),s.Ho(),s.Ro(!1),n.hasOwnProperty("ns_st_pe")&&r.vr(n.ns_st_pe,!1)&&e.Gs().ks()},ts:function(t,n){var i=e.getPlaybackSession(),r=i.getAsset();i.so(t),r.so(t),i.eo(),r.eo(),r.Eo()&&r.No()&&(r.Vo(t),r.To(!1)),r.po(t),r.do(t)},$u:function(t,n){var i=e.getPlaybackSession(),r=i.getAsset(),s=parseInt(n.ns_st_po);i.du(),r.du(),r.ro(),i.so(t),r.so(t),r.Eo()&&(r.No()&&(r.Vo(t),r.To(!1)),r.Ko(s),r.ko(!1)),r.po(t),r.do(t),i.bo(t),r.bo(t),r.ao(s),e.Ns().resume(),e.S().start();var a=e.Gs().Dr(o.PLAY,n,t);r.jr(a.Ut),r.Kr(a.Ut),e.ju().Vu(a)}})}},{24:24,26:26,58:58}],73:[function(e,t,n){var i=e(24),r=e(58).Lu;t.exports=function(e){i.extend(this,{Xu:function(t,n){var i=e.getPlaybackSession(),r=i.getAsset();i.ya(!0),r.Lo(!0),r.Eo()&&r.xo(r.Bo()),i.Po(t),r.Po(t)},Zu:function(t,n){var i=e.getPlaybackSession(),r=i.getAsset(),o=parseInt(n.ns_st_po);i.ya(!0),r.Lo(!0),r.Eo()&&r.xo(r.Bo()),r.io(),r.ko(!0),r.To(!0),r.Fo(o),r.Oo(t)},$u:function(t,n){var i=e.getPlaybackSession(),o=i.getAsset(),s=parseInt(n.ns_st_po);i.ya(!0),o.Lo(!0),(o._u()||0==i.ba())&&(i.Ia(),o.gu(!1)),o.Eo()&&(o.xo(o.Bo()),o.Ko(s),o.ko(!1)),i.du(),o.Ro(!0),o.Yo(),(0==o.cu()||o.Lr()<=o.cu())&&(o.uu(o.Lr()),o.zo(),o.vu(0),o.eu()),o.du(),o.ro(),i.bo(t),o.bo(t),o.do(t),o.ao(s),e.Gs().bs()||(n.ns_st_lt=e.Gs().getLoadTimeOffset()+t-e.Gs().Ss()+"",e.Gs().Is(!0)),e.Ns().resume(),e.S().start();var a=e.Gs().Dr(r.PLAY,n,t);o.jr(a.Ut),o.Kr(a.Ut),e.ju().Vu(a)}})}},{24:24,58:58}],74:[function(e,t,n){var i=e(24),r=e(26),o=e(58).Lu;t.exports=function(e){i.extend(this,{ns:function(t,n){var i=e.getPlaybackSession(),s=i.getAsset();e.Gs().Ts(),e.S().stop(),s.po(t);var a=e.Gs().Dr(o.END,n,t);s.jr(a.Ut),s.Kr(a.Ut),e.ju().Vu(a),s.Eo()&&s.No()&&(s.Uo(t-s.Wo()),s.ko(!1)),i.Zs(),s.Ho(),s.Ro(!1),n.hasOwnProperty("ns_st_pe")&&r.vr(n.ns_st_pe,!1)&&e.Gs().ks()},$u:function(t,n){var i=e.getPlaybackSession(),r=i.getAsset(),s=parseInt(n.ns_st_po);i.du(),r.Eo()&&(r.No()&&(r.Vo(t),r.To(!1)),r.Ko(s),r.ko(!1)),r.ro(),r.du(),i.bo(t),r.bo(t),r.po(t),r.do(t),r.ao(s),e.Ns().resume(),e.S().start();var a=e.Gs().Dr(o.PLAY,n,t);r.jr(a.Ut),r.Kr(a.Ut),e.ju().Vu(a)}})}},{24:24,26:26,58:58}],75:[function(e,t,n){var i=e(24),r=e(26),o=e(58).Lu;t.exports=function(e){i.extend(this,{ns:function(t,n){var i=e.getPlaybackSession(),s=i.getAsset();e.Gs().Ts(),e.S().stop(),i.so(t),s.so(t),s.po(t),s.Eo()&&s.No()&&(s.Uo(t-s.Wo()),s.To(!1));var a=e.Gs().Dr(o.END,n,t);s.jr(a.Ut),s.Kr(a.Ut),e.ju().Vu(a),s.Ho(),s.Ro(!1),n.hasOwnProperty("ns_st_pe")&&r.vr(n.ns_st_pe,!1)&&e.Gs().ks()},Zu:function(t,n){var i=e.getPlaybackSession(),r=i.getAsset(),o=parseInt(n.ns_st_po);i.so(t),r.so(t),r.Eo()?r.No()||(r.Oo(t),r.To(!0)):r.io(),r.Eo()||(r.ko(!0),r.To(!0),r.Fo(o),r.Oo(t)),r.po(t),r.do(t)},ts:function(t,n){var i=e.getPlaybackSession(),r=i.getAsset();i.so(t),r.so(t),r.po(t),r.do(t)},ds:function(t,n){var i=e.getPlaybackSession(),r=i.getAsset(),s=parseInt(n.ns_st_po);i.du(),r.du(),i.so(t),r.so(t),r.ro(),i.bo(t),r.bo(t),r.po(t),r.do(t),r.ao(s),e.Ns().resume(),e.S().start();var a=e.Gs().Dr(o.PLAY,n,t);r.jr(a.Ut),r.Kr(a.Ut),e.ju().Vu(a)}})}},{24:24,26:26,58:58}],76:[function(e,t,n){var i=e(24),r=e(26),o=e(58).Lu;t.exports=function(e){i.extend(this,{ns:function(t,n){var i=e.getPlaybackSession(),o=i.getAsset();o.Eo()&&o.No()&&(o.Uo(t-o.Wo()),o.To(!1)),i.Zs(),o.Ho(),o.Ro(!1),n.hasOwnProperty("ns_st_pe")&&r.vr(n.ns_st_pe,!1)&&e.Gs().ks()},Zu:function(t,n){var i=e.getPlaybackSession().getAsset(),r=parseInt(n.ns_st_po);i.Eo()?i.Oo(t):i.io(),i.Eo()||(i.ko(!0),i.To(!0),i.Fo(r),i.Oo(t))},$u:function(t,n){var i=e.getPlaybackSession(),r=i.getAsset(),s=parseInt(n.ns_st_po);r.Eo()&&(r.Ko(s),r.ko(!1)),i.ya(!0),(r._u()||0==i.ba())&&(i.Ia(),r.gu(!1)),i.du(),r.Ro(!0),r.Yo(),(0==r.cu()||r.Lr()<=r.cu())&&(r.uu(r.Lr()),r.zo(),r.vu(0),r.eu()),r.du(),r.ro(),i.bo(t),r.bo(t),r.do(t),r.ao(s),e.Gs().bs()||(n.ns_st_lt=e.Gs().getLoadTimeOffset()+t-e.Gs().Ss()+"",e.Gs().Is(!0)),e.Ns().resume(),e.S().start();var a=e.Gs().Dr(o.PLAY,n,t);r.jr(a.Ut),r.Kr(a.Ut),e.ju().Vu(a)},Xu:function(t,n){var i=e.getPlaybackSession(),r=i.getAsset();i.Po(t),r.Po(t)}})}},{24:24,26:26,58:58}],77:[function(e,t,n){var i=e(24),r=e(26),o=e(58).Lu;t.exports=function(e){i.extend(this,{ns:function(t,n){var i=e.getPlaybackSession(),s=i.getAsset(),a=parseInt(n.ns_st_po);e.Gs().Ts(),e.S().stop(),i.ho(t),s.ho(t),s.Iu(a),s.po(t),s.co(a);var u=e.Gs().Dr(o.END,n,t);s.jr(u.Ut),s.Kr(u.Ut),e.ju().Vu(u),s.Ho(),s.Ro(!1),n.hasOwnProperty("ns_st_pe")&&r.vr(n.ns_st_pe,!1)&&e.Gs().ks()},Xu:function(t,n){var i=e.getPlaybackSession(),r=i.getAsset(),o=parseInt(n.ns_st_po);e.Ns().pause(),e.S().stop(),i.ho(t),r.ho(t),r.Iu(o),r.co(o),e.Gs().isPauseOnBufferingEnabled()&&e.Gs().Ps(t,n),r.lu(),i.Po(t),r.Po(t),r.po(t),r.do(t)},Zu:function(t,n){var i=e.getPlaybackSession(),r=i.getAsset(),s=parseInt(n.ns_st_po);e.Ns().pause(),e.S().stop(),i.ho(t),r.ho(t),r.Iu(s),r.co(s),r.io(),r.ko(!0),r.To(!0),r.Fo(s),r.Oo(t),r.po(t),r.do(t),i.eo(),r.eo();var a=e.Gs().Dr(o.PAUSE,n,t);r.jr(a.Ut),r.Kr(a.Ut),e.ju().Vu(a)},ts:function(t,n){var i=e.getPlaybackSession(),r=i.getAsset(),s=parseInt(n.ns_st_po);e.Ns().pause(),e.S().stop(),i.ho(t),r.ho(t),r.Iu(s),r.co(s),r.po(t),r.do(t),i.eo(),r.eo();var a=e.Gs().Dr(o.PAUSE,n,t);r.jr(a.Ut),r.Kr(a.Ut),e.ju().Vu(a)}})}},{24:24,26:26,58:58}],78:[function(e,t,n){var i=e(24),r=e(26),o=e(58).Lu;t.exports=function(e){i.extend(this,{ns:function(t,n){var i=e.getPlaybackSession(),o=i.getAsset();o.Eo()&&o.No()&&(o.Uo(t-o.Wo()),o.To(!1)),i.Zs(),o.Ho(),o.Ro(!1),n.hasOwnProperty("ns_st_pe")&&r.vr(n.ns_st_pe,!1)&&e.Gs().ks()},ts:function(t,n){var i=e.getPlaybackSession().getAsset();i.Eo()&&i.No()&&(i.Vo(t),i.To(!1))},$u:function(t,n){var i=e.getPlaybackSession(),r=i.getAsset(),s=parseInt(n.ns_st_po);r.Eo()&&(r.No()&&(r.Vo(t),r.To(!1)),r.Ko(s),r.ko(!1)),(r._u()||0==i.ba())&&(i.Ia(),r.gu(!1)),i.du(),r.du(),r.ro(),r.Ro(!0),r.Yo(),(0==r.cu()||r.Lr()<=r.cu())&&(r.uu(r.Lr()),r.zo(),r.vu(0),r.eu()),i.bo(t),r.bo(t),r.do(t),r.ao(s),e.Gs().bs()||(n.ns_st_lt=e.Gs().getLoadTimeOffset()+t-e.Gs().Ss()+"",e.Gs().Is(!0)),e.Ns().resume(),e.S().start();var a=e.Gs().Dr(o.PLAY,n,t);r.jr(a.Ut),r.Kr(a.Ut),e.ju().Vu(a)}})}},{24:24,26:26,58:58}],79:[function(e,t,n){var i=e(24);t.exports=function(e){i.extend(this,{ts:function(t,n){var i=e.getPlaybackSession(),r=i.getAsset();i.eo(),r.eo(),r.Eo()&&r.No()&&(r.Vo(t),r.To(!1)),r.po(t),r.do(t)}})}},{24:24}],80:[function(e,t,n){var i=e(24),r=e(26),o=e(58).Lu;t.exports=function(e){i.extend(this,{ns:function(t,n){var i=e.getPlaybackSession(),s=i.getAsset();e.Gs().Ts(),e.S().stop(),s.po(t);var a=e.Gs().Dr(o.END,n,t);s.jr(a.Ut),s.Kr(a.Ut),e.ju().Vu(a),s.Eo()&&s.No()&&(s.Uo(t-s.Wo()),s.To(!1)),i.Zs(),s.Ho(),s.Ro(!1),n.hasOwnProperty("ns_st_pe")&&r.vr(n.ns_st_pe,!1)&&e.Gs().ks()},$u:function(t,n){var i=e.getPlaybackSession(),r=i.getAsset(),s=parseInt(n.ns_st_po);i.du(),r.du(),r.ro(),r.Eo()&&(r.No()&&(r.Vo(t),r.To(!1)),r.Ko(s),r.ko(!1)),r.po(t),r.do(t),i.bo(t),r.bo(t),r.ao(s),e.Gs().bs()||(n.ns_st_lt=e.Gs().getLoadTimeOffset()+t-e.Gs().Ss()+"",e.Gs().Is(!0)),e.Ns().resume(),e.S().start();var a=e.Gs().Dr(o.PLAY,n,t);r.jr(a.Ut),r.Kr(a.Ut),e.ju().Vu(a)}})}},{24:24,26:26,58:58}],81:[function(e,t,n){var i=e(24),r=e(26),o=e(58).Lu;t.exports=function(e){i.extend(this,{rs:function(t,n){var i=e.getPlaybackSession().getAsset(),r=parseInt(n.ns_st_po);i.Eo()?i.No()||(i.Oo(t),i.To(!0)):i.io(),i.Eo()||(i.ko(!0),i.To(!0),i.Fo(r),i.Oo(t)),i.po(t),i.do(t)},es:function(t,n){var i=e.getPlaybackSession(),r=i.getAsset();i.Po(t),r.Po(t),r.po(t),r.do(t)},ls:function(t,n){var i=e.getPlaybackSession(),r=i.getAsset(),s=parseInt(n.ns_st_po);i.du(),r.du(),r.Eo()&&(r.No()&&(r.Vo(t),r.To(!1)),r.Ko(s),r.ko(!1)),r.ro(),i.bo(t),r.bo(t),r.po(t),r.do(t),r.ao(s),e.Ns().resume(),e.S().start();var a=e.Gs().Dr(o.PLAY,n,t);r.jr(a.Ut),r.Kr(a.Ut),e.ju().Vu(a)},as:function(t,n){var i=e.getPlaybackSession(),r=i.getAsset();i.so(t),r.so(t),r.po(t),r.do(t)},cs:function(t,n){var i=e.getPlaybackSession().getAsset();i.Eo()&&i.No()&&(i.Vo(t),i.To(!1)),i.po(t),i.do(t)},ps:function(t,n){var i=e.getPlaybackSession(),s=i.getAsset();e.Gs().Ts(),e.S().stop(),s.po(t);var a=e.Gs().Dr(o.END,n,t);s.jr(a.Ut),s.Kr(a.Ut),e.ju().Vu(a),s.Eo()&&s.No()&&(s.Uo(t-s.Wo()),s.To(!1)),i.Zs(),s.Ho(),s.Ro(!1),n.hasOwnProperty("ns_st_pe")&&r.vr(n.ns_st_pe,!1)&&e.Gs().ks()},vs:function(t,n){var i=e.getPlaybackSession().getAsset();i.Eo()&&i.No()&&(i.Vo(t),i.To(!1)),i.po(t),i.do(t)},ss:function(t,n){var i=e.getPlaybackSession(),r=i.getAsset(),o=parseInt(n.ns_st_po);e.Gs().As(),i.so(t),r.so(t),i.bo(t),r.bo(t),r.ao(o),r.po(t),r.do(t),e.Ns().resume(),e.S().start()}})}},{24:24,26:26,58:58}],82:[function(e,t,n){function i(){var e=+new Date;u=a.setInterval(function(){var t=e+o,n=+new Date,i=n-t;if(e=n,Math.abs(i)>s)for(var r=0<i,a=0;a<c.length;++a)c[a](r)},o)}function r(){clearInterval(u),u=null}var o,s,a,u=null,c=[];t.exports={Ou:function(e){c.push(e),u||i()},Yu:function(e){for(var t=0;t<c.length;++t)if(c[t]==e){c.splice(t,1);break}c.length||r()},setPlatformAPI:function(e){a=e},Us:function(e,t){!t&&o||(o=e||1e3),(u&&t||!u)&&(r(),i())},Bs:function(e,t){s=e||1e3}}},{}]},{},[16])(16)}).call(this,n(20),n(19))},function(e,t,n){var i,r;i=[n(7)],void 0===(r=function(e){"use strict";function t(e,t,n){this._persistantLabels={},this._urlParams="",this._cut="",this._httpGet=e,this._eventCount=0,this._isApp=t,this._isScorecardDomain=!0===n,this._hasStarted=!1}return t.IS_ECHO_APP_TAG=!0,t.URL_LIMIT=2048,t.prototype.setPixelURL=function(e){this._url=this._makeBaseUrl(e)},t.prototype.setCustomerC2=function(t){this.setLabel(e.COMSCORE_CUSTOMER,t)},t.prototype.start=function(){this._hasStarted||(this._hasStarted=!0)},t.prototype.setLabel=function(e,t){null===t?this.removeLabel(e):this._persistantLabels[e]=t},t.prototype.removeLabels=function(e){for(var t in e)void 0!==this._persistantLabels[e[t]]&&delete this._persistantLabels[e[t]]},t.prototype.removeLabel=function(e){void 0!==this._persistantLabels[e]&&delete this._persistantLabels[e]},t.prototype.view=function(e){this.send("view",e)},t.prototype.hidden=function(e){this.send("hidden",e)},t.prototype.send=function(e,t,n){var i,r,o=this._persistantLabels,s={};if(this._hasStarted){for(r in this._eventCount++,o)s[r]=o[r];for(r in t)s[r]=t[r];s.ns_type=e,this._isApp&&(s.ns_ap_ev=e,s.ns_ap_ec=this._eventCount),s[this._isApp?"ns_ts":"ns__t"]=+new Date,i=this._createUrl(s),this._httpGet(i,n)}},t.prototype._createUrl=function(t){var n,i=window.encodeURIComponent||escape,r=this._url;for(n in this._urlParams="",this._cut="",t.hasOwnProperty("name")&&this._addUrlParam("name",t.name),t)"name"!==n&&"ns_referrer"!==n&&this._addUrlParam(n,t[n]);return t.hasOwnProperty("ns_referrer")&&this._addUrlParam(this._isScorecardDomain?e.ENV_REFERRER:"ns_referrer",t.ns_referrer),r+=this._urlParams,this._cut.length?r+="ns_cut="+i(this._cut.replace(/&$/,"")):r=r.replace(/&$/,""),r},t.prototype._addUrlParam=function(e,n){var i=window.encodeURIComponent||escape,r=i(e)+"="+i(n)+"&",o=t.URL_LIMIT-8;this._url.length+this._urlParams.length+r.length<o?this._urlParams+=r:this._cut+=r},t.prototype._makeBaseUrl=function(e){for(var t=-1,n=e.charAt(e.length-1),i=0,r=e.length;i<r;i++)"?"===e.charAt(i)&&(t=i);return-1===t?e+="?":"?"!==n&&"&"!==n&&(e+="&"),e},t}.apply(t,i))||(e.exports=r)},function(e,t,n){var i;void 0===(i=function(e){"use strict";function t(){return-1}function i(e,t,n,i){this._sensors=null,this._broker=null,this._media=null,this._meta={},this._stream=null,this._env=i,this._siteCode=n[o.BARB_SITE_CODE],this._debug=n[o.BARB_DEBUG],this._traceId=null,this._isPlaying=!1,this._isEssEnabled=!1,this._isEnabled=!0,this._hasStarted=!1,n[o.ECHO_TRACE]&&this.setTraceId(n[o.ECHO_TRACE]),n[o.USE_ESS]&&(this._isEssEnabled=!0),n&&!1===n[o.ECHO_ENABLED]?this._isEnabled=!1:this._isEnabled=!0}var r=n(38),o=n(3),s=n(2),a=n(1),u=n(39);return i.prototype.start=function(){this._hasStarted||(this._hasStarted=!0)},i.prototype.enable=function(){this._isEnabled||(this._isEnabled=!0)},i.prototype.disable=function(){this._isEnabled&&(this._isEnabled=!1,this.clearMedia())},i.prototype.setTraceId=function(e){this._traceId=e},i.SpringStreams=n(40),i.prototype.addLabels=t,i.prototype.addLabel=t,i.prototype.addManagedLabel=t,i.prototype.removeLabels=t,i.prototype.removeLabel=t,i.prototype.setLoggedInToBBCId=t,i.prototype.setLoggedOutOfBBCId=t,i.prototype.setAppVersion=t,i.prototype.setCounterName=t,i.prototype.setContentLanguage=t,i.prototype.setCacheMode=t,i.prototype.clearCache=t,i.prototype.flushCache=t,i.prototype.setESSEnabled=t,i.prototype.viewEvent=t,i.prototype.errorEvent=t,i.prototype.userActionEvent=t,i.prototype.setPlayerName=function(e){this._meta[r.PLAYER_DESC]=e},i.prototype.setPlayerVersion=function(e){this._meta[r.PLAYER_VERSION]=e},i.prototype.setPlayerIsPopped=t,i.prototype.setPlayerWindowState=t,i.prototype.setPlayerVolume=t,i.prototype.setPlayerIsSubtitled=t,i.prototype.setDestination=t,i.prototype.setProducer=t,i.prototype.setBroker=function(e){return this._broker=e,this},i.prototype.setMedia=function(e){this._eventsEnabled()&&(this.clearMedia(),this._media=e.getClone())},i.prototype.setMediaLength=function(e){this._media.setLength(e)},i.prototype.liveMediaUpdate=function(e){this._media=e.getClone(),this._isPlaying&&this._startTracking()},i.prototype.liveEnrichmentFailed=function(){this._media.getServiceId()||this._media.setServiceId("no-service-id-found"),this._isPlaying&&this._startTracking()},i.prototype.avPlayEvent=function(e,t){this._eventsEnabled()&&this.isValidMedia()&&this._broker&&(this._initSensors(),this._isPlaying=!0,this._media.isLive()&&!this._media.getServiceId()?this._isEssEnabled&&(this._media.getVersionId()||this._media.getVpId())||(this._media.setServiceId("invalid-data"),this._startTracking()):this._startTracking())},i.prototype._initSensors=function(){if(null===this._sensors){if(this._sensors=new i.SpringStreams(this._siteCode),null!==this._env.getSetLocalStorageItem()&&null!==this._env.getGetLocalStorageItem()&&null!==this._env.getHttpGet()){s.info("Using custom PageContext for BARB");var e=new u("com.kma.springstreams",this._env);this._sensors.setPageContext(e)}this._debug&&(this._sensors.debug=function(e){s.info("Spring DEBUG: "+e)})}},i.prototype._startTracking=function(){if(null===this._stream){var e=this._getAttributes(),t=e[r.PID]||" ";this._stream=this._sensors.track(t,e,this._getAdaptor())}},i.prototype._getMostPrecedentIdObject=function(){var e=this._media.getVersionIdObject(),t=this._media.getEpisodeIdObject(),n=this._media.getClipIdObject(),i=this._media.getVpIdObject(),r=this._media.getServiceIdObject();return e.isValueValid()?e:t.isValueValid()?t:n.isValueValid()?n:i.isValueValid()?i:r.isValueValid()?r:null},i.prototype._getAttributes=function(){var e=this._media,t={};if(this._traceId&&(t[o.ECHO_TRACE]=this._traceId),!e.isLive()){var n=this._getMostPrecedentIdObject();null!==n&&(t[r.PID]=n.getValue())}return e.isOnDemand()?t[r.STREAM]="od":e.isDownload()?t[r.STREAM]="dwn":e.isLive()&&e.getServiceIdObject().isValueValid()&&(t[r.STREAM]="live/"+e.getServiceId()),t},i.prototype._getAdaptor=function(){var e,t=this;return e=this._media.isLive()?function(){return t._broker.getTimestamp()}:function(){return t._broker.getPosition()},{getMeta:function(e){return t._meta},getDuration:function(e){var n=0;return t._media.isLive()||(n=Math.floor(t._media.getLength()/1e3)),n},getPosition:function(t){return Math.floor(e()/1e3)}}},i.prototype._eventsEnabled=function(){return this._isEnabled&&this._hasStarted},i.prototype.avPauseEvent=function(){},i.prototype.avBufferEvent=function(){},i.prototype.avEndEvent=function(){this._eventsEnabled()&&(this._isPlaying=!1,this.isValidMedia()&&this.clearMedia())},i.prototype.avRewindEvent=function(){},i.prototype.avFastForwardEvent=function(){},i.prototype.avSeekEvent=function(){},i.prototype.avUserActionEvent=t,i.prototype.clearMedia=function(){this.isValidMedia()&&(this._stream&&this._stream.stop(),this._stream=null,this._media=null)},i.prototype.isValidMedia=function(){return null!==this._media&&this._media.avType===a.AvType.VIDEO},i.prototype.isValidLiveMedia=function(){return this.isValidMedia()&&this._media.isLive()},i.prototype.requiresLabelCleansing=function(){return!0},i}.call(t,n,t,e))||(e.exports=i)},function(e,t,n){e.exports={STREAM:"stream",PID:"cq",WIDTH:"sx",HEIGHT:"sy",PLAYER_DESC:"pl",PLAYER_VERSION:"plv"}},function(e,t,n){var i;void 0===(i=function(){"use strict";function e(e,t){this.namespace=e,this.env=t}return e.prototype.preloadImage=function(e){return this.env.getHttpGet()(e)},e.prototype.getLocalStorageItem=function(e){return this.env.getGetLocalStorageItem()(e)},e.prototype.setLocalStorageItem=function(e,t){return this.env.getSetLocalStorageItem()(e,t)},e.prototype.getWindowLocationURL=function(){return this.env.getURL()},e}.call(t,n,t,e))||(e.exports=i)},function(e,t,n){var i;void 0===(i=function(){function e(e){function t(e){for(var t=0;t<c.length;++t)try{c[t].update(e)}catch(e){i(e)}}function n(e){for(var t=0;t<c.length;++t)try{c[t].sync(e)}catch(e){i(e)}}function i(e){o("",e)}function r(e,t){return function e(t){var n,i,r,o,s,a=/[+&,;=~]/g;switch(typeof t){case"string":return a.test(t)?escape(t).replace(a,function(e){return(void 0)[e]||e}):escape(t);case"number":return isFinite(t)?t.toString():"null";case"boolean":case"null":return t.toString();case"object":if(!t)return"null";if(n=[],"number"==typeof t.length&&!t.propertyIsEnumerable("length")){for(o=t.length,i=0;i<o;i+=1)n.push(e(t[i])||"null");return","+n.join("+")+";"}for(r in t)"string"==typeof r&&"site"!=r&&(s=e(t[r]))&&n.push(e(r)+"="+s);return","+n.join("+")+";"}return""}([[e,t]])}function o(e,t){var n,i=(void 0===f.pageContext.getWindowLocationURL()?"http://":"https"==f.pageContext.getWindowLocationURL().slice(0,5)?"https://ssl-":"http://")+((n=t)&&null!=n.site?n.site:u)+"."+a+"/j0="+r(e,t)+"?lt="+(new Date).getTime().toString(36)+function(){if(!this.nlso)try{var e;if(e=f.pageContext.getLocalStorageItem("i00"))return"&c="+e;var t="0000"+Math.ceil((new Date).getTime()/1e3).toString(16)+(32768|65535*Math.random()).toString(16)+"0000";f.pageContext.setLocalStorageItem("i00",t)}catch(e){console.log("error"+e)}return""}();f.pageContext.preloadImage(i),this.debug(i)}function s(e,t,n,r){function o(e){var t;E=[e,e,Math.round((new Date).getTime()/1e3).toString(36)],t=E,l.length<u.maxstates&&l.push(t),S=!0,y=0}function s(){null!=_&&g<_.length&&(h=_[g++],u.debug("switch syncrate to "+h))}function a(e){if(S){try{c.width&&(d.sx=c.width),c.videoWidth&&(d.sx=c.videoWidth),c.height&&(d.sy=c.height),c.videoHeight&&(d.sy=c.videoHeight)}catch(e){}var t;void 0!==f.pageContext.getDeviceID&&void 0!==f.pageContext.getDeviceID()&&(d[f.pageContext.getDeviceID().id_name]=f.pageContext.getDeviceID().id_value),d.uid=v,d.pst=l;try{d.dur&&0!=d.dur||(d.dur=p.getDuration(c))}catch(e){}try{t=p.getMeta(c)}catch(e){}d.vt=Math.round((new Date).getTime()/1e3)-m,u.send(t,d),b=E[1]}S=!1}var u,c,l,d,p,h,_,g,v=Math.round(1e10*Math.random()).toString(36),m=Math.round((new Date).getTime()/1e3),E=[0,0,m.toString(36)],y=0,b=0,S=!0,A=!1;u=e,c=t,p=r||u.HTML5Adapter,d=function(e){var t=new Object;for(var n in e)t[n]=e[n];return t}(n),(l=new Array).push(E),g=0,h=e.syncrate,_=e.getSyncRates(),s(),this.update=function(e){if(!A){var t=E[1],n=t;try{n=Math.round(p.getPosition(c))}catch(e){}try{if(t==n)return void(0<=y&&++y==u.pausesync&&(S=!0));y>=u.pausesync?o(n):t<n-1?o(n):n<t?o(n):(E[1]=n,E[1]-E[0]>=h&&h<=n-b&&(S=!0,s()),y=0)}catch(e){i=!0,u.error(e)}}},this.stop=function(){A||(A=S=!0,a(null))},this.sync=a}this.version="2.0.0";var a="2cnt.net",u="default",c=new Array;this.namespace="com.kma.springstreams",this.syncrate=20,this.pausesync=6,this.maxstates=50;var l,f=this;this.pageContext,function(e){var t;if(e){for(var n in e)n==a&&(t=e[n]);t&&(i=t.syncrates)&&(l=i)}var i}({"2cnt.net":{syncrates:[3,7,10,10,10,10,10,60]}}),e&&(u=e),setInterval(t,200),setInterval(n,2e3),this.getSyncRates=function(){return l},this.track=function(e,t,n){if(void 0===f.pageContext&&(f.pageContext=f.defaultPageContext),e){var i=new s(this,e,t,n);return c.push(i),i}},this.unload=function(){for(var e=0;e<c.length;++e)try{c[e].stop()}catch(e){i(e)}},this.doUpdate=t,this.doSync=n,this.error=i,this.debug=function(e){},this.send=o,this.defaultPageContext={getLocalStorageItem:function(e){return localStorage.getItem(e)},setLocalStorageItem:function(e,t){localStorage.setItem(e,t)},preloadImage:function(e){(new Image).src=e},getWindowLocationURL:function(){return document.location.href}},this.HTML5Adapter={getMeta:function(e){return{pl:"HTML 5 Video",pv:"HTML 5",sx:screen.width,sy:screen.height}},getPosition:function(e){return e.currentTime},getDuration:function(e){return Math.round(e.duration)}},this.DefaultAdapter={getMeta:function(e){return{pl:"DEF",pv:version,sx:screen.width,sy:screen.height}},getPosition:function(e){return(new Date).getTime()/1e3},getDuration:function(e){return 0}},this.WMStreamAdapter={getMeta:function(e){return{pl:"MSWM",plv:e.versionInfo,sx:screen.width,sy:screen.height}},getPosition:function(e){return e.CurrentPosition?e.CurrentPosition:e.currentPosition?e.currentPosition:e.controls&&e.controls.currentPosition?e.controls.currentPosition:e.Controls&&e.Controls.currentPosition?e.Controls.currentPosition:0},getDuration:function(e){if(e.currentMedia){if(e.currentMedia.Duration)return e.currentMedia.Duration;if(e.currentMedia.duration)return e.currentMedia.duration}else if(e.CurrentMedia){if(e.CurrentMedia.duration)return e.CurrentMedia.duration;if(e.CurrentMedia.Duration)return e.CurrentMedia.Duration}}},this.RVStreamAdapter={getMeta:function(e){return{pl:"RV",plv:e.GetVersionInfo(),sx:screen.width,sy:screen.height}},getPosition:function(e){return e.GetPosition()/1e3},getDuration:function(e){return e.GetLength()/1e3}}}return e.prototype.setPageContext=function(e){this.pageContext=e},e}.call(t,n,t,e))||(e.exports=i)},function(e,t,n){var i;void 0===(i=function(e){"use strict";function t(){return-1}function i(e,t,n,i){if(this._tag=null,this._broker=null,this._media=null,this._mediaLength=null,this._commonMediaParams=null,this._env=i,this._pageValues={},this._customParams={},this._appName=e,this._appType=t,this._config=n,this._bbc_hid=null,this._lastHitUrl=null,this._lastPlayHitUrl=null,this._lastPage=null,this._counterName=null,this._deviceId=n[a.ECHO_DEVICE_ID]||void 0,this._deviceId||(this._deviceId=y.getCookieValueByName("idrxvr")),!this._deviceId){var r=y.getCookieValueByName("atuserid");r&&(this._deviceId=JSON.parse(decodeURIComponent(r)).val)}n[a.ECHO_TRACE]&&this.setTraceId(n[a.ECHO_TRACE]),this._isEnabled=n&&n[a.ECHO_ENABLED],n&&n[a.KEEPALIVE_DURATION]?this._keepAliveDuration=Number(n[a.KEEPALIVE_DURATION]):this._keepAliveDuration=3e5}var r=n(42),o=n(17),s=n(6),a=n(3),u=n(43),c=n(44),l=n(46),f=n(47),d=n(48),p=n(10),h=n(5),_=n(0),g=n(2),v=n(4),m=n(1),E=n(8),y=n(9),b="info",S="move",A="play",I="stop",T="live",P="ati-host.net",C="logw363.ati-host.net",O="logws1363.ati-host.net",w="api.bbc.co.uk",N="a1.api.bbc.co.uk",R="a1.api.bbc.co.uk";return i.SmartTag=r,i.prototype._getHttpGetMethod=function(){return this._env.getHttpGet()||E._defaultHttpGet},i.prototype._setHTTPGetMethod=function(e){var t=this._getHttpGetMethod(),n=this;n._tag.sendUrl=function(i,r){var o=function(t,i,o){return function(s){n._tag.emit(t,{lvl:o,details:{hit:i,event:s}}),r&&"function"==typeof r&&r(),e&&"function"==typeof e&&e()}},s=o("Tracker:Hit:Sent:Ok",i=n._addLengthToMediaHit(i),"INFO"),a=o("Tracker:Hit:Sent:Error",i,"ERROR");t(i,s,a)}},i.prototype._getDestination=function(e,t){var n;return e&&(n=p.get(e[a.DESTINATION])),!n&&t&&(n=p.get(t.destination)),n||(g.info("Destination not found, using default site"),n=p.DEFAULT),n},i.prototype._getProducer=function(e,t,n){var i;return e&&(i=h.getId(e[a.PRODUCER])),!i&&t&&(i=h.getId(t.producer)),!i&&n&&(g.info("Producer not found, using default producer"),i=n.defaultProducer),i},i.prototype.setDestination=function(e){e||(e=p.DEFAULT,g.info("Destination not found, using default site instead")),e&&(this.setProducer(e.defaultProducer),this._setDomain(e.isTest),this._tag.setConfig(s.LEVEL_1_SITE,e.id))},i.prototype.setProducer=function(e){this.addLabel(s.LEVEL_2_SITE,e)},i.prototype._getCookieDomain=function(e){return e&&e.location&&e.location.hostname&&e.location.hostname.match(/.bbc.com$/)?"bbc.com":"bbc.co.uk"},i.prototype._setDomain=function(e){e?(this._tag.setConfig("domain",P),this._tag.setConfig("collectDomain",C),this._tag.setConfig("collectDomainSSL",O)):(this._tag.setConfig("domain",w),this._tag.setConfig("collectDomain",N),this._tag.setConfig("collectDomainSSL",R))},i.prototype._setSection=function(e,t,n){t&&(e&&e[s.SECTION]?(t[s.CHAPTER_1]=v.cleanCustomVariable(e[s.SECTION]),t.customObject&&delete t.customObject[s.SECTION]):n&&n.section&&(t[s.CHAPTER_1]=v.cleanCustomVariable(n.section)))},i.prototype._createAtiOptions=function(e,t){var n;if(e)switch(n={collectDomain:t.isTest?C:N,collectDomainSSL:t.isTest?O:R,cookieDomain:this._getCookieDomain(window),domain:t.isTest?P:w,pixelPath:e[a.ATI_PIXEL_PATH]||"/hit.xiti",secure:!1!==e[a.ATI_FORCE_HTTPS],site:t.id},e[a.ATI_LOG]&&(n.log=e[a.ATI_LOG]),e[a.ATI_SSL_LOG]&&(n.logSSL=e[a.ATI_SSL_LOG]),e[a.ECHO_DEVICE_ID]&&(n.ClientSideUserId={clientSideMode:"required",userIdCookieDuration:397,userIdExpirationMode:"fixed"}),e[a.ECHO_CACHE_MODE]){case m.EchoCacheMode.ALL:n.Offline={storageMode:a.ATI_CACHE_MODE_ALWAYS};break;default:n.Offline={storageMode:a.ATI_CACHE_MODE_REQUIRED}}return n},i.prototype._createTag=function(e){return new i.SmartTag.Tracker.Tag(e)},i.prototype._initTag=function(e){if(!this._tag){var t=this._config,n=this._getDestination(t,e),i=this._createAtiOptions(t,n);this._tag=this._createTag(i),this._tag.onTrigger("Tracker:Hit:Sent:Ok",this._onHitSent.bind(this)),this._debug&&(this._tag.debug=function(e){g.info("ATI DEBUG: "+e)}),this._deviceId&&this._tag.clientSideUserId.set(this._deviceId),this._bbc_hid&&this._tag.setParam(s.HASHED_ID,this._bbc_hid,{hitType:["all"],permanent:!0});var r=this._getProducer(t,e,n);this.setProducer(r),t&&t[a.APP_CATEGORY]&&this.addLabel(s.APP_CATEGORY,t[a.APP_CATEGORY]),this._setHTTPGetMethod(),this._counterName&&this.setCounterName(this._counterName)}},i.prototype.start=function(e){this._isEnabled&&!this._hasStarted&&(this._hasStarted=!0,this._initTag(e))},i.prototype.enable=function(){this._isEnabled||(this._isEnabled=!0)},i.prototype.disable=function(){this._isEnabled&&(this._isEnabled=!1,this.clearMedia())},i.prototype._onHitSent=function(e,t){t&&t.details&&t.details.hit&&this._setLastHitUrl(t.details.hit)},i.prototype._addLengthToMediaHit=function(e){if(e&&"string"==typeof e&&e.match(/a\=(play|pause|stop|info|refresh|move)/)&&this._mediaLength){var t="m1="+Math.ceil(this._mediaLength/1e3);e=e.replace(/m1\=\d+/g,t)}return e},i.prototype._setLastHitUrl=function(e){e&&"string"==typeof e&&e.match(/a\=play/)?this._lastPlayHitUrl=e:this._lastHitUrl=e},i.prototype.setTraceId=function(e){this.addLabel(a.ECHO_TRACE,e)},i.prototype.addLabels=function(e){if("object"==typeof e)for(var t in e.bbc_identity&&(this.setBBCUser({bbc_hid:e.bbc_hid,signed_in:"1"===e.bbc_identity}),delete e.bbc_hid,delete e.bbc_identity),e)e.hasOwnProperty(t)&&this.addLabel(t,e[t])},i.prototype.addLabel=function(e,t){e===s.BBC_COUNTER_NAME||e===s.LEVEL_2_SITE?this._pageValues[e]=t:this._customParams[e]=t},i.prototype.setLoggedInToBBCId=function(e){this.setBBCUser({bbc_hid:e,signed_in:!0})},i.prototype.setLoggedOutOfBBCId=function(){this._tag&&this._tag.delParam(s.HASHED_ID),this._bbc_hid=null},i.prototype.setAppVersion=function(e){e&&this._tag&&this._tag.setParam(s.APP_VERSION,"["+e+"]",{hitType:["all"],permanent:!0})},i.prototype.setBBCUser=function(e){e.bbc_hid?this._bbc_hid=e.bbc_hid:e.signed_in&&(this._bbc_hid="unidentified-user"),this._tag&&!this._customParams.bbc_id_wait&&this._tag.setParam(s.HASHED_ID,this._bbc_hid,{hitType:["all"],permanent:!0})},i.prototype.addManagedLabel=t,i.prototype.removeLabels=function(e){for(var t=0,n=e.length;t<n;t++)this.removeLabel(e[t])},i.prototype.removeLabel=function(e){e===s.BBC_COUNTER_NAME||e===s.LEVEL_2_SITE?delete this._pageValues[e]:delete this._customParams[e]},i.prototype.setCounterName=function(e){var t={name:this._counterName=e,level2:this._pageValues[s.LEVEL_2_SITE]};this._tag&&(this._tag.page.set(t),this._lastPage=t)},i.prototype.setContentLanguage=t,i.prototype.setCacheMode=t,i.prototype.clearCache=function(){this._tag.offline.remove()},i.prototype.flushCache=function(){this._tag.offline.send()},i.prototype.setESSEnabled=t,i.prototype.viewEvent=function(e,t){if(this._eventsEnabled())return this.addLabel(s.BBC_COUNTER_NAME,e),this.counterName=e,o.get().then(function(e){var n=_.clone(this._customParams),i=c.create(this._appName,this._appType,n,t,e,document),r=_.extend(t,!0,s.ECHO_EVENT_NAME,"view"),o=_.combineObjects(n,r,!1),a=_.clone(this._pageValues);a.customObject=o,i&&(a.customVars=i),this._setSection(r,a,e),this._tag.page.send(a),this._lastPage=a}.bind(this))},i.prototype.errorEvent=t,i.prototype.userActionEvent=function(e,t,n){if(this._eventsEnabled()){var i=_.extend(n,!0,s.ECHO_EVENT_NAME,"userAct"),r=_.combineObjects(this._customParams,i,!1),o=_.clone(this._pageValues);o&&(o.actionName=t,o.actionType=e,o.user=this._bbc_hid,o[s.BBC_COUNTER_NAME]=this.counterName,o.customObject=r,Boolean(o.customObject[s.IS_BACKGROUND])?d.sendImpressionEvent(this._tag,o):d.sendClickEvent(this._tag,o))}},i.prototype.setPlayerName=function(e){this._mediaPlayerName=e},i.prototype.setPlayerVersion=function(e){this._mediaPlayerVersion=e},i.prototype.setPlayerIsPopped=t,i.prototype.setPlayerWindowState=t,i.prototype.setPlayerVolume=t,i.prototype.setPlayerIsSubtitled=t,i.prototype.setBroker=function(e){return this._broker=e,this},i.prototype.setMedia=function(e){this._eventsEnabled()&&(this._mediaPlayerName&&!e.getMediaPlayerName()&&e.setMediaPlayerName(this._mediaPlayerName),this._mediaPlayerVersion&&!e.getMediaPlayerVersion()&&e.setMediaPlayerVersion(this._mediaPlayerVersion),this.clearMedia(),this._media=e,this.addMedia(this._media))},i.prototype.setMediaLength=function(e){this._mediaLength=e,this._media.setLength(e)},i.prototype.setMediaBitrate=t,i.prototype.setMediaCodec=t,i.prototype.setMediaCDN=t,i.prototype.liveMediaUpdate=function(e,t,n){_.assert("number"==typeof t,"newPosition must be a number"),_.assert("number"==typeof n,"oldPosition must be a number"),e.setProducerById(this._media.getProducer()),this._sendMediaEvent(I),this._media=e,this.addMedia(this._media),this._sendMediaEvent(A)},i.prototype.liveEnrichmentFailed=t,i.prototype._getIdObjectValue=function(e){return null!==e&&e.isValueValid()?e.getValue():"invalid-data"},i.prototype._getMostPrecedentIdObject=function(){var e=this._media.getVersionIdObject(),t=this._media.getEpisodeIdObject(),n=this._media.getClipIdObject(),i=this._media.getVpIdObject(),r=this._media.getServiceIdObject();return e.isValueValid()?e:t.isValueValid()?t:n.isValueValid()?n:i.isValueValid()?i:r.isValueValid()?r:null},i.prototype._eventsEnabled=function(){return this._isEnabled&&this._hasStarted},i.prototype.addMedia=function(e){if(this._tag&&this._tag.richMedia){this._commonMediaParams={playerId:e.getPlayerId(),mediaLabel:this._getIdObjectValue(this._getMostPrecedentIdObject()),mediaTheme1:l.constructThemeOne(e),mediaTheme2:l.constructThemeTwo(e),mediaTheme3:l.constructThemeThree(e)};var t={mediaType:e.getAvType(),playerId:this._commonMediaParams.playerId,duration:e&&e.getLength()?Math.ceil(e.getLength()/1e3):0,mediaLabel:this._commonMediaParams.mediaLabel,mediaTheme1:this._commonMediaParams.mediaTheme1,mediaTheme2:this._commonMediaParams.mediaTheme2,mediaTheme3:this._commonMediaParams.mediaTheme3,isEmbedded:e.isEmbedded(),broadcastMode:e.getMediaConsumptionMode()===T?T:"clip",refreshDuration:{0:10,1:60}};e.getProducer()?t.mediaLevel2=e.getProducer():t.mediaLevel2=0,this._tag.richMedia.add(t)}},i.prototype._sendMediaEvent=function(e,t){this._commonMediaParams&&f.sendEvent(this._tag,this._commonMediaParams,e,t)},i.prototype.avPlayEvent=function(e,t){this._eventsEnabled()&&!this._media.getPlaying()&&(this._media.getBuffering()?this._sendMediaEvent(b,{isBuffering:!1}):(this._sendMediaEvent(A),this._addKeepAliveEventSchedule()))},i.prototype._addKeepAliveEventSchedule=function(){this._eventsEnabled()&&(this._keepAliveIntervalId||(this._keepAliveIntervalId=setInterval(this._sendKeepAliveEvent.bind(this),this._keepAliveDuration)))},i.prototype._removeKeepAliveEventSchedule=function(){this._keepAliveIntervalId&&(clearInterval(this._keepAliveIntervalId),this._keepAliveIntervalId=void 0)},i.prototype._sendKeepAliveEvent=function(){if(this._eventsEnabled()){var e={name:"keepalive",level2:this._media&&this._media.getProducer()?this._media.getProducer():0};this._tag.page.send(e),this._lastPage&&this._tag.page.set(this._lastPage)}},i.prototype.avPauseEvent=function(){this._eventsEnabled()&&this._sendMediaEvent("pause")},i.prototype.avBufferEvent=function(){this._eventsEnabled()&&this._sendMediaEvent(b,{isBuffering:!0})},i.prototype.avEndEvent=function(){this._eventsEnabled()&&(this._isMediaLoaded=!1,this._removeKeepAliveEventSchedule(),this._sendMediaEvent(I),this.isValidMedia()&&this.clearMedia())},i.prototype.avRewindEvent=function(){this._eventsEnabled()&&this._sendMediaEvent(S)},i.prototype.avFastForwardEvent=function(){this._eventsEnabled()&&this._sendMediaEvent(S)},i.prototype.avSeekEvent=function(){this._eventsEnabled()&&this._sendMediaEvent(S)},i.prototype.avUserActionEvent=function(e,t,n,i){if(this._eventsEnabled()&&"echo_hb"===e&&"echo_hb_5"===t){var r=this._addLengthToMediaHit(this._lastPlayHitUrl);u.sendRefreshEvent(this._tag,this._getHttpGetMethod(),r)}},i.prototype.clearMedia=function(){this.isValidMedia()&&(this._isMediaLoaded&&this.avEndEvent(),this._stream=null,this._media=null,this._commonMediaParams=null,this._tag.richMedia.removeAll())},i.prototype.isValidMedia=function(){return null!==this._media&&this._media.avType===m.AvType.VIDEO},i.prototype.isValidLiveMedia=function(){return this.isValidMedia()&&this._media.isLive()},i.prototype.getDeviceId=function(){return this._deviceId},i.prototype.requiresLabelCleansing=function(){return!0},i}.call(t,n,t,e))||(e.exports=i)},function(e,t,n){var i;void 0===(i=function(){return function(){var e,t={site:596068,log:"",logSSL:"",domain:"ati-host.net",collectDomain:"logw363.ati-host.net",collectDomainSSL:"logws1363.ati-host.net",secure:!0,pixelPath:"/hit.xiti",disableCookie:!1,disableStorage:!1,cookieSecure:!1,cookieDomain:"",preview:!1,plgs:["Campaigns","Clicks","ClientSideUserId","ContextVariables","Offline","OnSiteAds","Page","RichMedia"],lazyLoadingPath:"",documentLevel:"document",redirect:!1,activateCallbacks:!0,medium:"",ignoreEmptyChapterValue:!0,base64Storage:!1,sendHitWhenOptOut:!0};(e=window).Echo1200ATInternet=e.Echo1200ATInternet||{},e.Echo1200ATInternet.Tracker=e.Echo1200ATInternet.Tracker||{},e.Echo1200ATInternet.Tracker.Plugins=e.Echo1200ATInternet.Tracker.Plugins||{},window.Echo1200ATInternet.Utils=new function(){function e(e){return null===e?"":(e+"").replace(i,"")}var t=this,n=/(,)|(\[|{)|(}|])|"(?:[^"\\\r\n]|\\["\\\/bfnrt]|\\u[\da-fA-F]{4})*"\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g,i=RegExp("^[\\x20\\t\\r\\n\\f]+|((?:^|[^\\\\])(?:\\\\.)*)[\\x20\\t\\r\\n\\f]+$","g");t.isLocalStorageAvailable=function(){try{var e=localStorage;return e.setItem("__storage_test__","__storage_test__"),e.removeItem("__storage_test__"),!0}catch(e){return!1}},t.Base64={_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode:function(e){var n,i,r,o,s,a,u="",c=0;for(e=t.Base64._utf8_encode(e);c<e.length;)o=(n=e.charCodeAt(c++))>>2,n=(3&n)<<4|(i=e.charCodeAt(c++))>>4,s=(15&i)<<2|(r=e.charCodeAt(c++))>>6,a=63&r,isNaN(i)?s=a=64:isNaN(r)&&(a=64),u=u+this._keyStr.charAt(o)+this._keyStr.charAt(n)+this._keyStr.charAt(s)+this._keyStr.charAt(a);return u},decode:function(e){var n,i,r,o,s,a="",u=0;for(e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");u<e.length;)n=(n=this._keyStr.indexOf(e.charAt(u++)))<<2|(i=this._keyStr.indexOf(e.charAt(u++)))>>4,i=(15&i)<<4|(o=this._keyStr.indexOf(e.charAt(u++)))>>2,r=(3&o)<<6|(s=this._keyStr.indexOf(e.charAt(u++))),a+=String.fromCharCode(n),64!=o&&(a+=String.fromCharCode(i)),64!=s&&(a+=String.fromCharCode(r));return t.Base64._utf8_decode(a)},_utf8_encode:function(e){e=e.replace(/\r\n/g,"\n");for(var t="",n=0;n<e.length;n++){var i=e.charCodeAt(n);i<128?t+=String.fromCharCode(i):(127<i&&i<2048?t+=String.fromCharCode(i>>6|192):(t+=String.fromCharCode(i>>12|224),t+=String.fromCharCode(i>>6&63|128)),t+=String.fromCharCode(63&i|128))}return t},_utf8_decode:function(e){for(var t,n,i,r="",o=0;o<e.length;)(t=e.charCodeAt(o))<128?(r+=String.fromCharCode(t),o++):191<t&&t<224?(n=e.charCodeAt(o+1),r+=String.fromCharCode((31&t)<<6|63&n),o+=2):(n=e.charCodeAt(o+1),i=e.charCodeAt(o+2),r+=String.fromCharCode((15&t)<<12|(63&n)<<6|63&i),o+=3);return r}},t.loadScript=function(e,t){var n;t=t||function(){},(n=document.createElement("script")).type="text/javascript",n.src=e.url,n.async=!1,n.defer=!1,n.onload=n.onreadystatechange=function(e){("load"===(e=e||window.event).type||/loaded|complete/.test(n.readyState)&&(!document.documentMode||document.documentMode<9))&&(n.onload=n.onreadystatechange=n.onerror=null,t(null,e))},n.onerror=function(e){n.onload=n.onreadystatechange=n.onerror=null,t({msg:"script not loaded",event:e})};var i=document.head||document.getElementsByTagName("head")[0];i.insertBefore(n,i.lastChild)},t.cloneSimpleObject=function(e,n){if("object"!=typeof e||null===e||e instanceof Date)return e;var i,r=new e.constructor;for(i in e)e.hasOwnProperty(i)&&(void 0===i||n&&void 0===e[i]||(r[i]=t.cloneSimpleObject(e[i])));return r},t.jsonSerialize=function(e){try{return"undefined"!=typeof JSON&&JSON.stringify?JSON.stringify(e):function e(t){var n=typeof t;if("object"!==n||null===t)return"string"===n&&(t='"'+t+'"'),String(t);var i,r,o=[],s=t&&t.constructor===Array;for(i in t)t.hasOwnProperty(i)&&"function"!=(n=typeof(r=t[i]))&&"undefined"!==n&&("string"===n?r='"'+r.replace(/[^\\]"/g,'\\"')+'"':"object"===n&&null!==r&&(r=e(r)),o.push((s?"":'"'+i+'":')+String(r)));return(s?"[":"{")+String(o)+(s?"]":"}")}(e)}catch(e){return null}},t.jsonParse=function(t){try{return"undefined"!=typeof JSON&&JSON.parse?JSON.parse(t+""):(o=null,(i=e((i=t)+""))&&!e(i.replace(n,function(e,t,n,i){return r&&t&&(o=0),0===o?e:(r=n||t,o+=!i-!n,"")}))?Function("return "+i)():null)}catch(t){return null}var i,r,o},t.arrayIndexOf=function(e,t){return Array.indexOf?e.indexOf(t):function(e){if(null==this)throw new TypeError;var t=Object(this),n=t.length>>>0;if(0===n)return-1;var i=0;if(1<arguments.length&&((i=Number(arguments[1]))!=i?i=0:0!=i&&1/0!=i&&-1/0!=i&&(i=(0<i||-1)*Math.floor(Math.abs(i)))),n<=i)return-1;for(i=0<=i?i:Math.max(n-Math.abs(i),0);i<n;i++)if(i in t&&t[i]===e)return i;return-1}.apply(e,[t])},t.uuid=function(){return{v4:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)})},num:function(e){var t,n=new Date,i=function(e){return(e-=100*Math.floor(e/100))<10?"0"+e:String(e)};return i(n.getHours())+""+i(n.getMinutes())+i(n.getSeconds())+(t=e-6,Math.floor((9*Math.random()+1)*Math.pow(10,t-1)))}}},t.getObjectKeys=function(e){var t,n=[];for(t in e)e.hasOwnProperty(t)&&n.push(t);return n},t.completeFstLevelObj=function(e,t,n){if(e){if(t)for(var i in t)!t.hasOwnProperty(i)||e[i]&&!n||(e[i]=t[i])}else e=t;return e},t.isPreview=function(){return window.navigator&&"preview"===window.navigator.loadPurpose},t.isPrerender=function(e){var n,i=!1,r=["webkit","ms"];if("prerender"===document.visibilityState)n="visibilitychange";else for(var o=0;o<r.length;o++)"prerender"===document[r[o]+"VisibilityState"]&&(n=r[o]+"visibilitychange");if(void 0!==n){var s=function(i){e(i),t.removeEvtListener(document,n,s)};t.addEvtListener(document,n,s),i=!0}return i};var r=t.addEvtListener=function(e,t,n){e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent&&e.attachEvent("on"+t,n)},o=t.removeEvtListener=function(e,t,n){e.removeEventListener?e.removeEventListener(t,n,!1):e.detachEvent&&e.detachEvent("on"+t,n)};t.hashcode=function(e){var t=0;if(0===e.length)return t;for(var n=0;n<e.length;n++)t=0|(t=(t<<5)-t+e.charCodeAt(n));return t},t.setLocation=function(e){var t=e.location;e=window[e.target]||window,t&&(e.location.href=t)},t.dispatchCallbackEvent=function(e){var t;if("function"==typeof window.Event)t=new Event("ATCallbackEvent");else try{(t=document.createEvent("Event")).initEvent&&t.initEvent("ATCallbackEvent",!0,!0)}catch(e){}t&&"function"==typeof document.dispatchEvent&&(t.name=e,document.dispatchEvent(t))},t.addCallbackEvent=function(e){r(document,"ATCallbackEvent",e)},t.removeCallbackEvent=function(e){t.removeEvent("ATCallbackEvent",e)},function(){function e(e,t){var n;t=t||{bubbles:!1,cancelable:!1,detail:void 0};try{(n=document.createEvent("CustomEvent")).initCustomEvent(e,t.bubbles,t.cancelable,t.detail)}catch(e){}return n}"function"==typeof window.CustomEvent?window.ATCustomEvent=window.CustomEvent:("function"==typeof window.Event&&(e.prototype=window.Event.prototype),window.ATCustomEvent=e)}(),t.addEvent=function(e,n,i,o){t[e]=new ATCustomEvent(e,{detail:{name:n,id:i}}),r(document,e,o)},t.removeEvent=function(e,t){o(document,e,t)},t.dispatchEvent=function(e,n){t[e]=t[e]||new ATCustomEvent(e,{detail:{name:n,id:-1}});try{document.dispatchEvent(t[e])}catch(e){}},t.addOptOutEvent=function(e,n){t.addEvent("ATOptOutEvent","clientsideuserid",e,n)},t.removeOptOutEvent=function(e){t.removeEvent("ATOptOutEvent",e)},t.dispatchOptOutEvent=function(e){t.optedOut=e,t.dispatchEvent("ATOptOutEvent","clientsideuserid")},t.userOptedOut=function(){t.dispatchOptOutEvent(!0)},t.userOptedIn=function(){t.dispatchOptOutEvent(!1)},t.isOptedOut=function(){if(null===t.optedOut){var e;if(e=null,t.isLocalStorageAvailable()&&(e=localStorage.getItem("atoptedout")),null===e){var n=/(?:^| )atoptedout=([^;]+)/.exec(document.cookie);null!==n&&(e=n[1])}if(null!==e)try{e=decodeURIComponent(e)}catch(e){}e=!(!e||null===(e=t.jsonParse(e)||t.jsonParse(t.Base64.decode(e)))||!e.val),t.optedOut=e}return!!t.optedOut},t.optedOut=null,t.consentReceived=function(e){t.consent=!!e},t.consent=!0,t.isTabOpeningAction=function(e){var t=!1;return e&&(e.ctrlKey||e.shiftKey||e.metaKey||e.button&&1===e.button)&&(t=!0),t}};var n=function(e){var t=this,n=1600,i=["dz"],r=function(e,t,n,i,r,o,s){return{param:e="&"+e+"=",paramSize:e.length,str:t,strSize:t.length,truncate:n,multihit:i,separator:r||"",encode:o,last:s}},o=function(e,t){var n,i="",r=0,o=0,s=0,a=null,u=null;for(n in e)e.hasOwnProperty(n)&&(a=e[n])&&(r=t-o,a.last&&null!==u?u[n]=a:a.strSize+a.paramSize<=r?(i+=a.param+a.str,o+=a.paramSize+a.strSize):((u=u||{})[n]=a).truncate&&(s=r-a.paramSize,a.separator&&(r=a.str.substring(0,r),s=a.encode?r.lastIndexOf(encodeURIComponent(a.separator))||s:r.lastIndexOf(a.separator)||s),i+=a.param+a.str.substring(0,s),o+=a.paramSize+a.str.substring(0,s).size,u[n].str=a.str.substring(s,a.strSize),u[n].strSize=u[n].str.length));return[i,u]},s=function(t,s,a,u,c){!function(t,n){var i=e.getConfig("secure"),r="";if(t)r=t;else{r="https:"===document.location.protocol;var o=(r=i||r)?e.getConfig("logSSL"):e.getConfig("log"),s=e.getConfig("domain");r=o&&s?o+"."+s:r?e.getConfig("collectDomainSSL"):e.getConfig("collectDomain")}o=e.getConfig("baseURL"),"/"!==(s=(s=e.getConfig("pixelPath"))||"/").charAt(0)&&(s="/"+s);var a=e.getConfig("site");if((o||r&&s)&&a){var u="//";i&&(u="https:"+u),n&&n(null,(o||u+r+s)+"?s="+a)}else n&&n({message:"Config error"})}(u,function(u,l){u?c&&c(u):(n=1600-(l.length+27),function(t,s,a,u){var c,l="",f=function(t){if(t==={})return[];var s,a,u,c,f,d,p,h,_,g,v=[],m=!(s={}),E=void 0,y="";for(g in t)if(t.hasOwnProperty(g))if(p=d=f=c=!1,a=t[g].value,"boolean"==typeof(u=t[g].options||{}).encode&&(c=u.encode),"function"==typeof a&&(a=a()),a=a instanceof Array?a.join(u.separator||","):"object"==typeof a?Echo1200ATInternet.Utils.jsonSerialize(a):void 0===a?"undefined":a.toString(),c&&(a=encodeURIComponent(a)),-1<Echo1200ATInternet.Utils.arrayIndexOf(i,g)?f=!0:"boolean"==typeof u.truncate&&(f=u.truncate),"boolean"==typeof u.multihit&&(d=u.multihit),"boolean"==typeof u.last&&(p=u.last),a=r(g,a,f,d,u.separator,c,p),d)n-=a.paramSize+a.strSize,y+=a.param+a.str;else if(p)a.paramSize+a.strSize>n&&(a.str=a.str.substring(0,n-a.paramSize),a.strSize=a.str.length),h=g,_=a;else if(s[g]=a,s[g].paramSize+s[g].strSize>n&&!s[g].truncate){e.emit("Tracker:Hit:Build:Error",{lvl:"ERROR",msg:'Too long parameter: "'+s[g].param+'"',details:{value:s[g].str}}),m=!0,E=g;break}if(h&&(s[h]=_),t=(s=[s,m,E,y])[0],m=s[1],l=s[3],m&&((t=t[s=s[2]]).str=t.str.substring(0,n-t.paramSize),t.strSize=t.str.length,(m={}).mherr=r("mherr","1",!1,!1,"",!1),m[s]=t,t=m),null===(t=o(t,n))[1])v=t[0];else for(v.push(t[0]);null!==t[1];)t=o(t[1],n),v.push(t[0]);return v},d="";if(e.buffer.presentInFilters(a,"hitType")||(a=e.buffer.addInFilters(a,"hitType",["page"])),a=e.buffer.addInFilters(a,"hitType",["all"]),"object"==typeof t&&null!==t){var p,h,_,g;for(c in a=e.buffer.addInFilters(a,"permanent",!0),a=e.buffer.get(a,!0),t)if(t.hasOwnProperty(c)){if(d=t[c],p={},s&&"object"==typeof t[c]){for(g in _=h=!1,t[c])t[c].hasOwnProperty(g)&&("value"===g?h=!0:"options"===g&&"object"==typeof t[c].options&&null!==t[c].options&&(_=!0));h&&_&&(d=t[c].value,p=t[c].options)}a[c]={value:d,options:p}}d=f(a)}else for(c in d=f(a=e.buffer.get(a,!0)),a)!a.hasOwnProperty(c)||a[c].options&&a[c].options.permanent||e.buffer.del(c);u&&u(d,l)}(t,s,a,function(e,t){var n=[],i=Echo1200ATInternet.Utils.uuid().num(13);if(e instanceof Array)for(var r=1;r<=e.length;r++)n.push(l+t+"&mh="+r+"-"+e.length+"-"+i+e[r-1]);else n.push(l+t+e);c&&c(null,n)}))})};t.send=function(n,i,r,o,a){s(n,a,i,o,function(n,i){if(n)e.emit("Tracker:Hit:Build:Error",{lvl:"ERROR",msg:n.message,details:{}}),r&&r();else for(var o=0;o<i.length;o++)t.sendUrl(i[o],r)})},t.sendUrl=function(t,n){var i=function(t,i,r){return function(o){var s="";if("/"===i.charAt(0)){s=e.getConfig("secure");var a="https:"===document.location.protocol;s=s||a?"https:":"http:"}e.emit(t,{lvl:r,details:{hit:s+i,event:o}}),n&&n()}};if(Echo1200ATInternet.Utils.isOptedOut()&&!e.getConfig("sendHitWhenOptOut"))i("Tracker:Hit:Sent:NoTrack",t,"INFO")();else{var r=new Image;r.onload=i("Tracker:Hit:Sent:Ok",t,"INFO"),r.onerror=i("Tracker:Hit:Sent:Error",t,"ERROR"),r.src=t}}},i=function(){function e(e,t,n){for(var i=[],r=0;r<e.length;r++)e[r].callback(t,n),e[r].singleUse||i.push(e[r]);return i}var t={};this.on=function(e,n,i){return i=i||!1,function e(t,n,i,r){var o=t.shift();return"*"===o?(n["*"]=n["*"]||[],n["*"].push({callback:i,singleUse:r}),n["*"].length-1):0===t.length?e([o,"*"],n,i,r):(n["*"]=n["*"]||[],n[o]=n[o]||{},e(t,n[o],i,r))}(e.split(":"),t,n,i)},this.emit=function(n,i){t["*"]&&(t["*"]=e(t["*"],n,i)),function t(n,i,r,o){var s=i.shift();"*"!==s&&(0===i.length?t(n,[s,"*"],r,o):r[s]&&(r[s]["*"]=e(r[s]["*"],n,o),t(n,i,r[s],o)))}(n,n.split(":"),t,i)}},r=function(e){var t={},n={},i=0,r={},o=0,s=function(e){var n=!1;return t[e]&&(n=!0),n},a=this.unload=function(n){return s(n)?(t[n]=void 0,e.emit("Tracker:Plugin:Unload:"+n+":Ok",{lvl:"INFO"})):e.emit("Tracker:Plugin:Unload:"+n+":Error",{lvl:"ERROR",msg:"not a known plugin"}),e},u=this.load=function(r,o){return"function"==typeof o?void 0===e.getConfig.plgAllowed||0===e.getConfig.plgAllowed.length||-1<e.getConfig.plgAllowed.indexOf(r)?(t[r]=new o(e),n[r]&&s(r)&&(n[r]=!1,i--,s(r+"_ll")&&a(r+"_ll"),0===i&&e.emit("Tracker:Plugin:Lazyload:File:Complete",{lvl:"INFO",msg:"LazyLoading triggers are finished"})),e.emit("Tracker:Plugin:Load:"+r+":Ok",{lvl:"INFO"})):e.emit("Tracker:Plugin:Load:"+r+":Error",{lvl:"ERROR",msg:"Plugin not allowed",details:{}}):e.emit("Tracker:Plugin:Load:"+r+":Error",{lvl:"ERROR",msg:"not a function",details:{obj:o}}),e},c=this.isLazyloading=function(e){return e?!0===n[e]:0!==i},l=function(e){return!s(e)&&!c(e)&&s(e+"_ll")},f=function(t){n[t]=!0,i++,Echo1200ATInternet.Utils.loadScript({url:e.getConfig("lazyLoadingPath")+t+".js"})};this.isExecWaitingLazyloading=function(){return 0!==o},e.exec=this.exec=function(n,i,a,u){var d=null,p=function(e,n,i,r){n=n.split("."),s(e)&&t[e][n[0]]&&(d=1<n.length&&t[e][n[0]][n[1]]?t[e][n[0]][n[1]].apply(t[e],i):t[e][n[0]].apply(t[e],i)),r&&r(d)},h=function(t,n,i,s){var a;r[a=t]?r[a]++:r[a]=1,o++,e.onTrigger("Tracker:Plugin:Load:"+t+":Ok",function(){p(t,n,i,function(n){r[t]--,0==--o&&e.emit("Tracker:Plugin:Lazyload:Exec:Complete",{lvl:"INFO",msg:"All exec waiting for lazyloading are done"}),s&&s(n)})},!0)};l(n)?(h(n,i,a,u),f(n)):c(n)?h(n,i,a,u):p(n,i,a,u)},this.waitForDependencies=function(n,i){var r,o=function(e){for(var n={mcount:0,plugins:{}},i=0;i<e.length;i++)t.hasOwnProperty(e[i])||(n.mcount++,n.plugins[e[i]]=!0);return n}(n);if(0===o.mcount)e.emit("Tracker:Plugin:Dependencies:Loaded",{lvl:"INFO",details:{dependencies:n}}),i();else for(var s in o.plugins)o.plugins.hasOwnProperty(s)&&(e.emit("Tracker:Plugin:Dependencies:Error",{lvl:"WARNING",msg:"Missing plugin "+s}),e.onTrigger("Tracker:Plugin:Load:"+s,function(e,t){var n=e.split(":"),r=n[3];"Ok"===n[4]&&(o.plugins[r]=!1,0==--o.mcount&&i())},!0),l(r=s)&&f(r))},this.init=function(){for(var e in Echo1200ATInternet.Tracker.pluginProtos)Echo1200ATInternet.Tracker.pluginProtos.hasOwnProperty(e)&&u(e,Echo1200ATInternet.Tracker.pluginProtos[e])}},o=function(e){var t=this,n={},i=function(e){if(e.name){var n=!0;if("undefined"!=typeof configuration&&(configuration.include instanceof Array&&-1===Echo1200ATInternet.Utils.arrayIndexOf(configuration.include,e.name)&&(n=!1),configuration.exclude instanceof Array&&-1!==Echo1200ATInternet.Utils.arrayIndexOf(configuration.exclude,e.name)&&(n=!1)),Echo1200ATInternet.Callbacks&&Echo1200ATInternet.Callbacks.hasOwnProperty(e.name)){var i={};i[e.name]={function:Echo1200ATInternet.Callbacks[e.name]},n&&t.load(e.name,i[e.name].function),Echo1200ATInternet.Tracker.callbackProtos[e.name]||(Echo1200ATInternet.Tracker.callbackProtos[e.name]=i[e.name])}}};t.load=function(t,n){return"function"==typeof n?(new n(e),e.emit("Tracker:Callback:Load:"+t+":Ok",{lvl:"INFO",details:{obj:n}})):e.emit("Tracker:Callback:Load:"+t+":Error",{lvl:"ERROR",msg:"not a function",details:{obj:n}}),e},t.init=function(){if(e.getConfig("activateCallbacks")){var r=e.getConfig("callbacks");if(void 0!==r&&r.include instanceof Array)for(var o=0;o<r.include.length;o++)Echo1200ATInternet.Callbacks&&Echo1200ATInternet.Callbacks.hasOwnProperty(r.include[o])&&(n[r.include[o]]={function:Echo1200ATInternet.Callbacks[r.include[o]]},Echo1200ATInternet.Tracker.callbackProtos[r.include[o]]||(Echo1200ATInternet.Tracker.callbackProtos[r.include[o]]=n[r.include[o]]));else for(o in Echo1200ATInternet.Callbacks)Echo1200ATInternet.Callbacks.hasOwnProperty(o)&&(n[o]={function:Echo1200ATInternet.Callbacks[o]},Echo1200ATInternet.Tracker.callbackProtos[o]||(Echo1200ATInternet.Tracker.callbackProtos[o]=n[o]));if(void 0!==r&&r.exclude instanceof Array)for(o=0;o<r.exclude.length;o++)n[r.exclude[o]]&&(n[r.exclude[o]]=void 0);for(var s in n)n.hasOwnProperty(s)&&n[s]&&t.load(s,n[s].function);Echo1200ATInternet.Utils.addCallbackEvent(i)}},t.removeCallbackEvent=function(){Echo1200ATInternet.Utils.removeCallbackEvent(i)}},s=function(e){var t={};this.set=function(e,n,i){(i=i||{}).hitType=i.hitType||["page"],t[e]={value:n,options:i}};var n=function(e,t,n){return(e=window.Echo1200ATInternet.Utils.cloneSimpleObject(e[t]))&&!n?e.value:e};this.get=function(e,i){var r={};if("string"==typeof e)r=n(t,e,i);else for(var o=function e(n,i){if(!(n&&i instanceof Array&&n instanceof Array))return[];if(0===n.length)return i;var r,o=n[0],s=[],a=window.Echo1200ATInternet.Utils.cloneSimpleObject(n);a.shift();for(var u=0;u<i.length;u++)if("object"!=typeof o[1])t[i[u]]&&t[i[u]].options[o[0]]===o[1]&&s.push(i[u]);else{r=o[1].length;for(var c=0;c<r;c++)if(t[i[u]]&&t[i[u]].options[o[0]]instanceof Array&&0<=window.Echo1200ATInternet.Utils.arrayIndexOf(t[i[u]].options[o[0]],o[1][c])){s.push(i[u]);break}}return e(a,s)}(e,window.Echo1200ATInternet.Utils.getObjectKeys(t)),s=0;s<o.length;s++)r[o[s]]=n(t,o[s],i);return r},this.presentInFilters=function e(t,n){return!(!t||0===t.length)&&(t[0][0]===n||e(t.slice(1),n))},this.addInFilters=function e(t,n,i,r){if(!t||0===t.length)return r?[]:[[n,i]];var o=t[0][0],s=t[0][1];return o===n&&(s instanceof Array&&-1===window.Echo1200ATInternet.Utils.arrayIndexOf(s,i[0])&&s.push(i[0]),r=!0),[[o,s]].concat(e(t.slice(1),n,i,r))},this.del=function(e){t[e]=void 0},this.clear=function(){t={}}};Echo1200ATInternet.Tracker.Tag=function(e,a,u){a=a||{};var c=this;c.version="5.17.1";var l=window.Echo1200ATInternet.Utils.cloneSimpleObject(a);c.triggers=new i(c),c.emit=c.triggers.emit,c.onTrigger=c.triggers.on;var f,d=window.Echo1200ATInternet.Utils.cloneSimpleObject(t)||{};for(f in e)e.hasOwnProperty(f)&&(d[f]=e[f]);c.getConfig=function(e){return d[e]},c.setConfig=function(e,t,n){void 0!==d[e]&&n||(c.emit("Tracker:Config:Set:"+e,{lvl:"INFO",details:{bef:d[e],aft:t}}),d[e]=t)},c.configPlugin=function(e,t,n){for(var i in d[e]=d[e]||{},t)t.hasOwnProperty(i)&&void 0===d[e][i]&&(d[e][i]=t[i]);return n&&(n(d[e]),c.onTrigger("Tracker:Config:Set:"+e,function(e,t){n(t.details.aft)})),d[e]},c.getContext=function(e){return l[e]},c.setContext=function(e,t){c.emit("Tracker:Context:Set:"+e,{lvl:"INFO",details:{bef:l[e],aft:t}}),l[e]=t},c.delContext=function(e,t){if(c.emit("Tracker:Context:Deleted:"+e+":"+t,{lvl:"INFO",details:{key1:e,key2:t}}),e)l.hasOwnProperty(e)&&(t?l[e]&&l[e].hasOwnProperty(t)&&(l[e][t]=void 0):l[e]=void 0);else if(t)for(var n in l)l.hasOwnProperty(n)&&l[n]&&l[n].hasOwnProperty(t)&&(l[n][t]=void 0)},c.plugins=new r(c),c.buffer=new s(c),c.setParam=c.buffer.set,c.getParams=function(e){return c.buffer.get(e,!1)},c.getParam=c.buffer.get,c.delParam=c.buffer.del,c.builder=new n(c),c.sendHit=c.builder.send,c.sendUrl=c.builder.sendUrl,c.callbacks=new o(c),c.setParam("ts",function(){return(new Date).getTime()},{permanent:!0,hitType:["all"]}),(c.getConfig("disableCookie")||c.getConfig("disableStorage"))&&c.setParam("idclient","Consent-NO",{permanent:!0,hitType:["all"]}),c.getConfig("medium")&&c.setParam("medium",c.getConfig("medium"),{permanent:!0,hitType:["all"]}),c.plugins.init(),c.callbacks.init(),Echo1200ATInternet.Tracker.instances.push(c),c.emit("Tracker:Ready",{lvl:"INFO",msg:"Tracker initialized",details:{tracker:c,args:{config:e,context:a,callback:u}}}),u&&u(c)},Echo1200ATInternet.Tracker.instances=[],Echo1200ATInternet.Tracker.pluginProtos={},Echo1200ATInternet.Tracker.addPlugin=function(e,t){if(t=t||Echo1200ATInternet.Tracker.Plugins[e],!Echo1200ATInternet.Tracker.pluginProtos[e]){Echo1200ATInternet.Tracker.pluginProtos[e]=t;for(var n=0;n<Echo1200ATInternet.Tracker.instances.length;n++)Echo1200ATInternet.Tracker.instances[n].plugins.load(e,t)}},Echo1200ATInternet.Tracker.delPlugin=function(e){if(Echo1200ATInternet.Tracker.pluginProtos[e]){Echo1200ATInternet.Tracker.pluginProtos[e]=void 0;for(var t=0;t<Echo1200ATInternet.Tracker.instances.length;t++)Echo1200ATInternet.Tracker.instances[t].plugins.unload(e)}},Echo1200ATInternet.Tracker.callbackProtos={}}.call(window),function(){var e={lifetime:30,lastPersistence:!0,listEventsForExec:[],domainAttribution:!0,info:!0};window.Echo1200ATInternet.Tracker.Plugins.Campaigns=function(t){t.setConfig("visitLifetime",30,!0),t.setConfig("redirectionLifetime",30,!0);var n,i,r={};t.configPlugin("Campaigns",e,function(e){r=e});var o,s,a,u,c,l,f,d,p,h,_,g,v,m=function(){var e=function(e){var t="";return e&&(t=isNaN(e)&&-1===e.search(/\[(.*?)\]/g)?"["+e+"]":e),t},n=function(e){for(;"-"===e.charAt(e.length-1);)e=e.substring(0,e.length-1);return e};this.SponsoredLinks=function(){var i={google:"goo",yahoo:"ysm",miva:"miv",orange:"wan",msn:"msn",mirago:"mir",sklik:"skl",adfox:"adf",etarget:"etg",yandex:"yan",ebay:"eba",searchalliance:"sal",bing:"bin",naver:"nav",baidu:"bdu",qwant:"qwt"},r={search:"s",content:"c"};this.at_medium="sl",this.at_term=this.at_network=this.at_variant=this.at_creation=this.at_platform=this.at_campaign="",this.format=function(){var t=e(this.at_campaign),o=i[this.at_platform]||"",s=e(this.at_creation),a=e(this.at_variant),u=r[this.at_network]||"",c=e(this.at_term);return n("sec-"+t+"-"+o+"-"+s+"-"+a+"-"+u+"-"+c)},this.setProperties=function(e){this.at_campaign=t.utils.getQueryStringValue("at_campaign",e)||"",this.at_platform=t.utils.getQueryStringValue("at_platform",e)||"",this.at_creation=t.utils.getQueryStringValue("at_creation",e)||"",this.at_variant=t.utils.getQueryStringValue("at_variant",e)||"",this.at_network=t.utils.getQueryStringValue("at_network",e)||"",this.at_term=t.utils.getQueryStringValue("at_term",e)||""}},this.Email=function(){var i={acquisition:"erec",retention:"epr",promotion:"es"};this.at_medium="email",this.at_send_time=this.at_recipient_list=this.at_recipient_id=this.at_link=this.at_send_date=this.at_creation=this.at_campaign=this.at_emailtype="",this.format=function(){var t=(t=i[this.at_emailtype]||i.promotion)+"-"+e(this.at_campaign)+"-"+e(this.at_creation)+"-"+this.at_send_date+"-"+e(this.at_link)+"-"+this.at_recipient_id+(this.at_recipient_list?"@"+this.at_recipient_list:"")+"-"+this.at_send_time;return n(t)},this.setProperties=function(e){this.at_emailtype=t.utils.getQueryStringValue("at_emailtype",e)||"",this.at_campaign=t.utils.getQueryStringValue("at_campaign",e)||"",this.at_creation=t.utils.getQueryStringValue("at_creation",e)||"",this.at_send_date=t.utils.getQueryStringValue("at_send_date",e)||"",this.at_link=t.utils.getQueryStringValue("at_link",e)||"",this.at_recipient_id=t.utils.getQueryStringValue("at_recipient_id",e)||"",this.at_recipient_list=t.utils.getQueryStringValue("at_recipient_list",e)||"",this.at_send_time=t.utils.getQueryStringValue("at_send_time",e)||""}},this.Affiliate=function(){this.at_medium="affiliate",this.at_variant=this.at_creation=this.at_format=this.at_identifier=this.at_type=this.at_campaign="",this.format=function(){var t=e(this.at_campaign),i=e(this.at_type),r=e(this.at_identifier),o=e(this.at_format),s=e(this.at_creation),a=e(this.at_variant);return n("al-"+t+"-"+i+"-"+r+"-"+o+"-"+s+"-"+a)},this.setProperties=function(e){this.at_campaign=t.utils.getQueryStringValue("at_campaign",e)||"",this.at_type=t.utils.getQueryStringValue("at_type",e)||"",this.at_identifier=t.utils.getQueryStringValue("at_identifier",e)||"",this.at_format=t.utils.getQueryStringValue("at_format",e)||"",this.at_creation=t.utils.getQueryStringValue("at_creation",e)||"",this.at_variant=t.utils.getQueryStringValue("at_variant",e)||""}},this.Display=function(){this.at_medium="display",this.at_detail_placement=this.at_general_placement=this.at_channel=this.at_format=this.at_variant=this.at_creation=this.at_campaign="",this.format=function(){var t=e(this.at_campaign),i=e(this.at_creation),r=e(this.at_variant),o=e(this.at_format),s=e(this.at_channel),a=e(this.at_general_placement),u=e(this.at_detail_placement);return n("ad-"+t+"-"+i+"-"+r+"-"+o+"-"+s+"-"+a+"-"+u)},this.setProperties=function(e){this.at_campaign=t.utils.getQueryStringValue("at_campaign",e)||"",this.at_creation=t.utils.getQueryStringValue("at_creation",e)||"",this.at_variant=t.utils.getQueryStringValue("at_variant",e)||"",this.at_format=t.utils.getQueryStringValue("at_format",e)||"",this.at_channel=t.utils.getQueryStringValue("at_channel",e)||"",this.at_general_placement=t.utils.getQueryStringValue("at_general_placement",e)||"",this.at_detail_placement=t.utils.getQueryStringValue("at_detail_placement",e)||""}},this.Custom=function(){this.at_custom4=this.at_custom3=this.at_custom2=this.at_custom1=this.at_campaign=this.at_medium="",this.format=function(){var t="";/\d+$/.test(this.at_medium)&&(t=/\d+$/.exec(this.at_medium)[0]),t="cs"+t;var i=e(this.at_campaign),r=e(this.at_custom1),o=e(this.at_custom2),s=e(this.at_custom3),a=e(this.at_custom4);return n(t+"-"+i+"-"+r+"-"+o+"-"+s+"-"+a)},this.setProperties=function(e){this.at_medium=t.utils.getQueryStringValue("at_medium",e)||"",this.at_campaign=t.utils.getQueryStringValue("at_campaign",e)||"",this.at_custom1=t.utils.getQueryStringValue("at_custom1",e)||"",this.at_custom2=t.utils.getQueryStringValue("at_custom2",e)||"",this.at_custom3=t.utils.getQueryStringValue("at_custom3",e)||"",this.at_custom4=t.utils.getQueryStringValue("at_custom4",e)||""}},this.medium={sl:this.SponsoredLinks,email:this.Email,affiliate:this.Affiliate,display:this.Display}},E=function(e,r){var o=t.storage[i](e);return null!==o?"object"==typeof o&&!(o instanceof Array):(t.storage[n](e,{},r),!0)},y=function(e,n){var i=t.getContext("campaigns")||{};i[e]=n,t.setContext("campaigns",i)};t.plugins.waitForDependencies(["Storage","Utils"],function(){n="set"+(r.domainAttribution?"":"Private"),i="get"+(r.domainAttribution?"":"Private"),o=t.storage[i](["atredir","gopc"]),s=t.storage[i](["atredir","gopc_err"]),a=t.storage[i](["atredir","camp"]),t.storage.del(["atredir","gopc"]),t.storage.del(["atredir","gopc_err"]),t.storage.del(["atredir","camp"]),u=t.storage[i](["atsession","histo_camp"]),c=t.storage[i](["atreman","camp"]),l=t.storage[i](["atreman","date"]);var e,b=t.utils.getLocation();if(S=t.utils.getQueryStringValue("at_medium",b)){var S,A=new m;(S="function"==typeof A.medium[S]?new A.medium[S]:new A.Custom).setProperties(b),f=S.format()}else f=t.utils.getQueryStringValue("xtor",b);d=t.utils.getQueryStringValue("xtdt",b),p=t.utils.getQueryStringValue("xts",b),h=t.getContext("forcedCampaign"),_=!!t.getConfig("redirect"),v=!1,(g=!!(f&&d&&p))&&(b=(new Date).getTime()/6e4,v=!_&&p!==t.getConfig("site")||b-d<0||b-d>=t.getConfig("visitLifetime")),b=h||a||f,_&&b&&E("atredir",{path:"/",end:t.getConfig("redirectionLifetime")})&&(t.storage[n](["atredir","camp"],b),S=b=!1,h||(S=a?(b=o,s):(b=g,v)),t.storage[n](["atredir","gopc"],b),t.storage[n](["atredir","gopc_err"],S)),!_&&c&&(y("xtor",c),b=(new Date).getTime()/36e5,b=Math.floor(b-l),y("roinbh",0<=b?b:0)),_||(b=null,b=a?o?h||b:h||a:g?h:h||f||b,u&&u instanceof Array&&-1<u.indexOf(b)&&(b=null),b&&y("xto",b)),_||h||(a?s&&(e=a):v&&(e=f),e&&y("pgt",e)),_||!(e=a?h||a:h||f||null)||!h&&!a&&g&&v||!h&&a&&o&&s||((!u||u instanceof Array&&u.indexOf(e)<0)&&E("atsession",{path:"/",session:60*t.getConfig("visitLifetime")})&&t.storage[n](["atsession","histo_camp"],u&&u.push(e)?u:[e]),c&&!r.lastPersistence||!E("atreman",{path:"/",session:86400*r.lifetime})||(t.storage[n](["atreman","camp"],e),t.storage[n](["atreman","date"],(new Date).getTime()/36e5))),t.emit("Campaigns:process:done",{lvl:"INFO"})})},window.Echo1200ATInternet.Tracker.addPlugin("Campaigns")}.call(window),function(){window.Echo1200ATInternet.Tracker.Plugins.Clicks=function(e){var t=function(e){var t="";switch(e){case"exit":t="S";break;case"download":t="T";break;case"action":t="A";break;case"navigation":t="N"}return t},n=function(t){var n=t.name;return e.exec("Utils","manageChapters",[t,"chapter",3],function(e){n=e+(n||"")}),n},i=function(i){var r={p:n(i),s2:i.level2||"",click:t(i.type)||""},o=["click"],s=e.getContext("page")||{};r.pclick=n(s),r.s2click=s.level2||"";var a=!1;(s=i.customObject)&&(a=!0,s=e.processTagObject("stc",o,s),r.stc={value:Echo1200ATInternet.Utils.jsonSerialize(s),options:{hitType:o,encode:!0,separator:",",truncate:!0}}),e.sendHit(r,[["hitType",o]],i.callback,null,a)};e.click={},e.clickListener=this.clickListener={},e.click.send=this.send=function(t){var n=!0,r=null;return t&&t.hasOwnProperty("event")&&(r=t.event||window.event),!Echo1200ATInternet.Utils.isTabOpeningAction(r)&&t.elem&&(n=e.techClicks.manageClick(t.elem,r)),i(t),n},e.clickListener.send=this.clickListener.send=function(t){if(t.elem){var n="click";e.plugins.exec("TechClicks","isFormSubmit",[t.elem],function(e){n=e?"submit":"click"}),Echo1200ATInternet.Utils.addEvtListener(t.elem,n,function(n){Echo1200ATInternet.Utils.isTabOpeningAction(n)||e.techClicks.manageClick(t.elem,n),i(t)})}},e.click.set=this.set=function(i){e.dispatchSubscribe("click"),e.setContext("click",{name:n(i),level2:i.level2||"",customObject:i.customObject}),e.setParam("click",t(i.type)||"",{hitType:["click"]})},e.click.onDispatch=this.onDispatch=function(t){var i=["click"],r=e.getContext("click")||{},o=e.getContext("page")||{};e.setParam("pclick",n(o),{hitType:i}),e.setParam("s2click",o.level2||"",{hitType:i}),e.setParam("p",r.name,{hitType:i}),e.setParam("s2",r.level2,{hitType:i}),(r=r.customObject)?e.processContextObjectAndSendHit("stc",{hitType:i,encode:!0,separator:",",truncate:!0},r,t):e.manageSend(function(){e.sendHit(null,[["hitType",i]],t)}),e.setContext("click",void 0)}},window.Echo1200ATInternet.Tracker.addPlugin("Clicks")}.call(window),function(){var e={clientSideMode:"always",userIdCookieDuration:397,userIdExpirationMode:"relative",optOut:"OPT-OUT",userIdStorageName:"atuserid",optOutStorageName:"atoptedout",info:!0};window.Echo1200ATInternet.Tracker.Plugins.ClientSideUserId=function(t){var n={},i=void 0,r=null,o=!1,s=!1,a=!1,u="",c="",l=!1,f=!1,d=-1;t.configPlugin("ClientSideUserId",e,function(e){n=e});var p=function(){if("relative"===n.userIdExpirationMode||"fixed"===n.userIdExpirationMode&&null===r||l){var e=new Date;e.setTime(e.getTime()+864e5*n.userIdCookieDuration),t.storage.set(c,u,{end:e,path:"/"},f),e=t.storage.get(c,!0),Echo1200ATInternet.Utils.consent&&!l&&u!==e&&t.setParam("idclient",u+"-NO",{multihit:!0,permanent:!0,hitType:["all"]})}},h=function(){t.setParam("idclient",u,{multihit:!0,permanent:!0,hitType:["all"]}),p()},_=function(){i=t.getContext("userIdentifier"),r=t.storage.get("atuserid");var e=!1;if("required"===n.clientSideMode){var d="";window.navigator&&(d=window.navigator.userAgent),(/Safari/.test(d)&&!/Chrome/.test(d)||/iPhone|iPod|iPad/.test(d))&&(e=!0)}else"always"===n.clientSideMode&&(e=!0);o=e,(e=!1)===(d=Echo1200ATInternet.Utils.optedOut)&&(t.storage.del("atoptedout"),t.getParam("idclient")===n.optOut&&t.delParam("idclient"));var p=t.storage.get("atoptedout",!0);!0!==d&&p!==n.optOut||(e=!0),e&&(Echo1200ATInternet.Utils.optedOut=!0),s=e,a=void 0!==i,(o||s||a)&&(c=n.userIdStorageName,f=l=!1,s?(u=n.optOut,c=n.optOutStorageName,f=l=!0):t.getConfig("disableCookie")||t.getConfig("disableStorage")?(u=t.getParam("idclient"),l=!0):a?(u=i,l=!0):u=null!==r?r:Echo1200ATInternet.Utils.uuid().v4(),h())},g=function(e){e&&(e=e.detail)&&"clientsideuserid"===e.name&&e.id===d&&_()};t.plugins.waitForDependencies(["Storage"],function(){var e=Echo1200ATInternet.Utils.uuid();d=parseInt(e.num(8)),Echo1200ATInternet.Utils.removeOptOutEvent(g),Echo1200ATInternet.Utils.addOptOutEvent(d,g),_()}),t.clientSideUserId={},t.clientSideUserId.set=function(e){s||(u=e,l=!0,c=n.userIdStorageName,f=!1,h())},t.clientSideUserId.store=function(){f=l=!0,p()},t.clientSideUserId.get=function(){return u}},window.Echo1200ATInternet.Tracker.addPlugin("ClientSideUserId")}.call(window),function(){var e={domainAttribution:!0,info:!0};window.Echo1200ATInternet.Tracker.Plugins.ContextVariables=function(t){var n,i="",r=null,o="",s="",a={};t.configPlugin("ContextVariables",e,function(e){a=e}),t.setConfig("redirectionLifetime",30,!0);var u=function(e,n){return i="Utils",r=e,o=n,s=null,t.plugins.exec(i,r,o,function(e){s=e}),s;var i,r,o,s},c=function(e,n){var i=null;return t.plugins.exec("Storage",e,n,function(e){i=e}),i};t.plugins.waitForDependencies(["Storage","Utils"],function(){o="set"+(a.domainAttribution?"":"Private"),s="get"+(a.domainAttribution?"":"Private");var e,l=u("getLocation",[]);if(void 0===(i=u("getQueryStringValue",["xtref",l]))&&(i=""),n=t.getContext("forcedReferer"),t.getConfig("redirect")){var f;if(l=u("getDocumentLevel",[]),f=l=n||(null!==i?i:l?l.referrer:"acc_dir")){f={path:"/",end:t.getConfig("redirectionLifetime")};var d=c(s,["atredir"]);f=null!==d?"object"==typeof d&&!(d instanceof Array):(c(o,["atredir",{},f]),!0)}f&&c(o,[["atredir","ref"],l])}else{r=c(s,[["atredir","ref"]]),c("del",[["atredir","ref"]]),t.setParam("vtag",t.version,{permanent:!0,hitType:["all"]}),t.setParam("ptag","js",{permanent:!0,hitType:["all"]}),l="";try{l+=window.screen.width+"x"+window.screen.height+"x"+window.screen.pixelDepth+"x"+window.screen.colorDepth}catch(e){}t.setParam("r",l,{permanent:!0,hitType:["all"]}),l="",window.innerWidth?l+=window.innerWidth+"x"+window.innerHeight:document.body&&document.body.offsetWidth&&(l+=document.body.offsetWidth+"x"+document.body.offsetHeight),t.setParam("re",l,{permanent:!0,hitType:["all"]}),t.setParam("hl",function(){var e=new Date;return e.getHours()+"x"+e.getMinutes()+"x"+e.getSeconds()},{permanent:!0,hitType:["all"]}),window.navigator&&t.setParam("lng",window.navigator.language||window.navigator.userLanguage,{permanent:!0,hitType:["all"]}),l=Echo1200ATInternet.Utils.uuid().num(13),t.setParam("idp",l,{permanent:!0,hitType:["page","clickzone"]}),window.navigator&&t.setParam("jv",window.navigator.javaEnabled()?"1":"0",{hitType:["page"]}),l=u("getDocumentLevel",[]),t.setParam("ref",(e=l,(e=n||("acc_dir"===i?"":null!==i?i:"acc_dir"===r?"":r||(e?e.referrer:"")))&&(e=e.replace(/[<>]/g,"").substring(0,1600).replace(/&/g,"$")),e),{permanent:!0,last:!0,hitType:["page"]})}t.emit("ContextVariables:Ready",{lvl:"INFO"})})},window.Echo1200ATInternet.Tracker.addPlugin("ContextVariables")}.call(window),function(){var e={storageCapacity:1,timeout:500,info:!0};window.Echo1200ATInternet.Tracker.Plugins.Offline=function(t){var n={};t.configPlugin("Offline",e,function(e){n=e});var i=function(){var e=localStorage.getItem("ATOffline"),t={hits:[],length:0};if(e){var n=Echo1200ATInternet.Utils.jsonParse(e)||{hits:[]};t.hits=n.hits,t.length=e.length}return t},r=function(e){try{localStorage.setItem("ATOffline",Echo1200ATInternet.Utils.jsonSerialize(e))}catch(e){}},o=function(){return i().hits},s=function(e){if(e){e=e.split(/&ref=\.*/i);var t="&cn=offline&olt="+String(Math.floor((new Date).getTime()/1e3));e=e[0]+t+"&ref="+(e[1]||"")}return e},a=function(e){var t=i(),o=e.length,s=!0;if(4*((t.length||11)+o)>1048576*n.storageCapacity){s=!1;var a=t.hits.shift();if(void 0!==a){s=!0;for(var u=a.length;u<o;){if(void 0===(a=t.hits.shift())){s=!1;break}u+=a.length}}}s&&(t.hits.push(e),r({hits:t.hits}))},u=function(e,i){if(window.navigator&&window.navigator.onLine){var c=o();if(0<c.length){var l=c.shift();r({hits:c}),t.onTrigger("Tracker:Hit:Sent:Ok",function(){u(e,i)},!0),t.onTrigger("Tracker:Hit:Sent:Error",function(){u(e,i)},!0),t.sendUrl(l)}else if(e){var f=null;t.plugins.exec("Utils","getQueryStringValue",["a",e],function(e){f=e}),f?setTimeout(function(){t.sendUrl(e,i)},n.timeout):t.sendUrl(e,i)}}else e&&(a(s(e)),i&&i())},c=function(e){t.builder.sendUrl=function(t,n){e||window.navigator&&!window.navigator.onLine?(a(s(t)),n&&n()):u(t,n)}};t.offline={},t.offline.getLength=function(){return 4*i().length},t.offline.remove=function(){r({hits:[]})},t.offline.get=o,t.offline.send=function(){u(null,null)},t.plugins.waitForDependencies(["Utils"],function(){var e,i=Echo1200ATInternet.Utils.isLocalStorageAvailable();window.navigator&&(e=window.navigator.onLine),i&&void 0!==e&&("required"===n.storageMode?c(!1):"always"===n.storageMode&&c(!0)),t.emit("Offline:Ready",{lvl:"INFO",details:{isLocalStorageAvailable:i,storageMode:n.storageMode,isOnline:e}})})},window.Echo1200ATInternet.Tracker.addPlugin("Offline")}.call(window),function(){window.Echo1200ATInternet.Tracker.Plugins.OnSiteAds=function(e){var t="",n=function(t){var n=t.name;return e.exec("Utils","manageChapters",[t,"chapter",3],function(e){n=e+(n||"")}),n},i=function(e,t){return e[t]?e[t]:""},r=function(e,t){if(r=i(e,t)){var n=i(e,"prefix");if(r.campaignId){n=n||"PUB";var r,o=i(r,"campaignId"),s=i(r,"creation");return n+"-"+o+"-"+s+"-"+i(r,"variant")+"-"+i(r,"format")+"-"+i(r,"generalPlacement")+"-"+i(r,"detailedPlacement")+"-"+i(r,"advertiserId")+"-"+(r=i(r,"url"))}if(r.adId)return(n=n||"INT")+"-"+(o=i(r,"adId"))+"-"+(s=i(r,"format"))+"||"+(r=i(r,"productId"))}return""},o=function(t,n){var i=e.buffer.get("ati",!0)||{};i.value="string"==typeof i.value?[i.value]:i.value||[],i.options=i.options||{truncate:!0,hitType:[n,"page"]},i.value.push(t),e.buffer.set("ati",i.value,i.options)},s=function(t,n){if(t.click?e.setParam("atc",r(t,"click"),{truncate:!0,hitType:[n,"page"]}):t.impression&&e.setParam("ati",r(t,"impression"),{truncate:!0,hitType:[n,"page"]}),t.customObject){e.setContext("onsiteads",{customObject:t.customObject});var i=e.getContext("page")||{};i.customObject=Echo1200ATInternet.Utils.completeFstLevelObj(i.customObject,t.customObject,!1),e.setContext("page",i)}e.dispatchSubscribe("onSiteAds")};e.selfPromotion=this.selfPromotion={},e.publisher=this.publisher={},e.publisher.set=this.publisher.set=function(e){s(e,"publisher")},e.selfPromotion.set=this.selfPromotion.set=function(e){s(e,"selfPromotion")},e.publisher.add=this.publisher.add=function(t){o(r(t,"impression"),"publisher"),e.dispatchSubscribe("onSiteAds")},e.selfPromotion.add=this.selfPromotion.add=function(t){o(r(t,"impression"),"selfPromotion"),e.dispatchSubscribe("onSiteAds")};var a=this.advertEvent=function(t){var i=!0,o=null;if(t&&t.hasOwnProperty("event")&&(o=t.event||window.event),!Echo1200ATInternet.Utils.isTabOpeningAction(o)&&t.elem&&(i=e.techClicks.manageClick(t.elem,o)),t.click){o=["onSiteAdsClick"];var s=e.getContext("page")||{},a={};a.atc={value:r(t,"click"),options:{truncate:!0}},a.type="AT",a.patc=n(s),a.s2atc=s.level2||"",(s=t.customObject)&&(s=e.processTagObject("stc",o,s),a.stc={value:Echo1200ATInternet.Utils.jsonSerialize(s),options:{hitType:o,encode:!0,separator:",",truncate:!0}}),e.sendHit(a,[["hitType",o]],t.callback,null,!0)}else t.impression&&function(t){var n=["onSiteAdsImpression"],i={};i.ati={value:r(t,"impression"),options:{hitType:n,truncate:!0}},i.type="AT",Echo1200ATInternet.Utils.isPreview()&&e.getConfig("preview")&&(i.pvw=1);var o=t.customObject;o&&(o=e.processTagObject("stc",n,o),i.stc={value:Echo1200ATInternet.Utils.jsonSerialize(o),options:{hitType:n,encode:!0,separator:",",truncate:!0}}),e.manageSend(function(){e.sendHit(i,[["hitType",n]],t.callback,null,!0)})}(t);return i};e.publisher.send=this.publisher.send=function(e){return a(e)},e.selfPromotion.send=this.selfPromotion.send=function(e){return a(e)},e.onSiteAds={},e.onSiteAds.onDispatch=this.onDispatch=function(t){if(!e.dispatchSubscribed("page")){e.setParam("type","AT",{hitType:["publisher","selfPromotion"]});var i=e.getContext("page")||{};e.getParam("atc")&&(e.setParam("patc",n(i),{hitType:["publisher","selfPromotion"]}),e.setParam("s2atc",i.level2||"",{hitType:["publisher","selfPromotion"]})),Echo1200ATInternet.Utils.isPreview()&&e.getConfig("preview")&&e.setParam("pvw",1);var r=["publisher","selfPromotion"];(i=(e.getContext("onsiteads")||{}).customObject)?e.processContextObjectAndSendHit("stc",{hitType:r,encode:!0,separator:",",truncate:!0},i,t):e.manageSend(function(){e.sendHit(null,[["hitType",r]],t)})}},e.plugins.waitForDependencies(["Utils","TechClicks"],function(){t=document.location.href,e.plugins.exec("Utils","getQueryStringValue",["xtatc",t],function(t){t&&e.setParam("atc",t,{hitType:["publisher","selfPromotion","page"]})}),e.emit("OnSiteAds:Ready",{lvl:"INFO",details:{href:t}})})},window.Echo1200ATInternet.Tracker.addPlugin("OnSiteAds")}.call(window),function(){window.Echo1200ATInternet.Tracker.Plugins.Page=function(e){var t=["pageId","chapterLabel","update"],n=["pid","pchap","pidt"],i=["page","site"],r=["f","x"],o=function(t){var n=t.name;return e.exec("Utils","manageChapters",[t,"chapter",3],function(e){n=e+(n||"")}),n},s=function(e,t,n){return t?e=t:e||void 0===n||(e=n),e},a=function(e,t,n){t.hasOwnProperty(n)&&(e[n]=s(e[n],t[n]))},u=function(t,n,o){if(n)for(var s=0;s<i.length;s++)if(n.hasOwnProperty(i[s])&&n[i[s]])for(var a in n[i[s]])n[i[s]].hasOwnProperty(a)&&(o?t[r[s]+a]=n[i[s]][a]:e.setParam(r[s]+a,n[i[s]][a]))},c=function(i,r,o){if(r){e.exec("Utils","manageChapters",[r,"chapter",3],function(e){e&&(r.chapterLabel=e.replace(/::$/gi,""))});for(var s=0;s<n.length;s++)r.hasOwnProperty(t[s])&&(o?i[n[s]]=r[t[s]]:e.setParam(n[s],r[t[s]]))}},l=function(t,n,i){if(n&&n.keywords instanceof Array){var r=n.keywords.length;if(0<r){for(var o="",s=0;s<r;s++)o+="["+n.keywords[s]+"]"+(s<r-1?"|":"");i?t.tag=o:e.setParam("tag",o)}}},f=function(t,n,i){if(n){var r,o=function(e){return e||"0"};r=o(n.category1)+"-",r+=o(n.category2)+"-",r+=o(n.category3),i?t.ptype=r:e.setParam("ptype",r)}},d=function(t,n,i){if(n)for(var r in n)n.hasOwnProperty(r)&&void 0!==n[r]&&(i?t[r]=n[r]:e.setParam(r,n[r]))};e.customVars=this.customVars={},e.customVars.set=this.customVars.set=function(t){var n=e.getContext("page")||{},i=n.customVars;if(i){if(t)for(var r in t)t.hasOwnProperty(r)&&(i[r]=Echo1200ATInternet.Utils.completeFstLevelObj(i[r],t[r],!0))}else i=t;n.customVars=i,e.setContext("page",n)},e.dynamicLabel=this.dynamicLabel={},e.dynamicLabel.set=this.dynamicLabel.set=function(t){var n=e.getContext("page")||{};n.dynamicLabel=Echo1200ATInternet.Utils.completeFstLevelObj(n.dynamicLabel,t,!0),e.setContext("page",n)},e.tags=this.tags={},e.tags.set=this.tags.set=function(t){var n=e.getContext("page")||{};n.tags=Echo1200ATInternet.Utils.completeFstLevelObj(n.tags,t,!0),e.setContext("page",n)},e.customTreeStructure=this.customTreeStructure={},e.customTreeStructure.set=this.customTreeStructure.set=function(t){var n=e.getContext("page")||{};n.customTreeStructure=Echo1200ATInternet.Utils.completeFstLevelObj(n.customTreeStructure,t,!0),e.setContext("page",n)},e.page={},e.page.reset=this.reset=function(){e.setContext("page",void 0)},e.page.set=this.set=function(t){e.dispatchSubscribe("page");var n=e.getContext("page")||{};n.name=s(n.name,t.name,""),n.level2=s(n.level2,t.level2,""),a(n,t,"chapter1"),a(n,t,"chapter2"),a(n,t,"chapter3"),n.customObject=Echo1200ATInternet.Utils.completeFstLevelObj(n.customObject,t.customObject,!0),e.setContext("page",n)},e.page.send=this.send=function(t){var n=!0,i={p:o(t),s2:t.level2||""},r=t.customObject,p=!1;if(r){p=!0;var h=["page"];r=e.processTagObject("stc",h,r),i.stc={value:Echo1200ATInternet.Utils.jsonSerialize(r),options:{hitType:h,encode:!0,separator:",",truncate:!0}}}return(r=e.getContext("page")||{}).vrn&&(i.vrn=r.vrn,r.vrn=void 0,e.setContext("page",r)),void 0!==(h=e.getContext("InternalSearch")||{}).keyword&&(i.mc=Echo1200ATInternet.Utils.cloneSimpleObject(h.keyword),void 0!==h.resultPageNumber&&(i.np=Echo1200ATInternet.Utils.cloneSimpleObject(h.resultPageNumber)),e.setContext("InternalSearch",void 0)),Echo1200ATInternet.Utils.isPreview()&&e.getConfig("preview")&&(i.pvw=1),u(i,t.customVars,!0),c(i,t.dynamicLabel,!0),l(i,t.tags,!0),f(i,t.customTreeStructure,!0),h=e.getContext("campaigns")||{},d(i,h,!0),e.setContext("campaigns",void 0),h=null,t&&t.hasOwnProperty("event")&&(h=t.event||window.event),!Echo1200ATInternet.Utils.isTabOpeningAction(h)&&t.elem&&(n=e.techClicks.manageClick(t.elem,h)),e.manageSend(function(){e.sendHit(i,null,t.callback,null,p)}),r.name=s(r.name,t.name,""),r.level2=s(r.level2,t.level2,""),a(r,t,"chapter1"),a(r,t,"chapter2"),a(r,t,"chapter3"),e.setContext("page",r),n},e.page.onDispatch=this.onDispatch=function(t){var n=e.getContext("page")||{},i=e.getContext("InternalSearch")||{};e.setParam("p",o(n)),e.setParam("s2",n.level2||""),n.vrn&&(e.setParam("vrn",n.vrn),n.vrn=void 0,e.setContext("page",n)),void 0!==i.keyword&&(e.setParam("mc",Echo1200ATInternet.Utils.cloneSimpleObject(i.keyword)),void 0!==i.resultPageNumber&&e.setParam("np",Echo1200ATInternet.Utils.cloneSimpleObject(i.resultPageNumber)),e.setContext("InternalSearch",void 0)),Echo1200ATInternet.Utils.isPreview()&&e.getConfig("preview")&&e.setParam("pvw",1),u(null,n.customVars,!1),c(null,n.dynamicLabel,!1),l(null,n.tags,!1),f(null,n.customTreeStructure,!1),i=e.getContext("campaigns")||{},d(null,i,!1),e.setContext("campaigns",void 0);var r=["page"];(n=n.customObject)?e.processContextObjectAndSendHit("stc",{hitType:r,encode:!0,separator:",",truncate:!0},n,t):e.manageSend(function(){e.sendHit(null,[["hitType",r]],t)})}},window.Echo1200ATInternet.Tracker.addPlugin("Page")}.call(window),function(){window.Echo1200ATInternet.Tracker.Plugins.RichMedia=function(e){var t=function(e,t){var n=parseInt(e,10);return n?Math.max(n,t):0},n=new function(){this.media=function(){this.type=void 0,this.plyr=0,this.clnk=this.s2=void 0,this.p="",this.m9=this.m6=this.m5=this.m1=this.rfsh=this.buf=this.a=void 0},this.mediaAll={},this.setMediaValue=function(e,t,n,i){void 0!==i&&(this.mediaAll[e]=this.mediaAll[e]||{},this.mediaAll[e][t]=this.mediaAll[e][t]||new this.media,this.mediaAll[e][t][n]=i)},this.getMediaValue=function(e,t,n){if(this.mediaAll[e]&&this.mediaAll[e][t])return this.mediaAll[e][t][n]},this.removePlayer=function(e){this.mediaAll[e]={}},this.removeAll=function(){this.mediaAll={}}},i=new function(){this.timeout={},this.setTimeout=function(t,n,i){this.timeout[t]=this.timeout[t]||{},this.timeout[t][n]&&window.clearTimeout(this.timeout[t][n]),this.timeout[t][n]=window.setTimeout(function(){e.richMedia.send({action:"refresh",playerId:t,mediaLabel:n})},1e3*i)},this.setTimeoutObject=function(i,r,o){if(this.timeout[i]=this.timeout[i]||{},void 0===this.timeout[i][r]){var s,a=[];for(s in o)o.hasOwnProperty(s)&&a.push({delay:t(s,0),refresh:t(o[s],5)});a.sort(function(e,t){return e.delay<t.delay?-1:e.delay>t.delay?1:0}),this.timeout[i][r]={refreshTab:a,backupRefreshTab:Echo1200ATInternet.Utils.cloneSimpleObject(a),delayConfiguration:{}}}if(0<(o=this.timeout[i][r]).refreshTab.length&&(a=o.refreshTab[0].delay,s=o.refreshTab[0].refresh,"number"==typeof a&&"number"==typeof s&&0<s)){o.delayConfiguration[a]=o.delayConfiguration[a]||{};var u=void 0;void 0!==o.refreshTab[1]&&(u=o.refreshTab[1].delay);var c=0;void 0===u?c=1:"number"==typeof o.delayConfiguration[a].number?c="refresh"===n.getMediaValue(i,r,"a")?Math.max(o.delayConfiguration[a].number-1,0):o.delayConfiguration[a].number:"number"==typeof u&&(c=Math.floor(60*(u-a)/s)-1),o.delayConfiguration[a].number=c,o.delayConfiguration[a].timeout&&window.clearTimeout(o.delayConfiguration[a].timeout),0<c?o.delayConfiguration[a].timeout=window.setTimeout(function(){e.richMedia.send({action:"refresh",playerId:i,mediaLabel:r})},1e3*s):(o.delayConfiguration[a].number=void 0,o.delayConfiguration[a].timeout=void 0,o.refreshTab.splice(0,1),window.setTimeout(function(){e.richMedia.send({action:"refresh",playerId:i,mediaLabel:r})},1e3*s)),this.timeout[i][r]=o}},this.clearTimeout=function(e,t,n){this.timeout[e]=this.timeout[e]||{};var i=this.timeout[e][t];if("object"==typeof i){if("object"==typeof i.delayConfiguration){var r,o;for(o in i.delayConfiguration)i.delayConfiguration.hasOwnProperty(o)&&void 0!==(r=i.delayConfiguration[o].number)&&0<r&&(i.delayConfiguration[o].timeout&&window.clearTimeout(i.delayConfiguration[o].timeout),i.delayConfiguration[o].timeout=void 0);n&&(i.refreshTab=Echo1200ATInternet.Utils.cloneSimpleObject(i.backupRefreshTab)),this.timeout[e][t]=i}}else i&&window.clearTimeout(i)},this.removePlayer=function(t){for(var i in this.timeout[t])if(this.timeout[t].hasOwnProperty(i)){this.clearTimeout(t,i,!1);var r=n.getMediaValue(t,i,"a");void 0!==this.timeout[t][i]&&"stop"!==r&&e.richMedia.send({action:"stop",playerId:t,mediaLabel:i})}this.timeout[t]={}},this.removeAll=function(){for(var e in this.timeout)this.timeout.hasOwnProperty(e)&&this.removePlayer(e);this.timeout={}}},r=function(t,n,i){var r=t[i]||"";return e.exec("Utils","manageChapters",[t,n,3],function(e){r=e+r}),r},o=function(e,t,n,i){var r=e[t];return"boolean"==typeof e[t]&&(r=e[t]?i:n),r},s=function(e){var t=0;return/^(\-|\+)?([0-9]+)$/.test(e)&&(t=Number(e)),t},a=function(e,t,i,r,o){void 0!==(t=n.getMediaValue(t,i,r))&&(e[r]=o?encodeURIComponent(t):t)},u=function(e,t,n){void 0!==n&&(e[t]=n)};e.richMedia={},e.richMedia.add=function(e){var t=s((e=e||{}).playerId),i=r(e,"mediaTheme","mediaLabel"),a=o(e,"isEmbedded","int","ext");n.setMediaValue(t,i,"plyr",t),n.setMediaValue(t,i,"type",e.mediaType),n.setMediaValue(t,i,"s2",e.mediaLevel2),n.setMediaValue(t,i,"p",i),n.setMediaValue(t,i,"clnk",e.linkedContent||e.previousMedia),n.setMediaValue(t,i,"a",e.action),n.setMediaValue(t,i,"rfsh",e.refreshDuration),n.setMediaValue(t,i,"m1",e.duration),n.setMediaValue(t,i,"m5",a),n.setMediaValue(t,i,"m6",e.broadcastMode),n.setMediaValue(t,i,"m9",e.webdomain)},e.richMedia.send=function(c){var l=s((c=c||{}).playerId),f=r(c,"mediaTheme","mediaLabel"),d=c.action;n.setMediaValue(l,f,"a",d);var p={plyr:l,p:f};if(a(p,l,f,"a",!1),a(p,l,f,"type",!1),a(p,l,f,"s2",!1),a(p,l,f,"m1",!1),a(p,l,f,"m5",!1),a(p,l,f,"m6",!1),"play"===d||"info"===d){c=o(c,"isBuffering","0","1");var h=e.getContext("page")||{},_=r(h,"chapter","name")||void 0;h=h.level2||void 0,u(p,"buf",c),u(p,"prich",_),u(p,"s2rich",h),a(p,l,f,"clnk",!1),a(p,l,f,"m9",!0)}e.sendHit(p,[["hitType",["richmedia"]]]),"pause"===d?i.clearTimeout(l,f,!1):"stop"===d&&i.clearTimeout(l,f,!0),"play"!==d&&"refresh"!==d||("object"==typeof(d=n.getMediaValue(l,f,"rfsh"))&&null!==d?i.setTimeoutObject(l,f,d):0!==(d=t(d,5))&&i.setTimeout(l,f,d))},e.richMedia.remove=function(e){i.removePlayer(e),n.removePlayer(e)},e.richMedia.removeAll=function(){i.removeAll(),n.removeAll()}},window.Echo1200ATInternet.Tracker.addPlugin("RichMedia")}.call(window),function(){var e={info:!1};Echo1200ATInternet.Tracker.Plugins.Cookies=Echo1200ATInternet.Tracker.Plugins.Storage=function(t){var n=this,i=!1,r=null;t.configPlugin("Storage",e,function(e){"localStorage"===e.storageMode&&(i=Echo1200ATInternet.Utils.isLocalStorageAvailable())});var o={},s=function(e){return t.getConfig("base64Storage")?Echo1200ATInternet.Utils.Base64.encode(e):encodeURIComponent(e)},a=function(e){return t.getConfig("base64Storage")?Echo1200ATInternet.Utils.Base64.decode(e):decodeURIComponent(e)};r=i?new function(){var e=function(e){var t,n=+new Date,i=!1;return e.options&&(void 0!==e.options.expires?t=e.options.expires:"function"==typeof(e=e.options.end||{}).getTime?t=e.getTime():"number"==typeof e&&(t=n+1e3*e)),"number"==typeof t&&t<=n&&(i=!0),{itemToDelete:i,timestamp:t}},t=function(e){var t=!1;try{localStorage.removeItem(e),t=!0}catch(e){}return t};this.getData=function(n){var i=null;if(r=localStorage.getItem(n)){var r=a(r),o=Echo1200ATInternet.Utils.jsonParse(r);o&&"object"==typeof o?e(o).itemToDelete&&t(n)||(delete o.options.expires,i=Echo1200ATInternet.Utils.jsonSerialize(o)):i=r}return i},this.setData=function(n){var i=!1;if(n.name&&"string"==typeof n.name){var r=e(n);"number"==typeof r.timestamp&&(n.options.expires=r.timestamp);var o=Echo1200ATInternet.Utils.jsonSerialize(n);if(r.itemToDelete)i=t(n.name);else try{localStorage.setItem(n.name,s(o)),i=!0}catch(n){}}return i}}:new function(){this.getData=function(e){var t=null;return(e=RegExp("(?:^| )"+e+"=([^;]+)").exec(document.cookie)||null)&&(t=a(e[1])),t},this.setData=function(e){var n=!1;if(e.name&&"string"==typeof e.name){var i=e.options||{},r=i.end||{},o=i.domain||t.getConfig("cookieDomain"),a=i.secure||t.getConfig("cookieSecure"),u=Echo1200ATInternet.Utils.jsonSerialize(e);u=(u=(u=e.name+"="+s(u))+(i.path&&"string"==typeof i.path?";path="+i.path:""))+(o&&"string"==typeof o?";domain="+o:"")+(a&&"boolean"==typeof a?";secure":""),"function"==typeof r.toUTCString?u+=";expires="+r.toUTCString():"number"==typeof r&&(u+=";max-age="+r.toString()),document.cookie=u,this.getData(e.name)&&(n=!0)}return n}};var u=function(e,n){var i=!1;return!Echo1200ATInternet.Utils.consent&&!n||t.getConfig("disableCookie")||t.getConfig("disableStorage")||!e||"object"!=typeof e||(i=r.setData(e)),i},c=function(e,t,n){return e={name:e,val:t},n&&n.session&&"number"==typeof n.session&&(n.end=n.session),e.options=n||{},e},l=function(e){var n=null,i=null;return t.getConfig("disableCookie")||t.getConfig("disableStorage")||!e||"string"!=typeof e||(i=r.getData(e)),(e=i)&&(n=Echo1200ATInternet.Utils.jsonParse(e)),n},f=function(e,t){var n=Echo1200ATInternet.Utils.cloneSimpleObject(e);return u(n,t)?Echo1200ATInternet.Utils.jsonParse(Echo1200ATInternet.Utils.jsonSerialize(e)):null},d=function(e,t,n){return!n&&o[e]?n=o[e]:(n=l(e))&&(n.options=n.options||{},n.options.session&&"number"==typeof n.options.session&&(n.options.end=n.options.session,f(n,!1)),o[e]=n),n?t?(e=null,!n||"object"!=typeof n.val||n.val instanceof Array||void 0===n.val[t]||(e=n.val[t]),e):n.val:null},p=function(e,t,n,i,r){return t?(r=l(e))&&(!r||"object"!=typeof r.val||r.val instanceof Array?r=null:void 0===n?delete r.val[t]:r.val[t]=n,r&&(r=f(r,i))):(r=c(e,n,r=r||{}),r=f(r,i)),r?(o[e]=r).val:null},h=function(e,t){if(t)p(e,t,void 0,!1,null);else{o[e]=void 0;var n=c(e,"",{end:new Date("Thu, 01 Jan 1970 00:00:00 UTC"),path:"/"});u(n,!1)}};t.storage={},t.storage.get=n.get=function(e,t){return t=!!t,e instanceof Array?d(e[0],e[1],t):d(e,"",t)},t.storage.getPrivate=n.getPrivate=function(e,i){return e instanceof Array?e[0]+=t.getConfig("site"):e+=t.getConfig("site"),n.get(e,i)},t.storage.set=n.set=function(e,t,n,i){return e instanceof Array?p(e[0],e[1],t,i,null):p(e,null,t,i,n)},t.storage.setPrivate=n.setPrivate=function(e,i,r){return e instanceof Array?e[0]+=t.getConfig("site"):e+=t.getConfig("site"),n.set(e,i,r)},t.storage.del=n.del=function(e){e instanceof Array?h(e[0],e[1]):h(e,"")},t.storage.delPrivate=n.delPrivate=function(e){e instanceof Array?e[0]+=t.getConfig("site"):e+=t.getConfig("site"),n.del(e)},t.storage.cacheInvalidation=n.cacheInvalidation=function(){o={}}},Echo1200ATInternet.Tracker.addPlugin("Storage"),Echo1200ATInternet.Tracker.addPlugin("Cookies")}.call(window),function(){var e={clicksAutoManagementEnabled:!0,clicksAutoManagementTimeout:500,info:!1};window.Echo1200ATInternet.Tracker.Plugins.TechClicks=function(t){var n,i,r=this;t.configPlugin("TechClicks",e,function(e){n=e.clicksAutoManagementEnabled,i=e.clicksAutoManagementTimeout}),r.deactivateAutoManagement=function(){n=!1};var o=function(e){switch(e.target){case"_top":window.top.location.href=e.url;break;case"_parent":window.parent.location.href=e.url;break;default:window.location.href=e.url}},s=function(e){var t=e.timeout;e.mailto?r.timeout=setTimeout(function(){window.location.href=e.mailto},t):e.form?r.timeout=setTimeout(function(){e.form.submit()},t):e.url&&(r.timeout=setTimeout(function(){o({url:e.url,target:e.target})},t))};t.techClicks={},t.techClicks.manageClick=r.manageClick=function(e,a){var u=!0;if(n&&e){var c;e:{for(c=e;c;){if("function"==typeof c.getAttribute&&("_blank"===c.getAttribute("target")||"no"===c.getAttribute("data-atclickmanagement"))){c=!0;break e}c=c.parentNode}c=e;for(var l,f=window.location.href;c;){if((l=c.href)&&0<=l.indexOf("#")&&f.substring(0,0<=f.indexOf("#")?f.indexOf("#"):f.length)===l.substring(0,l.indexOf("#"))){c=!0;break e}c=c.parentNode}c=!1}if(f=function(e){for(;e;){if(e.href){if(0<=e.href.indexOf("mailto:"))return"mailto";if(0===e.href.indexOf("http"))return"redirection"}else if("FORM"===e.nodeName)return"form";e=e.parentNode}return""}(e),!c&&f){switch(f){case"mailto":!function(e){var n=e;for(e=n.timeoutonly;n&&!(n.href&&0<=n.href.indexOf("mailto:"));)n=n.parentNode;n&&(e||t.onTrigger("Tracker:Hit:Sent:Ok",function(){r.timeout&&clearTimeout(r.timeout),window.location.href=n.href}),s({mailto:n.href,timeout:i}))}(e),u=!1;break;case"form":!function(e){var n=e;for(e=n.timeoutonly;n&&"FORM"!==n.nodeName;)n=n.parentNode;n&&(e||t.onTrigger("Tracker:Hit:Sent:Ok",function(){r.timeout&&clearTimeout(r.timeout),n.submit()}),s({form:n,timeout:i}))}(e),u=!1;break;case"redirection":(function(e){for(var n,a="_self",u=e.timeoutonly;e;){if(e.href&&0===e.href.indexOf("http")){n=e.href.split('"').join('\\"'),a=e.target?e.target:a;break}e=e.parentNode}n&&(u||t.onTrigger("Tracker:Hit:Sent:Ok",function(){r.timeout&&clearTimeout(r.timeout),o({url:n,target:a})}),s({url:n,target:a,timeout:i}))})(e),u=!1}a&&(c=a.defaultPrevented,"function"==typeof a.isDefaultPrevented&&(c=a.isDefaultPrevented()),c||a.preventDefault&&a.preventDefault())}}return u}},window.Echo1200ATInternet.Tracker.addPlugin("TechClicks")}.call(window),function(){window.Echo1200ATInternet.Tracker.Plugins.Utils=function(e){var t=this,n={};e.utils={},e.utils.getQueryStringValue=t.getQueryStringValue=function(e,t){var i=Echo1200ATInternet.Utils.hashcode(t).toString();if(!n[i]){n[i]={};var r=RegExp("[&#?]{1}([^&=#?]*)=([^&#]*)?","g"),o=r.exec(t);if(null!==o)for(;null!==o;)n[i][o[1]]=o[2],o=r.exec(t)}return n[i].hasOwnProperty(e)?n[i][e]:null},t.manageChapters=function(t,n,i){var r=e.getConfig("ignoreEmptyChapterValue"),o="";if(t){i=parseInt(i,10);for(var s=1;s<i+1;s++){var a=t[n+s]||"";o=r?o+(a?a+"::":""):o+(t.hasOwnProperty(n+s)?a+"::":"")}}return o},t.getDocumentLevel=function(){var t=e.getConfig("documentLevel");return t.indexOf(".")<0?window[t]||document:(t=t.split("."),window[t[0]][t[1]]||document)},e.utils.getLocation=t.getLocation=function(){return t.getDocumentLevel().location.href},e.dispatchIndex={},e.dispatchStack=[],e.dispatchEventFor={};var i=0;e.dispatchSubscribe=function(t){return!e.dispatchIndex[t]&&(e.dispatchStack.push(t),e.dispatchIndex[t]=!0)},e.dispatchSubscribed=function(t){return!0===e.dispatchIndex[t]},e.addSpecificDispatchEventFor=function(t){return!e.dispatchEventFor[t]&&(e.dispatchEventFor[t]=!0,i++,!0)},e.processSpecificDispatchEventFor=function(t){e.dispatchEventFor[t]&&(e.dispatchEventFor[t]=!1,0==--i&&(e.dispatchEventFor={},e.emit("Tracker:Plugin:SpecificEvent:Exec:Complete",{lvl:"INFO"})))},e.dispatch=function(t){var n=function(){for(var n="",i=null;0<e.dispatchStack.length;)n=e.dispatchStack.pop(),0===e.dispatchStack.length&&(i=t),e[n].onDispatch(i);e.dispatchIndex={},e.delContext(void 0,"customObject")},r=function(){e.plugins.isExecWaitingLazyloading()?e.onTrigger("Tracker:Plugin:Lazyload:Exec:Complete",function(){n()},!0):n()};0===i?r():e.onTrigger("Tracker:Plugin:SpecificEvent:Exec:Complete",function(){r()},!0)},e.dispatchRedirect=function(t){var n=!0,i=null;return t&&(i=null,t&&t.hasOwnProperty("event")&&(i=t.event||window.event),!Echo1200ATInternet.Utils.isTabOpeningAction(i)&&t.elem&&(t.elem.timeoutonly=!0,e.plugins.exec("TechClicks","manageClick",[t.elem,i],function(e){n=e})),i=t.callback),e.dispatch(i),n};var r=e.manageSend=function(t){Echo1200ATInternet.Utils.isPreview()&&!e.getConfig("preview")||Echo1200ATInternet.Utils.isPrerender(function(e){t(e)})||t()};e.processTagObject=function(t,n,i){if((t=e.getParam(t,!0))&&t.options.permanent){for(var r=!1,o=t.options.hitType||[],s=0;s<o.length;s++)if(-1!==Echo1200ATInternet.Utils.arrayIndexOf(n.concat("all"),o[s])){r=!0;break}r&&(i=Echo1200ATInternet.Utils.completeFstLevelObj(t.value||{},i,!0))}return i},e.processContextObjectAndSendHit=function(t,n,i,o){var s=e.getParam(t,!0);if(s){for(var a=!1,u=s.options.hitType||[],c=0;c<u.length;c++)if(-1!==Echo1200ATInternet.Utils.arrayIndexOf(n.hitType.concat("all"),u[c])){a=!0;break}a?((a=Echo1200ATInternet.Utils.cloneSimpleObject(s)).value=Echo1200ATInternet.Utils.completeFstLevelObj(a.value||{},i,!0),e.setParam(t,a.value,{hitType:n.hitType,encode:n.encode,separator:n.separator,truncate:n.truncate}),r(function(){e.sendHit(null,[["hitType",n.hitType]],o,null,!0)}),s.options.permanent&&e.setParam(t,s.value,s.options)):(e.setParam(t,i,{hitType:n.hitType,encode:n.encode,separator:n.separator,truncate:n.truncate}),r(function(){e.sendHit(null,[["hitType",n.hitType]],o,null,!0)}),e.setParam(t,s.value,s.options))}else e.setParam(t,i,{hitType:n.hitType,encode:n.encode,separator:n.separator,truncate:n.truncate}),r(function(){e.sendHit(null,[["hitType",n.hitType]],o,null,!0)})}},window.Echo1200ATInternet.Tracker.addPlugin("Utils")}.call(window),"function"==typeof window.Echo1200ATInternet.onTrackerLoad&&window.Echo1200ATInternet.onTrackerLoad(),Echo1200ATInternet}.call(t,n,t,e))||(e.exports=i)},function(e,t,n){var i;void 0===(i=function(){"use strict";function e(){}return e.sendRefreshEvent=function(e,t,n){if(n){var i=n;t(i=(i=(i=i.replace(/a\=play/g,"a=refresh")).replace(/ts\=[0-9\.]+/g,"ts="+(new Date).getTime())).replace(/(prich\=|s2rich\=).*?(&|$)/g,""),function(){e.emit("Tracker:Hit:Sent:Ok",i)}.bind(e))}},e}.call(t,n,t,e))||(e.exports=i)},function(e,t,n){var i;void 0===(i=function(e){"use strict";var t=n(6),i=n(4),r=n(21);return{APP_NAME:void 0,APP_CATEGORY:void 0,bbc_content_id:1,bbc_app_type:2,bbc_app_name:3,language:4,bbc_url:5,bbc_referrer_url:6,bbc_content_type:7,bbc_library_version:8,page_title:9,custom_var_1:11,custom_var_2:12,custom_var_3:13,custom_var_4:14,custom_var_5:15,custom_var_6:16,custom_var_7:17,custom_var_8:18,custom_var_9:19,custom_var_10:20,create:function(e,n,i,o,s,a){var u;return this.APP_NAME=e,i&&i[t.APP_CATEGORY]?this.APP_CATEGORY=i[t.APP_CATEGORY]:this.APP_CATEGORY="",u=this._setCustomVariable(u,t.APP_TYPE,n),u=this._setCustomVariable(u,t.APP_NAME,e),u=this._setCustomVariable(u,t.LIBRARY_VERSION,r.getLibraryName()+"-"+r.getLibraryVersion()),a&&(u=this._setDocumentCustomVariables(u,a)),s&&(u=this._setOrbitCustomVariables(u,s)),this._applyLabels(u,i),this._applyLabels(u,o),u},_initialise:function(){return{site:{}}},_applyLabels:function(e,n){if(n){var i=this._getAppName(n);n[t.APP_CATEGORY]&&(e=this._setCustomVariable(e,t.APP_NAME,i),delete n[t.APP_CATEGORY]),Object.keys(n).forEach(function(r){this._isCustomVariable(r)&&(r===t.APP_NAME&&(n[r]=i),e=this._setCustomVariable(e,r,n[r]),delete n[r])},this)}},_getAppName:function(e){var n="";return e[t.APP_CATEGORY]?n=e[t.APP_CATEGORY]+"-":this.APP_CATEGORY&&(n=this.APP_CATEGORY+"-"),e[t.APP_NAME]?n+=e[t.APP_NAME]:n+=this.APP_NAME,n},_isCustomVariable:function(e){return void 0!==this[e]&&this.hasOwnProperty(e)&&"function"!=typeof this[e]},_setCustomVariable:function(e,t,n){if(n){e||(e=this._initialise());var r=i.removeSensitiveInfo(n),o=i.cleanCustomVariable(r),s=this[t];e.site[s]="["+encodeURIComponent(o)+"]"}return e},_setDocumentCustomVariables:function(e,n){return n&&(e=this._setCustomVariable(e,t.URL,n.URL),e=this._setCustomVariable(e,t.REFERRER_URL,n.referrer),e=this._setCustomVariable(e,t.PAGE_TITLE,n.title)),e},_setOrbitCustomVariables:function(e,n){return n&&(e=this._setCustomVariable(e,t.CONTENT_ID,n.contentId),e=this._setCustomVariable(e,t.CONTENT_TYPE,n.contentType),e=this._setCustomVariable(e,t.LANGUAGE,n.language),e=this._setProductCustomVariables(e,n.additionalProperties)),e},_setProductCustomVariables:function(e,n){return n&&(n.app_category&&(e=this._setCustomVariable(e,t.APP_NAME,this._getAppName(n))),n.content_language&&(e=this._setCustomVariable(e,t.LANGUAGE,n.content_language)),e=this._setCustomVariable(e,t.CUSTOM_VAR_1,n.custom_var_1),e=this._setCustomVariable(e,t.CUSTOM_VAR_2,n.custom_var_2),e=this._setCustomVariable(e,t.CUSTOM_VAR_3,n.custom_var_3),e=this._setCustomVariable(e,t.CUSTOM_VAR_4,n.custom_var_4),e=this._setCustomVariable(e,t.CUSTOM_VAR_5,n.custom_var_5),e=this._setCustomVariable(e,t.CUSTOM_VAR_6,n.custom_var_6),e=this._setCustomVariable(e,t.CUSTOM_VAR_7,n.custom_var_7),e=this._setCustomVariable(e,t.CUSTOM_VAR_8,n.custom_var_8),e=this._setCustomVariable(e,t.CUSTOM_VAR_9,n.custom_var_9),e=this._setCustomVariable(e,t.CUSTOM_VAR_10,n.custom_var_10)),e}}}.call(t,n,t,e))||(e.exports=i)},function(e){e.exports={name:"@bbc/echo-client-js",description:"Client library for sending events",version:"12.4.0",main:"dist/echo-12.4.0.js",scripts:{test:"grunt build",build:"grunt build","build:dev":"webpack --mode=development --config ./config/webpack.dev.config.js","build:dist":"webpack --mode=production --config ./config/webpack.prod.config.js"},"pre-commit":["test"],"echo-client-js":{"barb-spring-version":"2.0.0","comscore-streamsense-version":"6.2.3.180328","ati-smarttag-version":"5.17.1"},devDependencies:{ajv:"^6.6.2","es6-promise":"^4.2.5",eslint:"^5.12.0",grunt:"^1.0.4","grunt-cli":"^1.3.2","grunt-contrib-jshint":"^2.0.0","grunt-contrib-watch":"^1.1.0","grunt-jscs":"^3.0.1","grunt-karma":"^3.0.1","grunt-shell":"^2.1.0",gulp:"^4.0.0",hoek:"^6.1.2","istanbul-instrumenter-loader":"^3.0.1",jasmine:"^3.3.1","jasmine-core":"^3.3.0",jquery:"^3.4.1",karma:"^3.1.4","karma-chrome-launcher":"*","karma-coverage-istanbul-reporter":"^2.0.4","karma-firefox-launcher":"^1.1.0","karma-jasmine":"^2.0.1","karma-jasmine-html-reporter":"^1.4.0","karma-phantomjs-launcher":"^1.0.4","karma-requirejs":"^1.1.0","karma-sinon":"^1.0.5","karma-sourcemap-loader":"^0.3.7","karma-story-reporter":"^0.3.1","karma-webpack":"^3.0.0","load-grunt-tasks":"^4.0.0",lodash:"^4.17.11","phantomjs-prebuilt":"^2.1.16","pre-commit":"^1.2.2",requirejs:"^2.3.6",sinon:"^7.2.2","ssc-js":"git+ssh://git@github.com/bbc/ssc-js.git#1.2.0","time-grunt":"^2.0.0","uglifyjs-webpack-plugin":"^2.1.1",webpack:"^4.28.4","webpack-cli":"^3.2.1","webpack-merge":"^4.2.1"}}},function(e,t,n){var i;void 0===(i=function(){"use strict";var e=n(21),t={BRAND:"brand",SERIES:"series",EPISODE:"episode",CLIP:"clip",NAME:"name",TYPE:"type",PLIST:"pList"},i={RETRIEVAL_TYPE:"retType",INITATION_TYPE:"init",ADS_ENABLED:"adEna"},r={PLAYER_NAME:"mpN",PLAYER_VERSION:"mpV",TRANSPORT_MODE:"tMod",LIBRARY_NAME:"mlN",LIBRARY_VERSION:"mlV"};return{buildTheme:function(e,t,n){return e+"="+encodeURIComponent(t||"")+(n?"":"~")},constructThemeOne:function(e){var n="";return e&&(n=this.buildTheme(t.BRAND,e.getBrandId()),n+=this.buildTheme(t.SERIES,e.getSeriesId()),n+=this.buildTheme(t.EPISODE,e.getEpisodeId()),n+=this.buildTheme(t.CLIP,e.getClipId()),n+=this.buildTheme(t.NAME,e.getName()),n+=this.buildTheme(t.TYPE,e.getType()),e.isLive()?n+=this.buildTheme(t.PLIST,e.getServiceId(),!0):n+=this.buildTheme(t.PLIST,e.getPlaylist(),!0)),n},constructThemeTwo:function(e){var t="";return e&&(t=this.buildTheme(i.RETRIEVAL_TYPE,e.getRetrievalType()),t+=this.buildTheme(i.INITATION_TYPE,e.getInitiationType()),t+=this.buildTheme(i.ADS_ENABLED,e.isAdsEnabled()?"1":"0",!0)),t},constructThemeThree:function(t){var n="";return t&&(n=this.buildTheme(r.PLAYER_NAME,t.getMediaPlayerName()),n+=this.buildTheme(r.PLAYER_VERSION,t.getMediaPlayerVersion()),n+=this.buildTheme(r.TRANSPORT_MODE,t.getTransportMode()),n+=this.buildTheme(r.LIBRARY_NAME,e.getLibraryName()),n+=this.buildTheme(r.LIBRARY_VERSION,e.getLibraryVersion(),!0)),n}}}.call(t,n,t,e))||(e.exports=i)},function(e,t,n){var i;void 0===(i=function(){"use strict";function e(){}return e.sendEvent=function(e,t,n,i){if(t){var r={action:n,playerId:t.playerId,mediaLabel:t.mediaLabel,mediaTheme1:t.mediaTheme1,mediaTheme2:t.mediaTheme2,mediaTheme3:t.mediaTheme3};for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o]);e.richMedia.send(r)}},e}.call(t,n,t,e))||(e.exports=i)},function(e,t,n){var i;void 0===(i=function(){"use strict";function e(){}var t=n(6),i=n(4),r="click";return e.sendClickEvent=function(e,t){this._sendEvent(e,t,r)},e.sendImpressionEvent=function(e,t){this._sendEvent(e,t,"impression")},e._sendEvent=function(n,i,o){i||(i={customObject:{}}),i.customObject||(i.customObject={});var s={creation:this._formatEventValue(e._buildCreation(i)),campaignId:this._formatEventValue(i.customObject[t.CONTAINER]||"Page"),variant:this._formatEventValue(i.customObject[t.PERSONALISATION]||""),format:this._formatEventValue(i.customObject[t.METADATA]||""),generalPlacement:this._formatEventValue(i[t.BBC_COUNTER_NAME]||"unknown"),detailedPlacement:this._formatEventValue(i.user||""),advertiserId:this._formatEventValue(i.customObject[t.SOURCE]||""),url:this._formatEventValue(i.customObject[t.RESULT]||"unknown")},a={};o===r?a.click=s:a.impression=s,n&&n.publisher.send(a)},e._buildCreation=function(e){var t=e&&e.actionName||"unknown";return e&&e.actionType&&(t+="~"+e.actionType),t},e._formatEventValue=function(e){return"["+i.cleanCustomVariable(e)+"]"},e}.call(t,n,t,e))||(e.exports=i)}])}()}(window)},function(e,t,n){"use strict";n(33),n(0),n(135),n(33),n(0),n(135);var i=n(225),r=n(226),o=n(138),s=n(227),a=n(228);e.exports=function(e,t,n,u,c){function l(n,i,r,a){var u,c=e.cage.environment,l=e.cage.embedVars.contentType||"",f={};f[t.ConfigKeys.COMSCORE_SITE]="live"===c?"bbc":c,f[t.ConfigKeys.ATI_ENABLED]="true",u="int"===c||"test"===c?{cbbc:t.Enums.Destinations.CBBC_TEST,cbeebies:t.Enums.Destinations.CBEEBIES_TEST,games:t.Enums.Destinations.GAMES_PS_TEST,bitesize:t.Enums.Destinations.BITESIZE_TEST,food:t.Enums.Destinations.FOOD_TEST,sport:t.Enums.Destinations.SPORT_PS_TEST,default:t.Enums.Destinations.BBC}:{cbbc:t.Enums.Destinations.CBBC,cbeebies:t.Enums.Destinations.CBEEBIES,games:t.Enums.Destinations.GAMES_PS,bitesize:t.Enums.Destinations.BITESIZE,food:t.Enums.Destinations.FOOD,sport:t.Enums.Destinations.SPORT_PS,default:t.Enums.Destinations.BBC},f[t.ConfigKeys.DESTINATION]=u[n||"default"],f[t.ConfigKeys.ECHO_AUTO_START]=!1;var d=new t.EchoClient(n,t.Enums.ApplicationType.RESPONSIVE,f),p=function(){var t=Boolean(r);d.viewEvent(t?r:a),d.userActionEvent("cookies","functional",{metadata:(0,o.areFunctionalCookiesEnabled)(e)?"FUN=true":"FUN=false",personalisation:(0,s.isUserEligible)(e)?"EXP=fullscreen::true":"EXP=fullscreen::false"})};return d.addLabel(t.Enums.EchoLabelKeys.CONTENT_TYPE,l),d.addManagedLabel(t.Enums.ManagedLabels.BBC_SITE,n),i&&i.statsLabel&&d.addLabel(i.statsLabel.name,i.statsLabel.value),d.start().then(p),d}var f,d=function(t){return new function o(){function s(t){var n=e.localStorage.getItem(t);try{return JSON.parse(n)}catch(e){}}function f(){try{e.localStorage.setItem(I,JSON.stringify(C))}catch(e){}}var d=this,p=e.cage,h=p.gameId,_=p.gameContainerId,g=p.gameUrl,v=p.gameDir,m=p.embedVars,E=p.environment,y=m.statsCounterName,b=c.baseCounterName,S=c.destination,A=!1;Object.defineProperty(o.prototype,"embedVars",{get:function(){return m}}),Object.defineProperty(o.prototype,"account",{get:function(){return u}}),Object.defineProperty(o.prototype,"gameContainerId",{get:function(){return _}}),Object.defineProperty(o.prototype,"gameUrl",{get:function(){return g}}),Object.defineProperty(o.prototype,"gameDir",{get:function(){return v}}),Object.defineProperty(o.prototype,"environment",{get:function(){return E}}),Object.defineProperty(o.prototype,"shouldShowExitButton",{get:function(){return e.cage.isFullScreen}}),Object.defineProperty(o.prototype,"shouldDisplayMuteButton",{get:function(){return!0}}),Object.defineProperty(o.prototype,"shouldLongPressForSettings",{get:function(){return!1}});var I="bbc_childrens_gmi_data",T="".concat(I,"_").concat(h),P={},C={audio:!0,subtitles:!1,motion:!0};this.stats=l(S,t,y,b),(0,a.initExitTile)(e),o.prototype.getAllSettings=function(){var e=JSON.parse(JSON.stringify(C));return e.muted=!e.audio,e.gameData=P,e},o.prototype.setGameData=function(t,n){var i=function(e){A||(d.sendStatsEvent("save","game",{metadata:"SAV=".concat(e)}),A=!0)};P[t]=n;try{e.localStorage.setItem(T,JSON.stringify(P)),i("successful")}catch(e){i("unsuccessful")}},o.prototype.setMuted=function(e){C.audio=!e,f()},o.prototype.setAudio=function(e){C.audio=Boolean(e),f()},o.prototype.setSubtitles=function(e){C.subtitles=Boolean(e),f()},o.prototype.setMotion=function(e){C.motion=Boolean(e),f()},o.prototype.showPrompt=function(e){return e(),!1},o.prototype.lastStatScreen="",o.prototype.showSettings=function(e,t){var i;if(Boolean(y))i=t;else{var r=d.lastStatScreen;i=function(){d.setStatsScreen(r),t()},d.sendStatsEvent("settings","open"),d.setStatsScreen("settings")}return n({showSettings:!0,onSettingChanged:e,onSettingsClosed:i}),!0},o.prototype.setStatsScreen=function(e,t){b?(d.stats.viewEvent("".concat(b,".").concat(e,".page"),t),d.lastStatScreen=e):console.warn("stats.viewEvent not fired. baseCounterName needs to be set")},o.prototype.sendStatsEvent=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n,o=Boolean(y);"heartbeat"!==e&&"heartbeat"!==t&&(o&&r&&r!=={}&&(r=(0,i.remapLabelsToAti)(e,t,r,y)),d.stats.userActionEvent(t,e,r))},o.prototype.exit=function(){var t=e.cage.exitGameUrl;d.sendStatsEvent("exit","game",{result:e.cage.exitGameUrl}),(0,a.shouldShowExitTile)()?(0,a.showExitTile)():e.open(t,"_top")},o.prototype.debug=function(e){console.log(e)},o.prototype.gameLoaded=function(){},function(){C=s(I)||function(){var e={};return e.audio=!0,e.subtitles=!1,e.motion=!0,e}(),function(){C.audio=Boolean(C.audio),C.subtitles=Boolean(C.subtitles),C.motion=!C.hasOwnProperty("motion")||C.motion}(),P=s(T)||{}}(),o.prototype.achievements=(0,r.createAchievements)(P.achievements,this,n),o.prototype=Object.create(o.prototype)}};return{getGMI:e.getGMI||function(e){return f&&console.warn("Attempted to create multiple copies of the GMI. Only a single instance should be created"),f=d(e),n({gmi:f,gmiOptions:e}),f}}}},function(e,t,n){"use strict";n(0),n(22),n(31),n(50),n(12),n(0),Object.defineProperty(t,"__esModule",{value:!0}),t.remapLabelsToAti=void 0,n(22),n(31),n(50),n(12);var i=function(e,t,n,i){var r=n,o=[],s=function(e,t){var n=e[t];return o.push(t),n},a=function(e){return"string"==typeof e?e.replace(/[:+()]/g,"").replace(/\s/g,"_"):e},u={game_click:{play:"SCR=[".concat(s(n,"game_screen"),"]"),interaction:"INT=[".concat(s(n,"game_interaction"),"]"),character:"AVA=[".concat(s(n,"character"),"]"),customised:"CUS=[".concat(s(n,"game_customisation"),"]"),purchased:"ITM=[".concat(s(n,"game_purchase"),"]"),selected:"ITM=[".concat(s(n,"item_name"),"]"),skip:"SCR=[".concat(s(n,"game_screen"),"]"),viewed:"SUB=[".concat(s(n,"submenu"),"]")},game_level:{complete:"SCO=[".concat(s(n,"game_score"),"]~LVT=[").concat(s(n,"game_level_time"),"]~RWL=[").concat(s(n,"stars_awarded"),"]~LVR=[").concat(s(n,"game_level_result"),"]"),continue:"SCR=[".concat(s(n,"game_screen"),"]"),achievement:"ACH=[".concat(s(n,"achievement"),"]"),challenge:"CHA=[".concat(s(n,"game_challenge_name"),"]"),decision:"DEC=[".concat(s(n,"game_decision"),"]~DER=[").concat(s(n,"game_decision_result"),"]"),gameover:"POD=[".concat(s(n,"x_coordinate"),"::").concat(s(n,"y_coordinate"),"]~COD=[").concat(s(n,"obstacle"),"]"),item_collected:"ITM=[".concat(s(n,"item"),"]"),level_up:"LVL=[".concat(s(n,"game_level_name"),"]~DIF=[").concat(s(n,"game_skill_level"),"]"),obstacle:"COD=[".concat(s(n,"obstacle"),"]"),onboarding:"OBC=[".concat(s(n,"onboarding_checkpoint"),"]"),sublevel_started:"SBL=[".concat(s(n,"game_sublevel_name"),"]")},game_character:{selected:"AVA=[".concat(s(n,"character"),"]")},game_world:{selected:"WOR=[".concat(s(n,"game_world_name"),"]")}};t in u&&e in u[t]&&(r.metadata=u[t][e]),n.difficulty&&(r.metadata?r.metadata+="~DIF=[".concat(n.difficulty,"]"):r.metadata="DIF=[".concat(n.difficulty,"]")),n.levelID&&(r.source=n.levelID);var c=[];if(Object.keys(function(e,t){var n={};return Object.keys(e).forEach(function(i){t.indexOf(i)<0&&(n[i]=e[i])}),n}(n,["metadata","difficulty","source"].concat(o))).forEach(function(e){c.push("".concat(e,"-").concat(a(n[e])))}),c.length>0){var l="LAB=[".concat(c.join("::"),"]");r.metadata?r.metadata+="~".concat(l):r.metadata=l}return r.result=i,r};t.remapLabelsToAti=i},function(e,t,n){"use strict";n(0),n(136),n(15),n(137),n(32),n(33),n(0),Object.defineProperty(t,"__esModule",{value:!0}),t.createAchievements=void 0,n(136),n(15),n(137),n(32),n(33);var i=function(e,t){var n=Boolean(e&&e.maxProgress),i=Boolean(t&&e&&t.progress>=e.maxProgress);return t&&!n||n&&i},r=function(){var e,t,n,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],o=arguments.length>1?arguments[1]:void 0,s=arguments.length>2?arguments[2]:void 0,a=[],u=!1,c=function(e,t){e?Object.assign(e,t):r.push(t),o.setGameData("achievements",r)},l=function(t,n,i,r,o){t&&(s({notificationKey:n,notificationName:i,notificationDescription:r,notificationPosition:o}),u=!0,e&&e())};return{init:function(n,i,r){a=n,e=i,t=r},get:function(){return a.map(function(e){var t=r.find(function(t){return t.key===e.key});return Object.assign(e,t,{achieved:i(e,t)})})},set:function(e){var t=a.find(function(t){return e.key===t.key}),n=r.find(function(t){return t.key===e.key}),s=i(t,n),u=i(t,e);if(!t||s)return!1;if(e.progress&&!n&&o.sendStatsEvent("achievement","start",{source:e.key}),u){var f=r.filter(function(e){return void 0===e.progress||e.progress>=e.maxProgress});o.sendStatsEvent("achievement","complete",{metadata:"ACH=[".concat(f.length+1,"/").concat(a.length,"]"),source:e.key})}return c(n,e),l(u,e.key,t.name,t.description,t.position),u},show:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];e?(n=o.lastStatScreen,u=!1):(o.sendStatsEvent("achievements","close"),o.setStatsScreen(n),t&&t()),s({showAchievements:e})},get unseen(){return u}}};t.createAchievements=r},function(e,t,n){"use strict";n(0),n(0),Object.defineProperty(t,"__esModule",{value:!0}),t.isUserEligible=t.bucketUserAndSave=void 0;var i=n(138),r=function(e){if(!(Math.random()>=.5)){try{e.localStorage.setItem("bbc_childrens_experiments_fullscreen","false")}catch(e){}return!1}try{return e.localStorage.setItem("bbc_childrens_experiments_fullscreen","true"),!0}catch(e){return!1}};t.bucketUserAndSave=r;var o=function(e){if(!(0,i.areFunctionalCookiesEnabled)(e))return!1;var t=e.localStorage.getItem("bbc_childrens_experiments_fullscreen");return"true"===t||"false"!==t&&r(e)};t.isUserEligible=o},function(e,t,n){"use strict";n(0),n(15),n(32),n(31),n(49),n(0),Object.defineProperty(t,"__esModule",{value:!0}),t.shouldShowExitTile=t.initExitTile=t.hideExitTile=t.showExitTile=void 0,n(15),n(32),n(31),n(49);var i,r,o=n(229),s=n(127),a=["childrens-games-starter-pack","genie-starter-pack","genie-runner-the-dumping-ground","genie-driving-bmx","gmm269xwnq","cbbc-tier1-the-next-step-2-rhythm","cbeebies-hey-duggee-paddling-badge-race","cbeebies-numberblocks-ivor","gplxtqsfmf","cbeebies-bitz-and-bob-game","cbeebies-tier-1-waffle-explore","guardians-mathematica","crystal-explorers","galaxy-pugs","karate-cats-2","genie-christmas-2020"],u={test:"https://www.test.bbc.co.uk/childrens/assets/games/childrens-games-exit-tile-test/latest/index.html?",live:"https://www.bbc.co.uk/childrens/assets/games/childrens-games-exit-tile/latest/index.html?"},c=function(e){var t=Object.keys(e).filter(function(t){return e[t]}).map(function(t){return"".concat(t,"=").concat(encodeURIComponent(e[t]))}).join("&");return"".concat(u[r]).concat(t)},l=function(){"exit-tile__container--hidden"===i.className&&(0,o.exitTileTrap)(i),i.className="exit-tile__container--visible"};t.showExitTile=l;var f=function(){i.className="exit-tile__container--hidden"};t.hideExitTile=f;var d=function(e){var t="test"===e.cage.environment?"https://www.test.bbc.co.uk":"https://www.bbc.co.uk";r=e.cage.environment,i=document.getElementById("cage-exit-tile");var n=document.createElement("iframe");n.className="exit-tile__frame",n.frameborder="0",n.src=c({gameid:window.cage.gameId,exitGameUrl:e.cage.exitGameUrl}),i.appendChild(n),window.addEventListener("message",function(e){e.origin===t&&"hideExitTile"===e.data&&f()},!1)};t.initExitTile=d;var p=function(){return a.includes(window.cage.gameId)&&!(0,s.getBrowser)().isIe11};t.shouldShowExitTile=p},function(e,t,n){"use strict";n(0),n(22),n(0),Object.defineProperty(t,"__esModule",{value:!0}),t.exitTileTrap=void 0,n(22);var i=n(88),r=function(e){e.setAttribute("aria-modal","true"),e.setAttribute("role","dialog");var t=(0,i.getStates)(e);(0,i.setStates)(e),new MutationObserver(function(n,r){"exit-tile__container--hidden"===e.className&&(r.disconnect(),t.forEach(i.restoreState))}).observe(e,{attributes:!0})};t.exitTileTrap=r}]);;
});</script> 
   <script>Morph.toInit.payloads.push(function() { Morph.setPayload('/data/bbc-morph-games-data/baseUrl/%2Fchildrens%2Fassets%2Fgames/game/cbeebies-ivor-graces-amazing-machines-minigames/project/childrensgames/version/1.3.4', {"meta":{"responseCode":200,"errorMessage":null,"headers":{"x-morph-privacy-level":"public","content-type":"application\/json"}},"body":{"id":"cbeebies-ivor-graces-amazing-machines-minigames","title":"Speedy's Epic Journey","product":"cbeebies","brand":"Grace's Amazing Machines","description":"","url":"\/childrens\/assets\/games\/cbeebies-ivor-graces-amazing-machines\/48\/main","gameDir":"\/childrens\/assets\/games\/cbeebies-ivor-graces-amazing-machines\/48\/","destination":"cbeebies","baseCounterName":"keepalive.cbeebies.games.gracesamazingmachines.speedysepicjourney","embedVars":{"configUrl":"skins\/gracesamazingmachines\/menu.json"},"heroImagePid":"p0bxyyhk","responsive":true,"isLegacyGame":false,"width":"","height":"","environment":"live"}}); });</script> 
   <script>Morph.toInit.payloads.push(function() { Morph.setPayload('/path/%3Fcontext%3Dgames/service/bbcid-config-couk/version/undefined', {"body":"{\"accessTokenUrl\":\"https:\/\/account.bbc.com\/external\/v3\/user\/access_token\",\"announce_url\":\"https:\/\/session.bbc.co.uk\/session\/announce\",\"bbcid-v5\":\"GREEN\",\"child_parent_linking_url\":\"https:\/\/account.bbc.com\/account\/settings\/linked-accounts\",\"id-availability\":\"GREEN\",\"identity\":{\"accessTokenCookieName\":\"ckns_atkn\",\"cookieAgeDays\":730,\"idSignedInCookieName\":\"ckns_id\"},\"identityTokenExchangeUrl\":\"https:\/\/session.bbc.co.uk\/session\/token-exchange\",\"nma\":{\"refresh_url\":\"https:\/\/session.bbc.co.uk\/session\/tokens\",\"register_url\":\"https:\/\/session.bbc.co.uk\/session?action=register&context=games\",\"signin_url\":\"https:\/\/session.bbc.co.uk\/session?context=games\",\"signout_url\":\"https:\/\/session.bbc.co.uk\/session\/nma-signout\",\"user_details_url\":\"https:\/\/session.bbc.co.uk\/session\/user-details\"},\"experiments\":{\"usi\":\"17665700397\",\"usiApiName\":\"8435701282_url_targeting_for_accxp_usi_msi\"},\"federated\":{\"authoriseUrl\":\"https:\/\/account.bbc.com\/signin\/federated\/authorise?context=games\",\"callbackUrl\":\"https:\/\/session.bbc.co.uk\/session\/callback\/federated\",\"signInUrl\":\"https:\/\/account.bbc.com\/signin\/federated?context=games\",\"registerUrl\":\"https:\/\/account.bbc.com\/register\/federated?context=games\"},\"features\":{\"showUsiModal\":false,\"clientAnalytics\":false,\"createProfileCta\":true,\"webCoreUsiModal\":true},\"privacy_settings_url\":\"https:\/\/account.bbc.com\/account\/settings\/privacy\",\"profiles\":{\"list\":\"https:\/\/session.bbc.co.uk\/session\/profiles\",\"create\":\"https:\/\/account.bbc.com\/register\/details\/profile?context=games\",\"picker\":\"https:\/\/session.bbc.com\/session\/tokens\/profile-admin?switchTld=0&context=games&ptrt=https%3A%2F%2Faccount.bbc.com%2Faccount%2Fprofile-picker\"},\"register_url\":\"https:\/\/session.bbc.co.uk\/session?action=register&context=games\",\"settings_url\":\"https:\/\/account.bbc.com\/account\/settings?context=games\",\"signin_url\":\"https:\/\/session.bbc.co.uk\/session?context=games\",\"signout_url\":\"https:\/\/account.bbc.com\/signout?context=games\",\"status_url\":\"https:\/\/account.bbc.com\/account?context=games\",\"tokenImprovement\":\"GREEN\",\"tokenRefresh\":true,\"tokenRefresh_signout_url\":\"https:\/\/session.bbc.co.uk\/session\/signout?switchTld=true&context=games&ptrt=https%3A%2F%2Faccount.bbc.com%2Fsignout\",\"tokenRefresh_url\":\"https:\/\/session.bbc.co.uk\/session?ptrt=https%3A%2F%2Fsession.bbc.co.uk%2Fsession%2Fannounce\",\"usiDestinationWhitelist\":[\"homepage_ps\",\"news_ps\",\"sport_ps\",\"account\"],\"translations\":{\"statusbarSignedIn\":\"Your account\",\"statusbarSignedOut\":\"Sign in\"},\"unavailable_url\":\"https:\/\/account.bbc.com\/account\/error?context=games\"}","meta":{"responseCode":200,"errorMessage":null,"headers":{"content-type":"application\/json; charset=utf-8","content-length":"772","server":"Apache","report-to":"{\"group\":\"default\",\"max_age\":3600,\"endpoints\":[{\"url\":\"https:\/\/europe-west1-bbc-otg-traf-mgr-bq-prod-4591.cloudfunctions.net\/report-endpoint\"}],\"include_subdomains\":true}","nel":"{\"report_to\":\"default\",\"max_age\":604800,\"include_subdomains\":true,\"failure_fraction\":0.01}","cache-control":"public, max-age=30","x-frame-options":"DENY","x-content-type-options":"nosniff","x-xss-protection":"0","x-permitted-cross-domain-policies":"none","content-security-policy":"base-uri 'self';frame-src https:\/\/www.bbc.com;child-src edigitalsurvey.com https:\/\/www.bbc.com;connect-src 'self' *.api.bbci.co.uk *.bbc.co.uk www.bbc.com logx.optimizely.com api.pwnedpasswords.com;default-src 'none';font-src 'self' *.files.bbci.co.uk;form-action 'self' http:\/\/bbc.co.uk https:\/\/bbc.co.uk http:\/\/*.bbc.co.uk https:\/\/*.bbc.co.uk http:\/\/bbc.com https:\/\/bbc.com http:\/\/*.bbc.com https:\/\/*.bbc.com;img-src 'self' data: *.files.bbci.co.uk ichef.bbci.co.uk *.bbci.co.uk *.ati-host.net *.bbc.co.uk;report-to default;script-src 'self' 'unsafe-eval' 'unsafe-inline' *.files.bbci.co.uk *.bbci.co.uk *.bbc.co.uk cdn.optimizely.com optimizely.s3.amazonaws.com;style-src 'self' 'unsafe-inline' *.files.bbci.co.uk *.bbci.co.uk *.bbc.co.uk","strict-transport-security":"max-age=31536000","etag":"W\/\"9df-n6zHOWD17JQxN\/tlx34OHGQgUvM-gzip\"","content-encoding":"gzip","connection":"keep-alive","vary":"Accept-Encoding"}}}); });</script> 
   <script>Morph.toInit.payloads.push(function() { Morph.setPayload('/data/bbc-morph-id-availability-data/version/2.1.0', {"meta":{"responseCode":200,"errorMessage":null,"headers":{"x-morph-privacy-level":"public","content-type":"application\/json"}},"body":{"isAvailable":true}}); });</script> 
   <script>Morph.toInit.registers.push(function() { Morph.register({"view":"bbc-morph-childrens-games-view","appName":"cbeebies","embedUrl":"https:\/\/www.bbc.co.uk\/cbeebies\/embed\/game\/","game":"cbeebies-ivor-graces-amazing-machines-minigames","showCallToAction":"true","version":"9.9.6","_mrrVersion":"2.2.1"},'u037955625307000807'); });</script> 
   <script>Morph.init = function() { if (!Morph.initCalled) { Morph.markPerformance('morph-init'); Morph.initCalled = true; requirejs.config({ paths: { 'morph/react' : '//m.files.bbci.co.uk/modules/vendor-react/1.0.0/react.min', 'morph/react-dom' : '//m.files.bbci.co.uk/modules/vendor-react-dom/1.0.0/react-dom.min', 'morph/es5-shim' : '//m.files.bbci.co.uk/modules/vendor-es5-shim/4.1.13/es5-shim.min', 'morph/es5-sham' : '//m.files.bbci.co.uk/modules/vendor-es5-shim/4.1.13/es5-sham.min', 'morph/module/morph': '//m.files.bbci.co.uk/modules/morph/5.3.1/bundle', 'live-push' : '//m.files.bbci.co.uk/modules/morph-push-proxy-client/1.0.13/push-proxy' }, shim: { 'morph/react': { deps: ['morph/es5-shim', 'morph/es5-sham'] }, 'morph/es5-sham': { deps: ['morph/es5-shim'] } }, map: { 'morph/react-dom': { 'react': 'morph/react' } } }); } function attempt(fn) { fn(); } requirejs(['morph/react', 'morph/react-dom', 'morph/module/morph'], function(React, ReactDOM) { window.React = React; window.ReactDOM = ReactDOM; if (!Morph.toInitsCalled) { Morph.markPerformance('morph-init-core-deps-complete'); Morph.toInitsCalled = true; } Morph.toInit.bundles.forEach(attempt); Morph.toInit.bundles = []; Morph.markPerformance('morph-init-bundles-complete'); Morph.toInit.payloads.forEach(attempt); Morph.toInit.payloads = []; Morph.markPerformance('morph-init-payloads-complete'); Morph.toInit.registers.forEach(attempt); Morph.toInit.registers = []; Morph.markPerformance('morph-init-registers-complete'); }); };</script> 
   <script>if (!Morph.manualInit) { Morph.init(); } /* u037955625307000807 */</script> 
   <script>Morph.toInit.bundles.push(function() { Morph.versions["bbc-morph-local-storage-feature-detection-helper@1.0.1"]={},function(r){function e(t){if(o[t])return o[t].exports;var n=o[t]={exports:{},id:t,loaded:!1};return r[t].call(n.exports,n,n.exports,e),n.loaded=!0,n.exports}var o={};return e.m=r,e.c=o,e.p="",e(0)}([function(r,e,o){Morph.modules["bbc-morph-local-storage-feature-detection-helper@1.0.1"]=o(1)},function(r,e){"use strict";var o=function(){return"localStorage"in window},t=function(){var r="bbc-storage";try{return window.localStorage.setItem(r,r),window.localStorage.removeItem(r),!0}catch(r){return!1}};r.exports.browserSupportsLocalStorage=function(){return o()&&t()}}]);;
});</script> 
   <script>Morph.toInit.bundles.push(function() { Morph.versions["bbc-morph-local-storage-helper@1.0.0"]={"bbc-morph-local-storage-feature-detection-helper":"1.0.1"},function(e){function o(t){if(r[t])return r[t].exports;var l=r[t]={exports:{},id:t,loaded:!1};return e[t].call(l.exports,l,l.exports,o),l.loaded=!0,l.exports}var r={};return o.m=e,o.c=r,o.p="",o(0)}([function(e,o,r){Morph.modules["bbc-morph-local-storage-helper@1.0.0"]=r(1)},function(e,o,r){"use strict";function t(e){return e&&e.__esModule?e:{default:e}}var l=r(2),a=t(l),n=function(e){return a.default.browserSupportsLocalStorage()?window.localStorage.getItem(e):null},c=function(e,o){a.default.browserSupportsLocalStorage()&&window.localStorage.setItem(e,o)},u=function(e){a.default.browserSupportsLocalStorage()&&window.localStorage.removeItem(e)};e.exports={setItem:c,getItem:n,removeItem:u}},function(e,o){e.exports=Morph.modules["bbc-morph-local-storage-feature-detection-helper@1.0.1"]}]);;
});</script> 
   <script>Morph.toInit.bundles.push(function() { Morph.versions["bbc-morph-classnames@1.0.1"]={classnames:"2.2.5"},function(r){function e(o){if(n[o])return n[o].exports;var s=n[o]={exports:{},id:o,loaded:!1};return r[o].call(s.exports,s,s.exports,e),s.loaded=!0,s.exports}var n={};return e.m=r,e.c=n,e.p="",e(0)}([function(r,e,n){Morph.modules["bbc-morph-classnames@1.0.1"]=n(1)},function(r,e,n){var o=n(2);r.exports=o},function(r,e,n){var o,s;!function(){"use strict";function n(){for(var r=[],e=0;e<arguments.length;e++){var o=arguments[e];if(o){var s=typeof o;if("string"===s||"number"===s)r.push(o);else if(Array.isArray(o))r.push(n.apply(null,o));else if("object"===s)for(var a in o)t.call(o,a)&&o[a]&&r.push(a)}}return r.join(" ")}var t={}.hasOwnProperty;"undefined"!=typeof r&&r.exports?r.exports=n:(o=[],s=function(){return n}.apply(e,o),!(void 0!==s&&(r.exports=s)))}()}]);;
});</script> 
   <script>Morph.toInit.bundles.push(function() { Morph.versions["bbc-morph-gel-icons@2.2.0"]={"bbc-morph-classnames":"1.0.1","morph-require":"3.0.17",react:"0.14.7"},function(e){function r(t){if(n[t])return n[t].exports;var i=n[t]={exports:{},id:t,loaded:!1};return e[t].call(i.exports,i,i.exports,r),i.loaded=!0,i.exports}var n={};return r.m=e,r.c=n,r.p="",r(0)}([function(e,r,n){Morph.modules["bbc-morph-gel-icons@2.2.0"]=n(1)},function(e,r,n){"use strict";function t(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(r,"__esModule",{value:!0});var i=n(2),o=t(i),s=n(3),a=t(s),l=n(4),u=t(l),c=o.default.createClass({displayName:"GEL__Icon",propTypes:{iconName:o.default.PropTypes.string,additionalClassNames:o.default.PropTypes.string},render:function(){var e=(0,u.default)("gel-icon","gel-icon--"+this.props.iconName,this.props.additionalClassNames),r=a.default.selfTransitiveThenUpdate("gel-icon-"+this.props.iconName,this);return o.default.createElement("div",{className:e},r?o.default.createElement(r,null):null)}});c.ensureIcon=function(e){"undefined"==typeof window&&a.default.selfTransitive("gel-icon-"+e,null)},r.default=c,e.exports=r.default},function(e,r){e.exports=React},function(e,r){e.exports={transitive:function(e,r){return Morph.requireTransitiveWithCaller("bbc-morph-gel-icons@2.2.0",e,r)},selfTransitive:function(e,r){return Morph.requireTransitiveWithCaller("bbc-morph-gel-icons@2.2.0",e,r,!0)},transitiveThenUpdate:function(e,r){return Morph.requireTransitiveWithCallerThenUpdate("bbc-morph-gel-icons@2.2.0",e,r)},selfTransitiveThenUpdate:function(e,r){return Morph.requireTransitiveWithCallerThenUpdate("bbc-morph-gel-icons@2.2.0",e,r,!0)}}},function(e,r){e.exports=Morph.modules["bbc-morph-classnames@1.0.1"]}]);;
});</script> 
   <script>Morph.toInit.bundles.push(function() { !function(e){function t(n){if(o[n])return o[n].exports;var r=o[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,t),r.l=!0,r.exports}var o={};t.m=e,t.c=o,t.d=function(e,o,n){t.o(e,o)||Object.defineProperty(e,o,{configurable:!1,enumerable:!0,get:n})},t.n=function(e){var o=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(o,"a",o),o},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=7)}([function(e,t){e.exports=React},function(e,t){e.exports=Morph.modules["bbc-morph-classnames@1.0.1"]},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e,t,o,n){return e||"reaction-"+n+"-text--"+t+"-"+o};t.default=n,e.exports=t.default},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){var o={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(o[n]=e[n]);return o}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":a(t))&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":a(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(t,"__esModule",{value:!0});var c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n])}return e},p=o(0),l=n(p),f=o(11),d=n(f),y=o(2),h=n(y),b=function(e){function t(o){s(this,t);var n=i(this,e.call(this,o));return n.state={count:o.count},n}return u(t,e),t.prototype.componentWillReceiveProps=function(e){var t=this;if(e.count!==this.props.count){var o=function(){return t.setState({count:e.count})};if(this.props.randomUpdateOffset>0){var n=Math.random()*this.props.randomUpdateOffset;clearTimeout(this.timeoutId),this.timeoutId=setTimeout(o,n)}else o()}},t.prototype.render=function(){var e=this.props,t=e.formatter,o=e.className,n=e.id,s=r(e,["formatter","className","id"]);return l.default.createElement("span",c({id:(0,h.default)(n,this.context.type,this.context.uniqueId,"count"),className:o},s),(0,d.default)(this.state.count+this.props.countOffset,t))},t}(l.default.Component);b.displayName="ReactionCount",b.propTypes={count:p.PropTypes.number,countOffset:p.PropTypes.number,className:p.PropTypes.string,id:p.PropTypes.string,formatter:p.PropTypes.string,randomUpdateOffset:p.PropTypes.number},b.defaultProps={count:0,countOffset:0,className:"",id:"",formatter:null,randomUpdateOffset:0},b.contextTypes={uniqueId:p.PropTypes.string,type:p.PropTypes.string},t.default=b,e.exports=t.default},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){var o={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(o[n]=e[n]);return o}Object.defineProperty(t,"__esModule",{value:!0});var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n])}return e},i=o(1),u=n(i),a=o(0),c=n(a),p=o(2),l=n(p),f=function(e,t){var o=e.children,n=e.className,i=e.id,a=e.hidden,p=r(e,["children","className","id","hidden"]);return c.default.createElement("span",s({id:(0,l.default)(i,t.type,t.uniqueId,"label"),className:(0,u.default)(n,{"gs-u-vh":a})},p),o)};f.displayName="ReactionLabel",f.propTypes={children:a.PropTypes.node,className:a.PropTypes.string,id:a.PropTypes.string,hidden:a.PropTypes.bool},f.defaultProps={children:null,className:"",id:"",hidden:!1},f.contextTypes={uniqueId:a.PropTypes.string,type:a.PropTypes.string},t.default=f,e.exports=t.default},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){var o={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(o[n]=e[n]);return o}Object.defineProperty(t,"__esModule",{value:!0});var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n])}return e},i=o(1),u=n(i),a=o(0),c=n(a),p=function(e){var t=e.children,o=e.className,n=r(e,["children","className"]);return c.default.createElement("span",s({className:(0,u.default)("gel-icon",o)},n),t)};p.displayName="ReactionIcon",p.propTypes={children:a.PropTypes.node,className:a.PropTypes.string},p.defaultProps={children:null,className:""},t.default=p,e.exports=t.default},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){var o={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(o[n]=e[n]);return o}Object.defineProperty(t,"__esModule",{value:!0});var s=o(15),i=n(s),u=o(0),a=n(u),c=o(5),p=n(c),l=function(e,t){var o=function(o){var n=o.children,s=o.active,u=o.gelIconClassName,c=r(o,["children","active","gelIconClassName"]);return i.default.ensureIcon(s?t:e),a.default.createElement(p.default,c,a.default.createElement(i.default,{additionalClassNames:u,iconName:s?e:t}),n)};return o.displayName="ThumbReactionIcon",o.propTypes={children:u.PropTypes.node,active:u.PropTypes.bool.isRequired,gelIconClassName:u.PropTypes.string},o.defaultProps={children:null,gelIconClassName:null},o};t.default=l,e.exports=t.default},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=o(8),r=o.n(n);Morph.modules["bbc-morph-reactions@4.2.0"]=r.a},function(e,t,o){"use strict";e.exports=o(9)},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.DislikeReactionIcon=t.LikeReactionIcon=t.ReactionLabel=t.ReactionIcon=t.ReactionCount=t.Reactions=t.Reaction=void 0;var r=o(10),s=n(r),i=o(12),u=n(i),a=o(3),c=n(a),p=o(5),l=n(p),f=o(4),d=n(f),y=o(14),h=n(y),b=o(16),m=n(b);t.Reaction=s.default,t.Reactions=u.default,t.ReactionCount=c.default,t.ReactionIcon=l.default,t.ReactionLabel=d.default,t.LikeReactionIcon=h.default,t.DislikeReactionIcon=m.default,t.default={Reaction:s.default,Reactions:u.default,ReactionCount:c.default,ReactionIcon:l.default,ReactionLabel:d.default,LikeReactionIcon:h.default,DislikeReactionIcon:m.default}},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":u(t))&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":u(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n])}return e},c=o(1),p=n(c),l=o(0),f=n(l),d=o(3),y=n(d),h=o(4),b=n(h),m=o(2),v=n(m),P=function(e,t,o,n){return function(r){t&&t(o),e&&e(r,o,n)}},O=function e(t,o,n){var r=[];return f.default.Children.forEach(t,function(t){t.type===b.default&&r.push((0,v.default)(t.props.id,o,n,"label")),t.type===y.default&&r.push((0,v.default)(t.props.id,o,n,"count")),r=[].concat(r,e(t.props&&t.props.children,o,n))}),r},T=function(e){function t(){return r(this,t),s(this,e.apply(this,arguments))}return i(t,e),t.prototype.getChildContext=function(){return{type:this.props.type}},t.prototype.render=function(){return f.default.createElement("li",a({},this.props.liProps,{className:this.props.liProps.className}),f.default.createElement("button",a({},this.props.buttonProps,{"aria-pressed":this.props.type===this.context.active,"aria-labelledby":O(this.props.children,this.props.type,this.context.uniqueId).join(" "),className:(0,p.default)("gs-c-reaction",this.props.buttonProps.className),onClick:P(this.props.onClick,this.context.updateActive,this.props.type,this.context.active)}),this.props.children))},t}(f.default.Component);T.displayName="Reaction",T.propTypes={children:l.PropTypes.node,onClick:l.PropTypes.func,liProps:l.PropTypes.objectOf(l.PropTypes.any),buttonProps:l.PropTypes.objectOf(l.PropTypes.any),type:l.PropTypes.string},T.defaultProps={children:null,onClick:null,liProps:{},buttonProps:{},type:null},T.contextTypes={active:l.PropTypes.string,updateActive:l.PropTypes.func,uniqueId:l.PropTypes.string},T.childContextTypes={type:l.PropTypes.string},t.default=T,e.exports=t.default},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={default:function(e){var t=""+e;return e>=1e4?((e/1e3).toFixed(1)+"K").replace(".0",""):e>=1e3?t[0]+","+t[1]+t[2]+t[3]:t}},r=function(e,t){var o=n[t];return o?o(e):""+e};t.default=r,e.exports=t.default},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){var o={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(o[n]=e[n]);return o}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":a(t))&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":a(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(t,"__esModule",{value:!0});var c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n])}return e},p=o(13),l=n(p),f=o(0),d=n(f),y=function(e){function t(o){s(this,t);var n=i(this,e.call(this,o)),r=o.active;return n.props.store&&n.props.uniqueId&&"undefined"!=typeof window&&(r=n.props.store.getItem("reactions-"+n.props.uniqueId)),n.state={active:r},n.updateActive=n.updateActive.bind(n),n}return u(t,e),t.prototype.getChildContext=function(){return{active:this.state.active,updateActive:this.updateActive,uniqueId:this.props.uniqueId}},t.prototype.updateActive=function(e){var t=this.state.active===e?null:e;if(this.setState({active:t}),this.props.store&&this.props.uniqueId){var o="reactions-"+this.props.uniqueId;t?this.props.store.setItem(o,t):this.props.store.removeItem(o)}},t.prototype.render=function(){var e=this.props,t=e.children,o=r(e,["children"]),n=t?t(this.state.active):[];return d.default.createElement("ul",c({className:"gs-c-reactions"},o),n)},t}(d.default.Component);y.displayName="Reactions",y.propTypes={active:f.PropTypes.string,children:f.PropTypes.func,uniqueId:f.PropTypes.string,store:f.PropTypes.shape({getItem:f.PropTypes.func,setItem:f.PropTypes.func,removeItem:f.PropTypes.func})},y.defaultProps={active:null,children:null,uniqueId:null,store:l.default},y.childContextTypes={active:f.PropTypes.string,updateActive:f.PropTypes.func,uniqueId:f.PropTypes.string},t.default=y,e.exports=t.default},function(e,t){e.exports=Morph.modules["bbc-morph-local-storage-helper@1.0.0"]},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=o(6),r=function(e){return e&&e.__esModule?e:{default:e}}(n),s=(0,r.default)("thumbs-up-selected-state","thumbs-up-deselected-state");t.default=s,e.exports=t.default},function(e,t){e.exports=Morph.modules["bbc-morph-gel-icons@2.2.0"]},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=o(6),r=function(e){return e&&e.__esModule?e:{default:e}}(n),s=(0,r.default)("thumbs-down-selected-state","thumbs-down-deselected-state");t.default=s,e.exports=t.default}]);
//# sourceMappingURL=bundle.js.map;
});</script> 
   <script>Morph.toInit.bundles.push(function() { Morph.versions["bbc-morph-local-storage-helper@1.0.1"]={"bbc-morph-local-storage-feature-detection-helper":"1.0.1"},function(e){function o(t){if(r[t])return r[t].exports;var l=r[t]={exports:{},id:t,loaded:!1};return e[t].call(l.exports,l,l.exports,o),l.loaded=!0,l.exports}var r={};return o.m=e,o.c=r,o.p="",o(0)}([function(e,o,r){Morph.modules["bbc-morph-local-storage-helper@1.0.1"]=r(1)},function(e,o,r){"use strict";function t(e){return e&&e.__esModule?e:{default:e}}var l=r(2),a=t(l),n=function(e){return a.default.browserSupportsLocalStorage()?window.localStorage.getItem(e):null},c=function(e,o){a.default.browserSupportsLocalStorage()&&window.localStorage.setItem(e,o)},u=function(e){a.default.browserSupportsLocalStorage()&&window.localStorage.removeItem(e)};e.exports={setItem:c,getItem:n,removeItem:u}},function(e,o){e.exports=Morph.modules["bbc-morph-local-storage-feature-detection-helper@1.0.1"]}]);;
});</script> 
   <script>Morph.toInit.bundles.push(function() { Morph.versions["bbc-morph-classnames@1.0.2"]={classnames:"2.2.5"},function(r){function o(s){if(n[s])return n[s].exports;var e=n[s]={exports:{},id:s,loaded:!1};return r[s].call(e.exports,e,e.exports,o),e.loaded=!0,e.exports}var n={};o.m=r,o.c=n,o.p="",o(0)}([function(r,o,n){Morph.modules["bbc-morph-classnames@1.0.2"]=n(1)},function(r,o,n){var s=n(2);r.exports=s},function(r,o,n){var s,e;!function(){"use strict";function n(){for(var r=[],o=0;o<arguments.length;o++){var s=arguments[o];if(s){var e=typeof s;if("string"===e||"number"===e)r.push(s);else if(Array.isArray(s))r.push(n.apply(null,s));else if("object"===e)for(var a in s)t.call(s,a)&&s[a]&&r.push(a)}}return r.join(" ")}var t={}.hasOwnProperty;void 0!==r&&r.exports?r.exports=n:(s=[],void 0!==(e=function(){return n}.apply(o,s))&&(r.exports=e))}()}]);;
});</script> 
   <script>Morph.toInit.bundles.push(function() { Morph.versions["bbc-morph-childrens-reactions@1.4.7"]={"babel-runtime":"6.26.0","bbc-morph-childrens-reactions-data":"0.7.1","bbc-morph-classnames":"1.0.2","bbc-morph-id-availability-data":"1.0.0","bbc-morph-local-storage-helper":"1.0.1","bbc-morph-reactions":"4.2.0","@bbc/counting-service-client-library":"2.2.1","gel-sass-tools":"1.2.1","gel-typography":"2.0.5","morph-container":"2.1.16","morph-require":"5.2.1",react:"0.14.7",requirejs:"2.3.6","sass-mq":"4.0.2","whatwg-fetch":"2.0.4"},function(e){function t(n){if(r[n])return r[n].exports;var o=r[n]={exports:{},id:n,loaded:!1};return e[n].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var r={};return t.m=e,t.c=r,t.p="",t(0)}([function(e,t,r){Morph.modules["bbc-morph-childrens-reactions@1.4.7"]=r(1)},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e){var t=e.urn,r=e.standalone,n=e.idAvailability,o=Boolean(r),i=(0,a.default)({urn:t,data:"bbc-morph-childrens-reactions-data"},o?{standalone:r}:{}),s=n?{availabilityOverride:n}:{};return{reactionsData:{uri:i,requireSuccess:!1,updates:!1},idAvailabilityData:{uri:(0,a.default)({data:"bbc-morph-id-availability-data"},s),requireSuccess:!0,updates:!1}}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(2),a=n(i),s=r(41),u=n(s),c=r(42),l=n(c);t.default=u.default.create(l.default,{data:function(e){return e.styleguide?{}:o(e)}}),e.exports=t.default},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var o=r(3),i=n(o);t.default=i.default||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}},function(e,t,r){e.exports={default:r(4),__esModule:!0}},function(e,t,r){r(5),e.exports=r(8).Object.assign},function(e,t,r){var n=r(6);n(n.S+n.F,"Object",{assign:r(22)})},function(e,t,r){var n=r(7),o=r(8),i=r(9),a=r(11),s=r(21),u="prototype",c=function(e,t,r){var l,f,d,p=e&c.F,h=e&c.G,y=e&c.S,v=e&c.P,m=e&c.B,b=e&c.W,E=h?o:o[t]||(o[t]={}),_=E[u],g=h?n:y?n[t]:(n[t]||{})[u];h&&(r=t);for(l in r)f=!p&&g&&void 0!==g[l],f&&s(E,l)||(d=f?g[l]:r[l],E[l]=h&&"function"!=typeof g[l]?r[l]:m&&f?i(d,n):b&&g[l]==d?function(e){var t=function(t,r,n){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(t);case 2:return new e(t,r)}return new e(t,r,n)}return e.apply(this,arguments)};return t[u]=e[u],t}(d):v&&"function"==typeof d?i(Function.call,d):d,v&&((E.virtual||(E.virtual={}))[l]=d,e&c.R&&_&&!_[l]&&a(_,l,d)))};c.F=1,c.G=2,c.S=4,c.P=8,c.B=16,c.W=32,c.U=64,c.R=128,e.exports=c},function(e,t){var r=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=r)},function(e,t){var r=e.exports={version:"2.6.6"};"number"==typeof __e&&(__e=r)},function(e,t,r){var n=r(10);e.exports=function(e,t,r){if(n(e),void 0===t)return e;switch(r){case 1:return function(r){return e.call(t,r)};case 2:return function(r,n){return e.call(t,r,n)};case 3:return function(r,n,o){return e.call(t,r,n,o)}}return function(){return e.apply(t,arguments)}}},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t,r){var n=r(12),o=r(20);e.exports=r(16)?function(e,t,r){return n.f(e,t,o(1,r))}:function(e,t,r){return e[t]=r,e}},function(e,t,r){var n=r(13),o=r(15),i=r(19),a=Object.defineProperty;t.f=r(16)?Object.defineProperty:function(e,t,r){if(n(e),t=i(t,!0),n(r),o)try{return a(e,t,r)}catch(e){}if("get"in r||"set"in r)throw TypeError("Accessors not supported!");return"value"in r&&(e[t]=r.value),e}},function(e,t,r){var n=r(14);e.exports=function(e){if(!n(e))throw TypeError(e+" is not an object!");return e}},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t,r){e.exports=!r(16)&&!r(17)(function(){return 7!=Object.defineProperty(r(18)("div"),"a",{get:function(){return 7}}).a})},function(e,t,r){e.exports=!r(17)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t,r){var n=r(14),o=r(7).document,i=n(o)&&n(o.createElement);e.exports=function(e){return i?o.createElement(e):{}}},function(e,t,r){var n=r(14);e.exports=function(e,t){if(!n(e))return e;var r,o;if(t&&"function"==typeof(r=e.toString)&&!n(o=r.call(e)))return o;if("function"==typeof(r=e.valueOf)&&!n(o=r.call(e)))return o;if(!t&&"function"==typeof(r=e.toString)&&!n(o=r.call(e)))return o;throw TypeError("Can't convert object to primitive value")}},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t){var r={}.hasOwnProperty;e.exports=function(e,t){return r.call(e,t)}},function(e,t,r){"use strict";var n=r(16),o=r(23),i=r(38),a=r(39),s=r(40),u=r(26),c=Object.assign;e.exports=!c||r(17)(function(){var e={},t={},r=Symbol(),n="abcdefghijklmnopqrst";return e[r]=7,n.split("").forEach(function(e){t[e]=e}),7!=c({},e)[r]||Object.keys(c({},t)).join("")!=n})?function(e,t){for(var r=s(e),c=arguments.length,l=1,f=i.f,d=a.f;c>l;)for(var p,h=u(arguments[l++]),y=f?o(h).concat(f(h)):o(h),v=y.length,m=0;v>m;)p=y[m++],n&&!d.call(h,p)||(r[p]=h[p]);return r}:c},function(e,t,r){var n=r(24),o=r(37);e.exports=Object.keys||function(e){return n(e,o)}},function(e,t,r){var n=r(21),o=r(25),i=r(29)(!1),a=r(33)("IE_PROTO");e.exports=function(e,t){var r,s=o(e),u=0,c=[];for(r in s)r!=a&&n(s,r)&&c.push(r);for(;t.length>u;)n(s,r=t[u++])&&(~i(c,r)||c.push(r));return c}},function(e,t,r){var n=r(26),o=r(28);e.exports=function(e){return n(o(e))}},function(e,t,r){var n=r(27);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==n(e)?e.split(""):Object(e)}},function(e,t){var r={}.toString;e.exports=function(e){return r.call(e).slice(8,-1)}},function(e,t){e.exports=function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e}},function(e,t,r){var n=r(25),o=r(30),i=r(32);e.exports=function(e){return function(t,r,a){var s,u=n(t),c=o(u.length),l=i(a,c);if(e&&r!=r){for(;c>l;)if(s=u[l++],s!=s)return!0}else for(;c>l;l++)if((e||l in u)&&u[l]===r)return e||l||0;return!e&&-1}}},function(e,t,r){var n=r(31),o=Math.min;e.exports=function(e){return e>0?o(n(e),9007199254740991):0}},function(e,t){var r=Math.ceil,n=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?n:r)(e)}},function(e,t,r){var n=r(31),o=Math.max,i=Math.min;e.exports=function(e,t){return e=n(e),e<0?o(e+t,0):i(e,t)}},function(e,t,r){var n=r(34)("keys"),o=r(36);e.exports=function(e){return n[e]||(n[e]=o(e))}},function(e,t,r){var n=r(8),o=r(7),i="__core-js_shared__",a=o[i]||(o[i]={});(e.exports=function(e,t){return a[e]||(a[e]=void 0!==t?t:{})})("versions",[]).push({version:n.version,mode:r(35)?"pure":"global",copyright:" 2019 Denis Pushkarev (zloirock.ru)"})},function(e,t){e.exports=!0},function(e,t){var r=0,n=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++r+n).toString(36))}},function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t){t.f={}.propertyIsEnumerable},function(e,t,r){var n=r(28);e.exports=function(e){return Object(n(e))}},function(e,t){e.exports={create:function(e,t){return Morph.createContainerWithCaller("bbc-morph-childrens-reactions@1.4.7",e,t)}}},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(43),i=n(o),a=r(48),s=n(a),u=r(80),c=n(u),l=r(81),f=n(l),d=r(82),p=n(d),h=r(86),y=n(h);r(94);var v=r(95),m=n(v),b=r(96),E=n(b),_=r(100),g=n(_),T=r(154),S=n(T),P=r(119),w=n(P),R=r(114),x=function(e){function t(e){(0,c.default)(this,t);var r=(0,f.default)(this,(t.__proto__||(0,i.default)(t)).call(this,e));return r.props=e,r}return(0,y.default)(t,e),(0,p.default)(t,null,[{key:"countsForUrn",value:function(e,t){return t.body&&t.body.countsData[e]?t.body.countsData[e]:{}}},{key:"mapCounts",value:function(e,t){var r="cbeebies"===e?R.CBEEBIES_LABELS:R.CBBC_LABELS;return r.map(function(e){var r=R.LABEL_TO_KEY[e];return{label:e,count:"object"===("undefined"==typeof t?"undefined":(0,s.default)(t))&&r in t?t[r]:0}})}},{key:"totalCountsForUrn",value:function(e,t){return t.body&&t.body.countsTotals[e]?t.body.countsTotals[e]:0}},{key:"getEnv",value:function(e){if(e.body&&"string"==typeof e.body.env){var t=e.body.env;if("int"===t||"test"===t||"stage"===t||"live"===t)return t}return"live"}}]),(0,p.default)(t,[{key:"render",value:function(){var e=this.props,r=e.standalone,n=e.urn,o=e.reactionsData,i=e.product,a=e.resourceType,s=e.styleguide,u=e.pageContext,c=Boolean(r),l=t.countsForUrn(n,o),f=t.mapCounts(i,l),d=t.totalCountsForUrn(n,o),p=t.getEnv(o),h=decodeURIComponent(this.props.resourceTitle),y=decodeURIComponent(this.props.url),v=n.toString().replace("urn:bbc:","").replace("urn:riddle:",""),b="urn:bbc:"+i+":"+a+":"+v,_=!!this.props.forcedError&&new Error(this.props.forcedError),T=Boolean(this.props.acceptanceTestMode);return m.default.createElement("div",{className:"reactions"},s?m.default.createElement(g.default,{product:i}):m.default.createElement(S.default,{enableStandaloneMode:c,countingServiceClientLibrary:E.default,ReactionsModule:w.default,product:i,reactionsCounts:f,reactionsCountTotal:d,urn:n,resourceTitle:h,resourceType:a,url:y,globalId:b,env:p,isIdAvailable:this.props.idAvailabilityData.body.isAvailable,error:_,enableAcceptanceTestMode:T,pageContext:u}))}}]),t}(v.Component);x.displayName="ReactionsBootstrap",x.propTypes={styleguide:v.PropTypes.oneOfType([v.PropTypes.string,v.PropTypes.bool]),standalone:v.PropTypes.oneOfType([v.PropTypes.string,v.PropTypes.bool]),product:v.PropTypes.string.isRequired,resourceType:v.PropTypes.string.isRequired,urn:v.PropTypes.oneOfType([v.PropTypes.string,v.PropTypes.bool]),resourceTitle:v.PropTypes.string.isRequired,url:v.PropTypes.string.isRequired,reactionsData:v.PropTypes.oneOfType([v.PropTypes.shape({body:v.PropTypes.oneOfType([v.PropTypes.string,v.PropTypes.object]),meta:v.PropTypes.object}),v.PropTypes.string]),idAvailabilityData:v.PropTypes.shape({body:v.PropTypes.shape({isAvailable:v.PropTypes.bool})}).isRequired,forcedError:v.PropTypes.oneOfType([v.PropTypes.string,v.PropTypes.bool]),acceptanceTestMode:v.PropTypes.oneOfType([v.PropTypes.string,v.PropTypes.bool]),pageContext:v.PropTypes.oneOfType([v.PropTypes.string,v.PropTypes.bool])},x.defaultProps={styleguide:!1,standalone:!1,urn:!1,reactionsData:{},forcedError:!1,idAvailabilityData:{body:{isAvailable:!0}},acceptanceTestMode:!1,pageContext:!1},t.default=x,e.exports=t.default},function(e,t,r){e.exports={default:r(44),__esModule:!0}},function(e,t,r){r(45),e.exports=r(8).Object.getPrototypeOf},function(e,t,r){var n=r(40),o=r(46);r(47)("getPrototypeOf",function(){return function(e){return o(n(e))}})},function(e,t,r){var n=r(21),o=r(40),i=r(33)("IE_PROTO"),a=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=o(e),n(e,i)?e[i]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?a:null}},function(e,t,r){var n=r(6),o=r(8),i=r(17);e.exports=function(e,t){var r=(o.Object||{})[e]||Object[e],a={};a[e]=t(r),n(n.S+n.F*i(function(){r(1)}),"Object",a)}},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var o=r(49),i=n(o),a=r(67),s=n(a),u="function"==typeof s.default&&"symbol"==typeof i.default?function(e){return typeof e}:function(e){return e&&"function"==typeof s.default&&e.constructor===s.default&&e!==s.default.prototype?"symbol":typeof e};t.default="function"==typeof s.default&&"symbol"===u(i.default)?function(e){return"undefined"==typeof e?"undefined":u(e)}:function(e){return e&&"function"==typeof s.default&&e.constructor===s.default&&e!==s.default.prototype?"symbol":"undefined"==typeof e?"undefined":u(e)}},function(e,t,r){e.exports={default:r(50),__esModule:!0}},function(e,t,r){r(51),r(62),e.exports=r(66).f("iterator")},function(e,t,r){"use strict";var n=r(52)(!0);r(53)(String,"String",function(e){this._t=String(e),this._i=0},function(){var e,t=this._t,r=this._i;return r>=t.length?{value:void 0,done:!0}:(e=n(t,r),this._i+=e.length,{value:e,done:!1})})},function(e,t,r){var n=r(31),o=r(28);e.exports=function(e){return function(t,r){var i,a,s=String(o(t)),u=n(r),c=s.length;return u<0||u>=c?e?"":void 0:(i=s.charCodeAt(u),i<55296||i>56319||u+1===c||(a=s.charCodeAt(u+1))<56320||a>57343?e?s.charAt(u):i:e?s.slice(u,u+2):(i-55296<<10)+(a-56320)+65536)}}},function(e,t,r){"use strict";var n=r(35),o=r(6),i=r(54),a=r(11),s=r(55),u=r(56),c=r(60),l=r(46),f=r(61)("iterator"),d=!([].keys&&"next"in[].keys()),p="@@iterator",h="keys",y="values",v=function(){return this};e.exports=function(e,t,r,m,b,E,_){u(r,t,m);var g,T,S,P=function(e){if(!d&&e in O)return O[e];switch(e){case h:return function(){return new r(this,e)};case y:return function(){return new r(this,e)}}return function(){return new r(this,e)}},w=t+" Iterator",R=b==y,x=!1,O=e.prototype,A=O[f]||O[p]||b&&O[b],M=A||P(b),C=b?R?P("entries"):M:void 0,L="Array"==t?O.entries||A:A;if(L&&(S=l(L.call(new e)),S!==Object.prototype&&S.next&&(c(S,w,!0),n||"function"==typeof S[f]||a(S,f,v))),R&&A&&A.name!==y&&(x=!0,M=function(){return A.call(this)}),n&&!_||!d&&!x&&O[f]||a(O,f,M),s[t]=M,s[w]=v,b)if(g={values:R?M:P(y),keys:E?M:P(h),entries:C},_)for(T in g)T in O||i(O,T,g[T]);else o(o.P+o.F*(d||x),t,g);return g}},function(e,t,r){e.exports=r(11)},function(e,t){e.exports={}},function(e,t,r){"use strict";var n=r(57),o=r(20),i=r(60),a={};r(11)(a,r(61)("iterator"),function(){return this}),e.exports=function(e,t,r){e.prototype=n(a,{next:o(1,r)}),i(e,t+" Iterator")}},function(e,t,r){var n=r(13),o=r(58),i=r(37),a=r(33)("IE_PROTO"),s=function(){},u="prototype",c=function(){var e,t=r(18)("iframe"),n=i.length,o="<",a=">";for(t.style.display="none",r(59).appendChild(t),t.src="javascript:",e=t.contentWindow.document,e.open(),e.write(o+"script"+a+"document.F=Object"+o+"/script"+a),e.close(),c=e.F;n--;)delete c[u][i[n]];return c()};e.exports=Object.create||function(e,t){var r;return null!==e?(s[u]=n(e),r=new s,s[u]=null,r[a]=e):r=c(),void 0===t?r:o(r,t)}},function(e,t,r){var n=r(12),o=r(13),i=r(23);e.exports=r(16)?Object.defineProperties:function(e,t){o(e);for(var r,a=i(t),s=a.length,u=0;s>u;)n.f(e,r=a[u++],t[r]);return e}},function(e,t,r){var n=r(7).document;e.exports=n&&n.documentElement},function(e,t,r){var n=r(12).f,o=r(21),i=r(61)("toStringTag");e.exports=function(e,t,r){e&&!o(e=r?e:e.prototype,i)&&n(e,i,{configurable:!0,value:t})}},function(e,t,r){var n=r(34)("wks"),o=r(36),i=r(7).Symbol,a="function"==typeof i,s=e.exports=function(e){return n[e]||(n[e]=a&&i[e]||(a?i:o)("Symbol."+e))};s.store=n},function(e,t,r){r(63);for(var n=r(7),o=r(11),i=r(55),a=r(61)("toStringTag"),s="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),u=0;u<s.length;u++){var c=s[u],l=n[c],f=l&&l.prototype;f&&!f[a]&&o(f,a,c),i[c]=i.Array}},function(e,t,r){"use strict";var n=r(64),o=r(65),i=r(55),a=r(25);e.exports=r(53)(Array,"Array",function(e,t){this._t=a(e),this._i=0,this._k=t},function(){var e=this._t,t=this._k,r=this._i++;return!e||r>=e.length?(this._t=void 0,o(1)):"keys"==t?o(0,r):"values"==t?o(0,e[r]):o(0,[r,e[r]])},"values"),i.Arguments=i.Array,n("keys"),n("values"),n("entries")},function(e,t){e.exports=function(){}},function(e,t){e.exports=function(e,t){return{value:t,done:!!e}}},function(e,t,r){t.f=r(61)},function(e,t,r){e.exports={default:r(68),__esModule:!0}},function(e,t,r){r(69),r(77),r(78),r(79),e.exports=r(8).Symbol},function(e,t,r){"use strict";var n=r(7),o=r(21),i=r(16),a=r(6),s=r(54),u=r(70).KEY,c=r(17),l=r(34),f=r(60),d=r(36),p=r(61),h=r(66),y=r(71),v=r(72),m=r(73),b=r(13),E=r(14),_=r(40),g=r(25),T=r(19),S=r(20),P=r(57),w=r(74),R=r(76),x=r(38),O=r(12),A=r(23),M=R.f,C=O.f,L=w.f,I=n.Symbol,k=n.JSON,N=k&&k.stringify,j="prototype",B=p("_hidden"),U=p("toPrimitive"),D={}.propertyIsEnumerable,F=l("symbol-registry"),q=l("symbols"),z=l("op-symbols"),H=Object[j],K="function"==typeof I,W=n.QObject,V=!W||!W[j]||!W[j].findChild,Y=i&&c(function(){return 7!=P(C({},"a",{get:function(){return C(this,"a",{value:7}).a}})).a})?function(e,t,r){var n=M(H,t);n&&delete H[t],C(e,t,r),n&&e!==H&&C(H,t,n)}:C,G=function(e){var t=q[e]=P(I[j]);return t._k=e,t},J=K&&"symbol"==typeof I.iterator?function(e){return"symbol"==typeof e}:function(e){return e instanceof I},X=function(e,t,r){return e===H&&X(z,t,r),b(e),t=T(t,!0),b(r),o(q,t)?(r.enumerable?(o(e,B)&&e[B][t]&&(e[B][t]=!1),r=P(r,{enumerable:S(0,!1)})):(o(e,B)||C(e,B,S(1,{})),e[B][t]=!0),Y(e,t,r)):C(e,t,r)},$=function(e,t){b(e);for(var r,n=v(t=g(t)),o=0,i=n.length;i>o;)X(e,r=n[o++],t[r]);return e},Q=function(e,t){return void 0===t?P(e):$(P(e),t)},Z=function(e){var t=D.call(this,e=T(e,!0));return!(this===H&&o(q,e)&&!o(z,e))&&(!(t||!o(this,e)||!o(q,e)||o(this,B)&&this[B][e])||t)},ee=function(e,t){if(e=g(e),t=T(t,!0),e!==H||!o(q,t)||o(z,t)){var r=M(e,t);return!r||!o(q,t)||o(e,B)&&e[B][t]||(r.enumerable=!0),r}},te=function(e){for(var t,r=L(g(e)),n=[],i=0;r.length>i;)o(q,t=r[i++])||t==B||t==u||n.push(t);return n},re=function(e){for(var t,r=e===H,n=L(r?z:g(e)),i=[],a=0;n.length>a;)!o(q,t=n[a++])||r&&!o(H,t)||i.push(q[t]);return i};K||(I=function(){if(this instanceof I)throw TypeError("Symbol is not a constructor!");var e=d(arguments.length>0?arguments[0]:void 0),t=function(r){this===H&&t.call(z,r),o(this,B)&&o(this[B],e)&&(this[B][e]=!1),Y(this,e,S(1,r))};return i&&V&&Y(H,e,{configurable:!0,set:t}),G(e)},s(I[j],"toString",function(){return this._k}),R.f=ee,O.f=X,r(75).f=w.f=te,r(39).f=Z,x.f=re,i&&!r(35)&&s(H,"propertyIsEnumerable",Z,!0),h.f=function(e){return G(p(e))}),a(a.G+a.W+a.F*!K,{Symbol:I});for(var ne="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),oe=0;ne.length>oe;)p(ne[oe++]);for(var ie=A(p.store),ae=0;ie.length>ae;)y(ie[ae++]);a(a.S+a.F*!K,"Symbol",{for:function(e){return o(F,e+="")?F[e]:F[e]=I(e)},keyFor:function(e){if(!J(e))throw TypeError(e+" is not a symbol!");for(var t in F)if(F[t]===e)return t},useSetter:function(){V=!0},useSimple:function(){V=!1}}),a(a.S+a.F*!K,"Object",{create:Q,defineProperty:X,defineProperties:$,getOwnPropertyDescriptor:ee,getOwnPropertyNames:te,getOwnPropertySymbols:re});var se=c(function(){x.f(1)});a(a.S+a.F*se,"Object",{getOwnPropertySymbols:function(e){return x.f(_(e))}}),k&&a(a.S+a.F*(!K||c(function(){var e=I();return"[null]"!=N([e])||"{}"!=N({a:e})||"{}"!=N(Object(e))})),"JSON",{stringify:function(e){for(var t,r,n=[e],o=1;arguments.length>o;)n.push(arguments[o++]);if(r=t=n[1],(E(t)||void 0!==e)&&!J(e))return m(t)||(t=function(e,t){if("function"==typeof r&&(t=r.call(this,e,t)),!J(t))return t}),n[1]=t,N.apply(k,n)}}),I[j][U]||r(11)(I[j],U,I[j].valueOf),f(I,"Symbol"),f(Math,"Math",!0),f(n.JSON,"JSON",!0)},function(e,t,r){var n=r(36)("meta"),o=r(14),i=r(21),a=r(12).f,s=0,u=Object.isExtensible||function(){return!0},c=!r(17)(function(){return u(Object.preventExtensions({}))}),l=function(e){a(e,n,{value:{i:"O"+ ++s,w:{}}})},f=function(e,t){if(!o(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!i(e,n)){if(!u(e))return"F";if(!t)return"E";l(e)}return e[n].i},d=function(e,t){if(!i(e,n)){if(!u(e))return!0;if(!t)return!1;l(e)}return e[n].w},p=function(e){return c&&h.NEED&&u(e)&&!i(e,n)&&l(e),e},h=e.exports={KEY:n,NEED:!1,fastKey:f,getWeak:d,onFreeze:p}},function(e,t,r){var n=r(7),o=r(8),i=r(35),a=r(66),s=r(12).f;e.exports=function(e){var t=o.Symbol||(o.Symbol=i?{}:n.Symbol||{});"_"==e.charAt(0)||e in t||s(t,e,{value:a.f(e)})}},function(e,t,r){var n=r(23),o=r(38),i=r(39);e.exports=function(e){var t=n(e),r=o.f;if(r)for(var a,s=r(e),u=i.f,c=0;s.length>c;)u.call(e,a=s[c++])&&t.push(a);return t}},function(e,t,r){var n=r(27);e.exports=Array.isArray||function(e){return"Array"==n(e)}},function(e,t,r){var n=r(25),o=r(75).f,i={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],s=function(e){try{return o(e)}catch(e){return a.slice()}};e.exports.f=function(e){return a&&"[object Window]"==i.call(e)?s(e):o(n(e))}},function(e,t,r){var n=r(24),o=r(37).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return n(e,o)}},function(e,t,r){var n=r(39),o=r(20),i=r(25),a=r(19),s=r(21),u=r(15),c=Object.getOwnPropertyDescriptor;t.f=r(16)?c:function(e,t){if(e=i(e),t=a(t,!0),u)try{return c(e,t)}catch(e){}if(s(e,t))return o(!n.f.call(e,t),e[t])}},function(e,t){},function(e,t,r){r(71)("asyncIterator")},function(e,t,r){r(71)("observable")},function(e,t){"use strict";t.__esModule=!0,t.default=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var o=r(48),i=n(o);t.default=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==("undefined"==typeof t?"undefined":(0,i.default)(t))&&"function"!=typeof t?e:t}},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var o=r(83),i=n(o);t.default=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),(0,i.default)(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}()},function(e,t,r){e.exports={default:r(84),__esModule:!0}},function(e,t,r){r(85);var n=r(8).Object;e.exports=function(e,t,r){return n.defineProperty(e,t,r)}},function(e,t,r){var n=r(6);n(n.S+n.F*!r(16),"Object",{defineProperty:r(12).f})},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var o=r(87),i=n(o),a=r(91),s=n(a),u=r(48),c=n(u);t.default=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+("undefined"==typeof t?"undefined":(0,c.default)(t)));e.prototype=(0,s.default)(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(i.default?(0,i.default)(e,t):e.__proto__=t)}},function(e,t,r){e.exports={default:r(88),__esModule:!0}},function(e,t,r){r(89),e.exports=r(8).Object.setPrototypeOf},function(e,t,r){var n=r(6);n(n.S,"Object",{setPrototypeOf:r(90).set})},function(e,t,r){var n=r(14),o=r(13),i=function(e,t){if(o(e),!n(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,t,n){try{n=r(9)(Function.call,r(76).f(Object.prototype,"__proto__").set,2),n(e,[]),t=!(e instanceof Array)}catch(e){t=!0}return function(e,r){return i(e,r),t?e.__proto__=r:n(e,r),e}}({},!1):void 0),check:i}},function(e,t,r){e.exports={default:r(92),__esModule:!0}},function(e,t,r){r(93);var n=r(8).Object;e.exports=function(e,t){return n.create(e,t)}},function(e,t,r){var n=r(6);n(n.S,"Object",{create:r(57)})},function(e,t){!function(e){"use strict";function t(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function r(e){return"string"!=typeof e&&(e=String(e)),e}function n(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return m.iterable&&(t[Symbol.iterator]=function(){return t}),t}function o(e){this.map={},e instanceof o?e.forEach(function(e,t){this.append(t,e)},this):Array.isArray(e)?e.forEach(function(e){this.append(e[0],e[1])},this):e&&Object.getOwnPropertyNames(e).forEach(function(t){this.append(t,e[t])},this)}function i(e){return e.bodyUsed?Promise.reject(new TypeError("Already read")):void(e.bodyUsed=!0)}function a(e){return new Promise(function(t,r){e.onload=function(){t(e.result)},e.onerror=function(){r(e.error)}})}function s(e){var t=new FileReader,r=a(t);return t.readAsArrayBuffer(e),r}function u(e){var t=new FileReader,r=a(t);return t.readAsText(e),r}function c(e){for(var t=new Uint8Array(e),r=new Array(t.length),n=0;n<t.length;n++)r[n]=String.fromCharCode(t[n]);return r.join("")}function l(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function f(){return this.bodyUsed=!1,this._initBody=function(e){if(this._bodyInit=e,e)if("string"==typeof e)this._bodyText=e;else if(m.blob&&Blob.prototype.isPrototypeOf(e))this._bodyBlob=e;else if(m.formData&&FormData.prototype.isPrototypeOf(e))this._bodyFormData=e;else if(m.searchParams&&URLSearchParams.prototype.isPrototypeOf(e))this._bodyText=e.toString();else if(m.arrayBuffer&&m.blob&&E(e))this._bodyArrayBuffer=l(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!m.arrayBuffer||!ArrayBuffer.prototype.isPrototypeOf(e)&&!_(e))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=l(e)}else this._bodyText="";this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):m.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},m.blob&&(this.blob=function(){var e=i(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?i(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(s)}),this.text=function(){var e=i(this);if(e)return e;if(this._bodyBlob)return u(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(c(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},m.formData&&(this.formData=function(){return this.text().then(h)}),this.json=function(){return this.text().then(JSON.parse)},this}function d(e){var t=e.toUpperCase();return g.indexOf(t)>-1?t:e}function p(e,t){t=t||{};var r=t.body;if(e instanceof p){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new o(e.headers)),this.method=e.method,this.mode=e.mode,r||null==e._bodyInit||(r=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"omit",!t.headers&&this.headers||(this.headers=new o(t.headers)),this.method=d(t.method||this.method||"GET"),this.mode=t.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&r)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(r)}function h(e){var t=new FormData;return e.trim().split("&").forEach(function(e){if(e){var r=e.split("="),n=r.shift().replace(/\+/g," "),o=r.join("=").replace(/\+/g," ");t.append(decodeURIComponent(n),decodeURIComponent(o))}}),t}function y(e){var t=new o,r=e.replace(/\r?\n[\t ]+/g," ");return r.split(/\r?\n/).forEach(function(e){var r=e.split(":"),n=r.shift().trim();if(n){var o=r.join(":").trim();t.append(n,o)}}),t}function v(e,t){t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new o(t.headers),this.url=t.url||"",this._initBody(e)}if(!e.fetch){var m={searchParams:"URLSearchParams"in e,iterable:"Symbol"in e&&"iterator"in Symbol,blob:"FileReader"in e&&"Blob"in e&&function(){try{return new Blob,!0}catch(e){return!1}}(),formData:"FormData"in e,arrayBuffer:"ArrayBuffer"in e};if(m.arrayBuffer)var b=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],E=function(e){return e&&DataView.prototype.isPrototypeOf(e)},_=ArrayBuffer.isView||function(e){return e&&b.indexOf(Object.prototype.toString.call(e))>-1};o.prototype.append=function(e,n){e=t(e),n=r(n);var o=this.map[e];this.map[e]=o?o+","+n:n},o.prototype.delete=function(e){delete this.map[t(e)]},o.prototype.get=function(e){return e=t(e),this.has(e)?this.map[e]:null},o.prototype.has=function(e){return this.map.hasOwnProperty(t(e))},o.prototype.set=function(e,n){this.map[t(e)]=r(n)},o.prototype.forEach=function(e,t){for(var r in this.map)this.map.hasOwnProperty(r)&&e.call(t,this.map[r],r,this)},o.prototype.keys=function(){var e=[];return this.forEach(function(t,r){e.push(r)}),n(e)},o.prototype.values=function(){var e=[];return this.forEach(function(t){e.push(t)}),n(e)},o.prototype.entries=function(){var e=[];return this.forEach(function(t,r){e.push([r,t])}),n(e)},m.iterable&&(o.prototype[Symbol.iterator]=o.prototype.entries);var g=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];p.prototype.clone=function(){return new p(this,{body:this._bodyInit})},f.call(p.prototype),f.call(v.prototype),v.prototype.clone=function(){return new v(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new o(this.headers),url:this.url})},v.error=function(){var e=new v(null,{status:0,statusText:""});return e.type="error",e};var T=[301,302,303,307,308];v.redirect=function(e,t){if(T.indexOf(t)===-1)throw new RangeError("Invalid status code");return new v(null,{status:t,headers:{location:e}})},e.Headers=o,e.Request=p,e.Response=v,e.fetch=function(e,t){return new Promise(function(r,n){var o=new p(e,t),i=new XMLHttpRequest;i.onload=function(){var e={status:i.status,statusText:i.statusText,headers:y(i.getAllResponseHeaders()||"")};e.url="responseURL"in i?i.responseURL:e.headers.get("X-Request-URL");var t="response"in i?i.response:i.responseText;r(new v(t,e))},i.onerror=function(){n(new TypeError("Network request failed"))},i.ontimeout=function(){n(new TypeError("Network request failed"))},i.open(o.method,o.url,!0),"include"===o.credentials?i.withCredentials=!0:"omit"===o.credentials&&(i.withCredentials=!1),"responseType"in i&&m.blob&&(i.responseType="blob"),o.headers.forEach(function(e,t){i.setRequestHeader(t,e)}),i.send("undefined"==typeof o._bodyInit?null:o._bodyInit)})},e.fetch.polyfill=!0}}("undefined"!=typeof self?self:this)},function(e,t){e.exports=React},function(e,t,r){e.exports={postToUAS:r(97),deleteFromUAS:r(99)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(98),o=function(e,t,r,o,i){var a=arguments.length>5&&void 0!==arguments[5]&&arguments[5],s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;if((0,n.activityTypeIsValid)(e)&&(0,n.dataContainsAllRequiredKeys)(t)&&(0,n.apiKeyIsValid)(r)&&(0,n.envIsValid)(o)&&(0,n.domainExtIsValid)(i)){var u=(0,n.selectUASEndpoint)(o,i,e,a),c=s?(0,n.getUrlWithPreviousAction)(u,s):u,l=(0,n.buildHeaders)(u,r),f=JSON.stringify(t),d=(0,n.buildRequest)(c,l,f,"POST"),p=a?"include":"omit",h={credentials:p};return fetch(d,h)}};t.default=o,e.exports=t.default},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){return"plays"===e||"reactions"===e},n=function(e){return Boolean(e.resourceDomain&&e.resourceType&&e.resourceId&&e.action&&e.actionContext)},o=function(e){return"string"==typeof e&&/^[a-z0-9]{13,}$/i.test(e)},i=function(e){return"string"==typeof e&&("int"===e||"test"===e||"stage"===e||"live"===e)},a=function(e){return".co.uk"===e||".com"===e},s={
int:"int.",test:"test.",stage:"stage.",live:""},u=function(e,t,r,n){var o=s[e],i=n?"":"nsi.";return"https://"+i+"activity."+o+"api.bbc"+t+"/my/"+r},c=function(e,t){return e+"?previousAction="+t},l=function(e,t){var r=new Headers({Host:e,"Content-Type":"application/json","X-API-Key":t});return r},f=function(e,t,r,n){return new Request(e,{method:n,headers:t,body:r})};t.default={buildRequest:f,buildHeaders:l,selectUASEndpoint:u,domainExtIsValid:a,envIsValid:i,apiKeyIsValid:o,dataContainsAllRequiredKeys:n,activityTypeIsValid:r,getUrlWithPreviousAction:c},e.exports=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(98),o=function(e,t,r){var n=e+"/"+t;return r?n+"?previousAction="+r:n},i=function(e,t,r,i,a,s,u){var c=(0,n.selectUASEndpoint)(r,i,e,s),l=o(c,a,u),f=(0,n.buildHeaders)(c,t),d=(0,n.buildRequest)(l,f,null,"DELETE"),p=s?"include":"omit",h={credentials:p};return fetch(d,h)},a=function(e,t,r,o,a){var s=arguments.length>5&&void 0!==arguments[5]&&arguments[5],u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,c=void 0;return c=(0,n.activityTypeIsValid)(e)&&(0,n.apiKeyIsValid)(t)&&(0,n.envIsValid)(r)&&(0,n.domainExtIsValid)(o)?i(e,t,r,o,a,s,u):Promise.reject("Invalid parameters")};t.default=a,e.exports=t.default},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(95),i=n(o),a=r(101),s=n(a),u=r(102),c=r(103),l=n(c),f=r(109),d=n(f),p=r(118),h=n(p),y=r(111),v=n(y),m=r(114),b=r(119),E=n(b),_=r(154),g=n(_),T=r(147),S=n(T),P=r(148),w=r(156),R=n(w),x=function(){},O={postToUas:x,deleteFromUas:x},A="styleguide:urn",M="styleguide:resourceTitle",C="styleguide:url",L="styleguide:globalId",I="game",k=function(e){var t=e.children;return i.default.createElement("h3",{className:"reactions-styleguide__heading"},t)};k.displayName="SectionHeading",k.propTypes={children:o.PropTypes.oneOfType([o.PropTypes.arrayOf(o.PropTypes.node),o.PropTypes.node]).isRequired};var N=function(e){var t=e.children;return i.default.createElement("h4",{className:"reactions-styleguide__subheading"},t)};N.displayName="SubHeading",N.propTypes={children:o.PropTypes.oneOfType([o.PropTypes.arrayOf(o.PropTypes.node),o.PropTypes.node]).isRequired};var j=function(e){var t=e.id,r=e.heading,n=e.children,o=e.className;return i.default.createElement("section",{id:t,className:(0,s.default)("reactions-styleguide__section",o)},i.default.createElement(k,null,r),n)};j.displayName="Section",j.propTypes={id:o.PropTypes.string.isRequired,heading:o.PropTypes.string.isRequired,children:o.PropTypes.oneOfType([o.PropTypes.arrayOf(o.PropTypes.node),o.PropTypes.node]),className:o.PropTypes.string},j.defaultProps={children:i.default.createElement("noscript",null),className:""};var B={cbbc:[{count:1e4,label:m.LOVE},{count:123,label:m.LOL},{count:5347890,label:m.APPLAUSE},{count:0,label:m.GOTIT},{count:39,label:m.OMD},{count:834,label:m.SAD}],cbeebies:[{count:1e4,label:m.LOVE},{count:5347890,label:m.FUNNY},{count:0,label:m.CLAP},{count:123,label:m.GOTIT},{count:39,label:m.WOW},{count:834,label:m.SAD}],get"stay-safe"(){return this.cbbc}},U=5358886,D=function(e){return i.default.createElement("div",{className:"reactions-styleguide"},i.default.createElement(j,{heading:"Overview Cluster (CTA)",id:"overview-cluster"},i.default.createElement(N,null,"Open Without Count - clicked"),i.default.createElement(l.default,{onClick:x,isOpen:!0,count:0,product:e.product,hasBeenClicked:!0}),i.default.createElement(N,null,"Closed Without Count - clicked"),i.default.createElement(l.default,{onClick:x,isOpen:!1,count:0,product:e.product,hasBeenClicked:!0}),i.default.createElement(N,null,"Open With Count - clicked"),i.default.createElement(l.default,{onClick:x,isOpen:!0,count:555,product:e.product,hasBeenClicked:!0}),i.default.createElement(N,null,"Closed With Count - not clicked"),i.default.createElement(l.default,{onClick:x,isOpen:!1,count:U,product:e.product,hasBeenClicked:!1})),i.default.createElement(j,{heading:"Reaction Tray",id:"reaction-tray"},i.default.createElement(d.default,{showReactions:!0,product:e.product,reactionsCounts:B[e.product],reactionButtonPressStart:x,reactionButtonPressEnd:x,reactionButtonClick:x,selectedReaction:"Love",updateSelectedReaction:x})),i.default.createElement(j,{heading:"Cookie Disabled Banner",id:"cookie-warning-banner"},i.default.createElement(h.default,null)),i.default.createElement(j,{heading:"Error Message Banner",id:"error-message-banner"},i.default.createElement(S.default,null)),i.default.createElement(j,{heading:"Individual Reactions",id:"reactions-list"},B[e.product].map(function(t,r){return i.default.createElement("div",{key:r},i.default.createElement(N,null,t.label),i.default.createElement(u.Reactions,{uniqueId:"1"},function(){return i.default.createElement(v.default,{product:e.product,label:t.label,count:t.count,clickHandler:x,showReactions:!0,reactionButtonPressStart:x,reactionButtonPressEnd:x,reactionButtonClick:x})}))})),i.default.createElement(j,{heading:"Reactions Module",id:"reactions-module"},i.default.createElement(N,null,"With Cookies banner"),i.default.createElement(g.default,{enableStandaloneMode:!0,postToUASHandler:x,ReactionsModule:E.default,product:e.product,urn:A,resourceTitle:M,url:C,globalId:L,reactionsCounts:B[e.product],showCookieBanner:!0,env:"test",isSignedIn:!0,isIdAvailable:!0,idctaService:R.default,countingServiceClientLibrary:O,reactionsCountTotal:U,resourceType:I}),i.default.createElement(N,null,"With error message after reaction is clicked"),i.default.createElement(g.default,{enableStandaloneMode:!0,postToUASHandler:x,ReactionsModule:E.default,product:e.product,urn:A,resourceTitle:M,url:C,globalId:L,reactionsCounts:B[e.product],env:"test",isSignedIn:!0,isIdAvailable:!0,idctaService:R.default,error:new Error(P.ErrorTypes.UAS_FAILURE),countingServiceClientLibrary:O,reactionsCountTotal:U,resourceType:I}),i.default.createElement(N,null,"Without Cookies banner"),i.default.createElement(g.default,{enableStandaloneMode:!0,postToUASHandler:x,ReactionsModule:E.default,product:e.product,urn:A,resourceTitle:M,url:C,globalId:L,reactionsCounts:B[e.product],env:"test",isSignedIn:!0,isIdAvailable:!0,idctaService:R.default,countingServiceClientLibrary:O,reactionsCountTotal:U,resourceType:I})))};D.propTypes={product:o.PropTypes.string.isRequired},t.default=D,e.exports=t.default},function(e,t){e.exports=Morph.modules["bbc-morph-classnames@1.0.2"]},function(e,t){e.exports=Morph.modules["bbc-morph-reactions@4.2.0"]},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(95),i=n(o),a=r(101),s=n(a),u=r(104),c=n(u),l=function(e){var t=e.count>0?". Total number of reactions: "+e.count:"",r=e.isOpen?"Reactions. Hide Reactions":"Reactions. Show Reactions"+t;return i.default.createElement("button",{className:(0,s.default)("reactions-cta",{"reactions-cta--open":e.isOpen,"reactions-cta--clicked":e.hasBeenClicked}),"aria-pressed":e.isOpen,"aria-label":r,onClick:function(){e.onClick()}},i.default.createElement(c.default,e))};l.displayName="Cta",l.propTypes={onClick:o.PropTypes.func.isRequired,isOpen:o.PropTypes.bool.isRequired,count:o.PropTypes.number.isRequired,product:o.PropTypes.string.isRequired,hasBeenClicked:o.PropTypes.bool.isRequired},t.default=l,e.exports=t.default},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(95),i=n(o),a=r(105),s=n(a),u=r(106),c=n(u),l=r(107),f=n(l),d=r(108),p=n(d),h=function(e){var t={cbeebies:c.default,cbbc:s.default,get"stay-safe"(){return this.cbbc}},r=t[e.product];return i.default.createElement("div",{className:"reactions-cta-image"},i.default.createElement("span",null,i.default.createElement(r,null),e.count>0&&i.default.createElement(p.default,{count:e.count})),i.default.createElement(f.default,null))};h.displayName="CtaImage",h.propTypes={count:o.PropTypes.number.isRequired,product:o.PropTypes.string.isRequired},t.default=h,e.exports=t.default},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(95),i=n(o),a="CtaCbbcWithoutCount",s=function(){return i.default.createElement("span",{className:"cta-icon cta-cbbc-icon"},i.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 76 68"},i.default.createElement("path",{d:"M50.54 34.94A20.35 20.35 0 0 1 40 26.27c-.66-1.16-3.36-5.85-1.47-11.16a9.34 9.34 0 0 1 4-4.83 9.8 9.8 0 0 1 10.63 0 9.8 9.8 0 0 1 5.47-9.12 9.34 9.34 0 0 1 6.21-1c5.53 1.1 8.16 5.83 8.82 7a20.35 20.35 0 0 1 2 13.47c-1.25 7.19-8.81 13.81-8.81 13.81s-9.5 3.12-16.31.5z",fill:"#e63f23",fillRule:"evenodd"}),i.default.createElement("path",{d:"M42 15.34c-.79 1.44-.56 3.07.5 3.63s2.56-.15 3.34-1.6.56-3.07-.5-3.63-2.51.15-3.34 1.6z",fill:"#ee7966"}),i.default.createElement("circle",{cx:"20",cy:"25",r:"19.94",transform:"rotate(-85 20.002 25.004)",fill:"#efc203"}),i.default.createElement("path",{d:"M6.3 17.19v-.07c.06-.24.12-.47.2-.71s.19-.45.3-.68.25-.43.39-.64a7 7 0 0 1 .47-.59 6.28 6.28 0 0 1 .54-.5 6.16 6.16 0 0 1 .59-.47 6.55 6.55 0 0 1 .64-.41 7.57 7.57 0 0 1 1.39-.61 6.4 6.4 0 0 1 .73-.2 6 6 0 0 1 .74-.13 6 6 0 0 1 .71-.08 6 6 0 0 1 .74 0c.25 0 .49 0 .73.09s.48.09.72.16.47.15.69.24c-.24 0-.48.08-.72.11l-.7.11c-.23 0-.46.08-.68.12s-.45.1-.67.14-.44.11-.65.16-.43.12-.64.19-.42.14-.63.22a6.37 6.37 0 0 0-.61.25 6.39 6.39 0 0 0-.59.28c-.2.09-.38.21-.58.31s-.37.24-.56.35-.36.26-.54.38-.34.28-.53.42-.34.3-.51.46-.32.33-.5.49-.31.35-.49.53zM35.55 22.4v-.07c-.1-.23-.19-.45-.28-.66s-.19-.43-.3-.63-.2-.41-.32-.6-.22-.39-.35-.57-.24-.37-.38-.55-.25-.36-.41-.52-.27-.34-.43-.49a6.39 6.39 0 0 0-.46-.47 6.37 6.37 0 0 0-.49-.44c-.17-.14-.33-.29-.51-.42s-.35-.28-.53-.4-.36-.27-.56-.38-.38-.25-.58-.37-.39-.25-.6-.35l-.62-.35c-.21-.11-.42-.22-.64-.35h.73c.24 0 .48.06.73.1s.48.11.72.17a7.6 7.6 0 0 1 1.38.55 6 6 0 0 1 .65.37 6.4 6.4 0 0 1 .62.44A7.57 7.57 0 0 1 34 17.46a6.55 6.55 0 0 1 .46.6 6.16 6.16 0 0 1 .39.65 6.28 6.28 0 0 1 .32.69 7 7 0 0 1 .24.72c.06.24.1.49.15.73s0 .5.05.74 0 .49-.06.74z",fill:"#9f8214"}),i.default.createElement("circle",{cx:"13.71",cy:"20.6",r:"5.25",transform:"rotate(-79.9 13.71 20.605)",fill:"#fff"}),i.default.createElement("ellipse",{cx:"13.71",cy:"20.74",rx:"3.04",ry:"2.56",transform:"rotate(-79.9 13.711 20.738)",fill:"#2b2b2b"}),i.default.createElement("circle",{cx:"27.2",cy:"23.01",r:"5.25",transform:"rotate(-79.9 27.2 23.006)",fill:"#fff"}),i.default.createElement("ellipse",{cx:"27.15",cy:"23.13",rx:"3.04",ry:"2.56",transform:"rotate(-79.9 27.15 23.127)",fill:"#2b2b2b"}),i.default.createElement("path",{d:"M22.52 34.49c-.51 2.89-2.91 4.88-5.34 4.45s-4-3.13-3.48-6q0-.22.09-.42c.66-2.66 2.94-4.44 5.25-4s3.96 3.08 3.48 5.97z",fill:"#2b2b2b"}),i.default.createElement("circle",{cx:"42.08",cy:"45.87",r:"22.16",transform:"rotate(-81.9 42.082 45.87)",fill:"#ffd201"}),i.default.createElement("path",{"data-name":"<Path>",d:"M66.62 48.07a3.8 3.8 0 0 1-4.5 6.13c-1.7-1.24-5.22-8.51-5.22-8.51s8.02 1.14 9.72 2.38zM18.06 41.1a3.79 3.79 0 1 0 2.54 7.15c2-.71 7.44-6.67 7.44-6.67s-8.04-1.19-9.98-.48z",fill:"#269dc8"}),i.default.createElement("path",{d:"M27.82 44.39a14.18 14.18 0 0 0 28.07 4.11z",fill:"#2b2b2b"}),i.default.createElement("path",{d:"M32.53 57.11a8.31 8.31 0 0 1 15.21 2.22",fill:"#a75916"}),i.default.createElement("path",{d:"M40.86 53.15a8.32 8.32 0 0 0-8.36 4 14.25 14.25 0 0 0 7.27 3.36 13.92 13.92 0 0 0 7.94-1.14 8.22 8.22 0 0 0-6.85-6.22z",fill:"#e63f23"}),i.default.createElement("path",{d:"M53.76 43.64a.87.87 0 0 1-.7-.58 3.41 3.41 0 0 0-6-.86.87.87 0 0 1-1.43-1 5.14 5.14 0 0 1 9.1 1.3.87.87 0 0 1-.94 1.13zM39.76 41.65a.87.87 0 0 1-.7-.58 3.41 3.41 0 0 0-6-.86.87.87 0 0 1-1.43-1 5.14 5.14 0 0 1 9.1 1.3.87.87 0 0 1-.94 1.13z",fill:"#2b2b2b"})))};s.displayName=a,t.default=s,e.exports=t.default},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(95),i=n(o),a="CtaCbeebiesWithoutCount",s=function(){return i.default.createElement("span",{className:"cta-icon cta-cbeebies-icon"},i.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 76 68"},i.default.createElement("defs",null,i.default.createElement("clipPath",{id:"a"},i.default.createElement("path",{d:"M16.26 38.31a9.6 9.6 0 0 1-6.72-11.8 19.21 19.21 0 0 1 10-.22l.42.11a19.21 19.21 0 0 1 8.57 5.24 9.6 9.6 0 0 1-11.74 6.82z",fill:"#2b2b2b"}))),i.default.createElement("circle",{cx:"20.16",cy:"25.01",r:"19.9",transform:"rotate(-80 20.16 25.01)",fill:"#efc203"}),i.default.createElement("ellipse",{cx:"14.75",cy:"18.89",rx:"3.3",ry:"2.55",transform:"rotate(-74.9 14.757 18.895)",fill:"#2b2b2b"}),i.default.createElement("ellipse",{cx:"27.9",cy:"22.44",rx:"3.3",ry:"2.55",transform:"rotate(-74.9 27.908 22.442)",fill:"#2b2b2b"}),i.default.createElement("path",{d:"M7.46 14.93v-.07c.08-.23.16-.46.26-.69s.23-.43.36-.65.29-.41.45-.6a7 7 0 0 1 .52-.55 6.27 6.27 0 0 1 .58-.48 6.15 6.15 0 0 1 .63-.42 6.54 6.54 0 0 1 .67-.35 7.55 7.55 0 0 1 1.43-.48 6.38 6.38 0 0 1 .74-.13 6 6 0 0 1 .75-.06 6 6 0 0 1 .75 0 6 6 0 0 1 .74.08c.24.05.49.08.72.15s.47.13.7.22.45.19.67.3h-.72l-.7.05c-.23 0-.46 0-.69.06s-.45.06-.68.08-.44.07-.66.11-.44.09-.65.13-.43.1-.64.16a6.35 6.35 0 0 0-.63.19 6.38 6.38 0 0 0-.62.23c-.21.07-.4.17-.6.26s-.39.2-.59.3-.38.23-.57.33-.37.25-.56.37-.36.27-.54.41L8 14.4c-.17.16-.34.32-.53.48zM36.09 22.66v-.07c-.08-.23-.15-.46-.22-.68s-.15-.44-.24-.65-.17-.42-.27-.63-.19-.41-.3-.6-.2-.39-.33-.58-.22-.38-.36-.55-.24-.36-.39-.53a6.38 6.38 0 0 0-.42-.51 6.35 6.35 0 0 0-.45-.48c-.15-.16-.3-.32-.47-.46s-.32-.3-.5-.44-.34-.3-.52-.43-.35-.29-.54-.41-.37-.28-.56-.4l-.58-.4c-.2-.13-.4-.26-.6-.4.24 0 .49 0 .73.07s.48.11.72.16.46.16.7.23a7.58 7.58 0 0 1 1.33.67 6 6 0 0 1 .62.43 6.38 6.38 0 0 1 .57.49 7.55 7.55 0 0 1 1 1.14 6.54 6.54 0 0 1 .41.64 6.15 6.15 0 0 1 .33.68 6.27 6.27 0 0 1 .26.71 7 7 0 0 1 .17.73c0 .25.06.5.08.74s0 .5 0 .74-.07.49-.12.73z",fill:"#9f8214"}),i.default.createElement("path",{d:"M16.26 38.31a9.6 9.6 0 0 1-6.72-11.8 19.21 19.21 0 0 1 10-.22l.42.11a19.21 19.21 0 0 1 8.57 5.24 9.6 9.6 0 0 1-11.74 6.82z",fill:"#2b2b2b"}),i.default.createElement("g",{clipPath:"url(#a)"},i.default.createElement("ellipse",{cx:"16.36",cy:"39.1",rx:"4.41",ry:"5.64",transform:"rotate(-74.9 16.361 39.1)",fill:"#e63f23"})),i.default.createElement("path",{d:"M50.54 34.94A20.35 20.35 0 0 1 40 26.27c-.66-1.16-3.36-5.85-1.47-11.16a9.34 9.34 0 0 1 4-4.83 9.8 9.8 0 0 1 10.63 0 9.8 9.8 0 0 1 5.47-9.12 9.34 9.34 0 0 1 6.21-1c5.53 1.1 8.16 5.83 8.82 7a20.35 20.35 0 0 1 2 13.47c-1.25 7.19-8.81 13.81-8.81 13.81s-9.5 3.12-16.31.5z",fill:"#e63f23",fillRule:"evenodd"}),i.default.createElement("path",{d:"M42 15.34c-.79 1.44-.56 3.07.5 3.63s2.56-.15 3.34-1.6.56-3.07-.5-3.63-2.51.15-3.34 1.6z",fill:"#ee7966"}),i.default.createElement("circle",{cx:"42.08",cy:"45.81",r:"22.09",transform:"matrix(.17 -.98 .98 .17 -10.35 79.3)",fill:"#ffd201"}),i.default.createElement("path",{d:"M55.66 49a14.07 14.07 0 0 1-27.69-5",fill:"#2b2b2b"}),i.default.createElement("path",{d:"M32.21 56.72a8.24 8.24 0 0 1 15 2.7",fill:"#a75916"}),i.default.createElement("path",{d:"M40.6 53.07a8.26 8.26 0 0 0-8.42 3.68 14.13 14.13 0 0 0 7.1 3.57 13.8 13.8 0 0 0 7.91-.87 8.15 8.15 0 0 0-6.59-6.38z",fill:"#e63f23"}),i.default.createElement("path",{d:"M53.22 43.65l-7.29-4.21a.94.94 0 0 1 .31-1.73l8.26-1.39a.7.7 0 0 1 .27 1.38l-6 1.37 5.13 3.43a.67.67 0 0 1-.71 1.15zM33.35 32.47l7.29 4.21a.94.94 0 0 1-.31 1.73l-8.27 1.39a.7.7 0 0 1-.27-1.38l6-1.37-5.13-3.43a.67.67 0 0 1 .71-1.15z",fill:"#2b2b2b"})))};s.displayName=a,t.default=s,e.exports=t.default},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(95),i=n(o),a="CtaArrow",s=function(e){return i.default.createElement("div",{className:"cta-arrow-icon"},i.default.createElement("svg",{height:e.height,width:e.width,viewBox:"0 0 20 15"},i.default.createElement("path",{fill:"#db63d9",d:"M18.5 4.7l-2.8-2.9L10 7.5 4.3 1.8 1.5 4.7l8.5 8.5z"})))};s.displayName=a,s.propTypes={height:o.PropTypes.number,width:o.PropTypes.number},s.defaultProps={height:15,width:20},t.default=s,e.exports=t.default},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(95),i=n(o),a=function(e){return i.default.createElement("span",{className:"reactions-count-container"},i.default.createElement("span",{className:"reactions-count-container__count-text"},e.count))};a.displayName="CtaCount",a.propTypes={count:o.PropTypes.number.isRequired},t.default=a,e.exports=t.default},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(2),i=n(o),a=r(43),s=n(a),u=r(80),c=n(u),l=r(82),f=n(l),d=r(81),p=n(d),h=r(86),y=n(h),v=r(95),m=n(v),b=r(101),E=n(b),_=r(102),g=r(110),T=n(g),S=r(116),P=function(e){function t(e){(0,c.default)(this,t);var r=(0,p.default)(this,(t.__proto__||(0,s.default)(t)).call(this,e));return r.props=e,r.state={shouldDisableAnimation:!0},r}return(0,y.default)(t,e),(0,f.default)(t,[{key:"componentWillReceiveProps",value:function(e){this.props.showReactions!==e.showReactions&&this.setState({shouldDisableAnimation:!1})}},{key:"render",value:function(){var e=this,t=(0,S.getUniqueId)(this.props.urn);return m.default.createElement("div",{className:(0,E.default)("reactions-tray",{"animation-playing":this.props.isAnimationPlaying,"reactions-tray--open":this.props.isOpen})},m.default.createElement("div",{className:(0,E.default)("reactions-tray__reactions-container",{"reactions-tray__reactions-container--open":this.props.showReactions,"reactions-tray__reactions-container--no-animation":this.state.shouldDisableAnimation})},m.default.createElement(_.Reactions,{uniqueId:t,store:S.readOnlyLocalStorageHelper},function(t){var r=(0,i.default)({active:t},e.props);return m.default.createElement(T.default,r)}),m.default.createElement("div",{className:"reactions-tray__reactive-prompt"},"Press and hold for more...")))}}]),t}(v.Component);P.displayName="Tray",P.defaultProps={showReactions:!1,urn:!1,isAnimationPlaying:!1,isOpen:!1},P.propTypes={showReactions:v.PropTypes.bool,product:v.PropTypes.string.isRequired,reactionsCounts:v.PropTypes.arrayOf(v.PropTypes.shape({label:v.PropTypes.string,count:v.PropTypes.number})).isRequired,urn:v.PropTypes.oneOfType([v.PropTypes.string,v.PropTypes.bool]),isAnimationPlaying:v.PropTypes.bool,isOpen:v.PropTypes.bool},t.default=P,e.exports=t.default},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(2),i=n(o),a=r(43),s=n(a),u=r(80),c=n(u),l=r(82),f=n(l),d=r(81),p=n(d),h=r(86),y=n(h),v=r(95),m=n(v),b=r(111),E=n(b),_=r(114),g=function(e){function t(e){(0,c.default)(this,t);var r=(0,p.default)(this,(t.__proto__||(0,s.default)(t)).call(this,e));return r.props=e,r.firstButtonRef=null,r}return(0,y.default)(t,e),(0,f.default)(t,[{key:"componentDidMount",value:function(){var e=(0,_.keyToLabel)(this.props.active,this.props.product),t=e!==this.props.selectedReaction;t&&this.props.updateSelectedReaction(e)}},{key:"componentDidUpdate",value:function(e){var t=e.showReactions===!1&&this.props.showReactions===!0;t&&this.firstButtonRef&&this.firstButtonRef.focus()}},{key:"render",value:function(){var e=this;return m.default.createElement("div",{className:"reactions-list"},this.props.reactionsCounts.map(function(t,r){var n=(0,i.default)({},e.props,t),o={ref:function(t){0===r&&(e.firstButtonRef=t)}};return m.default.createElement(E.default,(0,i.default)({},n,{key:r,buttonProps:o}))}))}}]),t}(v.Component);g.displayName="ReactionsList",g.defaultProps={active:null,selectedReaction:null},g.propTypes={selectedReaction:v.PropTypes.string,active:v.PropTypes.string,updateSelectedReaction:v.PropTypes.func.isRequired,reactionsCounts:v.PropTypes.arrayOf(v.PropTypes.shape({label:v.PropTypes.string,count:v.PropTypes.number})).isRequired,showReactions:v.PropTypes.bool.isRequired,product:v.PropTypes.string.isRequired},t.default=g,e.exports=t.default},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(112),i=n(o),a=r(2),s=n(a),u=r(95),c=n(u),l=r(102),f=r(101),d=n(f),p=r(113),h=n(p),y=r(115),v=n(y),m=r(114),b=function(e){var t,r=e.product,n=e.label,o=e.count,a=e.showReactions,u=e.buttonProps,f=void 0===u?{}:u,p=e.reactionButtonPressStart,y=e.reactionButtonPressEnd,b=e.selectedReaction,E="cbeebies"===r?v.default:h.default,_=E[""+n],g=n.replace("!",""),T="reaction-button--show",S=(0,s.default)({},f,{onMouseDown:function(){return p(n)},onTouchStart:function(){return p(n)},onKeyDown:function(e){e.keyCode!==m.ENTER_KEY&&e.keyCode!==m.SPACE_KEY||e.repeat||p(n)},onKeyUp:function(e){e.keyCode!==m.ENTER_KEY&&e.keyCode!==m.SPACE_KEY||y(n)},onMouseUp:function(){return y(n)},onMouseLeave:function(){return y(n)},onTouchEnd:function(){return y(n)},className:(0,d.default)("reaction-button",(t={},(0,i.default)(t,T,a),(0,i.default)(t,"reaction-button--selected",b===n),t))}),P="reaction-icon reaction-icon-"+m.LABEL_TO_KEY[n];return c.default.createElement(l.Reaction,{key:n,type:m.LABEL_TO_KEY[n],buttonProps:S},c.default.createElement(l.ReactionIcon,{className:P},c.default.createElement(_,null)),c.default.createElement(l.ReactionLabel,{className:"reaction-label","aria-label":"Reaction type "+n+","},n),c.default.createElement(l.ReactionCount,{className:"reaction-count",count:o,"aria-label":"Total number of "+g+"s "+o}),c.default.createElement("div",{className:"reaction-focus-line"}))};b.propTypes={product:u.PropTypes.string.isRequired,label:u.PropTypes.string.isRequired,count:u.PropTypes.number.isRequired,showReactions:u.PropTypes.bool.isRequired,buttonProps:u.PropTypes.shape({class:u.PropTypes.string,arialabel:u.PropTypes.string}),reactionButtonPressStart:u.PropTypes.func.isRequired,reactionButtonPressEnd:u.PropTypes.func.isRequired,selectedReaction:u.PropTypes.string},b.defaultProps={buttonProps:{class:null,arialabel:null},selectedReaction:null},t.default=b,e.exports=t.default},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var o=r(83),i=n(o);t.default=function(e,t,r){return t in e?(0,i.default)(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o,i=r(112),a=n(i),s=r(95),u=n(s),c=r(114),l=function(){return u.default.createElement("svg",{"data-name":"Layer 1",viewBox:"0 0 72 72"},u.default.createElement("path",{d:"M13.54 49.73A31.54 31.54 0 0 1 6 30c0-2.08-.06-10.46 6.55-16.17a14.48 14.48 0 0 1 9.1-3.46c7.39 0 11.7 3.42 14.34 8.12 2.64-4.69 7-8.13 14.34-8.12a14.48 14.48 0 0 1 9.1 3.46C66.06 19.54 66 27.93 66 30a31.54 31.54 0 0 1-7.54 19.73C51.28 58.48 36 61.63 36 61.63s-15.28-3.15-22.46-11.9z",fill:"#e63f23",fillRule:"evenodd"}),u.default.createElement("path",{d:"M17.06 16.8C14.9 18.15 14 20.51 15 22.08s3.56 1.75 5.73.4 3.11-3.71 2.11-5.28-3.61-1.75-5.78-.4z",fill:"#ee7966"}))},f=function(){return u.default.createElement("svg",{"data-name":"Layer 1",viewBox:"0 0 72 72"},u.default.createElement("circle",{cx:"35.91",cy:"35.72",r:"30",fill:"#ffd201"}),u.default.createElement("path",{d:"M69.12 34c-2.48-1.34-13.33-1.34-13.33-1.34s6 9.07 8.52 10.41A5.07 5.07 0 0 0 71.18 41a5.15 5.15 0 0 0-2.06-7zM2.86 34a5.15 5.15 0 0 0-2.07 7 5.07 5.07 0 0 0 6.87 2.12c2.48-1.34 8.52-10.41 8.52-10.41S5.34 32.67 2.86 34z",fill:"#269dc8"}),u.default.createElement("path",{d:"M16.37 36.45a19.34 19.34 0 0 0 38.69.16z",fill:"#2b2b2b"}),u.default.createElement("path",{d:"M25.17 52.73a11.33 11.33 0 0 1 21 .08",fill:"#a75916"}),u.default.createElement("path",{d:"M35.66 45.78a11.35 11.35 0 0 0-10.52 7 19.44 19.44 0 0 0 10.47 3.12 19 19 0 0 0 10.5-3.06 11.21 11.21 0 0 0-10.45-7.06z",fill:"#e63f23"}),u.default.createElement("path",{d:"M51.25 30.46a1.18 1.18 0 0 1-1.06-.65 4.65 4.65 0 0 0-8.31 0 1.18 1.18 0 0 1-2.12-1.06 7 7 0 0 1 12.54 0 1.18 1.18 0 0 1-1.06 1.71zM32 30.46a1.18 1.18 0 0 1-1.06-.65 4.65 4.65 0 0 0-8.31 0 1.18 1.18 0 0 1-2.12-1.06 7 7 0 0 1 12.54 0A1.18 1.18 0 0 1 32 30.46z",fill:"#2b2b2b"}))},d=function(){return u.default.createElement("svg",{"data-name":"Layer 1",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 72 72"},u.default.createElement("path",{d:"M52.43 11.33l4.12-7.71a1.09 1.09 0 0 1 1.87 1.09l-4.12 7.71a1.09 1.09 0 0 1-1.87-1.09M43.75 3a1 1 0 0 1 1.79.25l1.23 5.28a1 1 0 0 1-1.89.47l-1.23-5.27a1 1 0 0 1 .1-.74M15.59 11.1l-.7-8.71a1.09 1.09 0 0 1 2.17-.09l.7 8.71a1.09 1.09 0 0 1-2.17.09M3.78 8.77A1 1 0 0 1 5.41 8l3.89 3.79A1 1 0 1 1 8 13.23L4.09 9.45a1 1 0 0 1-.31-.68",fill:"#2b2b2b"}),u.default.createElement("path",{d:"M57.24 56.4c5-7.08 4.75-10.71 2.84-16.46-.37-1.12-.91-2.56-1.4-3.67a96 96 0 0 0-5.2-10.15l-3.54-7.32a4 4 0 0 0-4-2.23 3.72 3.72 0 0 0-2.6 1.36 4.29 4.29 0 0 0-.49 4.61l4 8.31L24 15.42a4 4 0 0 0-5.52 1l-.05.06c-1.55 2.09-.06 4.44.18 4.74l-4.06-2.74-.42-.28a4 4 0 0 0-5.56 1 3.86 3.86 0 0 0-.1 4.12 4.1 4.1 0 0 0 1.25 1.35L13 27.54c-1.84-1.24-4.92-1.62-6.38.54A3.86 3.86 0 0 0 7.8 33.5l5.65 4.66c-1.9-1.29-4.4-1.34-5.6.7a3.79 3.79 0 0 0 1.28 5s18.1 13.05 23.78 16.56c6.15 3.8 8.78 4.25 13.83 3.69 4.27-.47 7-2.71 10.5-7.72",fill:"#9f8214"}),u.default.createElement("path",{d:"M64.75 41.35c-.34-1.13-.83-2.57-1.29-3.68-1.46-3.59-8.23-17.6-8.23-17.6a4 4 0 0 0-3.92-2.32 3.72 3.72 0 0 0-2.79 1.49 4.29 4.29 0 0 0-.44 4.39l3.27 7.23a.33.33 0 0 1-.49.4L29.57 16a4 4 0 0 0-5.51.86l-.06.06a2.53 2.53 0 0 0-.65 2 2.13 2.13 0 0 0 1 1.67l.48.37L39.64 32a.53.53 0 0 1 .13.72.48.48 0 0 1-.41.2.54.54 0 0 1-.31-.11L22.64 20.63l-2.55-1.81-.34-.25a4.06 4.06 0 0 0-5.68.88 3.45 3.45 0 0 0-.16 3.79 17.84 17.84 0 0 0 2.3 2.17l2.1 1.59 18.37 13.18a.53.53 0 0 1 .13.72.48.48 0 0 1-.41.2.54.54 0 0 1-.3-.1L17.21 27.41a4 4 0 0 0-2.55-.72 3.49 3.49 0 0 0-2.72 1.45 3.83 3.83 0 0 0 1 5.42l5 3.7 14.18 10.12a.53.53 0 0 1 .13.72.48.48 0 0 1-.41.2.54.54 0 0 1-.31-.11l-14-10-.25-.19-.54-.37c-1.93-.94-3.73-.74-4.73 1s.38 4 1.1 4.51c0 0 18.53 14.21 24.09 17.86 6 3.95 8.62 4.45 13.64 4 4.25-.36 7-2.51 10.65-7.39 5.13-6.88 5.01-10.5 3.26-16.26z",fill:"#ffd201"}))},p=function(){return u.default.createElement("svg",{"data-name":"Layer 1",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 72 72"},u.default.createElement("circle",{cx:"36",cy:"36",r:"30",fill:"#ffd201"}),u.default.createElement("path",{d:"M35.9 14.3a.82.82 0 0 1-.82-.82V9.7a.82.82 0 0 1 1.65 0v3.78a.82.82 0 0 1-.83.82zM61.42 36.51h-3.78a.82.82 0 0 1 0-1.65h3.78a.82.82 0 1 1 0 1.65zM14.16 36.51h-3.78a.82.82 0 1 1 0-1.65h3.78a.82.82 0 0 1 0 1.65zM51.28 20.67a.82.82 0 0 1-.58-1.4l2.67-2.67a.82.82 0 0 1 1.16 1.16l-2.67 2.67a.82.82 0 0 1-.58.24zM20.53 20.67a.82.82 0 0 1-.58-.24l-2.67-2.67a.82.82 0 1 1 1.16-1.16l2.67 2.67a.82.82 0 0 1-.58 1.4zM44 15.87a.82.82 0 0 1-.76-1.13l1.41-3.5a.82.82 0 0 1 1.53.61l-1.41 3.5a.82.82 0 0 1-.77.52zM59.57 46a.82.82 0 0 1-.31-.06l-3.5-1.41a.82.82 0 1 1 .62-1.53l3.5 1.41a.82.82 0 0 1-.31 1.59zM15.74 28.39a.82.82 0 0 1-.31-.06l-3.5-1.41a.82.82 0 0 1 .61-1.53L16 26.8a.82.82 0 0 1-.31 1.59zM55.91 28a.82.82 0 0 1-.32-1.58l3.48-1.48a.82.82 0 0 1 .64 1.51l-3.48 1.48a.82.82 0 0 1-.32.07zM12.43 46.51a.82.82 0 0 1-.32-1.58l3.48-1.48a.82.82 0 1 1 .63 1.55l-3.48 1.48a.82.82 0 0 1-.31.03zM27.39 16a.82.82 0 0 1-.76-.5l-1.48-3.48a.82.82 0 0 1 1.51-.64l1.48 3.48a.82.82 0 0 1-.75 1.14zM29.39 48.81c0-2.53-1.63-4.9-3.47-6.63a13.68 13.68 0 0 1 3.68-22.52c9.92-4.66 20.67 2.71 20.67 12.41a13.83 13.83 0 0 1-5.79 11.26 5 5 0 0 0-2.1 4.1v1.39a17 17 0 0 1-5.83 1.34 23.78 23.78 0 0 1-7.16-1.35z",fill:"#fff"}),u.default.createElement("path",{d:"M29.42 48.71v4.8a8.05 8.05 0 0 0 2.33 1.09l.07.18a4.09 4.09 0 1 0 8.17 0v-.06a2.42 2.42 0 0 0 .11-.29 21.91 21.91 0 0 0 2.3-.79v-5.13s-4.92 3.49-12.98.2z",fill:"#d3145b"}))},h=function(){return u.default.createElement("svg",{"data-name":"Layer 1",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 72 72"},u.default.createElement("circle",{cx:"36",cy:"36",r:"30",transform:"rotate(-5.1 35.96834013 36.0247667)",fill:"#ffd201"}),u.default.createElement("circle",{cx:"25.69",cy:"31.15",r:"7.9",fill:"#fff"}),u.default.createElement("ellipse",{cx:"25.73",cy:"31.35",rx:"3.85",ry:"4.57",fill:"#2b2b2b"}),u.default.createElement("circle",{cx:"46.31",cy:"31.15",r:"7.9",fill:"#fff"}),u.default.createElement("ellipse",{cx:"46.26",cy:"31.35",rx:"3.85",ry:"4.57",fill:"#2b2b2b"}),u.default.createElement("path",{d:"M42.41 49.4c0 4.42-3 8-6.74 8s-6.74-3.58-6.74-8v-.65c.28-4.11 3.18-7.35 6.72-7.35 3.75-.01 6.76 3.6 6.76 8z",fill:"#2b2b2b"}),u.default.createElement("path",{d:"M13.65 28c.4-6.28 7-10.64 13-9.33-5.31 2.14-10.01 4.14-13 9.33zM58.35 28c-.4-6.28-7-10.64-13-9.33 5.31 2.14 10.01 4.14 13 9.33z",fill:"#9f8214"}))},y=function(){return u.default.createElement("svg",{"data-name":"Layer 1",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 72 72"},u.default.createElement("circle",{cx:"36",cy:"36",r:"30",transform:"rotate(-5.1 35.96834013 36.0247667)",fill:"#ffd201"}),u.default.createElement("path",{d:"M15 40.42c1.16-2.66 8.18-5.59 8.18-5.59s2.59 7.17 1.42 9.79a5.26 5.26 0 0 1-9.6-4.2z",fill:"#269dc8"}),u.default.createElement("path",{d:"M25.81 53.82a1 1 0 0 1-.81-1.55A14.14 14.14 0 0 1 36.35 46a14.1 14.1 0 0 1 11.16 6A1 1 0 1 1 46 53.2a12 12 0 0 0-9.65-5.2 12.22 12.22 0 0 0-9.76 5.44 1 1 0 0 1-.78.38zM26.26 36A6.91 6.91 0 0 1 20 32.2a1.17 1.17 0 1 1 2.1-1 4.6 4.6 0 0 0 8.23 0 1.17 1.17 0 1 1 2.09 1.05A6.91 6.91 0 0 1 26.26 36zM45.36 36a6.91 6.91 0 0 1-6.21-3.84 1.17 1.17 0 1 1 2.1-1 4.6 4.6 0 0 0 8.23 0 1.17 1.17 0 1 1 2.09 1.05A6.91 6.91 0 0 1 45.36 36z",fill:"#2b2b2b"}))};t.default=(o={},(0,a.default)(o,c.LOVE,l),(0,a.default)(o,c.LOL,f),(0,a.default)(o,c.APPLAUSE,d),(0,a.default)(o,c.GOTIT,p),(0,a.default)(o,c.OMD,h),(0,a.default)(o,c.SAD,y),o),e.exports=t.default},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var r="cbeebies"===t?_:g,n=r.reduce(function(e,t){return(0,s.default)({},e,(0,c.default)({},T[t],t))},{});return n[e]}Object.defineProperty(t,"__esModule",{value:!0}),t.KEY_TO_UAS_CONTEXT=t.LABEL_TO_KEY=t.CBBC_LABELS=t.CBEEBIES_LABELS=t.SPACE_KEY=t.ENTER_KEY=t.SPRITE_REVERSE_EFFECT_DELAY=t.SPRITE_EFFECT_DELAY=t.SPRITE_SLIDE_NUMBER_DEFAULT=t.SPRITE_SLIDE_DECREMENT_INTERVAL=t.SPRITE_SLIDE_INCREMENT_INTERVAL=t.SPRITE_TOTAL_SLIDES=t.NO_REACTION=t.CLAP=t.WOW=t.FUNNY=t.SAD=t.OMD=t.GOTIT=t.APPLAUSE=t.LOL=t.LOVE=void 0;var i,a=r(2),s=n(a),u=r(112),c=n(u);t.keyToLabel=o;var l=t.LOVE="Love",f=t.LOL="LOL",d=t.APPLAUSE="Applause",p=t.GOTIT="Got It!",h=t.OMD="OMD",y=t.SAD="Sad",v=t.FUNNY="Funny",m=t.WOW="Wow",b=t.CLAP="Clap",E=(t.NO_REACTION="No Content",t.SPRITE_TOTAL_SLIDES=10,t.SPRITE_SLIDE_INCREMENT_INTERVAL=100),_=(t.SPRITE_SLIDE_DECREMENT_INTERVAL=E/2,t.SPRITE_SLIDE_NUMBER_DEFAULT=0,t.SPRITE_EFFECT_DELAY=300,t.SPRITE_REVERSE_EFFECT_DELAY=1e3,t.ENTER_KEY=13,t.SPACE_KEY=32,t.CBEEBIES_LABELS=[l,v,b,p,m,y]),g=t.CBBC_LABELS=[l,f,d,p,h,y],T=t.LABEL_TO_KEY=(i={},(0,c.default)(i,d,"applause"),(0,c.default)(i,b,"applause"),(0,c.default)(i,v,"lol"),(0,c.default)(i,p,"inspired"),(0,c.default)(i,l,"loved"),(0,c.default)(i,f,"lol"),(0,c.default)(i,h,"omd"),(0,c.default)(i,y,"sad"),(0,c.default)(i,m,"omd"),i);t.KEY_TO_UAS_CONTEXT={applause:"emotion-inspired",lol:"emotion-funny",inspired:"emotion-inspired",loved:"emotion-positive",omd:"emotion-shocked",sad:"emotion-sad"}},function(e,t,r){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i,a=r(112),s=o(a),u=r(95),c=o(u),l=r(114),f=r(113),d=n(f),p=function(){return c.default.createElement("svg",{
"data-name":"Layer 1",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 72 72"},c.default.createElement("path",{d:"M33.34 6.12A30 30 0 1 1 6.12 38.66 30 30 0 0 1 33.34 6.12",fill:"#ffd201"}),c.default.createElement("path",{d:"M55.14 37.21a19.14 19.14 0 1 1-38.29-.16",fill:"#2b2b2b"}),c.default.createElement("path",{d:"M25.56 53.17a11.22 11.22 0 0 1 20.75.07",fill:"#a75916"}),c.default.createElement("path",{d:"M35.95 46.29a11.24 11.24 0 0 0-10.41 6.91 19.23 19.23 0 0 0 10.36 3.11 18.78 18.78 0 0 0 10.39-3 11.1 11.1 0 0 0-10.34-7",fill:"#e63f23"}),c.default.createElement("path",{d:"M21.36 20.41l10.76 3.91a1.27 1.27 0 0 1 0 2.4l-10.75 3.81a1 1 0 0 1-.69-1.78l7.7-3.25-7.69-3.39a.92.92 0 0 1 .68-1.7M51.32 22.11l-7.7 3.38 7.71 3.25a1 1 0 0 1-.69 1.78l-10.74-3.8a1.27 1.27 0 0 1 0-2.4l10.76-3.91a.92.92 0 0 1 .68 1.7",fill:"#2b2b2b"}))},h=function(){return c.default.createElement("svg",{"data-name":"Layer 1",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 72 72"},c.default.createElement("circle",{cx:"35.91",cy:"35.72",r:"30",fill:"#ffd201"}),c.default.createElement("ellipse",{cx:"25.73",cy:"29.22",rx:"3.85",ry:"4.98",fill:"#2b2b2b"}),c.default.createElement("ellipse",{cx:"46.27",cy:"29.22",rx:"3.85",ry:"4.98",fill:"#2b2b2b"}),c.default.createElement("path",{d:"M13.57 26.32v-.1c0-.37.06-.73.11-1.1s.17-.72.27-1.08.26-.71.41-1a10.55 10.55 0 0 1 .54-1 9.46 9.46 0 0 1 .65-.93 9.27 9.27 0 0 1 .75-.86 9.86 9.86 0 0 1 .84-.77A11.39 11.39 0 0 1 19 18.14a9.62 9.62 0 0 1 1-.49 9 9 0 0 1 1.06-.38 11.43 11.43 0 0 1 2.19-.45c.37 0 .74-.07 1.11-.07s.74 0 1.11.05.73.1 1.09.18c-.35.14-.69.25-1 .35l-1 .35c-.33.1-.66.24-1 .36s-.64.26-1 .39-.62.28-.93.42-.6.3-.9.45-.58.32-.87.49a9.58 9.58 0 0 0-.84.53 9.62 9.62 0 0 0-.81.57c-.28.18-.51.41-.77.62s-.48.45-.74.66-.46.48-.7.71-.44.51-.67.76-.42.54-.63.81-.39.57-.6.86-.37.6-.59.91zM58.27 26.32v-.1c-.21-.31-.4-.61-.59-.91s-.4-.58-.6-.86-.41-.55-.63-.81-.43-.52-.67-.76-.45-.49-.7-.71-.47-.47-.74-.66-.5-.43-.77-.62a9.61 9.61 0 0 0-.81-.57 9.58 9.58 0 0 0-.84-.53c-.28-.17-.57-.34-.87-.49s-.59-.32-.9-.45-.61-.3-.93-.42-.63-.28-1-.39-.64-.26-1-.36l-1-.35c-.34-.11-.69-.22-1-.35.36-.08.72-.13 1.09-.18s.73 0 1.11-.05.74 0 1.11.07a11.43 11.43 0 0 1 2.19.45 9 9 0 0 1 1.06.38 9.62 9.62 0 0 1 1 .49 11.39 11.39 0 0 1 1.89 1.27 9.86 9.86 0 0 1 .84.77 9.28 9.28 0 0 1 .75.86A9.45 9.45 0 0 1 57 22a10.54 10.54 0 0 1 .54 1c.16.34.28.7.41 1s.19.73.27 1.08.09.74.11 1.1z",fill:"#9f8214"}),c.default.createElement("path",{d:"M35.55 56.89a14.47 14.47 0 0 1-14.42-14.53 29 29 0 0 1 14.54-4.26h.66a29 29 0 0 1 14.54 4.26 14.47 14.47 0 0 1-14.42 14.53z",fill:"#2b2b2b"}),c.default.createElement("path",{d:"M28.43 55a14.31 14.31 0 0 0 7.11 2h.91a14.31 14.31 0 0 0 7.11-2A9 9 0 0 0 36 51.41 9 9 0 0 0 28.43 55z",fill:"#e63f23"}))};t.default=(i={},(0,s.default)(i,l.LOVE,d[l.LOVE]),(0,s.default)(i,l.FUNNY,p),(0,s.default)(i,l.CLAP,d[l.APPLAUSE]),(0,s.default)(i,l.GOTIT,d[l.GOTIT]),(0,s.default)(i,l.WOW,h),(0,s.default)(i,l.SAD,d[l.SAD]),i),e.exports=t.default},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(117),i=n(o),a=function(){},s=function(e){return"childrens-reactions-"+e},u=function(e){return"reactions-"+s(e)};t.default={localStorageHelper:i.default,readOnlyLocalStorageHelper:{getItem:i.default.getItem,setItem:a,removeItem:a},getUniqueId:s,getLocalStorageKey:u},e.exports=t.default},function(e,t){e.exports=Morph.modules["bbc-morph-local-storage-helper@1.0.1"]},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(95),i=n(o),a=r(114),s=r(113),u=n(s),c=function(){var e=u.default[a.SAD];return i.default.createElement("div",{className:"reactions-cookie-warning"},i.default.createElement("div",{className:"reactions-cookie-warning__inner"},i.default.createElement("div",{className:"reactions-cookie-warning__icon"},i.default.createElement(e,null)),i.default.createElement("div",{className:"reactions-cookie-warning__text"},i.default.createElement("span",null,"To make your reaction count, youll need to ask your parent/guardian to enable cookies. See our "),i.default.createElement("a",{className:"reactions-cookie-warning__link",href:"/usingthebbc/cookies/"},"cookies policy"),i.default.createElement("span",null," for more information"))))};c.displayName="CookieWarning",c.propTypes={},t.default=c,e.exports=t.default},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(120),i=n(o),a=r(123),s=n(a),u=r(43),c=n(u),l=r(80),f=n(l),d=r(81),p=n(d),h=r(82),y=n(h),v=r(86),m=n(v),b=r(95),E=n(b),_=r(101),g=n(_),T=r(109),S=n(T),P=r(103),w=n(P),R=r(118),x=n(R),O=r(146),A=n(O),M=r(114),C=r(147),L=n(C),I=r(148),k=r(116),N=r(153),j=n(N),B=function(){return E.default.createElement("noscript",null)};B.displayName="NoopComponent";var U=function(e){function t(e){(0,f.default)(this,t);var r=(0,p.default)(this,(t.__proto__||(0,c.default)(t)).call(this,e));return r.state={showReactions:!1,hasCtaBeenClicked:!1,SpriteTagName:B,startSpriteAnimation:!1,endSpriteAnimation:!1,selectedReaction:null,prevSelectedReaction:null,currentCounts:e.reactionsCounts,hasReactionButtonPressStarted:!1,errorMessage:!1,endSlideNumber:M.SPRITE_SLIDE_NUMBER_DEFAULT,windowDimensions:{width:0,height:0}},r.renderElement=null,r.moduleElement=null,r.ctaClickHandler=r.ctaClickHandler.bind(r),r.reactionButtonPressStartHandler=r.reactionButtonPressStartHandler.bind(r),r.reactionButtonPressEndHandler=r.reactionButtonPressEndHandler.bind(r),r.updateSelectedReaction=r.updateSelectedReaction.bind(r),r.updateWindowDimensions=r.updateWindowDimensions.bind(r),r.handleChange=r.handleChange.bind(r),r}return(0,m.default)(t,e),(0,y.default)(t,null,[{key:"calculateReactionCounts",value:function(e,r,n){return n.map(function(n){return t.calculateCountForReaction(n.label,n.count,r,e)})}},{key:"calculateCountForReaction",value:function(e,t,r,n){var o=Math.max(t+(r===e?1:0)+(n===e?-1:0),0);return{label:e,count:o}}},{key:"calculateCountsTotal",value:function(e,t,r){return Math.max(r+(e&&!t?1:0)+(!e&&t?-1:0),0)}}]),(0,y.default)(t,[{key:"componentDidMount",value:function(){this.moduleElement=this.renderElement,this.updateWindowDimensions(),window.addEventListener("resize",this.updateWindowDimensions),this.props.spriteService.fetchSprites()}},{key:"componentWillReceiveProps",value:function(e){if(e.uasSelectedReaction){var t=e.uasSelectedReaction===M.NO_REACTION?null:e.uasSelectedReaction;this.setState({selectedReaction:t,initialSelectedReaction:t})}}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.updateWindowDimensions)}},{key:"getAnimationPosition",value:function(){var e={x:0,y:0},t=this.state.selectedReaction?this.state.selectedReaction:this.state.prevSelectedReaction,r=M.LABEL_TO_KEY[t];if(r&&this.moduleElement){var n=this.moduleElement.querySelector(".reaction-icon-"+r);if(n){var o=n.getBoundingClientRect(),i=this.moduleElement.getBoundingClientRect();e.x=o.left+Math.floor(o.width/2),e.y=i.top}}return e}},{key:"handleError",value:function(e,r){var n=(0,I.getStandardisedErrorType)(e);this.props.istatsService.logError(n);var o=t.calculateReactionCounts(this.state.initialSelectedReaction,r,this.props.reactionsCounts);this.setState({errorMessage:n,selectedReaction:r,currentCounts:o})}},{key:"handleChange",value:function(e){this.setState({endSlideNumber:e})}},{key:"updateWindowDimensions",value:function(){this.setState({width:window.innerWidth,height:window.innerHeight})}},{key:"isWindowLandscape",value:function(){return this.state.width>this.state.height}},{key:"ctaClickHandler",value:function(){var e=this;this.setState(function(t){var r={showReactions:!t.showReactions,hasCtaBeenClicked:!0},n=t.showReactions?j.default.CtaClose:j.default.CtaOpen;return e.props.istatsService.logCtaEvent(n),r})}},{key:"reactionButtonPressStartHandler",value:function(e){var r=this.isWindowLandscape();this.setState(function(n,o){var i={};if(!n.hasReactionButtonPressStarted&&!n.shouldThrottleEventHandling){var a=t.calculateReactionCounts(n.initialSelectedReaction,e,o.reactionsCounts),s=n.selectedReaction,u=s!==e;i={currentCounts:a,prevSelectedReaction:s,hasReactionButtonPressStarted:!0,startSpriteAnimation:u,endSpriteAnimation:!1,SpriteTagName:o.spriteService.getSprite(e,r),selectedReaction:e,errorMessage:!1}}return i})}},{key:"reactionButtonPressEndHandler",value:function(e){var r=this,n=!this.state.shouldThrottleEventHandling,o=!1;e===this.state.selectedReaction&&this.setState(function(e,n){var i={};if(e.hasReactionButtonPressStarted){var a=e.errorMessage||e.selectedReaction!==e.prevSelectedReaction,s=a?e.selectedReaction:null,u=t.calculateReactionCounts(e.initialSelectedReaction,s,n.reactionsCounts);i={startSpriteAnimation:!1,endSpriteAnimation:!0,selectedReaction:s,currentCounts:u,hasReactionButtonPressStarted:!1,shouldThrottleEventHandling:!0},setTimeout(function(){return r.setState({shouldThrottleEventHandling:!1})},500),o=!0}return i},function(){if(o&&n){var e=r.state.selectedReaction,t=r.state.prevSelectedReaction;r.recordOrDeleteReaction(e,t)}})}},{key:"recordOrDeleteReaction",value:function(e,t){e?this.recordReaction(e,t):this.deleteReaction(t)}},{key:"recordReaction",value:function(){function e(e,r){return t.apply(this,arguments)}var t=(0,s.default)(i.default.mark(function e(t,r){var n,o,a,s,u,c,l,f,d,p,h=this;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.props.countingServiceClientLibrary.postToUAS,o=M.LABEL_TO_KEY[t],a=(0,k.getLocalStorageKey)(this.props.urn),e.prev=3,e.next=6,this.props.uasConfigService.configureUAS({clickedReaction:o,urn:this.props.urn,resourceTitle:this.props.resourceTitle,resourceType:this.props.resourceType,url:this.props.url,product:this.props.product,env:this.props.env,signedInState:this.props.isSignedIn,isIdAvailable:this.props.isIdAvailable,idctaService:this.props.idctaService,error:this.props.error,endSlideNumber:this.state.endSlideNumber});case 6:s=e.sent,u=s.UASdata,c=s.apiKey,l=s.env,f=s.domain,d=s.isSignedIn,p=r?M.LABEL_TO_KEY[r]:null,n("reactions",u,c,l,f,d,p).then(function(e){if(!e.ok)throw new Error(I.ErrorTypes.UAS_FAILURE);k.localStorageHelper.setItem(a,o),h.props.istatsService.logSelection(o,h.state.endSlideNumber,p,h.props.pageContext)}).catch(function(e){h.handleError(e,h.state.prevSelectedReaction)}),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(3),this.handleError(e.t0,this.state.prevSelectedReaction);case 19:case"end":return e.stop()}},e,this,[[3,16]])}));return e}()},{key:"deleteReaction",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,s.default)(i.default.mark(function e(t){var r,n,o,a,s,u,c,l,f,d=this;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=this.props.countingServiceClientLibrary.deleteFromUAS,n=this.props.globalId,o=M.LABEL_TO_KEY[t],a=(0,k.getLocalStorageKey)(this.props.urn),e.prev=4,e.next=7,this.props.uasConfigService.configureUAS({clickedReaction:M.LABEL_TO_KEY[t],urn:this.props.urn,resourceTitle:this.props.resourceTitle,resourceType:this.props.resourceType,url:this.props.url,product:this.props.product,env:this.props.env,signedInState:this.props.isSignedIn,isIdAvailable:this.props.isIdAvailable,idctaService:this.props.idctaService,error:this.props.error});case 7:s=e.sent,u=s.apiKey,c=s.env,l=s.domain,f=s.isSignedIn,r("reactions",u,c,l,n,f,o).then(function(e){if(!e.ok)throw new Error(I.ErrorTypes.UAS_FAILURE);k.localStorageHelper.removeItem(a),d.props.istatsService.logDeselection(o,d.props.pageContext)}).catch(function(e){d.handleError(e,d.state.prevSelectedReaction)}),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(4),this.handleError(e.t0,this.state.prevSelectedReaction);case 18:case"end":return e.stop()}},e,this,[[4,15]])}));return e}()},{key:"updateSelectedReaction",value:function(e){this.props.uasSelectedReaction||this.state.errorMessage||this.props.error||this.setState({selectedReaction:e,initialSelectedReaction:e})}},{key:"render",value:function(){var e=this,r=(0,g.default)("reactions-module",{"landscape-animation":this.isWindowLandscape()}),n=t.calculateCountsTotal(this.state.selectedReaction,this.state.initialSelectedReaction,this.props.reactionsCountTotal);return E.default.createElement("div",{ref:function(t){e.renderElement=t},className:r},E.default.createElement(A.default,{showAnimation:this.state.startSpriteAnimation,endAnimation:this.state.endSpriteAnimation,onSlideNumberChange:this.handleChange,animationPosition:this.getAnimationPosition()},E.default.createElement(this.state.SpriteTagName,null)),E.default.createElement(S.default,{showReactions:this.state.showReactions,product:this.props.product,reactionButtonPressStart:this.reactionButtonPressStartHandler,reactionButtonPressEnd:this.reactionButtonPressEndHandler,reactionsCounts:this.state.currentCounts,selectedReaction:this.state.selectedReaction,urn:this.props.urn,updateSelectedReaction:this.updateSelectedReaction,isAnimationPlaying:this.state.startSpriteAnimation,isOpen:this.state.showReactions}),this.props.showCookieBanner&&this.state.showReactions&&E.default.createElement(x.default,null),this.state.errorMessage&&this.state.showReactions&&E.default.createElement(L.default,{errorType:this.state.errorMessage}),E.default.createElement(w.default,{onClick:this.ctaClickHandler,isOpen:this.state.showReactions,count:n,product:this.props.product,hasBeenClicked:this.state.hasCtaBeenClicked}))}}]),t}(b.Component);U.displayName="ReactionsModule",U.propTypes={product:b.PropTypes.string.isRequired,showCookieBanner:b.PropTypes.bool.isRequired,error:b.PropTypes.oneOfType([b.PropTypes.shape({Error:b.PropTypes.string}),b.PropTypes.bool]),reactionsCounts:b.PropTypes.arrayOf(b.PropTypes.object).isRequired,reactionsCountTotal:b.PropTypes.number.isRequired,countingServiceClientLibrary:b.PropTypes.shape({postToUAS:b.PropTypes.func.isRequired,deleteFromUAS:b.PropTypes.func.isRequired}).isRequired,urn:b.PropTypes.oneOfType([b.PropTypes.string,b.PropTypes.bool]),globalId:b.PropTypes.string.isRequired,env:b.PropTypes.string.isRequired,isSignedIn:b.PropTypes.bool.isRequired,isIdAvailable:b.PropTypes.bool.isRequired,uasSelectedReaction:b.PropTypes.string,resourceTitle:b.PropTypes.string.isRequired,resourceType:b.PropTypes.string.isRequired,url:b.PropTypes.string.isRequired,idctaService:b.PropTypes.shape({refreshToken:b.PropTypes.func,isCurrentUserSignedIn:b.PropTypes.func}).isRequired,uasConfigService:b.PropTypes.shape({configureUAS:b.PropTypes.func,getMyReaction:b.PropTypes.func}).isRequired,istatsService:b.PropTypes.shape({logSelection:b.PropTypes.func,logDeselection:b.PropTypes.func,logCtaEvent:b.PropTypes.func,logError:b.PropTypes.func}).isRequired,spriteService:b.PropTypes.shape({fetchSprites:b.PropTypes.func,getSprite:b.PropTypes.func}).isRequired,pageContext:b.PropTypes.oneOfType([b.PropTypes.string,b.PropTypes.bool])},U.defaultProps={showCookieBanner:!1,error:!1,reactionsData:{},urn:!1,isSignedIn:!1,isIdAvailable:!1,uasSelectedReaction:null,resourceTitle:"resourceTitle",url:"url",pageContext:!1},t.default=U,e.exports=t.default},function(e,t,r){e.exports=r(121)},function(e,t,r){var n=function(){return this}()||Function("return this")(),o=n.regeneratorRuntime&&Object.getOwnPropertyNames(n).indexOf("regeneratorRuntime")>=0,i=o&&n.regeneratorRuntime;if(n.regeneratorRuntime=void 0,e.exports=r(122),o)n.regeneratorRuntime=i;else try{delete n.regeneratorRuntime}catch(e){n.regeneratorRuntime=void 0}},function(e,t){!function(t){"use strict";function r(e,t,r,n){var i=t&&t.prototype instanceof o?t:o,a=Object.create(i.prototype),s=new p(n||[]);return a._invoke=c(e,r,s),a}function n(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}function o(){}function i(){}function a(){}function s(e){["next","throw","return"].forEach(function(t){e[t]=function(e){return this._invoke(t,e)}})}function u(e){function t(r,o,i,a){var s=n(e[r],e,o);if("throw"!==s.type){var u=s.arg,c=u.value;return c&&"object"==typeof c&&b.call(c,"__await")?Promise.resolve(c.__await).then(function(e){t("next",e,i,a)},function(e){t("throw",e,i,a)}):Promise.resolve(c).then(function(e){u.value=e,i(u)},a)}a(s.arg)}function r(e,r){function n(){return new Promise(function(n,o){t(e,r,n,o)})}return o=o?o.then(n,n):n()}var o;this._invoke=r}function c(e,t,r){var o=w;return function(i,a){if(o===x)throw new Error("Generator is already running");if(o===O){if("throw"===i)throw a;return y()}for(r.method=i,r.arg=a;;){var s=r.delegate;if(s){var u=l(s,r);if(u){if(u===A)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===w)throw o=O,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=x;var c=n(e,t,r);if("normal"===c.type){if(o=r.done?O:R,c.arg===A)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(o=O,r.method="throw",r.arg=c.arg)}}}function l(e,t){var r=e.iterator[t.method];if(r===v){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=v,l(e,t),"throw"===t.method))return A;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return A}var o=n(r,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,A;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=v),t.delegate=null,A):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,A)}function f(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function d(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function p(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(f,this),this.reset(!0)}function h(e){if(e){var t=e[_];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,n=function t(){for(;++r<e.length;)if(b.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=v,t.done=!0,t};return n.next=n}}return{next:y}}function y(){return{value:v,done:!0}}var v,m=Object.prototype,b=m.hasOwnProperty,E="function"==typeof Symbol?Symbol:{},_=E.iterator||"@@iterator",g=E.asyncIterator||"@@asyncIterator",T=E.toStringTag||"@@toStringTag",S="object"==typeof e,P=t.regeneratorRuntime;if(P)return void(S&&(e.exports=P));P=t.regeneratorRuntime=S?e.exports:{},P.wrap=r;var w="suspendedStart",R="suspendedYield",x="executing",O="completed",A={},M={};M[_]=function(){return this};var C=Object.getPrototypeOf,L=C&&C(C(h([])));L&&L!==m&&b.call(L,_)&&(M=L);var I=a.prototype=o.prototype=Object.create(M);i.prototype=I.constructor=a,a.constructor=i,a[T]=i.displayName="GeneratorFunction",P.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===i||"GeneratorFunction"===(t.displayName||t.name))},P.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,a):(e.__proto__=a,T in e||(e[T]="GeneratorFunction")),e.prototype=Object.create(I),e},P.awrap=function(e){return{__await:e}},s(u.prototype),u.prototype[g]=function(){return this},P.AsyncIterator=u,P.async=function(e,t,n,o){var i=new u(r(e,t,n,o));return P.isGeneratorFunction(t)?i:i.next().then(function(e){return e.done?e.value:i.next()})},s(I),I[T]="Generator",I[_]=function(){return this},I.toString=function(){return"[object Generator]"},P.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},P.values=h,p.prototype={constructor:p,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=v,this.done=!1,this.delegate=null,this.method="next",this.arg=v,this.tryEntries.forEach(d),!e)for(var t in this)"t"===t.charAt(0)&&b.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=v)},stop:function(){this.done=!0;var e=this.tryEntries[0],t=e.completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){function t(t,n){return i.type="throw",i.arg=e,r.next=t,n&&(r.method="next",r.arg=v),!!n}if(this.done)throw e;for(var r=this,n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n],i=o.completion;if("root"===o.tryLoc)return t("end");if(o.tryLoc<=this.prev){var a=b.call(o,"catchLoc"),s=b.call(o,"finallyLoc");if(a&&s){if(this.prev<o.catchLoc)return t(o.catchLoc,!0);if(this.prev<o.finallyLoc)return t(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return t(o.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return t(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&b.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,A):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),A},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),d(r),A}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;d(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:h(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=v),A}}}(function(){return this}()||Function("return this")())},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var o=r(124),i=n(o);t.default=function(e){return function(){var t=e.apply(this,arguments);return new i.default(function(e,r){function n(o,a){try{var s=t[o](a),u=s.value}catch(e){return void r(e)}return s.done?void e(u):i.default.resolve(u).then(function(e){n("next",e)},function(e){n("throw",e)})}return n("next")})}}},function(e,t,r){e.exports={default:r(125),__esModule:!0}},function(e,t,r){r(77),r(51),r(62),r(126),r(144),r(145),e.exports=r(8).Promise},function(e,t,r){"use strict";var n,o,i,a,s=r(35),u=r(7),c=r(9),l=r(127),f=r(6),d=r(14),p=r(10),h=r(128),y=r(129),v=r(133),m=r(134).set,b=r(136)(),E=r(137),_=r(138),g=r(139),T=r(140),S="Promise",P=u.TypeError,w=u.process,R=w&&w.versions,x=R&&R.v8||"",O=u[S],A="process"==l(w),M=function(){},C=o=E.f,L=!!function(){try{var e=O.resolve(1),t=(e.constructor={})[r(61)("species")]=function(e){e(M,M)};return(A||"function"==typeof PromiseRejectionEvent)&&e.then(M)instanceof t&&0!==x.indexOf("6.6")&&g.indexOf("Chrome/66")===-1}catch(e){}}(),I=function(e){var t;return!(!d(e)||"function"!=typeof(t=e.then))&&t},k=function(e,t){if(!e._n){e._n=!0;var r=e._c;b(function(){for(var n=e._v,o=1==e._s,i=0,a=function(t){var r,i,a,s=o?t.ok:t.fail,u=t.resolve,c=t.reject,l=t.domain;try{s?(o||(2==e._h&&B(e),e._h=1),s===!0?r=n:(l&&l.enter(),r=s(n),l&&(l.exit(),a=!0)),r===t.promise?c(P("Promise-chain cycle")):(i=I(r))?i.call(r,u,c):u(r)):c(n)}catch(e){l&&!a&&l.exit(),c(e)}};r.length>i;)a(r[i++]);e._c=[],e._n=!1,t&&!e._h&&N(e)})}},N=function(e){m.call(u,function(){var t,r,n,o=e._v,i=j(e);if(i&&(t=_(function(){A?w.emit("unhandledRejection",o,e):(r=u.onunhandledrejection)?r({promise:e,reason:o}):(n=u.console)&&n.error&&n.error("Unhandled promise rejection",o)}),e._h=A||j(e)?2:1),e._a=void 0,i&&t.e)throw t.v})},j=function(e){return 1!==e._h&&0===(e._a||e._c).length},B=function(e){m.call(u,function(){var t;A?w.emit("rejectionHandled",e):(t=u.onrejectionhandled)&&t({promise:e,reason:e._v})})},U=function(e){var t=this;t._d||(t._d=!0,t=t._w||t,t._v=e,t._s=2,t._a||(t._a=t._c.slice()),k(t,!0))},D=function(e){var t,r=this;if(!r._d){r._d=!0,r=r._w||r;try{if(r===e)throw P("Promise can't be resolved itself");(t=I(e))?b(function(){var n={_w:r,_d:!1};try{t.call(e,c(D,n,1),c(U,n,1))}catch(e){U.call(n,e)}}):(r._v=e,r._s=1,k(r,!1))}catch(e){U.call({_w:r,_d:!1},e)}}};L||(O=function(e){h(this,O,S,"_h"),p(e),n.call(this);try{e(c(D,this,1),c(U,this,1))}catch(e){U.call(this,e)}},n=function(e){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1},n.prototype=r(141)(O.prototype,{then:function(e,t){var r=C(v(this,O));return r.ok="function"!=typeof e||e,r.fail="function"==typeof t&&t,r.domain=A?w.domain:void 0,this._c.push(r),this._a&&this._a.push(r),this._s&&k(this,!1),r.promise},catch:function(e){return this.then(void 0,e)}}),i=function(){var e=new n;this.promise=e,this.resolve=c(D,e,1),this.reject=c(U,e,1)},E.f=C=function(e){return e===O||e===a?new i(e):o(e)}),f(f.G+f.W+f.F*!L,{Promise:O}),r(60)(O,S),r(142)(S),a=r(8)[S],f(f.S+f.F*!L,S,{reject:function(e){var t=C(this),r=t.reject;return r(e),t.promise}}),f(f.S+f.F*(s||!L),S,{resolve:function(e){return T(s&&this===a?O:this,e)}}),f(f.S+f.F*!(L&&r(143)(function(e){O.all(e).catch(M)})),S,{all:function(e){var t=this,r=C(t),n=r.resolve,o=r.reject,i=_(function(){var r=[],i=0,a=1;y(e,!1,function(e){var s=i++,u=!1;r.push(void 0),a++,t.resolve(e).then(function(e){u||(u=!0,r[s]=e,--a||n(r))},o)}),--a||n(r)});return i.e&&o(i.v),r.promise},race:function(e){var t=this,r=C(t),n=r.reject,o=_(function(){y(e,!1,function(e){t.resolve(e).then(r.resolve,n)})});return o.e&&n(o.v),r.promise}})},function(e,t,r){var n=r(27),o=r(61)("toStringTag"),i="Arguments"==n(function(){return arguments}()),a=function(e,t){try{return e[t]}catch(e){}};e.exports=function(e){var t,r,s;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(r=a(t=Object(e),o))?r:i?n(t):"Object"==(s=n(t))&&"function"==typeof t.callee?"Arguments":s}},function(e,t){e.exports=function(e,t,r,n){if(!(e instanceof t)||void 0!==n&&n in e)throw TypeError(r+": incorrect invocation!");return e}},function(e,t,r){var n=r(9),o=r(130),i=r(131),a=r(13),s=r(30),u=r(132),c={},l={},t=e.exports=function(e,t,r,f,d){var p,h,y,v,m=d?function(){return e}:u(e),b=n(r,f,t?2:1),E=0;if("function"!=typeof m)throw TypeError(e+" is not iterable!");if(i(m)){for(p=s(e.length);p>E;E++)if(v=t?b(a(h=e[E])[0],h[1]):b(e[E]),v===c||v===l)return v}else for(y=m.call(e);!(h=y.next()).done;)if(v=o(y,b,h.value,t),v===c||v===l)return v};t.BREAK=c,t.RETURN=l},function(e,t,r){var n=r(13);e.exports=function(e,t,r,o){try{return o?t(n(r)[0],r[1]):t(r)}catch(t){var i=e.return;throw void 0!==i&&n(i.call(e)),t}}},function(e,t,r){var n=r(55),o=r(61)("iterator"),i=Array.prototype;e.exports=function(e){return void 0!==e&&(n.Array===e||i[o]===e)}},function(e,t,r){var n=r(127),o=r(61)("iterator"),i=r(55);e.exports=r(8).getIteratorMethod=function(e){if(void 0!=e)return e[o]||e["@@iterator"]||i[n(e)]}},function(e,t,r){var n=r(13),o=r(10),i=r(61)("species");e.exports=function(e,t){var r,a=n(e).constructor;return void 0===a||void 0==(r=n(a)[i])?t:o(r)}},function(e,t,r){var n,o,i,a=r(9),s=r(135),u=r(59),c=r(18),l=r(7),f=l.process,d=l.setImmediate,p=l.clearImmediate,h=l.MessageChannel,y=l.Dispatch,v=0,m={},b="onreadystatechange",E=function(){var e=+this;if(m.hasOwnProperty(e)){var t=m[e];delete m[e],t()}},_=function(e){E.call(e.data)};d&&p||(d=function(e){for(var t=[],r=1;arguments.length>r;)t.push(arguments[r++]);return m[++v]=function(){s("function"==typeof e?e:Function(e),t)},n(v),v},p=function(e){delete m[e]},"process"==r(27)(f)?n=function(e){f.nextTick(a(E,e,1))}:y&&y.now?n=function(e){y.now(a(E,e,1))}:h?(o=new h,i=o.port2,o.port1.onmessage=_,n=a(i.postMessage,i,1)):l.addEventListener&&"function"==typeof postMessage&&!l.importScripts?(n=function(e){l.postMessage(e+"","*")},l.addEventListener("message",_,!1)):n=b in c("script")?function(e){u.appendChild(c("script"))[b]=function(){u.removeChild(this),E.call(e)}}:function(e){setTimeout(a(E,e,1),0)}),e.exports={set:d,clear:p}},function(e,t){e.exports=function(e,t,r){var n=void 0===r;switch(t.length){case 0:return n?e():e.call(r);case 1:return n?e(t[0]):e.call(r,t[0]);case 2:return n?e(t[0],t[1]):e.call(r,t[0],t[1]);case 3:return n?e(t[0],t[1],t[2]):e.call(r,t[0],t[1],t[2]);case 4:return n?e(t[0],t[1],t[2],t[3]):e.call(r,t[0],t[1],t[2],t[3])}return e.apply(r,t)}},function(e,t,r){var n=r(7),o=r(134).set,i=n.MutationObserver||n.WebKitMutationObserver,a=n.process,s=n.Promise,u="process"==r(27)(a);e.exports=function(){var e,t,r,c=function(){var n,o;for(u&&(n=a.domain)&&n.exit();e;){o=e.fn,e=e.next;try{o()}catch(n){throw e?r():t=void 0,n}}t=void 0,n&&n.enter()};if(u)r=function(){a.nextTick(c)};else if(!i||n.navigator&&n.navigator.standalone)if(s&&s.resolve){var l=s.resolve(void 0);r=function(){l.then(c)}}else r=function(){o.call(n,c)};else{var f=!0,d=document.createTextNode("");new i(c).observe(d,{characterData:!0}),r=function(){d.data=f=!f}}return function(n){var o={fn:n,next:void 0};t&&(t.next=o),e||(e=o,r()),t=o}}},function(e,t,r){"use strict";function n(e){var t,r;this.promise=new e(function(e,n){if(void 0!==t||void 0!==r)throw TypeError("Bad Promise constructor");t=e,r=n}),this.resolve=o(t),this.reject=o(r)}var o=r(10);e.exports.f=function(e){return new n(e)}},function(e,t){e.exports=function(e){try{return{e:!1,v:e()}}catch(e){return{e:!0,v:e}}}},function(e,t,r){var n=r(7),o=n.navigator;e.exports=o&&o.userAgent||""},function(e,t,r){var n=r(13),o=r(14),i=r(137);e.exports=function(e,t){if(n(e),o(t)&&t.constructor===e)return t;var r=i.f(e),a=r.resolve;return a(t),r.promise}},function(e,t,r){var n=r(11);e.exports=function(e,t,r){for(var o in t)r&&e[o]?e[o]=t[o]:n(e,o,t[o]);return e}},function(e,t,r){"use strict";var n=r(7),o=r(8),i=r(12),a=r(16),s=r(61)("species");e.exports=function(e){var t="function"==typeof o[e]?o[e]:n[e];a&&t&&!t[s]&&i.f(t,s,{configurable:!0,get:function(){return this}})}},function(e,t,r){var n=r(61)("iterator"),o=!1;try{var i=[7][n]();i.return=function(){o=!0},Array.from(i,function(){throw 2})}catch(e){}e.exports=function(e,t){if(!t&&!o)return!1;var r=!1;try{var i=[7],a=i[n]();a.next=function(){return{done:r=!0}},i[n]=function(){return a},e(i)}catch(e){}return r}},function(e,t,r){"use strict";var n=r(6),o=r(8),i=r(7),a=r(133),s=r(140);n(n.P+n.R,"Promise",{finally:function(e){var t=a(this,o.Promise||i.Promise),r="function"==typeof e;return this.then(r?function(r){return s(t,e()).then(function(){return r})}:e,r?function(r){return s(t,e()).then(function(){throw r})}:e)}})},function(e,t,r){"use strict";var n=r(6),o=r(137),i=r(138);n(n.S,"Promise",{try:function(e){var t=o.f(this),r=i(e);return(r.e?t.reject:t.resolve)(r.v),t.promise}})},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(43),i=n(o),a=r(80),s=n(a),u=r(82),c=n(u),l=r(81),f=n(l),d=r(86),p=n(d),h=r(95),y=n(h),v=r(114),m=function(e){function t(e){(0,s.default)(this,t);var r=(0,f.default)(this,(t.__proto__||(0,i.default)(t)).call(this,e));return r.props=e,r.handleChange=r.handleChange.bind(r),r.state={slideNumber:v.SPRITE_SLIDE_NUMBER_DEFAULT},r}return(0,p.default)(t,e),(0,c.default)(t,[{key:"componentWillReceiveProps",value:function(e){var t=this;clearInterval(this.startAnimationInterval),clearTimeout(this.startAnimationTimeout);var r=this.props.showAnimation===!1&&e.showAnimation===!0,n=this.props.endAnimation===!1&&e.endAnimation===!0,o=this.props.children.type.displayName!==e.children.type.displayName;o&&this.setState({slideNumber:v.SPRITE_SLIDE_NUMBER_DEFAULT}),r?(this.setState({slideNumber:v.SPRITE_SLIDE_NUMBER_DEFAULT}),clearInterval(this.stopAnimationinterval),clearTimeout(this.stopAnimationTimeout),this.startAnimationTimeout=setTimeout(function(){t.startAnimationInterval=setInterval(t.incrementSlides.bind(t),v.SPRITE_SLIDE_INCREMENT_INTERVAL)},v.SPRITE_EFFECT_DELAY)):n&&(this.stopAnimationTimeout=setTimeout(function(){t.stopAnimationinterval=setInterval(t.decrementSlides.bind(t),v.SPRITE_SLIDE_DECREMENT_INTERVAL)},v.SPRITE_REVERSE_EFFECT_DELAY),
this.handleChange(this.state.slideNumber))}},{key:"handleChange",value:function(e){this.props.onSlideNumberChange(e)}},{key:"decrementSlides",value:function(){this.state.slideNumber-1>=0?this.setState({slideNumber:this.state.slideNumber-1}):clearInterval(this.stopAnimationinterval)}},{key:"incrementSlides",value:function(){var e=Math.min(this.state.slideNumber+1,v.SPRITE_TOTAL_SLIDES);this.setState({slideNumber:e>v.SPRITE_TOTAL_SLIDES?v.SPRITE_TOTAL_SLIDES:e})}},{key:"render",value:function(){var e=this.props.animationPosition.x,t=this.props.animationPosition.y,r="reactions-sprite-animation-wrapper",n="reactions-sprite-animation reactions-sprite-animation__slide--"+this.state.slideNumber;return y.default.createElement("div",{className:r},y.default.createElement("div",{className:n,style:{left:e,top:t}},this.props.children))}}]),t}(h.Component);m.propTypes={showAnimation:h.PropTypes.bool.isRequired,children:h.PropTypes.element.isRequired,endAnimation:h.PropTypes.bool,onSlideNumberChange:h.PropTypes.func.isRequired,animationPosition:h.PropTypes.shape({x:h.PropTypes.number,y:h.PropTypes.number}).isRequired},m.defaultProps={endAnimation:!1},t.default=m,e.exports=t.default},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(95),i=n(o),a=r(148),s=function(e){return i.default.createElement("div",{className:"reactions-error-message"},i.default.createElement("div",{className:"reactions-error-message__inner"},i.default.createElement("div",{role:"alert",className:"reactions-error-message__text"},(0,a.getMessageForError)(e.errorType))))};s.displayName="ErrorMessage",s.defaultProps={errorType:"ERR_MSG_OTHER"},s.propTypes={errorType:o.PropTypes.oneOfType([o.PropTypes.string,o.PropTypes.bool]).isRequired},t.default=s,e.exports=t.default},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.getMessageForError=t.getStandardisedErrorType=t.ErrorTypes=void 0;var o=r(149),i=n(o),a=t.ErrorTypes={UAS_FAILURE:"uasFailure",TOKEN_REFRESH_FAILURE:"tokenRefreshFailure",OTHER_ERROR:"otherError"};t.getStandardisedErrorType=function(e){var t=(0,i.default)(a).indexOf(e.message)>-1;return t?e.message:a.OTHER_ERROR},t.getMessageForError=function(e){switch(e){case a.UAS_FAILURE:return"Sorry, there was a problem recording your reaction. Please try again.";case a.TOKEN_REFRESH_FAILURE:return"Sorry, there was a problem. Please refresh the page and try again.";case a.OTHER_ERROR:default:return"Sorry, there was a problem. Please try again."}}},function(e,t,r){e.exports={default:r(150),__esModule:!0}},function(e,t,r){r(151),e.exports=r(8).Object.values},function(e,t,r){var n=r(6),o=r(152)(!1);n(n.S,"Object",{values:function(e){return o(e)}})},function(e,t,r){var n=r(16),o=r(23),i=r(25),a=r(39).f;e.exports=function(e){return function(t){for(var r,s=i(t),u=o(s),c=u.length,l=0,f=[];c>l;)r=u[l++],n&&!a.call(s,r)||f.push(e?[r,s[r]]:s[r]);return f}}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={CtaOpen:"cta_open",CtaClose:"cta_close"};t.default=r,e.exports=t.default},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(120),i=n(o),a=r(123),s=n(a),u=r(43),c=n(u),l=r(80),f=n(l),d=r(81),p=n(d),h=r(82),y=n(h),v=r(86),m=n(v),b=r(95),E=n(b),_=r(155),g=n(_),T=r(119),S=n(T),P=r(156),w=n(P),R=r(157),x=n(R),O=r(158),A=n(O),M=r(159),C=n(M),L=r(161),I=n(L),k=r(162),N=n(k),j=r(163),B=n(j),U=r(164),D=n(U),F=r(148),q=r(114),z=function(e){function t(e){(0,f.default)(this,t);var r=(0,p.default)(this,(t.__proto__||(0,c.default)(t)).call(this,e));return r.props=e,r.state={isSignedIn:!1,error:!1,uasSelectedReaction:null},r}return(0,m.default)(t,e),(0,y.default)(t,null,[{key:"getCountingServiceClient",value:function(e,t,r){return t?g.default.getClient(r):e}},{key:"getIdctaService",value:function(e,t,r,n){return!t&&r?n?x.default:A.default:e}},{key:"getUasConfigService",value:function(e,t,r){return t?(0,I.default)(r):e}},{key:"getIstatsService",value:function(e,t){return t?B.default:e}}]),(0,y.default)(t,[{key:"componentDidMount",value:function(){function e(){return r.apply(this,arguments)}var r=(0,s.default)(i.default.mark(function e(){var r,n,o,a,s,u,c,l,f,d,p=this;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.getIdctaService(w.default,this.props.enableAcceptanceTestMode,this.props.enableStandaloneMode,this.props.error),e.next=3,r.isCurrentUserSignedIn(this.props.error).catch(function(){p.setState({error:new Error(F.ErrorTypes.TOKEN_REFRESH_FAILURE)})});case 3:if(n=e.sent,o="undefined"!=typeof n&&n,this.setState({isSignedIn:o}),!o){e.next=21;break}return a=this.props,s=a.resourceType,u=a.urn,c=a.env,l=a.product,e.next=10,w.default.refreshToken();case 10:return e.prev=10,e.next=13,C.default.getMyReaction(c,l,s,u,this.props.enableAcceptanceTestMode);case 13:f=e.sent,d=f===q.NO_REACTION?q.NO_REACTION:(0,q.keyToLabel)(f,l),this.setState({isSignedIn:o,error:!1,uasSelectedReaction:d}),e.next=21;break;case 18:e.prev=18,e.t0=e.catch(10),this.setState({isSignedIn:o,error:new Error(F.ErrorTypes.UAS_FAILURE)});case 21:case"end":return e.stop()}},e,this,[[10,18]])}));return e}()},{key:"render",value:function(){var e=this.props.enableStandaloneMode,r=this.props.error||this.state.error,n=t.getCountingServiceClient(this.props.countingServiceClientLibrary,e,r),o=E.default.createElement(S.default,{countingServiceClientLibrary:n,env:this.props.env,urn:this.props.urn,resourceTitle:this.props.resourceTitle,resourceType:this.props.resourceType,url:this.props.url,globalId:this.props.globalId,idctaService:t.getIdctaService(w.default,this.props.enableAcceptanceTestMode,e,r),isIdAvailable:this.props.isIdAvailable,isSignedIn:this.state.isSignedIn,product:this.props.product,reactionsCounts:this.props.reactionsCounts,reactionsCountTotal:this.props.reactionsCountTotal,error:r,uasSelectedReaction:this.state.uasSelectedReaction,uasConfigService:t.getUasConfigService(C.default,e,r),istatsService:t.getIstatsService(N.default,e),spriteService:D.default,pageContext:this.props.pageContext});return E.default.createElement("div",null,this.props.enableStandaloneMode?E.default.createElement("div",{className:"reactions__standalone"},E.default.createElement("div",{className:"content-item-description"},E.default.createElement("div",{className:"reactions-container"},o))):E.default.createElement("div",null,o))}}]),t}(b.Component);z.propTypes={enableStandaloneMode:b.PropTypes.bool.isRequired,countingServiceClientLibrary:b.PropTypes.shape({postToUAS:b.PropTypes.func.isRequired,deleteFromUAS:b.PropTypes.func.isRequired}).isRequired,error:b.PropTypes.oneOfType([b.PropTypes.shape({Error:b.PropTypes.string}),b.PropTypes.bool]),env:b.PropTypes.string.isRequired,urn:b.PropTypes.oneOfType([b.PropTypes.string,b.PropTypes.bool]).isRequired,resourceTitle:b.PropTypes.string.isRequired,resourceType:b.PropTypes.string.isRequired,url:b.PropTypes.string.isRequired,globalId:b.PropTypes.string.isRequired,isIdAvailable:b.PropTypes.bool.isRequired,product:b.PropTypes.string.isRequired,reactionsCounts:b.PropTypes.arrayOf(b.PropTypes.object).isRequired,reactionsCountTotal:b.PropTypes.number.isRequired,enableAcceptanceTestMode:b.PropTypes.bool,pageContext:b.PropTypes.oneOfType([b.PropTypes.string,b.PropTypes.bool])},z.defaultProps={error:!1,enableAcceptanceTestMode:!1,pageContext:!1},t.default=z,e.exports=t.default},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(){return u.default.resolve({ok:!0})}function i(e){return function(){throw e}}function a(e){return e.message===c.ErrorTypes.UAS_FAILURE?i(e):o}Object.defineProperty(t,"__esModule",{value:!0});var s=r(124),u=n(s),c=r(148);t.default={getClient:function(e){return{postToUAS:a(e),deleteFromUAS:a(e)}}},e.exports=t.default},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(120),i=n(o),a=r(123),s=n(a),u=r(124),c=n(u),l=function(){return new c.default(function(e,t){requirejs(["idcta-v2/idcta-1"],e,t)})};t.default={refreshToken:function(){var e=this;return(0,s.default)(i.default.mark(function t(){var r;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l();case 2:return r=e.sent,e.abrupt("return",r.initiateTokenRefresh());case 4:case"end":return e.stop()}},t,e)}))()},isCurrentUserSignedIn:function(){var e=this;return(0,s.default)(i.default.mark(function t(){var r;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l();case 2:return r=e.sent,e.abrupt("return",r.hasCookie());case 4:case"end":return e.stop()}},t,e)}))()}},e.exports=t.default},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(120),i=n(o),a=r(124),s=n(a),u=r(123),c=n(u),l=r(148),f=r(158),d=n(f);t.default={refreshToken:function(e){if(e.message===l.ErrorTypes.TOKEN_REFRESH_FAILURE)throw e;return d.default.refreshToken()},isCurrentUserSignedIn:function(e){var t=this;return(0,c.default)(i.default.mark(function r(){return i.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e.message!==l.ErrorTypes.TOKEN_REFRESH_FAILURE){t.next=2;break}return t.abrupt("return",s.default.reject(e));case 2:return t.abrupt("return",s.default.resolve(!0));case 3:case"end":return t.stop()}},r,t)}))()}},e.exports=t.default},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(120),i=n(o),a=r(123),s=n(a),u=r(124),c=n(u);t.default={refreshToken:function(){return c.default.resolve(!0)},isCurrentUserSignedIn:function(){var e=this;return(0,s.default)(i.default.mark(function t(){return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",c.default.resolve(!0));case 1:case"end":return e.stop()}},t,e)}))()}},e.exports=t.default},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(120),i=n(o),a=r(123),s=n(a),u=r(114),c=r(160),l=r(148),f=function(e){if(e&&"undefined"!=typeof e){if("live"===e)return"ocivkho3fups2";if("int"===e||"test"===e)return"8d6f5s2dqp0pc"}throw Error(l.ErrorTypes.API_KEY_ERROR)},d=function(){var e=window.document&&window.document.domain||"";return e.indexOf(".com")>-1?".com":".co.uk"},p=function(e){return u.KEY_TO_UAS_CONTEXT[e]},h=function(e){return"ownit"===e?"stay-safe":e},y=function(e,t,r){var n=r.replace("urn:bbc:","");return"urn:bbc:"+e+":"+t+":"+n},v=function(e,t,r,n,o){var i="live"===e?"":e+".",a=y(t,r,n);return o?"http://localhost:3000/wiremock/session/"+Morph.contextId+"/uas/myreaction/"+a:"https://activity."+i+"api."+c.bbcTldSuffix+"/my/reactions/"+a},m=function(){var e=(0,s.default)(i.default.mark(function e(t){var r;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(204!==t.status){e.next=2;break}return e.abrupt("return",u.NO_REACTION);case 2:return e.next=4,t.json();case 4:return r=e.sent,e.abrupt("return",r.action);case 6:case"end":return e.stop()}},e,void 0)}));return function(t){return e.apply(this,arguments)}}(),b=function(){var e=(0,s.default)(i.default.mark(function e(t){var r,n,o,a,s,u=t.clickedReaction,c=t.urn,y=t.resourceTitle,v=t.resourceType,m=t.url,b=t.product,E=t.env,_=t.signedInState,g=t.isIdAvailable,T=t.idctaService,S=t.error,P=t.endSlideNumber;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!_||!g){e.next=3;break}return e.next=3,T.refreshToken(S).catch(function(){throw new Error(l.ErrorTypes.TOKEN_REFRESH_FAILURE)});case 3:return r=void 0,P&&(r={reactLevel:u+"_"+P}),n={resourceDomain:h(b),resourceType:v,resourceId:c,resourceTitle:y,url:m,action:u,actionContext:p(u),metadata:r},o=f(E),a=d(),e.next=10,T.isCurrentUserSignedIn(S).catch(function(){throw new Error(l.ErrorTypes.TOKEN_REFRESH_FAILURE)});case 10:return s=e.sent,e.abrupt("return",{UASdata:n,apiKey:o,env:E,domain:a,isSignedIn:s});case 12:case"end":return e.stop()}},e,void 0)}));return function(t){return e.apply(this,arguments)}}(),E=function(){var e=(0,s.default)(i.default.mark(function e(t,r,n,o,a){var s,u;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s=v(t,h(r),n,o,a),e.next=3,fetch(s,{credentials:"include",headers:{"x-api-key":f(t),Accept:"application/json"}});case 3:return u=e.sent,e.abrupt("return",m(u));case 5:case"end":return e.stop()}},e,void 0)}));return function(t,r,n,o,i){return e.apply(this,arguments)}}();t.default={configureUAS:b,getMyReaction:E},e.exports=t.default},function(e,t){"use strict";function r(){return"undefined"==typeof document?"":document.location.href}Object.defineProperty(t,"__esModule",{value:!0});var n="http://localhost:3000",o=t.bbcTldSuffix=r().indexOf("bbc.com")!==-1?"bbc.com":"bbc.co.uk";t.getBBCDomain=function(e){switch(e){case"acc":return n;case"live":return"https://www."+o;default:return"https://www."+e+"."+o}}},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(124),i=n(o),a=function(e){return function(){throw e}},s=function(){return i.default.resolve(!0)},u=function(){},c=function(e){return e?a(e):s},l=function(e){return{configureUAS:c(e),getMyReaction:u}};t.default=l,e.exports=t.default},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(){return new c.default(function(e){requirejs(["istats-1"],function(t){e(t)})})}function i(e){o().then(function(t){t.log(d,f,(0,s.default)({},l,e))})}Object.defineProperty(t,"__esModule",{value:!0});var a=r(2),s=n(a),u=r(124),c=n(u),l={page_type:"content",children_interaction_type:"reactions"},f="web_button",d="click";t.default={logSelection:function(e,t,r,n){i({children_interaction_variant:e+"_"+t,children_interaction_location:n}),r&&this.logDeselection(r,n)},logDeselection:function(e,t){i({children_interaction_variant:e+"_deselect",children_interaction_location:t})},logCtaEvent:function(e){i({children_interaction_variant:""+e})},logError:function(e){i({children_interaction_variant:"error_"+e})}},e.exports=t.default},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(){return s.default.resolve(u)}function i(){o().then(function(e){e.log()})}Object.defineProperty(t,"__esModule",{value:!0});var a=r(124),s=n(a),u={log:function(){}};t.default={logSelection:function(e,t,r){i(),r&&this.logDeselection(r)},logDeselection:function(){i()},logCtaEvent:function(){i()},logError:function(){i()}},e.exports=t.default},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(){a.default&&a.default.selfTransitive&&a.default.selfTransitive("assets",function(e){s=e})}Object.defineProperty(t,"__esModule",{value:!0});var i=r(165),a=n(i),s={},u=function(e,t){return t?s.landscape[e]:s.portrait[e]};t.default={fetchSprites:o,getSprite:u},e.exports=t.default},function(e,t){e.exports={transitive:function(e,t){return Morph.requireTransitiveWithCaller("bbc-morph-childrens-reactions@1.4.7",e,t)},selfTransitive:function(e,t){return Morph.requireTransitiveWithCaller("bbc-morph-childrens-reactions@1.4.7",e,t,!0)},transitiveThenUpdate:function(e,t){return Morph.requireTransitiveWithCallerThenUpdate("bbc-morph-childrens-reactions@1.4.7",e,t)},selfTransitiveThenUpdate:function(e,t){return Morph.requireTransitiveWithCallerThenUpdate("bbc-morph-childrens-reactions@1.4.7",e,t,!0)}}}]);;
});</script> 
   <script>Morph.toInit.payloads.push(function() { Morph.setPayload('/data/bbc-morph-childrens-reactions-data/urn/urn%3Abbc%3Aisite2%3Afile_id%3Achildrensgames%3Acbeebies-ivor-graces-amazing-machines-minigames/version/0.7.1', {"meta":{"responseCode":200,"errorMessage":null,"headers":{"x-morph-privacy-level":"public","content-type":"application\/json"}},"body":{"countsData":{"urn:bbc:isite2:file_id:childrensgames:cbeebies-ivor-graces-amazing-machines-minigames":{"lol":21,"sad":129,"inspired":23,"loved":106,"omd":28,"applause":27}},"countsTotals":{"urn:bbc:isite2:file_id:childrensgames:cbeebies-ivor-graces-amazing-machines-minigames":334},"env":"live"}}); });</script> 
   <script>Morph.toInit.payloads.push(function() { Morph.setPayload('/data/bbc-morph-id-availability-data/version/1.0.0', {"meta":{"responseCode":200,"errorMessage":null,"headers":{"x-morph-privacy-level":"public","content-type":"application\/json"}},"body":{"isAvailable":true}}); });</script> 
   <script>Morph.toInit.registers.push(function() { Morph.register({"view":"bbc-morph-childrens-reactions","product":"cbeebies","resourceType":"game","urn":"urn:bbc:isite2:file_id:childrensgames:cbeebies-ivor-graces-amazing-machines-minigames","resourceTitle":"Speedy's+Epic+Journey+Game","url":"https:\/\/www.bbc.co.uk\/cbeebies\/games\/graces-amazing-machines-game-speedys-epic-journey","pageContext":"primary_content","version":"1.4.7","_mrrVersion":"2.2.1"},'u6640433433627035'); });</script> 
   <script>if (!Morph.manualInit) { Morph.init(); } /* u6640433433627035 */</script> 
   <script type="text/javascript">
  var cookiePolicy = window.bbccookies.readPolicy();
  if (true || cookiePolicy.performance) {

    var _sf_async_config = {"domain":"bbc.co.uk","region":"domestic","uid":50924,"sections":"childrens, cbeebies"};
    _sf_async_config.path = window.location.pathname;

    (function () {
      function loadChartbeat() {
        window._sf_endpt = (new Date()).getTime();
        var e = document.createElement("script");
        e.setAttribute("language", "javascript");
        e.setAttribute("type", "text/javascript");
        e.setAttribute('src', "//static.chartbeat.com/js/chartbeat.js");
        document.body.appendChild(e);
      }
      var oldonload = window.onload;
      window.onload = (typeof window.onload != "function") ? loadChartbeat : function () {
        oldonload();
        loadChartbeat();
      };
    })();
  }
</script> 
  </div> 
  <div id="orb-footer" class="orb-footer" dir="ltr"> 
   <div id="navp-orb-footer-promo"></div>
   <aside role="complementary">
    <div id="orb-aside" class="orb-nav-sec b-r b-g-p">
     <div class="orb-footer-inner" role="navigation" aria-label="BBC">
      <h2 class="orb-footer-lead">Explore the BBC</h2>
      <div class="orb-footer-primary-links">
       <ul class="common">
        <li class="orb-nav-cbeebies"><a href="https://www.bbc.co.uk/cbeebies">CBeebies</a></li>
        <li class="orb-nav-iplayer"><a href="https://www.bbc.co.uk/tv/cbeebies">CBeebies iPlayer</a></li>
        <li class="orb-nav-grownups orb-d"><a href="https://www.bbc.co.uk/cbeebies/grownups">Grown-ups</a></li>
        <li class="orb-nav-cbeebiesguide"><a href="https://www.bbc.co.uk/iplayer/guide/cbeebies">TV Guide</a></li>
        <li class="orb-nav-cbbc"><a href="https://www.bbc.co.uk/cbbc">CBBC</a></li>
        <li class="orb-nav-cbeebiesbitesize orb-d"><a href="https://www.bbc.co.uk/bitesize">Bitesize</a></li>
       </ul>
      </div>
     </div>
    </div>
   </aside>
   <footer role="contentinfo">
    <div id="orb-contentinfo" class="orb-nav-sec b-r b-g-p">
     <div class="orb-footer-inner">
      <div>
       <ul>
        <li class="orb-footer-terms"><a href="https://www.bbc.co.uk/usingthebbc/terms/">Terms of Use</a></li>
        <li class="orb-footer-about"><a href="https://www.bbc.co.uk/aboutthebbc">About the BBC</a></li>
        <li class="orb-footer-privacy"><a href="https://www.bbc.co.uk/usingthebbc/privacy/">Privacy Policy</a></li>
        <li class="orb-footer-cookies"><a href="https://www.bbc.co.uk/usingthebbc/cookies/">Cookies</a></li>
        <li class="orb-footer-accessibility"><a href="https://www.bbc.co.uk/accessibility/">Accessibility Help</a></li>
        <li class="orb-footer-parental"><a href="https://www.bbc.co.uk/guidance">Parental Guidance</a></li>
        <li class="orb-footer-contact"><a href="https://www.bbc.co.uk/contact">Contact the BBC</a></li>
        <li class="orb-footer-newsletter"><a href="https://www.bbc.co.uk/bbcnewsletter">Get Personalised Newsletters</a></li>
        <li class="international orb-footer-ads"><a href="https://www.bbcglobalnews.com/">Advertise with us</a></li>
        <li class="international orb-footer-adchoices"><a href="https://www.bbc.com/usingthebbc/cookies/how-does-the-bbc-use-cookies-for-advertising/">AdChoices / Do Not Sell My Info</a></li>
       </ul><small><em class="orb-hilight">Copyright  2022 BBC.</em> The BBC is not responsible for the content of external sites. <span class="orb-footer-links"><a href="https://www.bbc.co.uk/editorialguidelines/guidance/feeds-and-links" class="orb-hilight">Read about our approach to external linking.</a></span></small>
      </div>
     </div>
    </div>
   </footer>
  </div>
  <script type="text/javascript" src="https://static.files.bbci.co.uk/orbit/2b1998e8c0a7c99b4e754326b283a810/js/redirect.js" async></script>
  <script type="text/javascript" src="https://static.files.bbci.co.uk/orbit/2b1998e8c0a7c99b4e754326b283a810/js/performance.js" data-release="3.0.0-2077.d3600b65" data-ux="v4" async></script> 
  <script type="module" src="https://static.files.bbci.co.uk/orbit/2b1998e8c0a7c99b4e754326b283a810/js/more-drawer.mjs"></script> 
  <script type="module" src="https://static.files.bbci.co.uk/orbit/2b1998e8c0a7c99b4e754326b283a810/js/orbit.mjs" async></script>
  <script nomodule="" type="text/javascript" src="https://static.files.bbci.co.uk/orbit/2b1998e8c0a7c99b4e754326b283a810/js/orbit.js" async></script>
  <script type="text/javascript">/*<![CDATA[*/
    (function() {
  function loadJs(url) {
      var script = document.createElement('script');
      script.type = 'text/javascript';
      script.src = url;
      script.async = true;
      document.getElementsByTagName('body')[0].appendChild(script);
  }
     window.bbcuser.isUKCombined().then(function(isUK) {
       if (isUK) {
         loadJs('https://static.files.bbci.co.uk/orbit/2b1998e8c0a7c99b4e754326b283a810/js/edr.js');
       }
     });
   })();
   /*]]>*/</script> 
  <script type="text/javascript" src="https://nav.files.bbci.co.uk/navpromo/34f98a4c8573fabed16dc8acea28feb8/js/footerpromo.js" data-base="https://navpromo.api.bbci.co.uk" data-variant="cbeebies" async></script> 
  <script type="text/javascript">window.COOKIES_STATIC_HOST="https://static.files.bbci.co.uk/cookies/2e8917a000cbc9051af7ab0a431d1750/cookie-banner/cookie-prompt/"</script>
  <script src="https://static.files.bbci.co.uk/cookies/2e8917a000cbc9051af7ab0a431d1750/cookie-banner/cookie-banners.bundle.js" async></script> 
  <script src="https://nav.files.bbci.co.uk//user-activity-helper/a8196ecdef2d10b40b1afc53b833773a/js/detectview.bundle.js" async></script>
  <script type="text/javascript">"use strict";window.__reverb.__reverbLoadedPromise.then(function(e){return e.initialise().then(function(){return e.viewEvent()})},function(){console.log("Failed to load reverb. No event sent")});</script>  
 </body>
</html>