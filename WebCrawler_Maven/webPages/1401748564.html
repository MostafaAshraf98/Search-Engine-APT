<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en"> 
 <head> 
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8"> 
  <title>AcidFS — AcidFS 1.0 documentation</title> 
  <link rel="stylesheet" href="_static/pylons.css" type="text/css"> 
  <link rel="stylesheet" href="_static/pygments.css" type="text/css"> 
  <link rel="stylesheet" href="https://media.readthedocs.org/css/badge_only.css" type="text/css"> 
  <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '1.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script> 
  <script type="text/javascript" src="https://media.readthedocs.org/javascript/jquery/jquery-2.0.3.min.js"></script> 
  <script type="text/javascript" src="https://media.readthedocs.org/javascript/jquery/jquery-migrate-1.2.1.min.js"></script> 
  <script type="text/javascript" src="https://media.readthedocs.org/javascript/underscore.js"></script> 
  <script type="text/javascript" src="https://media.readthedocs.org/javascript/doctools.js"></script> 
  <script type="text/javascript" src="https://media.readthedocs.org/javascript/readthedocs-doc-embed.js"></script> 
  <link rel="index" title="Index" href="genindex.html"> 
  <link rel="search" title="Search" href="search.html"> 
  <link rel="stylesheet" href="http://static.pylonsproject.org/fonts/nobile/stylesheet.css" type="text/css" media="screen" charset="utf-8"> 
  <link rel="stylesheet" href="http://static.pylonsproject.org/fonts/neuton/stylesheet.css" type="text/css" media="screen" charset="utf-8"> <!--[if lte IE 6]>
<link rel="stylesheet" href="_static/ie6.css" type="text/css" media="screen" charset="utf-8" />
<![endif]--> 
  <link rel="shortcut icon" href="_static/pylons.ico"> <!-- RTD Extra Head --> <!-- 
Always link to the latest version, as canonical.
http://docs.readthedocs.org/en/latest/canonical.html
--> 
  <link rel="canonical" href="http://docs.pylonsproject.org/projects/acidfs/en/latest/"> 
  <link rel="stylesheet" href="https://media.readthedocs.org/css/readthedocs-doc-embed.css" type="text/css"> 
  <script type="text/javascript" src="_static/readthedocs-data.js"></script> <!-- Add page-specific data, which must exist in the page js, not global --> 
  <script type="text/javascript">
READTHEDOCS_DATA['page'] = 'index' 		
READTHEDOCS_DATA['source_suffix'] = '.rst'
</script> 
  <script type="text/javascript" src="_static/readthedocs-dynamic-include.js"></script> <!-- end RTD <extrahead> --> 
 </head> 
 <body> <a href="https://github.com/Pylons/acidfs/blob/master/docs/index.rst"><img style="position: absolute; top: 0; right: 0; border: 0;" src="_static/edit-me-on-github.png" alt="Edit me on GitHub"></a> 
  <div class="header-small"> 
   <div class="logo-small"> <a href="#"> <img class="logo" src="_static/pylons-small.png" alt="Logo"> </a> 
   </div> 
  </div> 
  <div class="related" role="navigation" aria-label="related navigation"> 
   <h3>Navigation</h3> 
   <ul> 
    <li class="right" style="margin-right: 10px"> <a href="genindex.html" title="General Index" accesskey="I">index</a></li> 
    <li class="right"> <a href="py-modindex.html" title="Python Module Index">modules</a> |</li> 
    <li><a href="#">AcidFS 1.0 documentation</a> »</li> 
   </ul> 
  </div> 
  <div class="document"> 
   <div class="documentwrapper"> 
    <div class="bodywrapper"> 
     <div class="body" role="main"> 
      <div class="section" id="acidfs"> 
       <h1>AcidFS<a class="headerlink" href="#acidfs" title="Permalink to this headline">¶</a></h1> 
       <p><strong>The filesystem on ACID</strong></p> 
       <p><cite>AcidFS</cite> allows interaction with the filesystem using transactions with ACID semantics. <cite>Git</cite> is used as a back end, and <cite>AcidFS</cite> integrates with the <a class="reference external" href="http://pypi.python.org/pypi/transaction">transaction</a> package allowing use of multiple databases in a single transaction.</p> 
       <div class="section" id="features"> 
        <h2>Features<a class="headerlink" href="#features" title="Permalink to this headline">¶</a></h2> 
        <ul class="simple"> 
         <li>Changes to the filesystem will only be persisted when a transaction is committed and if the transaction succeeds.</li> 
         <li>Within the scope of a transaction, your application will only see a view of the filesystem consistent with that filesystem’s state at the beginning of the transaction. Concurrent writes do not affect the current context.</li> 
         <li>A full history of all changes is available, since files are stored in a backing <cite>Git</cite> repository. The standard <cite>Git</cite> toolchain can be used to recall past states, roll back particular changes, replicate the repository remotely, etc.</li> 
         <li>Changes to a <cite>AcidFS</cite> filesystem are synced automatically with any other database making use of the <cite>transaction</cite> package and its two phase commit protocol, eg. <cite>ZODB</cite> or <cite>SQLAlchemy</cite>.</li> 
         <li>Most common concurrent changes can be merged. There’s even a decent chance concurrent modifications to the same text file can be merged.</li> 
         <li>Transactions can be started from an arbitrary commit point, allowing, for example, a web application to apply the results of a form submission to the state of your data at the time the form was rendered, making concurrent edits to the same resource less risky and effectively giving you transactions that can span request boundaries.</li> 
        </ul> 
       </div> 
       <div class="section" id="motivation"> 
        <h2>Motivation<a class="headerlink" href="#motivation" title="Permalink to this headline">¶</a></h2> 
        <p>The motivation for this package is the fact that it often is convenient for certain very simple problems to simply write and read data from a fileystem, but often a database of some sort winds up being used simply because of the power and safety available with a system which uses transactions and ACID semantics. For example, you wouldn’t want a web application with any amount of concurrency at all to be writing directly to the filesystem, since it would be easy for two threads or processes to both attempt to write to the same file at the same time, with the result that one change is clobbered by another, or even worse, the application is left in an inconsistent, corrupted state. After thinking about various ways to attack this problem and looking at <cite>Git’s</cite> datastore and plumbing commands, it was determined that <cite>Git</cite> was a very good fit, allowing a graceful solution to this problem.</p> 
       </div> 
       <div class="section" id="limitations"> 
        <h2>Limitations<a class="headerlink" href="#limitations" title="Permalink to this headline">¶</a></h2> 
        <p>In a nutshell:</p> 
        <ul class="simple"> 
         <li>Only platforms where <cite>fcntl</cite> is available are supported. This excludes Microsoft Windows and probably the JVM as well.</li> 
         <li>Kernel level locking is used to manage concurrency. This means <cite>AcidFS</cite> cannot handle multiple application servers writing to a shared network drive.</li> 
         <li>The type of locking used only synchronizes other instances of <cite>AcidFS</cite>. Other processes manipulating the <cite>Git</cite> repository without using <cite>AcidFS</cite> could cause a race condition. A repository used by <cite>AcidFS</cite> should only be written to by <cite>AcidFS</cite> in order to avoid unpleasant race conditions.</li> 
        </ul> 
        <p>All of the above limitations are a result of the locking used to synchronize commits. For the most part, during a transaction, nothing special needs to be done to manage concurrency since <cite>Git’s</cite> storage model makes management of multiple, parallel trees trivially easy. At commit time, however, any new data has to be merged with the current head which may have changed since the transaction began. This last step should be synchronized such that only one instance of <cite>AcidFS</cite> is attempting this at a time. The mechanism, currently, for doing this is use of the <cite>fcntl</cite> module which takes advantage of an advisory locking mechanism available in Unix kernels.</p> 
       </div> 
       <div class="section" id="usage"> 
        <h2>Usage<a class="headerlink" href="#usage" title="Permalink to this headline">¶</a></h2> 
        <p><cite>AcidFS</cite> is easy to use. Just create an instance of <cite>acidfs.AcidFS</cite> and start using the filesystem:</p> 
        <div class="highlight-default">
         <div class="highlight">
          <pre><span></span><span class="kn">import</span> <span class="nn">acidfs</span>

<span class="n">fs</span> <span class="o">=</span> <span class="n">acidfs</span><span class="o">.</span><span class="n">AcidFS</span><span class="p">(</span><span class="s1">'path/to/my/repo'</span><span class="p">)</span>
<span class="n">fs</span><span class="o">.</span><span class="n">mkdir</span><span class="p">(</span><span class="s1">'foo'</span><span class="p">)</span>
<span class="k">with</span> <span class="n">fs</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="s1">'/foo/bar'</span><span class="p">,</span> <span class="s1">'w'</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
    <span class="nb">print</span> <span class="o">&gt;&gt;</span> <span class="n">f</span><span class="p">,</span> <span class="s1">'Hello!'</span>
</pre>
         </div> 
        </div> 
        <p>If there is not already a <cite>Git</cite> repository at the path specified, one is created. An instance of <cite>AcidFS</cite> is not thread safe. The same <cite>AcidFS</cite> instance should not be shared across threads or greenlets, etc.</p> 
        <p>The <a class="reference external" href="http://pypi.python.org/pypi/transaction">transaction</a> package is used to commit and abort transactions:</p> 
        <div class="highlight-default">
         <div class="highlight">
          <pre><span></span><span class="kn">import</span> <span class="nn">transaction</span>

<span class="n">transaction</span><span class="o">.</span><span class="n">commit</span><span class="p">()</span>
<span class="c1"># If no exception has been thrown, then changes are saved!  Yeah!</span>
</pre>
         </div> 
        </div> 
        <div class="admonition note"> 
         <p class="first admonition-title">Note</p> 
         <p class="last">If you’re using <a class="reference external" href="http://www.pylonsproject.org/">Pyramid</a>, you should use <a class="reference external" href="http://pypi.python.org/pypi/pyramid_tm">pyramid_tm</a>. For other WSGI frameworks there is also <a class="reference external" href="http://pypi.python.org/pypi/repoze.tm2">repoze.tm2</a>.</p> 
        </div> 
       </div> 
       <div class="section" id="commit-metadata"> 
        <h2>Commit Metadata<a class="headerlink" href="#commit-metadata" title="Permalink to this headline">¶</a></h2> 
        <p>The <a class="reference external" href="http://pypi.python.org/pypi/transaction">transaction</a> package has built in support for providing metadata about a particular transaction. This metadata is used to set the commit data for the underlying git commit for a transaction. Use of these hooks is optional but recommended to provide meaningful audit information in the history of your repository. An example is the best illustration:</p> 
        <div class="highlight-default">
         <div class="highlight">
          <pre><span></span><span class="kn">import</span> <span class="nn">transaction</span>

<span class="n">current</span> <span class="o">=</span> <span class="n">transaction</span><span class="o">.</span><span class="n">get</span><span class="p">()</span>
<span class="n">current</span><span class="o">.</span><span class="n">note</span><span class="p">(</span><span class="s1">'Added blog entry: "Bedrock Bro Culture: Yabba Dabba Dude!"'</span><span class="p">)</span>
<span class="n">current</span><span class="o">.</span><span class="n">setUser</span><span class="p">(</span><span class="s1">'Fred Flintstone'</span><span class="p">)</span>
<span class="n">current</span><span class="o">.</span><span class="n">setExtendedInfo</span><span class="p">(</span><span class="s1">'email'</span><span class="p">,</span> <span class="s1">'fred@bed.rock'</span><span class="p">)</span>
</pre>
         </div> 
        </div> 
        <p>A users’s name may also be set by using the <code class="docutils literal"><span class="pre">setExtendedInfo</span></code> method:</p> 
        <div class="highlight-default">
         <div class="highlight">
          <pre><span></span><span class="n">current</span><span class="o">.</span><span class="n">setExtendedInfo</span><span class="p">(</span><span class="s1">'user'</span><span class="p">,</span> <span class="s1">'Fred Flintstone'</span><span class="p">)</span>
</pre>
         </div> 
        </div> 
        <p>The keys <code class="docutils literal"><span class="pre">acidfs_user</span></code> and <code class="docutils literal"><span class="pre">acidfs_email</span></code> are available in extended info in case you are sharing a transaction with a system that has a different notion of what user and email should be set to. Substance D, for examples, sets the user to an integer OID that represents the user in its system, but that might not be what you want to see in the Git log for your repository:</p> 
        <div class="highlight-default">
         <div class="highlight">
          <pre><span></span><span class="n">current</span><span class="o">.</span><span class="n">setExtendedInfo</span><span class="p">(</span><span class="s1">'acidfs_user'</span><span class="p">,</span> <span class="s1">'Fred Flintstone'</span><span class="p">)</span>
<span class="n">current</span><span class="o">.</span><span class="n">setExtendedInfo</span><span class="p">(</span><span class="s1">'acidfs_email'</span><span class="p">,</span> <span class="s1">'fred@bed.rock'</span><span class="p">)</span>
</pre>
         </div> 
        </div> 
        <p>The transaction might look something like this in the git log:</p> 
        <div class="highlight-default">
         <div class="highlight">
          <pre><span></span><span class="n">commit</span> <span class="mi">3</span><span class="n">aa61073ea755f2c642ef7e258abe77215fe54a2</span>
<span class="n">Author</span><span class="p">:</span> <span class="n">Fred</span> <span class="n">Flintstone</span> <span class="o">&lt;</span><span class="n">fred</span><span class="nd">@bed</span><span class="o">.</span><span class="n">rock</span><span class="o">&gt;</span>
<span class="n">Date</span><span class="p">:</span>   <span class="n">Sun</span> <span class="n">Sep</span> <span class="mi">16</span> <span class="mi">22</span><span class="p">:</span><span class="mi">08</span><span class="p">:</span><span class="mi">08</span> <span class="mi">2012</span> <span class="o">-</span><span class="mi">0400</span>

    <span class="n">Added</span> <span class="n">blog</span> <span class="n">entry</span><span class="p">:</span> <span class="s2">"Bedrock Bro Culture: Yabba Dabba Dude!"</span>
</pre>
         </div> 
        </div> 
       </div> 
       <div class="section" id="module-acidfs"> <span id="api"></span>
        <h2>API<a class="headerlink" href="#module-acidfs" title="Permalink to this headline">¶</a></h2> 
        <dl class="class"> 
         <dt id="acidfs.AcidFS"> <em class="property">class </em><code class="descclassname">acidfs.</code><code class="descname">AcidFS</code><span class="sig-paren">(</span><em>repo</em>, <em>head='HEAD'</em>, <em>create=True</em>, <em>bare=False</em>, <em>user_name=None</em>, <em>user_email=None</em>, <em>name='AcidFS'</em>, <em>path_encoding='ascii'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/acidfs.html#AcidFS"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#acidfs.AcidFS" title="Permalink to this definition">¶</a>
         </dt> 
         <dd>
          <p>An instance of <cite>AcidFS</cite> exposes a transactional filesystem view of a <cite>Git</cite> repository. Instances of <cite>AcidFS</cite> are not threadsafe and should not be shared across threads, greenlets, etc.</p> 
          <p><strong>Paths</strong></p> 
          <p>Many methods take a <cite>path</cite> as an argument. All paths use forward slash <cite>/</cite> as a separator, regardless of the path separator of the underlying operating system. The path <cite>/</cite> represents the root folder of the repository. Paths may be relative or absolute: paths beginning with a <cite>/</cite> are absolute with respect to the repository root, paths not beginning with a <cite>/</cite> are relative to the current working directory. The current working directory always starts at the root of the repository. The current working directory can be changed using the <a class="reference internal" href="#acidfs.AcidFS.chdir" title="acidfs.AcidFS.chdir"><code class="xref py py-meth docutils literal"><span class="pre">chdir()</span></code></a> and <a class="reference internal" href="#acidfs.AcidFS.cd" title="acidfs.AcidFS.cd"><code class="xref py py-meth docutils literal"><span class="pre">cd()</span></code></a> methods.</p> 
          <p><strong>Constructor Arguments</strong></p> 
          <p><code class="docutils literal"><span class="pre">repo</span></code></p> 
          <blockquote> 
           <div>
            The path to the repository in the real, local filesystem.
           </div>
          </blockquote> 
          <p><code class="docutils literal"><span class="pre">head</span></code></p> 
          <blockquote> 
           <div>
            The name of a branch to use as the head for this transaction. Changes made using this instance will be merged to the given head. The default, if omitted, is to use the repository’s current head.
           </div>
          </blockquote> 
          <p><code class="docutils literal"><span class="pre">create</span></code></p> 
          <blockquote> 
           <div>
            If there is not a Git repository in the indicated directory, should one be created? The default is <cite>True</cite>.
           </div>
          </blockquote> 
          <p><code class="docutils literal"><span class="pre">bare</span></code></p> 
          <blockquote> 
           <div>
            If the Git repository is to be created, create it as a bare repository. If the repository is already created or <cite>create</cite> is False, this argument has no effect.
           </div>
          </blockquote> 
          <p><code class="docutils literal"><span class="pre">user_name</span></code></p> 
          <blockquote> 
           <div>
            If the Git repository is to be created, set the user name for the repository to this value. This is the same as creating the repository and running <cite>git config user.name “&lt;user_name&gt;”</cite>.
           </div>
          </blockquote> 
          <p><code class="docutils literal"><span class="pre">user_email</span></code></p> 
          <blockquote> 
           <div>
            If the Git repository is to be created, set the user email for the repository to this value. This is the same as creating the repository and running <cite>git config user.email “&lt;user_email&gt;”</cite>.
           </div>
          </blockquote> 
          <p><code class="docutils literal"><span class="pre">name</span></code></p> 
          <blockquote> 
           <div>
            Name to be used as a sort key when ordering the various databases (datamanagers in the parlance of the transaction package) during a commit. It is exceedingly rare that you would need to use anything other than the default, here.
           </div>
          </blockquote> 
          <p><code class="docutils literal"><span class="pre">path_encoding</span></code></p> 
          <blockquote> 
           <div>
            Encode paths with this encoding. The default is <cite>ascii</cite>.
           </div>
          </blockquote> 
          <dl class="method"> 
           <dt id="acidfs.AcidFS.open"> <code class="descname">open</code><span class="sig-paren">(</span><em>path</em>, <em>mode='r'</em>, <em>buffering=-1</em>, <em>encoding=None</em>, <em>errors=None</em>, <em>newline=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/acidfs.html#AcidFS.open"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#acidfs.AcidFS.open" title="Permalink to this definition">¶</a>
           </dt> 
           <dd>
            <p>Open a file for reading or writing.</p> 
            <p>Implements the semantics of the <cite>open</cite> function in Python’s <a class="reference external" href="http://docs.python.org/library/io.html#io.open">io module</a>, which is the default implementation <a class="reference external" href="http://docs.python.org/py3k/library/functions.html#open">in Python 3</a>. Opening a file in text mode will return a file-like object which reads or writes unicode strings, while opening a file in binary mode will return a file-like object which reads or writes raw bytes.</p> 
            <p>Because the underlying implementation uses a pipe to a <cite>Git</cite> plumbing command, opening for update (read and write) is not supported, nor is seeking.</p> 
           </dd>
          </dl> 
          <dl class="method"> 
           <dt id="acidfs.AcidFS.cwd"> <code class="descname">cwd</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/acidfs.html#AcidFS.cwd"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#acidfs.AcidFS.cwd" title="Permalink to this definition">¶</a>
           </dt> 
           <dd>
            <p>Returns the path to the current working directory in the repository.</p> 
           </dd>
          </dl> 
          <dl class="method"> 
           <dt id="acidfs.AcidFS.chdir"> <code class="descname">chdir</code><span class="sig-paren">(</span><em>path</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/acidfs.html#AcidFS.chdir"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#acidfs.AcidFS.chdir" title="Permalink to this definition">¶</a>
           </dt> 
           <dd>
            <p>Change the current working directory in repository.</p> 
           </dd>
          </dl> 
          <dl class="method"> 
           <dt id="acidfs.AcidFS.cd"> <code class="descname">cd</code><span class="sig-paren">(</span><em>path</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/acidfs.html#AcidFS.cd"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#acidfs.AcidFS.cd" title="Permalink to this definition">¶</a>
           </dt> 
           <dd>
            <p>A context manager that changes the current working directory only in the scope of the ‘with’ context. Eg:</p> 
            <div class="highlight-default">
             <div class="highlight">
              <pre><span></span><span class="kn">import</span> <span class="nn">acidfs</span>

<span class="n">fs</span> <span class="o">=</span> <span class="n">acidfs</span><span class="o">.</span><span class="n">AcidFS</span><span class="p">(</span><span class="s1">'myrepo'</span><span class="p">)</span>
<span class="k">with</span> <span class="n">fs</span><span class="o">.</span><span class="n">cd</span><span class="p">(</span><span class="s1">'some/folder'</span><span class="p">):</span>
    <span class="n">fs</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="s1">'a/file'</span><span class="p">)</span>   <span class="c1"># relative to /some/folder</span>
<span class="n">fs</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="s1">'another/file'</span><span class="p">)</span> <span class="c1"># relative to /</span>
</pre>
             </div> 
            </div> 
           </dd>
          </dl> 
          <dl class="method"> 
           <dt id="acidfs.AcidFS.listdir"> <code class="descname">listdir</code><span class="sig-paren">(</span><em>path=''</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/acidfs.html#AcidFS.listdir"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#acidfs.AcidFS.listdir" title="Permalink to this definition">¶</a>
           </dt> 
           <dd>
            <p>Return list of files in indicated directory. If <cite>path</cite> is omitted, the current working directory is used.</p> 
           </dd>
          </dl> 
          <dl class="method"> 
           <dt id="acidfs.AcidFS.mkdir"> <code class="descname">mkdir</code><span class="sig-paren">(</span><em>path</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/acidfs.html#AcidFS.mkdir"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#acidfs.AcidFS.mkdir" title="Permalink to this definition">¶</a>
           </dt> 
           <dd>
            <p>Create a new directory. The parent of the new directory must already exist.</p> 
           </dd>
          </dl> 
          <dl class="method"> 
           <dt id="acidfs.AcidFS.mkdirs"> <code class="descname">mkdirs</code><span class="sig-paren">(</span><em>path</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/acidfs.html#AcidFS.mkdirs"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#acidfs.AcidFS.mkdirs" title="Permalink to this definition">¶</a>
           </dt> 
           <dd>
            <p>Create a new directory, including any ancestors which need to be created in order to create the directory with the given <cite>path</cite>.</p> 
           </dd>
          </dl> 
          <dl class="method"> 
           <dt id="acidfs.AcidFS.rm"> <code class="descname">rm</code><span class="sig-paren">(</span><em>path</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/acidfs.html#AcidFS.rm"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#acidfs.AcidFS.rm" title="Permalink to this definition">¶</a>
           </dt> 
           <dd>
            <p>Remove a single file.</p> 
           </dd>
          </dl> 
          <dl class="method"> 
           <dt id="acidfs.AcidFS.rmdir"> <code class="descname">rmdir</code><span class="sig-paren">(</span><em>path</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/acidfs.html#AcidFS.rmdir"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#acidfs.AcidFS.rmdir" title="Permalink to this definition">¶</a>
           </dt> 
           <dd>
            <p>Remove a single directory. The directory must be empty.</p> 
           </dd>
          </dl> 
          <dl class="method"> 
           <dt id="acidfs.AcidFS.rmtree"> <code class="descname">rmtree</code><span class="sig-paren">(</span><em>path</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/acidfs.html#AcidFS.rmtree"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#acidfs.AcidFS.rmtree" title="Permalink to this definition">¶</a>
           </dt> 
           <dd>
            <p>Remove a directory and any of its contents.</p> 
           </dd>
          </dl> 
          <dl class="method"> 
           <dt id="acidfs.AcidFS.mv"> <code class="descname">mv</code><span class="sig-paren">(</span><em>src</em>, <em>dst</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/acidfs.html#AcidFS.mv"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#acidfs.AcidFS.mv" title="Permalink to this definition">¶</a>
           </dt> 
           <dd>
            <p>Move a file or directory from <cite>src</cite> path to <cite>dst</cite> path.</p> 
           </dd>
          </dl> 
          <dl class="method"> 
           <dt id="acidfs.AcidFS.exists"> <code class="descname">exists</code><span class="sig-paren">(</span><em>path</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/acidfs.html#AcidFS.exists"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#acidfs.AcidFS.exists" title="Permalink to this definition">¶</a>
           </dt> 
           <dd>
            <p>Returns boolean indicating whether a file or directory exists at the given <cite>path</cite>.</p> 
           </dd>
          </dl> 
          <dl class="method"> 
           <dt id="acidfs.AcidFS.isdir"> <code class="descname">isdir</code><span class="sig-paren">(</span><em>path</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/acidfs.html#AcidFS.isdir"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#acidfs.AcidFS.isdir" title="Permalink to this definition">¶</a>
           </dt> 
           <dd>
            <p>Returns boolean indicating whether the given <cite>path</cite> is a directory.</p> 
           </dd>
          </dl> 
          <dl class="method"> 
           <dt id="acidfs.AcidFS.empty"> <code class="descname">empty</code><span class="sig-paren">(</span><em>path</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/acidfs.html#AcidFS.empty"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#acidfs.AcidFS.empty" title="Permalink to this definition">¶</a>
           </dt> 
           <dd>
            <p>Returns boolean indicating whether the directory indicated by <cite>path</cite> is empty.</p> 
           </dd>
          </dl> 
          <dl class="method"> 
           <dt id="acidfs.AcidFS.get_base"> <code class="descname">get_base</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/acidfs.html#AcidFS.get_base"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#acidfs.AcidFS.get_base" title="Permalink to this definition">¶</a>
           </dt> 
           <dd>
            <p>Returns the id of the commit that is the current base for the transaction.</p> 
           </dd>
          </dl> 
          <dl class="method"> 
           <dt id="acidfs.AcidFS.set_base"> <code class="descname">set_base</code><span class="sig-paren">(</span><em>commit</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/acidfs.html#AcidFS.set_base"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#acidfs.AcidFS.set_base" title="Permalink to this definition">¶</a>
           </dt> 
           <dd>
            <p>Sets the base commit for the current transaction. The <cite>commit</cite> argument may be the SHA1 of a commit or the name of a reference (eg. branch or tag). The current transaction must be clean. If any changes have been made in the transaction, a ConflictError will be raised.</p> 
           </dd>
          </dl> 
          <dl class="method"> 
           <dt id="acidfs.AcidFS.hash"> <code class="descname">hash</code><span class="sig-paren">(</span><em>path=''</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/acidfs.html#AcidFS.hash"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#acidfs.AcidFS.hash" title="Permalink to this definition">¶</a>
           </dt> 
           <dd>
            <p>Returns the sha1 hash of the object referred to by <cite>path</cite>. If <cite>path</cite> is omitted the current working directory is used.</p> 
           </dd>
          </dl> 
         </dd>
        </dl> 
        <div class="toctree-wrapper compound"> 
        </div> 
       </div> 
      </div> 
     </div> 
    </div> 
   </div> 
   <div class="sphinxsidebar" role="navigation" aria-label="main navigation"> 
    <div class="sphinxsidebarwrapper"> 
     <h3><a href="#">Table Of Contents</a></h3> 
     <ul> 
      <li><a class="reference internal" href="#">AcidFS</a>
       <ul> 
        <li><a class="reference internal" href="#features">Features</a></li> 
        <li><a class="reference internal" href="#motivation">Motivation</a></li> 
        <li><a class="reference internal" href="#limitations">Limitations</a></li> 
        <li><a class="reference internal" href="#usage">Usage</a></li> 
        <li><a class="reference internal" href="#commit-metadata">Commit Metadata</a></li> 
        <li><a class="reference internal" href="#module-acidfs">API</a></li> 
       </ul> </li> 
     </ul> 
     <div id="searchbox" style="display: none" role="search"> 
      <h3>Quick search</h3> 
      <form class="search" action="search.html" method="get"> 
       <div>
        <input type="text" name="q">
       </div> 
       <div>
        <input type="submit" value="Go">
       </div> 
       <input type="hidden" name="check_keywords" value="yes"> 
       <input type="hidden" name="area" value="default"> 
      </form> 
     </div> 
     <script type="text/javascript">$('#searchbox').show(0);</script> 
    </div> 
   </div> 
   <div class="clearer"></div> 
  </div> 
  <div class="related" role="navigation" aria-label="related navigation"> 
   <h3>Navigation</h3> 
   <ul> 
    <li class="right" style="margin-right: 10px"> <a href="genindex.html" title="General Index">index</a></li> 
    <li class="right"> <a href="py-modindex.html" title="Python Module Index">modules</a> |</li> 
    <li><a href="#">AcidFS 1.0 documentation</a> »</li> 
   </ul> 
  </div> 
  <div class="footer" role="contentinfo">
    © Copyright 2012, Chris Rossi. Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.6.5. 
  </div>  
 </body>
</html>