<!doctype html>
<html lang="en"> 
 <head> 
  <meta charset="utf-8"> 
  <meta name="viewport" content="width=device-width, initial-scale=1.0"> 
  <title>Calling C functions — Cython 3.0.0a10 documentation</title> 
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css"> 
  <link rel="stylesheet" href="../../_static/nature.css" type="text/css"> 
  <link rel="stylesheet" href="../../_static/css/tabs.css" type="text/css"> 
  <script id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script> 
  <script src="../../_static/jquery.js"></script> 
  <script src="../../_static/underscore.js"></script> 
  <script src="../../_static/doctools.js"></script> 
  <script src="../../_static/tabs.js"></script> 
  <script async src="https://assets.readthedocs.org/static/javascript/readthedocs-doc-embed.js"></script> 
  <link rel="canonical" href="https://cython.readthedocs.io/en/latest/src/tutorial/external.html"> 
  <link rel="shortcut icon" href="../../_static/favicon.ico"> 
  <link rel="search" title="Search" href="../../search.html"> 
  <link rel="next" title="Using C libraries" href="clibraries.html"> 
  <link rel="prev" title="Basic Tutorial" href="cython_tutorial.html"> <!-- RTD Extra Head --> 
  <link rel="stylesheet" href="https://assets.readthedocs.org/static/css/readthedocs-doc-embed.css" type="text/css"> 
  <script type="application/json" id="READTHEDOCS_DATA">{"ad_free": false, "api_host": "https://readthedocs.org", "build_date": "2022-05-17T16:57:43Z", "builder": "sphinx", "canonical_url": null, "commit": "91af73d9", "docroot": "/docs/", "features": {"docsearch_disabled": false}, "global_analytics_code": null, "language": "en", "page": "src/tutorial/external", "programming_language": "py", "project": "cython", "proxied_api_host": "/_", "source_suffix": ".rst", "subprojects": {}, "theme": "nature", "user_analytics_code": "", "version": "latest"}</script> <!--
Using this variable directly instead of using `JSON.parse` is deprecated.
The READTHEDOCS_DATA global variable will be removed in the future.
--> 
  <script type="text/javascript">
READTHEDOCS_DATA = JSON.parse(document.getElementById('READTHEDOCS_DATA').innerHTML);
</script> 
  <script type="text/javascript" src="https://assets.readthedocs.org/static/javascript/readthedocs-analytics.js" async></script> <!-- end RTD <extrahead> --> 
 </head>
 <body> 
  <div id="development-warning" style="padding: .5em; text-align: center; background-color: #FFFfE0; color: #AA0E0E;">
    This version of the documentation is for the latest and greatest in-development branch of Cython. For the last release version, see <a href="/en/stable/src/tutorial/external.html">here</a>. 
  </div> 
  <div class="related" role="navigation" aria-label="related navigation"> 
   <h3>Navigation</h3> 
   <ul> 
    <li class="right" style="margin-right: 10px"> <a href="clibraries.html" title="Using C libraries" accesskey="N">next</a></li> 
    <li class="right"> <a href="cython_tutorial.html" title="Basic Tutorial" accesskey="P">previous</a> |</li> 
    <li class="nav-item nav-item-0"><a href="../../index.html">Cython 3.0.0a10 documentation</a> »</li> 
    <li class="nav-item nav-item-1"><a href="index.html" accesskey="U">Tutorials</a> »</li> 
    <li class="nav-item nav-item-this"><a href="">Calling C functions</a></li> 
   </ul> 
  </div> 
  <div style="width: 100%; height: 3em; vertical-align: middle; text-align: center; font-weight: bold; background-color: lightgray; border: solid red 1px"> 
   <p style="font-size: 110%">? Like the tool? Help making it better! <a href="../donating.html">Your donation helps!</a> ?</p> 
  </div> 
  <div class="document"> 
   <div class="documentwrapper"> 
    <div class="bodywrapper"> 
     <div class="body" role="main"> 
      <div class="section" id="calling-c-functions"> 
       <h1>Calling C functions<a class="headerlink" href="#calling-c-functions" title="Permalink to this headline">¶</a></h1> 
       <div class="admonition note"> 
        <p class="admonition-title">Note</p> 
        <p>This page uses two different syntax variants:</p> 
        <ul> 
         <li><p>Cython specific <code class="docutils literal notranslate"><span class="pre">cdef</span></code> syntax, which was designed to make type declarations concise and easily readable from a C/C++ perspective.</p></li> 
         <li><p>Pure Python syntax which allows static Cython type declarations in <a class="reference internal" href="pure.html#pep484-type-annotations"><span class="std std-ref">pure Python code</span></a>, following <a class="reference external" href="https://www.python.org/dev/peps/pep-0484/">PEP-484</a> type hints and <a class="reference external" href="https://www.python.org/dev/peps/pep-0526/">PEP 526</a> variable annotations.</p> <p>To make use of C data types in Python syntax, you need to import the special <code class="docutils literal notranslate"><span class="pre">cython</span></code> module in the Python module that you want to compile, e.g.</p> 
          <div class="highlight-python notranslate">
           <div class="highlight">
            <pre><span></span><span class="kn">import</span> <span class="nn">cython</span>
</pre>
           </div> 
          </div> </li> 
        </ul> 
       </div> 
       <p>This tutorial describes shortly what you need to know in order to call C library functions from Cython code. For a longer and more comprehensive tutorial about using external C libraries, wrapping them and handling errors, see <a class="reference internal" href="clibraries.html"><span class="doc">Using C libraries</span></a>.</p> 
       <p>For simplicity, let’s start with a function from the standard C library. This does not add any dependencies to your code, and it has the additional advantage that Cython already defines many such functions for you. So you can just cimport and use them.</p> 
       <p>For example, let’s say you need a low-level way to parse a number from a <code class="docutils literal notranslate"><span class="pre">char*</span></code> value. You could use the <code class="docutils literal notranslate"><span class="pre">atoi()</span></code> function, as defined by the <code class="docutils literal notranslate"><span class="pre">stdlib.h</span></code> header file. This can be done as follows:</p> 
       <div class="sphinx-tabs docutils container"> 
        <div aria-label="Tabbed content" role="tablist">
         <button aria-controls="panel-0-UHVyZSBQeXRob24=" aria-selected="true" class="sphinx-tabs-tab group-tab" id="tab-0-UHVyZSBQeXRob24=" name="UHVyZSBQeXRob24=" role="tab" tabindex="0">Pure Python</button><button aria-controls="panel-0-Q3l0aG9u" aria-selected="false" class="sphinx-tabs-tab group-tab" id="tab-0-Q3l0aG9u" name="Q3l0aG9u" role="tab" tabindex="-1">Cython</button>
        </div>
        <div aria-labelledby="tab-0-UHVyZSBQeXRob24=" class="sphinx-tabs-panel group-tab" id="panel-0-UHVyZSBQeXRob24=" name="UHVyZSBQeXRob24=" role="tabpanel" tabindex="0">
         <div class="literal-block-wrapper docutils container" id="id1"> 
          <div class="code-block-caption">
           <span class="caption-text">atoi.py</span><a class="headerlink" href="#id1" title="Permalink to this code">¶</a>
          </div> 
          <div class="highlight-cython notranslate">
           <div class="highlight">
            <pre><span></span><span class="k">from</span> <span class="nn">cython.cimports.libc.stdlib</span> <span class="k">import</span> <span class="n">atoi</span>

<span class="nd">@cython</span><span class="o">.</span><span class="n">cfunc</span>
<span class="k">def</span> <span class="nf">parse_charptr_to_py_int</span><span class="p">(</span><span class="n">s</span><span class="p">:</span> <span class="n">cython</span><span class="o">.</span><span class="n">p_char</span><span class="p">):</span>
    <span class="k">assert</span> <span class="n">s</span> <span class="ow">is</span> <span class="ow">not</span> <span class="n">cython</span><span class="o">.</span><span class="n">NULL</span><span class="p">,</span> <span class="s">"byte string value is NULL"</span>
    <span class="k">return</span> <span class="n">atoi</span><span class="p">(</span><span class="n">s</span><span class="p">)</span>  <span class="c"># note: atoi() has no error detection!</span>
</pre>
           </div> 
          </div> 
         </div> 
        </div>
        <div aria-labelledby="tab-0-Q3l0aG9u" class="sphinx-tabs-panel group-tab" hidden="true" id="panel-0-Q3l0aG9u" name="Q3l0aG9u" role="tabpanel" tabindex="0">
         <div class="literal-block-wrapper docutils container" id="id2"> 
          <div class="code-block-caption">
           <span class="caption-text">atoi.pyx</span><a class="headerlink" href="#id2" title="Permalink to this code">¶</a>
          </div> 
          <div class="highlight-cython notranslate">
           <div class="highlight">
            <pre><span></span><span class="k">from</span> <span class="nn">libc.stdlib</span> <span class="k">cimport</span> <span class="n">atoi</span>


<span class="k">cdef</span> <span class="nf">parse_charptr_to_py_int</span><span class="p">(</span><span class="n">char</span><span class="o">*</span> <span class="n">s</span><span class="p">):</span>
    <span class="k">assert</span> <span class="n">s</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">NULL</span><span class="p">,</span> <span class="s">"byte string value is NULL"</span>
    <span class="k">return</span> <span class="n">atoi</span><span class="p">(</span><span class="n">s</span><span class="p">)</span>  <span class="c"># note: atoi() has no error detection!</span>
</pre>
           </div> 
          </div> 
         </div> 
        </div>
       </div> 
       <p>You can find a complete list of these standard cimport files in Cython’s source package <a class="reference external" href="https://github.com/cython/cython/tree/master/Cython/Includes">Cython/Includes/</a>. They are stored in <code class="docutils literal notranslate"><span class="pre">.pxd</span></code> files, the standard way to provide reusable Cython declarations that can be shared across modules (see <a class="reference internal" href="../userguide/sharing_declarations.html#sharing-declarations"><span class="std std-ref">Sharing Declarations Between Cython Modules</span></a>).</p> 
       <p>Cython also has a complete set of declarations for CPython’s C-API. For example, to test at C compilation time which CPython version your code is being compiled with, you can do this:</p> 
       <div class="sphinx-tabs docutils container"> 
        <div aria-label="Tabbed content" role="tablist">
         <button aria-controls="panel-1-UHVyZSBQeXRob24=" aria-selected="true" class="sphinx-tabs-tab group-tab" id="tab-1-UHVyZSBQeXRob24=" name="UHVyZSBQeXRob24=" role="tab" tabindex="0">Pure Python</button><button aria-controls="panel-1-Q3l0aG9u" aria-selected="false" class="sphinx-tabs-tab group-tab" id="tab-1-Q3l0aG9u" name="Q3l0aG9u" role="tab" tabindex="-1">Cython</button>
        </div>
        <div aria-labelledby="tab-1-UHVyZSBQeXRob24=" class="sphinx-tabs-panel group-tab" id="panel-1-UHVyZSBQeXRob24=" name="UHVyZSBQeXRob24=" role="tabpanel" tabindex="0">
         <div class="literal-block-wrapper docutils container" id="id3"> 
          <div class="code-block-caption">
           <span class="caption-text">py_version_hex.py</span><a class="headerlink" href="#id3" title="Permalink to this code">¶</a>
          </div> 
          <div class="highlight-cython notranslate">
           <div class="highlight">
            <pre><span></span><span class="k">from</span> <span class="nn">cython.cimports.cpython.version</span> <span class="k">import</span> <span class="n">PY_VERSION_HEX</span>

<span class="c"># Python version &gt;= 3.2 final ?</span>
<span class="k">print</span><span class="p">(</span><span class="n">PY_VERSION_HEX</span> <span class="o">&gt;=</span> <span class="mf">0</span><span class="n">x030200F0</span><span class="p">)</span>
</pre>
           </div> 
          </div> 
         </div> 
        </div>
        <div aria-labelledby="tab-1-Q3l0aG9u" class="sphinx-tabs-panel group-tab" hidden="true" id="panel-1-Q3l0aG9u" name="Q3l0aG9u" role="tabpanel" tabindex="0">
         <div class="literal-block-wrapper docutils container" id="id4"> 
          <div class="code-block-caption">
           <span class="caption-text">py_version_hex.pyx</span><a class="headerlink" href="#id4" title="Permalink to this code">¶</a>
          </div> 
          <div class="highlight-cython notranslate">
           <div class="highlight">
            <pre><span></span><span class="k">from</span> <span class="nn">cpython.version</span> <span class="k">cimport</span> <span class="n">PY_VERSION_HEX</span>

<span class="c"># Python version &gt;= 3.2 final ?</span>
<span class="k">print</span><span class="p">(</span><span class="n">PY_VERSION_HEX</span> <span class="o">&gt;=</span> <span class="mf">0</span><span class="n">x030200F0</span><span class="p">)</span>
</pre>
           </div> 
          </div> 
         </div> 
        </div>
       </div> 
       <p id="libc-math">Cython also provides declarations for the C math library:</p> 
       <div class="sphinx-tabs docutils container"> 
        <div aria-label="Tabbed content" role="tablist">
         <button aria-controls="panel-2-UHVyZSBQeXRob24=" aria-selected="true" class="sphinx-tabs-tab group-tab" id="tab-2-UHVyZSBQeXRob24=" name="UHVyZSBQeXRob24=" role="tab" tabindex="0">Pure Python</button><button aria-controls="panel-2-Q3l0aG9u" aria-selected="false" class="sphinx-tabs-tab group-tab" id="tab-2-Q3l0aG9u" name="Q3l0aG9u" role="tab" tabindex="-1">Cython</button>
        </div>
        <div aria-labelledby="tab-2-UHVyZSBQeXRob24=" class="sphinx-tabs-panel group-tab" id="panel-2-UHVyZSBQeXRob24=" name="UHVyZSBQeXRob24=" role="tabpanel" tabindex="0">
         <div class="literal-block-wrapper docutils container" id="id5"> 
          <div class="code-block-caption">
           <span class="caption-text">libc_sin.py</span><a class="headerlink" href="#id5" title="Permalink to this code">¶</a>
          </div> 
          <div class="highlight-cython notranslate">
           <div class="highlight">
            <pre><span></span><span class="k">from</span> <span class="nn">cython.cimports.libc.math</span> <span class="k">import</span> <span class="n">sin</span>

<span class="nd">@cython</span><span class="o">.</span><span class="n">cfunc</span>
<span class="k">def</span> <span class="nf">f</span><span class="p">(</span><span class="n">x</span><span class="p">:</span> <span class="n">cython</span><span class="o">.</span><span class="n">double</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">cython</span><span class="o">.</span><span class="n">double</span><span class="p">:</span>
    <span class="k">return</span> <span class="n">sin</span><span class="p">(</span><span class="n">x</span> <span class="o">*</span> <span class="n">x</span><span class="p">)</span>
</pre>
           </div> 
          </div> 
         </div> 
        </div>
        <div aria-labelledby="tab-2-Q3l0aG9u" class="sphinx-tabs-panel group-tab" hidden="true" id="panel-2-Q3l0aG9u" name="Q3l0aG9u" role="tabpanel" tabindex="0">
         <div class="literal-block-wrapper docutils container" id="id6"> 
          <div class="code-block-caption">
           <span class="caption-text">libc_sin.pyx</span><a class="headerlink" href="#id6" title="Permalink to this code">¶</a>
          </div> 
          <div class="highlight-cython notranslate">
           <div class="highlight">
            <pre><span></span><span class="k">from</span> <span class="nn">libc.math</span> <span class="k">cimport</span> <span class="n">sin</span>


<span class="k">cdef</span> <span class="kt">double</span> <span class="nf">f</span><span class="p">(</span><span class="n">double</span> <span class="n">x</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">sin</span><span class="p">(</span><span class="n">x</span> <span class="o">*</span> <span class="n">x</span><span class="p">)</span>
</pre>
           </div> 
          </div> 
         </div> 
        </div>
       </div> 
       <div class="section" id="dynamic-linking"> 
        <h2>Dynamic linking<a class="headerlink" href="#dynamic-linking" title="Permalink to this headline">¶</a></h2> 
        <p>The libc math library is special in that it is not linked by default on some Unix-like systems, such as Linux. In addition to cimporting the declarations, you must configure your build system to link against the shared library <code class="docutils literal notranslate"><span class="pre">m</span></code>. For setuptools, it is enough to add it to the <code class="docutils literal notranslate"><span class="pre">libraries</span></code> parameter of the <code class="docutils literal notranslate"><span class="pre">Extension()</span></code> setup:</p> 
        <div class="highlight-cython notranslate">
         <div class="highlight">
          <pre><span></span><span class="k">from</span> <span class="nn">setuptools</span> <span class="k">import</span> <span class="n">Extension</span><span class="p">,</span> <span class="n">setup</span>
<span class="k">from</span> <span class="nn">Cython.Build</span> <span class="k">import</span> <span class="n">cythonize</span>

<span class="n">ext_modules</span> <span class="o">=</span> <span class="p">[</span>
    <span class="n">Extension</span><span class="p">(</span><span class="s">"demo"</span><span class="p">,</span>
              <span class="n">sources</span><span class="o">=</span><span class="p">[</span><span class="s">"demo.pyx"</span><span class="p">],</span>
              <span class="n">libraries</span><span class="o">=</span><span class="p">[</span><span class="s">"m"</span><span class="p">]</span>  <span class="c"># Unix-like specific</span>
              <span class="p">)</span>
<span class="p">]</span>

<span class="n">setup</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s">"Demos"</span><span class="p">,</span>
      <span class="n">ext_modules</span><span class="o">=</span><span class="n">cythonize</span><span class="p">(</span><span class="n">ext_modules</span><span class="p">))</span>
</pre>
         </div> 
        </div> 
       </div> 
       <div class="section" id="external-declarations"> 
        <h2>External declarations<a class="headerlink" href="#external-declarations" title="Permalink to this headline">¶</a></h2> 
        <p>If you want to access C code for which Cython does not provide a ready to use declaration, you must declare them yourself. For example, the above <code class="docutils literal notranslate"><span class="pre">sin()</span></code> function is defined as follows:</p> 
        <div class="highlight-cython notranslate">
         <div class="highlight">
          <pre><span></span><span class="k">cdef</span> <span class="kr">extern</span> <span class="k">from</span> <span class="s">"math.h"</span><span class="p">:</span>
    <span class="n">double</span> <span class="n">sin</span><span class="p">(</span><span class="n">double</span> <span class="n">x</span><span class="p">)</span>
</pre>
         </div> 
        </div> 
        <p>This declares the <code class="docutils literal notranslate"><span class="pre">sin()</span></code> function in a way that makes it available to Cython code and instructs Cython to generate C code that includes the <code class="docutils literal notranslate"><span class="pre">math.h</span></code> header file. The C compiler will see the original declaration in <code class="docutils literal notranslate"><span class="pre">math.h</span></code> at compile time, but Cython does not parse “math.h” and requires a separate definition.</p> 
        <p>Just like the <code class="docutils literal notranslate"><span class="pre">sin()</span></code> function from the math library, it is possible to declare and call into any C library as long as the module that Cython generates is properly linked against the shared or static library.</p> 
        <p>Note that you can easily export an external C function from your Cython module by declaring it as <code class="docutils literal notranslate"><span class="pre">cpdef</span></code>. This generates a Python wrapper for it and adds it to the module dict. Here is a Cython module that provides direct access to the C <code class="docutils literal notranslate"><span class="pre">sin()</span></code> function for Python code:</p> 
        <div class="highlight-cython notranslate">
         <div class="highlight">
          <pre><span></span><span class="sd">"""</span>
<span class="sd">&gt;&gt;&gt; sin(0)</span>
<span class="sd">0.0</span>
<span class="sd">"""</span>

<span class="k">cdef</span> <span class="kr">extern</span> <span class="k">from</span> <span class="s">"math.h"</span><span class="p">:</span>
    <span class="k">cpdef</span> <span class="kt">double</span> <span class="nf">sin</span><span class="p">(</span><span class="n">double</span> <span class="n">x</span><span class="p">)</span>
</pre>
         </div> 
        </div> 
        <p>You get the same result when this declaration appears in the <code class="docutils literal notranslate"><span class="pre">.pxd</span></code> file that belongs to the Cython module (i.e. that has the same name, see <a class="reference internal" href="../userguide/sharing_declarations.html#sharing-declarations"><span class="std std-ref">Sharing Declarations Between Cython Modules</span></a>). This allows the C declaration to be reused in other Cython modules, while still providing an automatically generated Python wrapper in this specific module.</p> 
        <div class="admonition note"> 
         <p class="admonition-title">Note</p> 
         <p>External declarations must be placed in a <code class="docutils literal notranslate"><span class="pre">.pxd</span></code> file in Pure Python mode.</p> 
        </div> 
       </div> 
       <div class="section" id="naming-parameters"> 
        <h2>Naming parameters<a class="headerlink" href="#naming-parameters" title="Permalink to this headline">¶</a></h2> 
        <p>Both C and Cython support signature declarations without parameter names like this:</p> 
        <div class="highlight-cython notranslate">
         <div class="highlight">
          <pre><span></span><span class="k">cdef</span> <span class="kr">extern</span> <span class="k">from</span> <span class="s">"string.h"</span><span class="p">:</span>
    <span class="n">char</span><span class="o">*</span> <span class="n">strstr</span><span class="p">(</span><span class="n">const</span> <span class="n">char</span><span class="o">*</span><span class="p">,</span> <span class="n">const</span> <span class="n">char</span><span class="o">*</span><span class="p">)</span>
</pre>
         </div> 
        </div> 
        <p>However, this prevents Cython code from calling it with keyword arguments. It is therefore preferable to write the declaration like this instead:</p> 
        <div class="highlight-cython notranslate">
         <div class="highlight">
          <pre><span></span><span class="k">cdef</span> <span class="kr">extern</span> <span class="k">from</span> <span class="s">"string.h"</span><span class="p">:</span>
    <span class="n">char</span><span class="o">*</span> <span class="n">strstr</span><span class="p">(</span><span class="n">const</span> <span class="n">char</span> <span class="o">*</span><span class="n">haystack</span><span class="p">,</span> <span class="n">const</span> <span class="n">char</span> <span class="o">*</span><span class="n">needle</span><span class="p">)</span>
</pre>
         </div> 
        </div> 
        <p>You can now make it clear which of the two arguments does what in your call, thus avoiding any ambiguities and often making your code more readable:</p> 
        <div class="sphinx-tabs docutils container"> 
         <div aria-label="Tabbed content" role="tablist">
          <button aria-controls="panel-3-UHVyZSBQeXRob24=" aria-selected="true" class="sphinx-tabs-tab group-tab" id="tab-3-UHVyZSBQeXRob24=" name="UHVyZSBQeXRob24=" role="tab" tabindex="0">Pure Python</button><button aria-controls="panel-3-Q3l0aG9u" aria-selected="false" class="sphinx-tabs-tab group-tab" id="tab-3-Q3l0aG9u" name="Q3l0aG9u" role="tab" tabindex="-1">Cython</button>
         </div>
         <div aria-labelledby="tab-3-UHVyZSBQeXRob24=" class="sphinx-tabs-panel group-tab" id="panel-3-UHVyZSBQeXRob24=" name="UHVyZSBQeXRob24=" role="tabpanel" tabindex="0">
          <div class="literal-block-wrapper docutils container" id="id7"> 
           <div class="code-block-caption">
            <span class="caption-text">keyword_args_call.py</span><a class="headerlink" href="#id7" title="Permalink to this code">¶</a>
           </div> 
           <div class="highlight-cython notranslate">
            <div class="highlight">
             <pre><span></span><span class="k">from</span> <span class="nn">cython.cimports.strstr</span> <span class="k">import</span> <span class="n">strstr</span>

<span class="k">def</span> <span class="nf">main</span><span class="p">():</span>
    <span class="n">data</span><span class="p">:</span> <span class="n">cython</span><span class="o">.</span><span class="n">p_char</span> <span class="o">=</span> <span class="s">"hfvcakdfagbcffvschvxcdfgccbcfhvgcsnfxjh"</span>

    <span class="n">pos</span> <span class="o">=</span> <span class="n">strstr</span><span class="p">(</span><span class="n">needle</span><span class="o">=</span><span class="s">'akd'</span><span class="p">,</span> <span class="n">haystack</span><span class="o">=</span><span class="n">data</span><span class="p">)</span>
    <span class="k">print</span><span class="p">(</span><span class="n">pos</span> <span class="ow">is</span> <span class="ow">not</span> <span class="n">cython</span><span class="o">.</span><span class="n">NULL</span><span class="p">)</span>
</pre>
            </div> 
           </div> 
          </div> 
          <div class="literal-block-wrapper docutils container" id="id8"> 
           <div class="code-block-caption">
            <span class="caption-text">strstr.pxd</span><a class="headerlink" href="#id8" title="Permalink to this code">¶</a>
           </div> 
           <div class="highlight-cython notranslate">
            <div class="highlight">
             <pre><span></span><span class="k">cdef</span> <span class="kr">extern</span> <span class="k">from</span> <span class="s">"string.h"</span><span class="p">:</span>
    <span class="n">char</span><span class="o">*</span> <span class="n">strstr</span><span class="p">(</span><span class="n">const</span> <span class="n">char</span> <span class="o">*</span><span class="n">haystack</span><span class="p">,</span> <span class="n">const</span> <span class="n">char</span> <span class="o">*</span><span class="n">needle</span><span class="p">)</span>
</pre>
            </div> 
           </div> 
          </div> 
         </div>
         <div aria-labelledby="tab-3-Q3l0aG9u" class="sphinx-tabs-panel group-tab" hidden="true" id="panel-3-Q3l0aG9u" name="Q3l0aG9u" role="tabpanel" tabindex="0">
          <div class="literal-block-wrapper docutils container" id="id9"> 
           <div class="code-block-caption">
            <span class="caption-text">keyword_args_call.pyx</span><a class="headerlink" href="#id9" title="Permalink to this code">¶</a>
           </div> 
           <div class="highlight-cython notranslate">
            <div class="highlight">
             <pre><span></span><span class="k">cdef</span> <span class="kr">extern</span> <span class="k">from</span> <span class="s">"string.h"</span><span class="p">:</span>
    <span class="n">char</span><span class="o">*</span> <span class="n">strstr</span><span class="p">(</span><span class="n">const</span> <span class="n">char</span> <span class="o">*</span><span class="n">haystack</span><span class="p">,</span> <span class="n">const</span> <span class="n">char</span> <span class="o">*</span><span class="n">needle</span><span class="p">)</span>

<span class="k">cdef</span> <span class="kt">char</span>* <span class="nf">data</span> <span class="o">=</span> <span class="s">"hfvcakdfagbcffvschvxcdfgccbcfhvgcsnfxjh"</span>

<span class="k">cdef</span> <span class="kt">char</span>* <span class="nf">pos</span> <span class="o">=</span> <span class="n">strstr</span><span class="p">(</span><span class="n">needle</span><span class="o">=</span><span class="s">'akd'</span><span class="p">,</span> <span class="n">haystack</span><span class="o">=</span><span class="n">data</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">pos</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">NULL</span><span class="p">)</span>
</pre>
            </div> 
           </div> 
          </div> 
         </div>
        </div> 
        <p>Note that changing existing parameter names later is a backwards incompatible API modification, just as for Python code. Thus, if you provide your own declarations for external C or C++ functions, it is usually worth the additional bit of effort to choose the names of their arguments well.</p> 
       </div> 
      </div> 
      <div class="clearer"></div> 
     </div> 
    </div> 
   </div> 
   <div class="sphinxsidebar" role="navigation" aria-label="main navigation"> 
    <div class="sphinxsidebarwrapper"> 
     <p class="logo"><a href="../../index.html"> <img class="logo" src="../../_static/cythonlogo.png" alt="Logo"> </a></p> 
     <h3><a href="../../index.html">Table of Contents</a></h3> 
     <ul> 
      <li><a class="reference internal" href="#">Calling C functions</a>
       <ul> 
        <li><a class="reference internal" href="#dynamic-linking">Dynamic linking</a></li> 
        <li><a class="reference internal" href="#external-declarations">External declarations</a></li> 
        <li><a class="reference internal" href="#naming-parameters">Naming parameters</a></li> 
       </ul> </li> 
     </ul> 
     <h4>Previous topic</h4> 
     <p class="topless"><a href="cython_tutorial.html" title="previous chapter">Basic Tutorial</a></p> 
     <h4>Next topic</h4> 
     <p class="topless"><a href="clibraries.html" title="next chapter">Using C libraries</a></p> 
     <div role="note" aria-label="source link"> 
      <h3>This Page</h3> 
      <ul class="this-page-menu"> 
       <li><a href="../../_sources/src/tutorial/external.rst.txt" rel="nofollow">Show Source</a></li> 
      </ul> 
     </div> 
     <div id="searchbox" style="display: none" role="search"> 
      <h3 id="searchlabel">Quick search</h3> 
      <div class="searchformwrapper"> 
       <form class="search" action="../../search.html" method="get"> 
        <input type="text" name="q" aria-labelledby="searchlabel"> 
        <input type="submit" value="Go"> 
       </form> 
      </div> 
     </div> 
     <script>$('#searchbox').show(0);</script> 
    </div> 
   </div> 
   <div class="clearer"></div> 
  </div> 
  <div class="related" role="navigation" aria-label="related navigation"> 
   <h3>Navigation</h3> 
   <ul> 
    <li class="right" style="margin-right: 10px"> <a href="clibraries.html" title="Using C libraries">next</a></li> 
    <li class="right"> <a href="cython_tutorial.html" title="Basic Tutorial">previous</a> |</li> 
    <li class="nav-item nav-item-0"><a href="../../index.html">Cython 3.0.0a10 documentation</a> »</li> 
    <li class="nav-item nav-item-1"><a href="index.html">Tutorials</a> »</li> 
    <li class="nav-item nav-item-this"><a href="">Calling C functions</a></li> 
   </ul> 
  </div> 
  <div class="footer" role="contentinfo">
    © Copyright 2022, Stefan Behnel, Robert Bradshaw, Dag Sverre Seljebotn, Greg Ewing, William Stein, Gabriel Gellner, et al.. Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 3.5.3. 
  </div>  
 </body>
</html>